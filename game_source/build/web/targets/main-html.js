/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(Af){function x(a,b){function c(){}c.prototype=a;var d=new c,f;for(f in b)d[f]=b[f];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function Bf(a){return a instanceof Array?function(){return C.iter(a)}:"function"==typeof a.iterator?i(a,a.iterator):a.iterator}function i(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Ef++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var g={},h=function(){return r.__string_rec(this,"")},fb=function(a,b){this.r=RegExp(a,b.split("u").join(""))};g.EReg=fb;fb.__name__=["EReg"];fb.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new o("EReg::matched");},matchedPos:function(){if(null==this.r.m)throw new o("No string matched");
return{pos:this.r.m.index,len:this.r.m[0].length}},split:function(a){return a.replace(this.r,"#__delim__#").split("#__delim__#")},__class__:fb};var C=function(){};g.HxOverrides=C;C.__name__=["HxOverrides"];C.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],
a[1]-1,a[2],b[0],b[1],b[2]);default:throw new o("Invalid date format : "+a);}};C.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};C.substr=function(a,b,c){if(null==c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};C.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};C.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var yc=function(){};g.Lambda=
yc;yc.__name__=["Lambda"];yc.array=function(a){for(var b=[],a=Bf(a)();a.hasNext();){var c=a.next();b.push(c)}return b};yc.count=function(a,b){var c=0;if(null==b)for(var d=Bf(a)();d.hasNext();)d.next(),++c;else for(d=Bf(a)();d.hasNext();){var f=d.next();b(f)&&++c}return c};var zc=function(){this.length=0};g.List=zc;zc.__name__=["List"];zc.prototype={add:function(a){a=new Pd(a,null);null==this.h?this.h=a:this.q.next=a;this.q=a;this.length++},iterator:function(){return new Qd(this.h)},__class__:zc};
var Pd=function(a,b){this.item=a;this.next=b};g["_List.ListNode"]=Pd;Pd.__name__=["_List","ListNode"];Pd.prototype={__class__:Pd};var Qd=function(a){this.head=a};g["_List.ListIterator"]=Qd;Qd.__name__=["_List","ListIterator"];Qd.prototype={hasNext:function(){return null!=this.head},next:function(){var a=this.head.item;this.head=this.head.next;return a},__class__:Qd};var Aa={};g["workinman.event._Event1.Event1_Impl_"]=Aa;Aa.__name__=["workinman","event","_Event1","Event1_Impl_"];Aa._new=function(){return new Rd};
var Rd=function(){this._list=[]};g["workinman.event._Event1.Event1Base"]=Rd;Rd.__name__=["workinman","event","_Event1","Event1Base"];Rd.prototype={add:function(a){0<=this._list.indexOf(a)||this._list.push(a)},remove:function(a){for(var b=this._list.length;0<b--;)if(this._list[b]==a){C.remove(this._list,a);break}},dispatch:function(a){for(var b=0,c=this._list;b<c.length;){var d=c[b];++b;d(a)}},__class__:Rd};var ra=function(){var a=this;this._root=new Ac(i(this,this._onEventUpdate));F.root.add(this._root);
F.uncaughtError.connect(i(this,this.errorHandler));p.prime(this._root);p.setDelegateUnlockWebAudio(i(this,this._handleWebAudioUnlock));w.flow.add(i(this,this._addFlowEvent));this._layerWorld=this._root.addChild(new L(null));this._layerUI=this._root.addChild(new L(null));this._layerSub=this._root.addChild(new L(null));this._timeScale=1;this._flagWebAudioUnlocked=!1;this._flagGameplayPaused=!0;this._flagJSEmbedExists=this._flagJSEmbedPauseState=!1;ca.setPlaybackToggle(function(b){b?a._unpauseGameplay():
a._pauseGameplay()});kb.get_instance().load();this._calculateScaleFactor();this._flagJSEmbedExists=null!=jsembed&&jsembed.exists();this._ui=new Fb(this._layerUI,i(this,this._onInterfaceChange));this._changeActions=[];this._flowstack=[];this._addEventListeners();this._setDefaults();ca.initServices();this._parseConfigXML();this._registerInput();this._openSplash()};g.Main=ra;ra.__name__=["Main"];ra.main=function(){F.init();null!=jsembed&&jsembed.exists()?jsembed.isBaseCrossdomain()?n.setCrossdomainBaseUrl(Ia.appendAssetsToUrl(jsembed.baseUrl())):
n.set_baseUrl(Ia.trimUrl(jsembed.baseUrl())):n.set_baseUrl("");ca.initMain();n.load(ra._onBootstrapLoad,["bootstrap","attract_assets","attract_audio"])};ra._onBootstrapLoad=function(){ca.onBootstrapFinished();ra._main=new ra};ra.prototype={_calculateScaleFactor:function(){if(!1!=r.__instanceof(F._platform.getStage(),Mb)){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d",null),c=M.loadExtension("backingStorePixelRatio",b).value;null==c&&(c=1);
b=window.navigator.userAgent.toLowerCase();a/=c;-1!=b.indexOf("ipad")&&(a=1);b=F._platform.getStage();a!=b.scaleFactor&&(b.scaleFactor=a,M.setVendorStyle(k.field(b,"_canvas"),"transform-origin","top left"),M.setVendorStyle(k.field(b,"_canvas"),"transform","scale("+1/b.scaleFactor+")"),b.requestResize(b.get_width(),b.get_height()))}},errorHandler:function(){},_parseConfigXML:function(){for(var a="en",b=0,c=n.allConfig();b<c.length;){var d=c[b];++b;d.hasNode.resolve("unlockCode")&&d.node.resolve("unlockCode").get_innerData();
d.hasNode.resolve("unlockEnabled")&&d.node.resolve("unlockEnabled").get_innerData();d.hasNode.resolve("achievements")&&d.node.resolve("achievements").att.resolve("enabled");d.hasNode.resolve("localization")&&(a=A.string(d.node.resolve("localization").node.resolve("region").get_innerData()))}O.region=a},_eventInitialLoadComplete:function(){this._enableSplash();this._sub=new Sd(this._layerSub)},_openSplash:function(){var a=window.document.getElementById("loadingOverlay");null!=a&&a.parentNode.removeChild(a);
this._ui.changeScreenTo(fc,!1)},_setDefaults:function(){X.setBool("BOOL_PAUSED",!1);j.set_muteAll(!1)},_registerInput:function(){p.registerInput(D.MOVE_LEFT,[e.Left,e.A]);p.registerInput(D.MOVE_RIGHT,[e.Right,e.D]);p.registerInput(D.MOVE_UP,[e.Up,e.W]);p.registerInput(D.MOVE_DOWN,[e.Down,e.S]);p.registerInput(D.ATTACK,[e.Z],[lb.ATTACK]);p.registerInput(D.JUMP,[e.Space],[lb.JUMP]);p.registerInput(D.UI_OK,[e.Space,e.Enter],null,[q.START,q.A]);p.registerInput(D.UI_DENY,[e.Escape],null,[q.B]);p.registerInput(D.UI_MENU,
[e.Escape],null,[q.START]);p.registerInput(D.DEBUG_SAVE_PAINTING,[e.Space]);p.registerInput(D.DEBUG_SHOW_PAINTING,[e.Enter]);p.registerInput(D.UI_TAB,[e.Tab])},_loadPacksAndGotoScreen:function(a,b){var c=this;w.addLoader.dispatch();n.load(function(){c._ui.changeScreenTo(a,!0);c._disposeWorld()},b,1.2)},_onWorldGenerationComplete:function(){S.start(i(this,this._onWorldGenerationCompleteDelay),0.3)},_onWorldGenerationCompleteDelay:function(){this._world.start();this._unpauseGameplay()},_enableSplash:function(){this._playMenuMusic();
this._enableInput()},_onEventUpdate:function(a){a=Math.round(1E3*a)/1E3*this._timeScale;0.06666666666666667<a&&(a=0.06666666666666667);this._flagJSEmbedExists&&jsembed.isPaused()!=this._flagJSEmbedPauseState&&((this._flagJSEmbedPauseState=jsembed.isPaused())?this._pauseGameplay(!1):this._flagGameplayPaused||this._unpauseGameplay());ra.eventUpdate.dispatch(a);ca.update(a);this._updateCloud(a);null!=this._ui&&this._ui.update(a);null!=this._sub&&this._sub.update(a);null!=this._world&&this._world.update(a);
this._runFlowStack()},_updateCloud:function(a){S.update(a);j.update(a);p.update(a);n.update(a)},_addFlowEvent:function(a){this._flowstack.push(a)},_runFlowStack:function(){for(;0<this._flowstack.length;)this._executeFlowStack(this._flowstack[0]),this._flowstack.shift()},_executeFlowStack:function(a){switch(a){case "ATTRACT_PLAY":this._handleWebAudioUnlock();ca.onSplashPlay();this._loadPacksAndGotoScreen(fc,["attract_audio","attract_assets"]);break;case "AVATAR_BUILDER":this._loadPacksAndGotoScreen(Bc,
["avatar_builder_audio","avatar_builder_assets"]);break;case "CUTSCENE_DOCTOR_END":this._loadPacksAndGotoScreen(Cc,["cutscene_doctor_end_audio","cutscene_doctor_end_assets"]);break;case "CUTSCENE_DOCTOR_START":this._loadPacksAndGotoScreen(Dc,["cutscene_doctor_start_audio","cutscene_doctor_start_assets"]);break;case "CUTSCENE_MID":this._loadPacksAndGotoScreen(Ec,["cutscene_mid_audio","cutscene_mid_assets"]);break;case "CUTSCENE_OPENING":this._loadPacksAndGotoScreen(Fc,["cutscene_opening_audio","cutscene_opening_assets"]);
break;case "CUTSCENE_SURVEY":this._loadPacksAndGotoScreen(Gc,["cutscene_opening_audio","cutscene_opening_assets"]);break;case "DEBUG_CLOSE":this._ui.closeScreen(Hc,!0);break;case "ENDSCREEN":this._loadPacksAndGotoScreen(Ic,["endscreen_assets","endscreen_audio"]);break;case "EXPERIMENT":this._loadPacksAndGotoScreen(Jc,["experiment_audio","experiment_assets"]);break;case "IMAGE_HUNT":this._loadPacksAndGotoScreen(Kc,["image_hunt_audio","image_hunt_assets"]);break;case "QUIZ1":this._loadPacksAndGotoScreen(Lc,
["quiz_audio","quiz_assets"]);break;case "QUIZ2":this._loadPacksAndGotoScreen(Mc,["quiz_audio","quiz_assets"]);break;case "QUIZ3":this._loadPacksAndGotoScreen(Nc,["quiz_audio","quiz_assets"])}},_pauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!0);ca.onPauseEvent();w.pause.dispatch(!0)},_unpauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!1);ca.onResumeEvent();w.pause.dispatch(!1)},_executeInterfaceChange:function(a,b){for(var c=this._changeActions.length,
d;0<c--;)d=this._changeActions[c],d.screenId==b&&d.changeEvent==a&&(this._changeActions.splice(c,1),d.action())},_addEventListeners:function(){w.worldGenerationComplete.add(i(this,this._onWorldGenerationComplete));w.initialLoadComplete.add(i(this,this._eventInitialLoadComplete))},_enableInput:function(){p.enabled=!0},_handleWebAudioUnlock:function(){this._flagWebAudioUnlocked||(this._flagWebAudioUnlocked=!0)},_onInterfaceChange:function(a,b){this._executeInterfaceChange(a,b)},_disposeWorld:function(){null!=
this._world&&(this._world.dispose(),this._world=null)},_playMenuMusic:function(){j.playMusic("",0.1)},__class__:ra};Math.__name__=["Math"];var k=function(){};g.Reflect=k;k.__name__=["Reflect"];k.field=function(a,b){try{return a[b]}catch(c){return null}};k.getProperty=function(a,b){var c;if(null==a)return null;var d;d=a.__properties__?c=a.__properties__["get_"+b]:!1;return d?a[c]():a[b]};k.setProperty=function(a,b,c){var d,f;f=a.__properties__?d=a.__properties__["set_"+b]:!1;if(f)a[d](c);else a[b]=
c};k.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};k.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};k.compare=function(a,b){return a==b?0:a>b?1:-1};k.isEnumValue=function(a){return null!=a?null!=a.__enum__:!1};var A=function(){};g.Std=A;A.__name__=["Std"];A.string=function(a){return r.__string_rec(a,"")};A.parseInt=function(a){var b=parseInt(a,10);if(0==
b&&(120==C.cca(a,1)||88==C.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};var Gb=function(){this.b=""};g.StringBuf=Gb;Gb.__name__=["StringBuf"];Gb.prototype={__class__:Gb};var Q=function(){};g.StringTools=Q;Q.__name__=["StringTools"];Q.startsWith=function(a,b){return a.length>=b.length?C.substr(a,0,b.length)==b:!1};Q.isSpace=function(a,b){var c=C.cca(a,b);return 8<c&&14>c?!0:32==c};Q.ltrim=function(a){for(var b=a.length,c=0;c<b&&Q.isSpace(a,c);)++c;return 0<c?C.substr(a,c,b-c):a};Q.rtrim=function(a){for(var b=
a.length,c=0;c<b&&Q.isSpace(a,b-c-1);)++c;return 0<c?C.substr(a,0,b-c):a};Q.trim=function(a){return Q.ltrim(Q.rtrim(a))};Q.replace=function(a,b,c){return a.split(b).join(c)};var ha=function(){};g.Type=ha;ha.__name__=["Type"];ha.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};ha.resolveClass=function(a){a=g[a];return null==a||!a.__name__?null:a};ha.resolveEnum=function(a){a=g[a];return null==a||!a.__ename__?null:a};ha.createInstance=function(a,b){switch(b.length){case 0:return new a;
case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);case 9:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8]);case 10:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9]);case 11:return new a(b[0],
b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10]);case 12:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11]);case 13:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12]);case 14:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13]);default:throw new o("Too many arguments");}};ha.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};ha.createEnum=function(a,b,c){var d=k.field(a,b);
if(null==d)throw new o("No such constructor "+b);if(k.isFunction(d)){if(null==c)throw new o("Constructor "+b+" need parameters");return d.apply(a,c)}if(null!=c&&0!=c.length)throw new o("Constructor "+b+" does not need parameters");return d};var t=function(a){this.nodeType=a;this.children=[];this.attributeMap=new aa};g.Xml=t;t.__name__=["Xml"];t.parse=function(a){return sb.parse(a)};t.createElement=function(a){var b=new t(t.Element);if(b.nodeType!=t.Element)throw new o("Bad node type, expected Element but found "+
b.nodeType);b.nodeName=a;return b};t.createPCData=function(a){var b=new t(t.PCData);if(b.nodeType==t.Document||b.nodeType==t.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};t.createCData=function(a){var b=new t(t.CData);if(b.nodeType==t.Document||b.nodeType==t.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};t.createComment=function(a){var b=new t(t.Comment);if(b.nodeType==t.Document||b.nodeType==t.Element)throw new o("Bad node type, unexpected "+
b.nodeType);b.nodeValue=a;return b};t.createDocType=function(a){var b=new t(t.DocType);if(b.nodeType==t.Document||b.nodeType==t.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};t.createProcessingInstruction=function(a){var b=new t(t.ProcessingInstruction);if(b.nodeType==t.Document||b.nodeType==t.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};t.createDocument=function(){return new t(t.Document)};t.prototype={get:function(a){if(this.nodeType!=
t.Element)throw new o("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;return null!=v[a]?b.getReserved(a):b.h[a]},set:function(a,b){if(this.nodeType!=t.Element)throw new o("Bad node type, expected Element but found "+this.nodeType);var c=this.attributeMap;null!=v[a]?c.setReserved(a,b):c.h[a]=b},exists:function(a){if(this.nodeType!=t.Element)throw new o("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;return null!=v[a]?b.existsReserved(a):
b.h.hasOwnProperty(a)},elementsNamed:function(a){if(this.nodeType!=t.Document&&this.nodeType!=t.Element)throw new o("Bad node type, expected Element or Document but found "+this.nodeType);for(var b=[],c=0,d=this.children;c<d.length;){var f=d[c];++c;var l;if(f.nodeType==t.Element){if(f.nodeType!=t.Element)throw new o("Bad node type, expected Element but found "+f.nodeType);l=f.nodeName==a}else l=!1;l&&b.push(f)}return C.iter(b)},firstElement:function(){if(this.nodeType!=t.Document&&this.nodeType!=
t.Element)throw new o("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==t.Element)return c}return null},addChild:function(a){if(this.nodeType!=t.Document&&this.nodeType!=t.Element)throw new o("Bad node type, expected Element or Document but found "+this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=t.Document&&this.nodeType!=
t.Element)throw new o("Bad node type, expected Element or Document but found "+this.nodeType);return C.remove(this.children,a)?(a.parent=null,!0):!1},__class__:t};var z=g["app.ALLERGEN_TYPE"]={__ename__:!0,__constructs__:"NONE,BIRD,BROCCOLI,CAR,CIGARETTE,COLD,DUCK,EXERCISE,FIRE,PERFUME,POLLUTION,POND,SPORTS,UFO".split(",")};z.NONE=["NONE",0];z.NONE.toString=h;z.NONE.__enum__=z;z.BIRD=["BIRD",1];z.BIRD.toString=h;z.BIRD.__enum__=z;z.BROCCOLI=["BROCCOLI",2];z.BROCCOLI.toString=h;z.BROCCOLI.__enum__=
z;z.CAR=["CAR",3];z.CAR.toString=h;z.CAR.__enum__=z;z.CIGARETTE=["CIGARETTE",4];z.CIGARETTE.toString=h;z.CIGARETTE.__enum__=z;z.COLD=["COLD",5];z.COLD.toString=h;z.COLD.__enum__=z;z.DUCK=["DUCK",6];z.DUCK.toString=h;z.DUCK.__enum__=z;z.EXERCISE=["EXERCISE",7];z.EXERCISE.toString=h;z.EXERCISE.__enum__=z;z.FIRE=["FIRE",8];z.FIRE.toString=h;z.FIRE.__enum__=z;z.PERFUME=["PERFUME",9];z.PERFUME.toString=h;z.PERFUME.__enum__=z;z.POLLUTION=["POLLUTION",10];z.POLLUTION.toString=h;z.POLLUTION.__enum__=z;z.POND=
["POND",11];z.POND.toString=h;z.POND.__enum__=z;z.SPORTS=["SPORTS",12];z.SPORTS.toString=h;z.SPORTS.__enum__=z;z.UFO=["UFO",13];z.UFO.toString=h;z.UFO.__enum__=z;var N=function(){};g["app.ConstantsApp"]=N;N.__name__=["app","ConstantsApp"];var Qa={};g["workinman.event._Event0.Event0_Impl_"]=Qa;Qa.__name__=["workinman","event","_Event0","Event0_Impl_"];Qa._new=function(){return new Td};var Td=function(){this._list=[]};g["workinman.event._Event0.Event0Base"]=Td;Td.__name__=["workinman","event","_Event0",
"Event0Base"];Td.prototype={add:function(a){0<=this._list.indexOf(a)||this._list.push(a)},remove:function(a){for(var b=this._list.length;0<b--;)if(this._list[b]==a){C.remove(this._list,a);break}},dispatch:function(){for(var a=0,b=this._list;a<b.length;){var c=b[a];++a;c()}},dispose:function(){for(;0<this._list.length;)this._list.pop();this._list=null},__class__:Td};var tb={};g["workinman.event._Event2.Event2_Impl_"]=tb;tb.__name__=["workinman","event","_Event2","Event2_Impl_"];tb._new=function(){return new Ud};
var Ud=function(){this._list=[]};g["workinman.event._Event2.Event2Base"]=Ud;Ud.__name__=["workinman","event","_Event2","Event2Base"];Ud.prototype={add:function(a){0<=this._list.indexOf(a)||this._list.push(a)},remove:function(a){for(var b=this._list.length;0<b--;)if(this._list[b]==a){C.remove(this._list,a);break}},dispatch:function(a,b){for(var c=0,d=this._list;c<d.length;){var f=d[c];++c;f(a,b)}},__class__:Ud};var w=function(){};g["app.ConstantsEvent"]=w;w.__name__=["app","ConstantsEvent"];var ba=
function(){};g["app.GoogleAnalytics"]=ba;ba.__name__=["app","GoogleAnalytics"];ba.LogEvent=function(a,b){null!=b?gtag("event",a,b):gtag("event",a)};var D=g["app.INPUT_TYPE"]={__ename__:!0,__constructs__:"POINTER,POINTER_MOVE,UI_OK,UI_DENY,UI_MENU,MOVE_UP,MOVE_DOWN,MOVE_LEFT,MOVE_RIGHT,JUMP,ATTACK,DEBUG_SHOW_PAINTING,DEBUG_SAVE_PAINTING,UI_TAB".split(",")};D.POINTER=["POINTER",0];D.POINTER.toString=h;D.POINTER.__enum__=D;D.POINTER_MOVE=["POINTER_MOVE",1];D.POINTER_MOVE.toString=h;D.POINTER_MOVE.__enum__=
D;D.UI_OK=["UI_OK",2];D.UI_OK.toString=h;D.UI_OK.__enum__=D;D.UI_DENY=["UI_DENY",3];D.UI_DENY.toString=h;D.UI_DENY.__enum__=D;D.UI_MENU=["UI_MENU",4];D.UI_MENU.toString=h;D.UI_MENU.__enum__=D;D.MOVE_UP=["MOVE_UP",5];D.MOVE_UP.toString=h;D.MOVE_UP.__enum__=D;D.MOVE_DOWN=["MOVE_DOWN",6];D.MOVE_DOWN.toString=h;D.MOVE_DOWN.__enum__=D;D.MOVE_LEFT=["MOVE_LEFT",7];D.MOVE_LEFT.toString=h;D.MOVE_LEFT.__enum__=D;D.MOVE_RIGHT=["MOVE_RIGHT",8];D.MOVE_RIGHT.toString=h;D.MOVE_RIGHT.__enum__=D;D.JUMP=["JUMP",9];
D.JUMP.toString=h;D.JUMP.__enum__=D;D.ATTACK=["ATTACK",10];D.ATTACK.toString=h;D.ATTACK.__enum__=D;D.DEBUG_SHOW_PAINTING=["DEBUG_SHOW_PAINTING",11];D.DEBUG_SHOW_PAINTING.toString=h;D.DEBUG_SHOW_PAINTING.__enum__=D;D.DEBUG_SAVE_PAINTING=["DEBUG_SAVE_PAINTING",12];D.DEBUG_SAVE_PAINTING.toString=h;D.DEBUG_SAVE_PAINTING.__enum__=D;D.UI_TAB=["UI_TAB",13];D.UI_TAB.toString=h;D.UI_TAB.__enum__=D;var lb=g["app.INPUT_VIRTUAL"]={__ename__:!0,__constructs__:["JUMP","ATTACK"]};lb.JUMP=["JUMP",0];lb.JUMP.toString=
h;lb.JUMP.__enum__=lb;lb.ATTACK=["ATTACK",1];lb.ATTACK.toString=h;lb.ATTACK.__enum__=lb;var lf=g["app.PARTICLE_TYPE"]={__ename__:!0,__constructs__:["NONE"]};lf.NONE=["NONE",0];lf.NONE.toString=h;lf.NONE.__enum__=lf;var G=function(){};g["app.PlayerData"]=G;G.__name__=["app","PlayerData"];G.__properties__={get_selectedAllergens:"get_selectedAllergens",set_avatarSettings:"set_avatarSettings",get_avatarSettings:"get_avatarSettings",set_flagIsFirstPlay:"set_flagIsFirstPlay"};G.set_flagIsFirstPlay=function(a){Hb.set("isFirstPlay",
a?"true":"false",604800);return G._flagIsFirstPlay=a};G.get_avatarSettings=function(){return G._avatarSettings};G.set_avatarSettings=function(a){return G._avatarSettings=a};G.get_selectedAllergens=function(){return G._selectedAllergens};G.loadCookies=function(){G.set_flagIsFirstPlay("true"==Hb.get("isFirstPlay")||null==Hb.get("isFirstPlay"))};G.reset=function(){G._selectedAllergens=[null,null,null,null,null]};G.addAllergen=function(a,b){G._selectedAllergens[a]=b};var kb=function(){this._saveData=
[];for(var a=0;15>a;)a++,this._saveData.push(new Oc)};g["app.SaveData"]=kb;kb.__name__=["app","SaveData"];kb.__properties__={get_instance:"get_instance"};kb.get_instance=function(){null==kb.__instance&&(kb.__instance=new kb);return kb.__instance};kb.prototype={load:function(){for(var a=Pc.dataLoad("savedPaintData"),b=0;15>b;){var c=b++;if(null!=a["paintData_"+(null==c?"null":""+c)])this._saveData[c]=this._buildSaveFromData(c,a)}},_buildSaveFromData:function(a,b){var c;c=new Oc;c.importSaveData(a,
b);return c},__class__:kb};var Oc=function(a){this.paintData=a};g["app.PaintSaveData"]=Oc;Oc.__name__=["app","PaintSaveData"];Oc.prototype={importSaveData:function(a,b){var c="none",c=b["paintData_"+(null==a?"null":""+a)];null!=c&&(this.paintData=this._decodeHex(c))},_decodeHex:function(a){var b=Ja.ofString("0123456789abcdef");return(new Vd(b)).decodeBytes(Ja.ofString(a.toLowerCase()))},__class__:Oc};var ca=function(){};g["app.Services"]=ca;ca.__name__=["app","Services"];ca.initMain=function(){};
ca.initServices=function(){};ca.setPlaybackToggle=function(){};ca.onBootstrapFinished=function(){};ca.onPreloadFinished=function(){};ca.onInitialFinished=function(){};ca.onTitleStart=function(){};ca.onSplashPlay=function(){};ca.onPauseEvent=function(){};ca.onResumeEvent=function(){};ca.update=function(){};var ub=function(){};g["flambe.util.Disposable"]=ub;ub.__name__=["flambe","util","Disposable"];ub.prototype={__class__:ub};var Xa=function(){this._flags=0;this.owner=this.next=null};g["flambe.Component"]=
Xa;Xa.__name__=["flambe","Component"];Xa.__interfaces__=[ub];Xa.prototype={onAdded:function(){},onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:Xa,__properties__:{get_name:"get_name"}};var Qc=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};g["flambe.Entity"]=Qc;Qc.__name__=["flambe","Entity"];Qc.__interfaces__=[ub];
Qc.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var d=c.next;if(c==a)return null==b?this.firstComponent=d:(b.owner=this,b.next=d),delete this._compMap[c.get_name()],0!=(c._flags&1)&&(c.onStop(),c._flags&=
-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=d}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,d=this.firstChild;null!=d;)c=d,d=d.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var d=c.next;if(c==a){null==b?this.firstChild=d:b.next=d;c.parent=null;c.next=null;break}b=c;c=d}},disposeChildren:function(){for(;null!=
this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},__class__:Qc};var mf=function(){};g["flambe.util.PackageLog"]=mf;mf.__name__=["flambe","util","PackageLog"];var Wd=function(){};g["flambe.platform.Platform"]=Wd;Wd.__name__=["flambe","platform","Platform"];Wd.prototype={__class__:Wd};var Ra=function(){};g["flambe.platform.html.HtmlPlatform"]=Ra;Ra.__name__=
["flambe","platform","html","HtmlPlatform"];Ra.__interfaces__=[Wd];Ra.prototype={init:function(){var a=this;M.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor="transparent";b.setAttribute("moz-opaque","true");this._stage=new Mb(b);this._pointer=new fa;this._mouse=new Rc(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new Ib;this.musicPlaying=!1;this._canvas=b;this._container=
b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var d=0,f=function(c){if(!(1E3>c.timeStamp-d)){var f=b.getBoundingClientRect(),l=a.getX(c,f),f=a.getY(c,f);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(l,f,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(l,f);break;case "mouseup":a._mouse.submitUp(l,f,c.button);break;case "DOMMouseScroll":case "mousewheel":a._mouse.submitScroll(l,
f,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",f,!1);window.addEventListener("mousemove",f,!1);window.addEventListener("mouseup",f,!1);b.addEventListener("mousewheel",f,!1);b.addEventListener("DOMMouseScroll",f,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var l="undefined"!=typeof window.ontouchstart,f="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(l||f){var e=new Sc(this._pointer,
l?4:window.navigator.msMaxTouchPoints);this._touch=e;f=function(b){var c=l?b.changedTouches:[b],f=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "MSPointerMove":case "pointermove":case "touchmove":b.preventDefault();for(b=0;b<c.length;){var m=c[b];++b;var g=a.getX(m,f),Xd=a.getY(m,f);e.submitMove((l?m.identifier:m.pointerId)|0,g,Xd)}break;case "MSPointerUp":case "pointerup":case "touchcancel":case "touchend":for(b=0;b<c.length;)m=c[b],++b,g=a.getX(m,f),Xd=a.getY(m,f),e.submitUp((l?
m.identifier:m.pointerId)|0,g,Xd);break;case "MSPointerDown":case "pointerdown":case "touchstart":b.preventDefault();M.SHOULD_HIDE_MOBILE_BROWSER&&M.hideMobileBrowser();for(b=0;b<c.length;)m=c[b],++b,g=a.getX(m,f),Xd=a.getY(m,f),e.submitDown((l?m.identifier:m.pointerId)|0,g,Xd)}};l?(b.addEventListener("touchstart",f,!1),b.addEventListener("touchmove",f,!1),b.addEventListener("touchend",f,!1),b.addEventListener("touchcancel",f,!1)):(b.addEventListener("MSPointerDown",f,!1),b.addEventListener("MSPointerMove",
f,!1),b.addEventListener("MSPointerUp",f,!1))}else this._touch=new Tc;var g=window.onerror;window.onerror=function(a,b,c){F.uncaughtError.emit(a);return null!=g?g(a,b,c):!1};var m=M.loadExtension("hidden",window.document);null!=m.value?(f=function(){F.hidden.set__(k.field(window.document,m.field))},f(null),window.document.addEventListener(m.prefix+"visibilitychange",f,!1)):(f=function(a){F.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",f,!1),window.addEventListener("pagehide",
f,!1));F.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this._skipFrame=!1;this._lastUpdate=Date.now();var i=M.loadExtension("requestAnimationFrame").value;if(null!=i){var j=window.performance,h=null!=j&&M.polyfill("now",j);h&&(this._lastUpdate=j.now());var o=null,o=function(c){c=h?j.now():c;a.update(c);i(o,b)};i(o,b)}else window.setInterval(function(){var b=Date.now();a.update(b)},16);this._renderer.get_type()},loadAssetPack:function(a){return(new Y(this,a)).promise},getStage:function(){return this._stage},
getLocale:function(){var a=window.navigator.language;null==a&&(a=window.navigator.userLanguage);return a},createLogHandler:function(){return null},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;F.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getMouse:function(){return this._mouse},getTouch:function(){return this._touch},getKeyboard:function(){var a=this;if(null==
this._keyboard){this._keyboard=new Ya;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getRenderer:function(){return this._renderer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},
createRenderer:function(a){return new Nb(a)},__class__:Ra};var Sa=function(a,b){this._value=a;this._changed=null!=b?new gc(b):null};g["flambe.util.Value"]=Sa;Sa.__name__=["flambe","util","Value"];Sa.prototype={watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b));return a},get_changed:function(){null==this._changed&&(this._changed=new gc);return this._changed},__class__:Sa,
__properties__:{get_changed:"get_changed",set__:"set__"}};var yb=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};g["flambe.util.SignalConnection"]=yb;yb.__name__=["flambe","util","SignalConnection"];yb.__interfaces__=[ub];yb.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:yb};var sa=function(a){this._head=null!=a?new yb(this,a):null;this._deferredTasks=null};
g["flambe.util.SignalBase"]=sa;sa.__name__=["flambe","util","SignalBase"];sa.prototype={connectImpl:function(a,b){var c=this,d=new yb(this,a);this._head==sa.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(d,b)}):this.listAdd(d,b);return d},disconnect:function(a){var b=this;this._head==sa.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new Yd(a);null!=b?b.next=a:this._deferredTasks=
a},willEmit:function(){var a=this._head;this._head=sa.DISPATCHING_SENTINEL;return a},didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,b){if(b)a._next=this._head,this._head=a;else{for(var c=null,d=this._head;null!=d;)c=d,d=d._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},__class__:sa};var gc=function(a){sa.call(this,
a)};g["flambe.util.Signal2"]=gc;gc.__name__=["flambe","util","Signal2"];gc.__super__=sa;gc.prototype=x(sa.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a,b){var c=this;this._head==sa.DISPATCHING_SENTINEL?this.defer(function(){c.emitImpl(a,b)}):this.emitImpl(a,b)},emitImpl:function(a,b){for(var c=this.willEmit(),d=c;null!=d;)d._listener(a,b),d.stayInList||d.dispose(),d=d._next;this.didEmit(c)},__class__:gc});var ia=function(a){sa.call(this,a)};g["flambe.util.Signal1"]=
ia;ia.__name__=["flambe","util","Signal1"];ia.__super__=sa;ia.prototype=x(sa.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=this;this._head==sa.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},__class__:ia});var Ga=function(a,b){this._behavior=null;Sa.call(this,a,b)};g["flambe.animation.AnimatedFloat"]=
Ga;Ga.__name__=["flambe","animation","AnimatedFloat"];Ga.__super__=Sa;Ga.prototype=x(Sa.prototype,{set__:function(a){this._behavior=null;return Sa.prototype.set__.call(this,a)},update:function(a){null!=this._behavior&&(Sa.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))},__class__:Ga});var F=function(){};g["flambe.System"]=F;F.__name__=["flambe","System"];F.init=function(){F._calledInit||(F._platform.init(),F._calledInit=!0)};var Zd=function(a){this._handler=
a};g["flambe.util.Logger"]=Zd;Zd.__name__=["flambe","util","Logger"];Zd.prototype={__class__:Zd};var Uc=function(){};g["flambe.Log"]=Uc;Uc.__name__=["flambe","Log"];Uc.__super__=mf;Uc.prototype=x(mf.prototype,{__class__:Uc});var $d=function(){this._realDt=0};g["flambe.SpeedAdjuster"]=$d;$d.__name__=["flambe","SpeedAdjuster"];$d.__super__=Xa;$d.prototype=x(Xa.prototype,{get_name:function(){return"SpeedAdjuster_3"},onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},
__class__:$d});var nf=function(){};g["flambe.animation.Behavior"]=nf;nf.__name__=["flambe","animation","Behavior"];nf.prototype={__class__:nf};var Jb=function(){};g["flambe.asset.Asset"]=Jb;Jb.__name__=["flambe","asset","Asset"];Jb.__interfaces__=[ub];Jb.prototype={__class__:Jb};var y=g["flambe.asset.AssetFormat"]={__ename__:!0,__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};y.WEBP=["WEBP",0];y.WEBP.toString=h;y.WEBP.__enum__=y;y.JXR=["JXR",1];y.JXR.toString=
h;y.JXR.__enum__=y;y.PNG=["PNG",2];y.PNG.toString=h;y.PNG.__enum__=y;y.JPG=["JPG",3];y.JPG.toString=h;y.JPG.__enum__=y;y.GIF=["GIF",4];y.GIF.toString=h;y.GIF.__enum__=y;y.DDS=["DDS",5];y.DDS.toString=h;y.DDS.__enum__=y;y.PVR=["PVR",6];y.PVR.toString=h;y.PVR.__enum__=y;y.PKM=["PKM",7];y.PKM.toString=h;y.PKM.__enum__=y;y.MP3=["MP3",8];y.MP3.toString=h;y.MP3.__enum__=y;y.M4A=["M4A",9];y.M4A.toString=h;y.M4A.__enum__=y;y.OPUS=["OPUS",10];y.OPUS.toString=h;y.OPUS.__enum__=y;y.OGG=["OGG",11];y.OGG.toString=
h;y.OGG.__enum__=y;y.WAV=["WAV",12];y.WAV.toString=h;y.WAV.__enum__=y;y.Data=["Data",13];y.Data.toString=h;y.Data.__enum__=y;var ae=function(a,b,c,d){this.name=a;this.url=b;this.format=c;this.bytes=d};g["flambe.asset.AssetEntry"]=ae;ae.__name__=["flambe","asset","AssetEntry"];ae.prototype={__class__:ae};var Vc=function(){};g["flambe.asset.AssetPack"]=Vc;Vc.__name__=["flambe","asset","AssetPack"];Vc.__interfaces__=[ub];Vc.prototype={__class__:Vc,__properties__:{get_manifest:"get_manifest"}};var Wc=
function(){};g["flambe.asset.File"]=Wc;Wc.__name__=["flambe","asset","File"];Wc.__interfaces__=[Jb];Wc.prototype={__class__:Wc};var la=function(){this._localBase=this._remoteBase=null;this._entries=[]};g["flambe.asset.Manifest"]=la;la.__name__=["flambe","asset","Manifest"];la.fromAssets=function(a,b){null==b&&(b=!0);var c=k.field(hc.getType(la).assets[0],a);if(null==c){if(b)throw new o(ja.withFields("Missing asset pack",["name",a]));return null}var d=new la;d.set_localBase("assets");for(var f=0;f<
c.length;){var l=c[f];++f;var e=l.name,g=a+"/"+e+"?v="+A.string(l.md5),m=la.inferFormat(e);m!=y.Data&&(e=ja.removeFileExtension(e));d.add(e,g,l.bytes,m)}return d};la.fromAssetsLocalized=function(a,b,c){null==c&&(c=!0);null==b&&(b=F._platform.getLocale());if(null!=b)for(b=b.split("-");0<b.length;){var d=la.fromAssets(a+"_"+b.join("-"),!1);if(null!=d)return d;b.pop()}return la.fromAssets(a,c)};la.exists=function(a){var b=hc.getType(la).assets[0];return Object.prototype.hasOwnProperty.call(b,a)};la.inferFormat=
function(a){a=ja.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "dds":return y.DDS;case "gif":return y.GIF;case "jpeg":case "jpg":return y.JPG;case "jxr":case "wdp":return y.JXR;case "m4a":return y.M4A;case "mp3":return y.MP3;case "ogg":return y.OGG;case "opus":return y.OPUS;case "pkm":return y.PKM;case "png":return y.PNG;case "pvr":return y.PVR;case "wav":return y.WAV;case "webp":return y.WEBP}return y.Data};la.prototype={add:function(a,b,c,d){null==c&&(c=0);null==d&&(d=la.inferFormat(b));
a=new ae(a,b,d,c);this._entries.push(a);return a},iterator:function(){return C.iter(this._entries)},getFullURL:function(a){var b=null!=this.get_remoteBase()&&la._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=b?ja.joinPath(b,a.url):a.url},get_localBase:function(){return this._localBase},set_localBase:function(a){null!=a&&!Q.startsWith(a,"http://")&&Q.startsWith(a,"https://");return this._localBase=a},get_remoteBase:function(){return this._remoteBase},set_remoteBase:function(a){null!=
a&&(Q.startsWith(a,"http://")||Q.startsWith(a,"https://"));return this._remoteBase=a},__class__:la,__properties__:{set_remoteBase:"set_remoteBase",get_remoteBase:"get_remoteBase",set_localBase:"set_localBase",get_localBase:"get_localBase"}};var P=g["flambe.display.BlendMode"]={__ename__:!0,__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};P.Normal=["Normal",0];P.Normal.toString=h;P.Normal.__enum__=P;P.Add=["Add",1];P.Add.toString=h;P.Add.__enum__=P;P.Multiply=["Multiply",2];P.Multiply.toString=
h;P.Multiply.__enum__=P;P.Screen=["Screen",3];P.Screen.toString=h;P.Screen.__enum__=P;P.Mask=["Mask",4];P.Mask.toString=h;P.Mask.__enum__=P;P.Copy=["Copy",5];P.Copy.toString=h;P.Copy.__enum__=P;var Sb=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};g["flambe.display.Glyph"]=Sb;Sb.__name__=["flambe","display","Glyph"];Sb.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,
c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this._kernings?this._kernings.h[a]|0:0},setKerning:function(a,b){null==this._kernings&&(this._kernings=new Ta);this._kernings.h[a]=b},__class__:Sb};var gb=function(a,b){this.name=b;this._pack=a;this._file=a.getFile(b+".fnt");this.reload()};g["flambe.display.Font"]=gb;gb.__name__=["flambe","display","Font"];gb.prototype={layoutText:function(a,b,c,d,f){null==f&&(f=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=Ka.Left);
return new Kb(this,a,b,c,d,f)},reload:function(){this._glyphs=new Ta;this._glyphs.h[gb.NEWLINE.charCode]=gb.NEWLINE;for(var a=new Ab(this._file.toString()),b=new Ta,c=this.name.lastIndexOf("/"),c=0<=c?C.substr(this.name,0,c+1):"",d=a.keywords();d.hasNext();)switch(d.next()){case "char":for(var f=null,l=a.pairs();l.hasNext();){var e=l.next();switch(e.key){case "height":f.height=e.getInt();break;case "id":f=new Sb(e.getInt());break;case "page":e=e.getInt();f.page=b.h[e];break;case "width":f.width=e.getInt();
break;case "x":f.x=e.getInt();break;case "xadvance":f.xAdvance=e.getInt();break;case "xoffset":f.xOffset=e.getInt();break;case "y":f.y=e.getInt();break;case "yoffset":f.yOffset=e.getInt()}}this._glyphs.set(f.charCode,f);break;case "common":for(f=a.pairs();f.hasNext();)l=f.next(),"lineHeight"==l.key&&(this.lineHeight=l.getInt());break;case "info":for(f=a.pairs();f.hasNext();)l=f.next(),"size"==l.key&&(this.size=l.getInt());break;case "kerning":for(var f=null,e=l=0,g=a.pairs();g.hasNext();){var m=g.next();
switch(m.key){case "amount":e=m.getInt();break;case "first":f=this._glyphs.get(m.getInt());break;case "second":l=m.getInt()}}null!=f&&0!=e&&f.setKerning(l,e);break;case "page":f=0;l=null;for(e=a.pairs();e.hasNext();)switch(g=e.next(),g.key){case "file":l=g.getString();break;case "id":f=g.getInt()}l=this._pack.getTexture(c+ja.removeFileExtension(l));b.h[f]=l}},__class__:gb};var Ka=g["flambe.display.TextAlign"]={__ename__:!0,__constructs__:["Left","Center","Right"]};Ka.Left=["Left",0];Ka.Left.toString=
h;Ka.Left.__enum__=Ka;Ka.Center=["Center",1];Ka.Center.toString=h;Ka.Center.__enum__=Ka;Ka.Right=["Right",2];Ka.Right.toString=h;Ka.Right.__enum__=Ka;var Kb=function(a,b,c,d,f,l){this.lines=0;var e=this;this._font=a;this._glyphs=[];this._offsets=[];this._lineOffset=Math.round(a.lineHeight+l);this.bounds=new be;for(var g=[],l=0,m=b.length;l<m;){var i=l++,i=b.charCodeAt(i),i=a._glyphs.get(i);null!=i&&this._glyphs.push(i)}for(var b=-1,j=0,h=0,a=a._glyphs.get(10),l=function(){var a=e.bounds.width;e.bounds.width=
a>j?a:j;e.bounds.height+=h;g[e.lines]=j;h=j=0;++e.lines},m=0;m<this._glyphs.length;){i=this._glyphs[m];this._offsets[m]=Math.round(j);var k=0<d&&j+i.width>d;k||i==a?(k&&(0<=b?(this._glyphs[b]=a,j=this._offsets[b],m=b):this._glyphs.splice(m,0,a)),b=-1,h=this._lineOffset,l()):(32==i.charCode&&(b=m),j+=i.xAdvance+f,k=i.height+i.yOffset,h>k||(h=k),m+1<this._glyphs.length&&(j+=i.getKerning(this._glyphs[m+1].charCode)));++m}l();f=0;a=Kb.getAlignOffset(c,g[0],d);b=1.79769313486231E308;l=-1.79769313486231E308;
i=m=0;for(k=this._glyphs.length;i<k;){var o=this._glyphs[i];10==o.charCode&&(f+=this._lineOffset,++m,a=Kb.getAlignOffset(c,g[m],d));this._offsets[i]+=a;var n=f+o.yOffset,b=b<n?b:n,o=n+o.height;l>o||(l=o);++i}this.bounds.x=Kb.getAlignOffset(c,this.bounds.width,d);this.bounds.y=b;this.bounds.height=l-b};g["flambe.display.TextLayout"]=Kb;Kb.__name__=["flambe","display","TextLayout"];Kb.getAlignOffset=function(a,b,c){switch(a[1]){case 0:return 0;case 1:return Math.round((c-b)/2);case 2:return c-b}};Kb.prototype=
{draw:function(a){for(var b=0,c=0,d=this._glyphs.length;c<d;){var f=this._glyphs[c];10==f.charCode?b+=this._lineOffset:f.draw(a,this._offsets[c],b);++c}},__class__:Kb};var Ab=function(a){this._configText=a;this._keywordPattern=new fb("([A-Za-z]+)(.*)","");this._pairPattern=new fb('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};g["flambe.display._Font.ConfigParser"]=Ab;Ab.__name__=["flambe","display","_Font","ConfigParser"];Ab.advance=function(a,b){var c=b.matchedPos();return C.substr(a,c.pos+c.len,a.length)};
Ab.prototype={keywords:function(){var a=this,b=this._configText;return{next:function(){b=Ab.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},pairs:function(){var a=this,b=this._pairText;return{next:function(){b=Ab.advance(b,a._pairPattern);return new ce(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},__class__:Ab};var ce=function(a,
b){this.key=a;this._value=b};g["flambe.display._Font.ConfigPair"]=ce;ce.__name__=["flambe","display","_Font","ConfigPair"];ce.prototype={getInt:function(){return A.parseInt(this._value)},getString:function(){return 34!=this._value.charCodeAt(0)?null:C.substr(this._value,1,this._value.length-2)},__class__:ce};var de=function(){};g["flambe.display.Graphics"]=de;de.__name__=["flambe","display","Graphics"];de.prototype={__class__:de};var Ob=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=
b};g["flambe.math.Point"]=Ob;Ob.__name__=["flambe","math","Point"];Ob.prototype={__class__:Ob};var da=function(){this.blendMode=this.scissor=null;var a=this;Xa.call(this);this._flags|=54;this._localMatrix=new Za;var b=function(){a._flags|=24};this.x=new Ga(0,b);this.y=new Ga(0,b);this.rotation=new Ga(0,b);this.scaleX=new Ga(1,b);this.scaleY=new Ga(1,b);this.anchorX=new Ga(0,b);this.anchorY=new Ga(0,b);this.alpha=new Ga(1)};g["flambe.display.Sprite"]=da;da.__name__=["flambe","display","Sprite"];da.hitTest=
function(a,b,c){var d=a._compMap.Sprite_1;if(null!=d){if(6!=(d._flags&6))return null;d.getLocalMatrix().inverseTransform(b,c,da._scratchPoint)&&(b=da._scratchPoint.x,c=da._scratchPoint.y);var f=d.scissor;if(null!=f&&!f.contains(b,c))return null}a=da.hitTestBackwards(a.firstChild,b,c);return null!=a?a:null!=d&&d.containsLocal(b,c)?d:null};da.render=function(a,b){var c=a._compMap.Sprite_1;if(null!=c){var d=c.alpha._value;if(0==(c._flags&2)||0>=d)return;b.save();1>d&&b.multiplyAlpha(d);null!=c.blendMode&&
b.setBlendMode(c.blendMode);var d=c.getLocalMatrix(),f=d.m02,l=d.m12;0!=(c._flags&32)&&(f=Math.round(f),l=Math.round(l));b.transform(d.m00,d.m10,d.m01,d.m11,f,l);d=c.scissor;null!=d&&b.applyScissor(d.x,d.y,d.width,d.height);c.draw(b)}d=a._compMap.Director_2;if(null!=d){d=d.occludedScenes;for(f=0;f<d.length;)l=d[f],++f,da.render(l,b)}for(d=a.firstChild;null!=d;)f=d.next,da.render(d,b),d=f;null!=c&&b.restore()};da.hitTestBackwards=function(a,b,c){if(null!=a){var d=da.hitTestBackwards(a.next,b,c);return null!=
d?d:da.hitTest(a,b,c)}return null};da.__super__=Xa;da.prototype=x(Xa.prototype,{get_name:function(){return"Sprite_1"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b?b<this.getNaturalHeight():!1},getLocalMatrix:function(){0!=(this._flags&8)&&(this._flags&=-9,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,
-this.anchorY._value));return this._localMatrix},onAdded:function(){0!=(this._flags&64)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},draw:function(){},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=
a;){var b=a._compMap.Sprite_1;if(null!=b)return b;a=a.parent}return null},connectHover:function(){var a=this;null==this._hoverConnection&&(this._hoverConnection=F._platform.getPointer().move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.getParentSprite()}null!=a._pointerOut&&0!=(a._flags&64)&&a._pointerOut.emit(b);a._flags&=-65;a._hoverConnection.dispose();a._hoverConnection=null}))},onPointerDown:function(a){this.onHover(a);null!=this._pointerDown&&this._pointerDown.emit(a)},onPointerMove:function(a){this.onHover(a);
null!=this._pointerMove&&this._pointerMove.emit(a)},onHover:function(a){if(0==(this._flags&64)&&(this._flags|=64,null!=this._pointerIn||null!=this._pointerOut))null!=this._pointerIn&&this._pointerIn.emit(a),this.connectHover()},onPointerUp:function(a){1==a.source[1]&&(null!=this._pointerOut&&0!=(this._flags&64)&&this._pointerOut.emit(a),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null));null!=this._pointerUp&&this._pointerUp.emit(a)},__class__:da});
var mb=g["flambe.display.Orientation"]={__ename__:!0,__constructs__:["Portrait","Landscape"]};mb.Portrait=["Portrait",0];mb.Portrait.toString=h;mb.Portrait.__enum__=mb;mb.Landscape=["Landscape",1];mb.Landscape.toString=h;mb.Landscape.__enum__=mb;var Xc=function(){};g["flambe.display.Texture"]=Xc;Xc.__name__=["flambe","display","Texture"];Xc.__interfaces__=[Jb];Xc.prototype={__class__:Xc,__properties__:{get_graphics:"get_graphics",get_height:"get_height",get_width:"get_width"}};var of=function(){};
g["flambe.display.SubTexture"]=of;of.__name__=["flambe","display","SubTexture"];of.__interfaces__=[Xc];var e=g["flambe.input.Key"]={__ename__:!0,__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
e.A=["A",0];e.A.toString=h;e.A.__enum__=e;e.B=["B",1];e.B.toString=h;e.B.__enum__=e;e.C=["C",2];e.C.toString=h;e.C.__enum__=e;e.D=["D",3];e.D.toString=h;e.D.__enum__=e;e.E=["E",4];e.E.toString=h;e.E.__enum__=e;e.F=["F",5];e.F.toString=h;e.F.__enum__=e;e.G=["G",6];e.G.toString=h;e.G.__enum__=e;e.H=["H",7];e.H.toString=h;e.H.__enum__=e;e.I=["I",8];e.I.toString=h;e.I.__enum__=e;e.J=["J",9];e.J.toString=h;e.J.__enum__=e;e.K=["K",10];e.K.toString=h;e.K.__enum__=e;e.L=["L",11];e.L.toString=h;e.L.__enum__=
e;e.M=["M",12];e.M.toString=h;e.M.__enum__=e;e.N=["N",13];e.N.toString=h;e.N.__enum__=e;e.O=["O",14];e.O.toString=h;e.O.__enum__=e;e.P=["P",15];e.P.toString=h;e.P.__enum__=e;e.Q=["Q",16];e.Q.toString=h;e.Q.__enum__=e;e.R=["R",17];e.R.toString=h;e.R.__enum__=e;e.S=["S",18];e.S.toString=h;e.S.__enum__=e;e.T=["T",19];e.T.toString=h;e.T.__enum__=e;e.U=["U",20];e.U.toString=h;e.U.__enum__=e;e.V=["V",21];e.V.toString=h;e.V.__enum__=e;e.W=["W",22];e.W.toString=h;e.W.__enum__=e;e.X=["X",23];e.X.toString=
h;e.X.__enum__=e;e.Y=["Y",24];e.Y.toString=h;e.Y.__enum__=e;e.Z=["Z",25];e.Z.toString=h;e.Z.__enum__=e;e.Number0=["Number0",26];e.Number0.toString=h;e.Number0.__enum__=e;e.Number1=["Number1",27];e.Number1.toString=h;e.Number1.__enum__=e;e.Number2=["Number2",28];e.Number2.toString=h;e.Number2.__enum__=e;e.Number3=["Number3",29];e.Number3.toString=h;e.Number3.__enum__=e;e.Number4=["Number4",30];e.Number4.toString=h;e.Number4.__enum__=e;e.Number5=["Number5",31];e.Number5.toString=h;e.Number5.__enum__=
e;e.Number6=["Number6",32];e.Number6.toString=h;e.Number6.__enum__=e;e.Number7=["Number7",33];e.Number7.toString=h;e.Number7.__enum__=e;e.Number8=["Number8",34];e.Number8.toString=h;e.Number8.__enum__=e;e.Number9=["Number9",35];e.Number9.toString=h;e.Number9.__enum__=e;e.Numpad0=["Numpad0",36];e.Numpad0.toString=h;e.Numpad0.__enum__=e;e.Numpad1=["Numpad1",37];e.Numpad1.toString=h;e.Numpad1.__enum__=e;e.Numpad2=["Numpad2",38];e.Numpad2.toString=h;e.Numpad2.__enum__=e;e.Numpad3=["Numpad3",39];e.Numpad3.toString=
h;e.Numpad3.__enum__=e;e.Numpad4=["Numpad4",40];e.Numpad4.toString=h;e.Numpad4.__enum__=e;e.Numpad5=["Numpad5",41];e.Numpad5.toString=h;e.Numpad5.__enum__=e;e.Numpad6=["Numpad6",42];e.Numpad6.toString=h;e.Numpad6.__enum__=e;e.Numpad7=["Numpad7",43];e.Numpad7.toString=h;e.Numpad7.__enum__=e;e.Numpad8=["Numpad8",44];e.Numpad8.toString=h;e.Numpad8.__enum__=e;e.Numpad9=["Numpad9",45];e.Numpad9.toString=h;e.Numpad9.__enum__=e;e.NumpadAdd=["NumpadAdd",46];e.NumpadAdd.toString=h;e.NumpadAdd.__enum__=e;e.NumpadDecimal=
["NumpadDecimal",47];e.NumpadDecimal.toString=h;e.NumpadDecimal.__enum__=e;e.NumpadDivide=["NumpadDivide",48];e.NumpadDivide.toString=h;e.NumpadDivide.__enum__=e;e.NumpadEnter=["NumpadEnter",49];e.NumpadEnter.toString=h;e.NumpadEnter.__enum__=e;e.NumpadMultiply=["NumpadMultiply",50];e.NumpadMultiply.toString=h;e.NumpadMultiply.__enum__=e;e.NumpadSubtract=["NumpadSubtract",51];e.NumpadSubtract.toString=h;e.NumpadSubtract.__enum__=e;e.F1=["F1",52];e.F1.toString=h;e.F1.__enum__=e;e.F2=["F2",53];e.F2.toString=
h;e.F2.__enum__=e;e.F3=["F3",54];e.F3.toString=h;e.F3.__enum__=e;e.F4=["F4",55];e.F4.toString=h;e.F4.__enum__=e;e.F5=["F5",56];e.F5.toString=h;e.F5.__enum__=e;e.F6=["F6",57];e.F6.toString=h;e.F6.__enum__=e;e.F7=["F7",58];e.F7.toString=h;e.F7.__enum__=e;e.F8=["F8",59];e.F8.toString=h;e.F8.__enum__=e;e.F9=["F9",60];e.F9.toString=h;e.F9.__enum__=e;e.F10=["F10",61];e.F10.toString=h;e.F10.__enum__=e;e.F11=["F11",62];e.F11.toString=h;e.F11.__enum__=e;e.F12=["F12",63];e.F12.toString=h;e.F12.__enum__=e;e.F13=
["F13",64];e.F13.toString=h;e.F13.__enum__=e;e.F14=["F14",65];e.F14.toString=h;e.F14.__enum__=e;e.F15=["F15",66];e.F15.toString=h;e.F15.__enum__=e;e.Left=["Left",67];e.Left.toString=h;e.Left.__enum__=e;e.Up=["Up",68];e.Up.toString=h;e.Up.__enum__=e;e.Right=["Right",69];e.Right.toString=h;e.Right.__enum__=e;e.Down=["Down",70];e.Down.toString=h;e.Down.__enum__=e;e.Alt=["Alt",71];e.Alt.toString=h;e.Alt.__enum__=e;e.Backquote=["Backquote",72];e.Backquote.toString=h;e.Backquote.__enum__=e;e.Backslash=
["Backslash",73];e.Backslash.toString=h;e.Backslash.__enum__=e;e.Backspace=["Backspace",74];e.Backspace.toString=h;e.Backspace.__enum__=e;e.CapsLock=["CapsLock",75];e.CapsLock.toString=h;e.CapsLock.__enum__=e;e.Comma=["Comma",76];e.Comma.toString=h;e.Comma.__enum__=e;e.Command=["Command",77];e.Command.toString=h;e.Command.__enum__=e;e.Control=["Control",78];e.Control.toString=h;e.Control.__enum__=e;e.Delete=["Delete",79];e.Delete.toString=h;e.Delete.__enum__=e;e.End=["End",80];e.End.toString=h;e.End.__enum__=
e;e.Enter=["Enter",81];e.Enter.toString=h;e.Enter.__enum__=e;e.Equals=["Equals",82];e.Equals.toString=h;e.Equals.__enum__=e;e.Escape=["Escape",83];e.Escape.toString=h;e.Escape.__enum__=e;e.Home=["Home",84];e.Home.toString=h;e.Home.__enum__=e;e.Insert=["Insert",85];e.Insert.toString=h;e.Insert.__enum__=e;e.LeftBracket=["LeftBracket",86];e.LeftBracket.toString=h;e.LeftBracket.__enum__=e;e.Minus=["Minus",87];e.Minus.toString=h;e.Minus.__enum__=e;e.PageDown=["PageDown",88];e.PageDown.toString=h;e.PageDown.__enum__=
e;e.PageUp=["PageUp",89];e.PageUp.toString=h;e.PageUp.__enum__=e;e.Period=["Period",90];e.Period.toString=h;e.Period.__enum__=e;e.Quote=["Quote",91];e.Quote.toString=h;e.Quote.__enum__=e;e.RightBracket=["RightBracket",92];e.RightBracket.toString=h;e.RightBracket.__enum__=e;e.Semicolon=["Semicolon",93];e.Semicolon.toString=h;e.Semicolon.__enum__=e;e.Shift=["Shift",94];e.Shift.toString=h;e.Shift.__enum__=e;e.Slash=["Slash",95];e.Slash.toString=h;e.Slash.__enum__=e;e.Space=["Space",96];e.Space.toString=
h;e.Space.__enum__=e;e.Tab=["Tab",97];e.Tab.toString=h;e.Tab.__enum__=e;e.Menu=["Menu",98];e.Menu.toString=h;e.Menu.__enum__=e;e.Search=["Search",99];e.Search.toString=h;e.Search.__enum__=e;e.Unknown=function(a){a=["Unknown",100,a];a.__enum__=e;a.toString=h;return a};var ee=function(){this.init(0,null)};g["flambe.input.KeyboardEvent"]=ee;ee.__name__=["flambe","input","KeyboardEvent"];ee.prototype={init:function(a,b){this.id=a;this.key=b},__class__:ee};var Ha=g["flambe.input.MouseButton"]={__ename__:!0,
__constructs__:["Left","Middle","Right","Unknown"]};Ha.Left=["Left",0];Ha.Left.toString=h;Ha.Left.__enum__=Ha;Ha.Middle=["Middle",1];Ha.Middle.toString=h;Ha.Middle.__enum__=Ha;Ha.Right=["Right",2];Ha.Right.toString=h;Ha.Right.__enum__=Ha;Ha.Unknown=function(a){a=["Unknown",3,a];a.__enum__=Ha;a.toString=h;return a};var $a=g["flambe.input.MouseCursor"]={__ename__:!0,__constructs__:["Default","Button","None"]};$a.Default=["Default",0];$a.Default.toString=h;$a.Default.__enum__=$a;$a.Button=["Button",
1];$a.Button.toString=h;$a.Button.__enum__=$a;$a.None=["None",2];$a.None.toString=h;$a.None.__enum__=$a;var fe=function(){this.init(0,0,0,null)};g["flambe.input.MouseEvent"]=fe;fe.__name__=["flambe","input","MouseEvent"];fe.prototype={init:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:fe};var Yc=g["flambe.input.EventSource"]={__ename__:!0,__constructs__:["Mouse","Touch"]};Yc.Mouse=function(a){a=["Mouse",0,a];a.__enum__=Yc;a.toString=h;return a};Yc.Touch=function(a){a=
["Touch",1,a];a.__enum__=Yc;a.toString=h;return a};var ge=function(){this.init(0,0,0,null,null)};g["flambe.input.PointerEvent"]=ge;ge.__name__=["flambe","input","PointerEvent"];ge.prototype={init:function(a,b,c,d,f){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=f;this._stopped=!1},__class__:ge};var he=function(a){this.id=a;this._source=Yc.Touch(this)};g["flambe.input.TouchPoint"]=he;he.__name__=["flambe","input","TouchPoint"];he.prototype={init:function(a,b){this.viewX=a;this.viewY=b},
__class__:he};var pf=function(){};g["flambe.math.FMath"]=pf;pf.__name__=["flambe","math","FMath"];pf.clamp=function(a,b,c){return a<b?b:a>c?c:a};var Za=function(){this.identity()};g["flambe.math.Matrix"]=Za;Za.__name__=["flambe","math","Matrix"];Za.multiply=function(a,b,c){null==c&&(c=new Za);var d=a.m00*b.m00+a.m01*b.m10,f=a.m00*b.m01+a.m01*b.m11,l=a.m00*b.m02+a.m01*b.m12+a.m02;c.m00=d;c.m01=f;c.m02=l;d=a.m10*b.m00+a.m11*b.m10;f=a.m10*b.m01+a.m11*b.m11;l=a.m10*b.m02+a.m11*b.m12+a.m12;c.m10=d;c.m11=
f;c.m12=l;return c};Za.prototype={set:function(a,b,c,d,f,l){this.m00=a;this.m01=c;this.m02=f;this.m10=b;this.m11=d;this.m12=l},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,d,f){var l=Math.sin(f),f=Math.cos(f);this.set(f*c,l*c,-l*d,f*d,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;
b-=this.m12;c.x=(a*this.m11-b*this.m01)/d;c.y=(b*this.m00-a*this.m10)/d;return!0},__class__:Za};var be=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};g["flambe.math.Rectangle"]=be;be.__name__=["flambe","math","Rectangle"];be.prototype={set:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>
b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},__class__:be};var ma=function(){this._disposed=!1};g["flambe.platform.BasicAsset"]=ma;ma.__name__=["flambe","platform","BasicAsset"];ma.__interfaces__=[Jb];ma.prototype={dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},onDisposed:function(){},__class__:ma};var Pb=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new Zc;this._bytesLoaded=new aa;this._pack=new $c(b,this);var d=yc.array(b);
if(0==d.length)this.handleSuccess();else{for(var f=new aa,l=0;l<d.length;){var e=d[l];++l;var g=e.name,g=null!=v[g]?f.getReserved(g):f.h[g];if(null==g){var g=[],m=e.name;null!=v[m]?f.setReserved(m,g):f.h[m]=g}g.push(e)}this._assetsRemaining=yc.count(f);for(d=new La(f,f.arrayKeys());d.hasNext();)f=[d.next()],this.pickBestEntry(f[0],function(a){return function(d){if(null!=d){var f=b.getFullURL(d);try{c.loadEntry(f,d)}catch(l){l instanceof o&&(l=l.val),c.handleError(d,"Unexpected error: "+A.string(l))}f=
c.promise;f.set_total(f._total+d.bytes)}else d=a[0][0],Pb.isAudio(d.format)?(f=ab.getInstance(),c.handleLoad(d,f)):c.handleError(d,"Could not find a supported format to load")}}(f))}};g["flambe.platform.BasicAssetPackLoader"]=Pb;Pb.__name__=["flambe","platform","BasicAssetPackLoader"];Pb.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};Pb.prototype={onDisposed:function(){},pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var d=0;d<
c.length;){var f=c[d];++d;for(var l=0;l<a.length;){var e=a[l];++l;if(e.format==f){b(e);return}}}b(null)})},loadEntry:function(){},getAssetFormats:function(){},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;break;case 13:c=this._pack.files}var d=a.name;null!=v[d]?c.setReserved(d,b):c.h[d]=b;this._assetsRemaining-=
1;0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){var c=a.name,d=this._bytesLoaded;null!=v[c]?d.setReserved(c,b):d.h[c]=b;c=0;d=this._bytesLoaded;for(d=new La(d,d.arrayKeys());d.hasNext();)var f=d.next(),c=c+f;this.promise.set_progress(c)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(a,b){this.promise.error.emit(ja.withFields(b,["url",a.url]))},handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},
__class__:Pb};var $c=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new aa;this.sounds=new aa;this.files=new aa};g["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=$c;$c.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];$c.__interfaces__=[Vc];$c.prototype={getTexture:function(a,b){null==b&&(b=!0);var c=this.textures,c=null!=v[a]?c.getReserved(a):c.h[a];if(null==c&&b)throw new o(ja.withFields("Missing texture",["name",a]));return c},getSound:function(a,
b){null==b&&(b=!0);var c=this.sounds,c=null!=v[a]?c.getReserved(a):c.h[a];if(null==c&&b)throw new o(ja.withFields("Missing sound",["name",a]));return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files,c=null!=v[a]?c.getReserved(a):c.h[a];if(null==c&&b)throw new o(ja.withFields("Missing file",["name",a]));return c},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=this.textures,a=new La(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.textures=null;a=this.sounds;for(a=new La(a,
a.arrayKeys());a.hasNext();)a.next().dispose();this.sounds=null;a=this.files;for(a=new La(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},get_manifest:function(){return this._manifest},__class__:$c,__properties__:{get_manifest:"get_manifest"}};var ic=function(a){this._disposed=!1;this._content=a};g["flambe.platform.BasicFile"]=ic;ic.__name__=["flambe","platform","BasicFile"];ic.__interfaces__=[Wc];ic.__super__=ma;ic.prototype=x(ma.prototype,{toString:function(){return this._content},
onDisposed:function(){this._content=null},__class__:ic});var ie=function(){};g["flambe.subsystem.KeyboardSystem"]=ie;ie.__name__=["flambe","subsystem","KeyboardSystem"];ie.prototype={__class__:ie};var Ya=function(){this.down=new ia;this.up=new ia;this.backButton=new Tb;this._keyStates=new Ta};g["flambe.platform.BasicKeyboard"]=Ya;Ya.__name__=["flambe","platform","BasicKeyboard"];Ya.__interfaces__=[ie];Ya.prototype={isDown:function(a){return this._keyStates.exists(jc.toKeyCode(a))},submitDown:function(a){if(16777238==
a)return null!=this.backButton._head?(this.backButton.emit(),!0):!1;this._keyStates.exists(a)||(this._keyStates.h[a]=!0,Ya._sharedEvent.init(Ya._sharedEvent.id+1,jc.toKey(a)),this.down.emit(Ya._sharedEvent));return!0},submitUp:function(a){this._keyStates.exists(a)&&(this._keyStates.remove(a),Ya._sharedEvent.init(Ya._sharedEvent.id+1,jc.toKey(a)),this.up.emit(Ya._sharedEvent))},__class__:Ya};var je=function(){};g["flambe.subsystem.MouseSystem"]=je;je.__name__=["flambe","subsystem","MouseSystem"];je.prototype=
{__class__:je};var Ua=function(a){this._pointer=a;this._source=Yc.Mouse(Ua._sharedEvent);this.down=new ia;this.move=new ia;this.up=new ia;this.scroll=new ia;this._y=this._x=0;this._cursor=$a.Default;this._buttonStates=new Ta};g["flambe.platform.BasicMouse"]=Ua;Ua.__name__=["flambe","platform","BasicMouse"];Ua.__interfaces__=[je];Ua.prototype={submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.h[c]=!0,this.prepare(a,b,ke.toButton(c)),this._pointer.submitDown(a,b,this._source),
this.down.emit(Ua._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit(Ua._sharedEvent)},submitUp:function(a,b,c){this._buttonStates.exists(c)&&(this._buttonStates.remove(c),this.prepare(a,b,ke.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit(Ua._sharedEvent))},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=
b;Ua._sharedEvent.init(Ua._sharedEvent.id+1,a,b,c)},__class__:Ua};var le=function(){};g["flambe.subsystem.PointerSystem"]=le;le.__name__=["flambe","subsystem","PointerSystem"];le.prototype={__class__:le,__properties__:{get_y:"get_y",get_x:"get_x"}};var fa=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new ia;this.move=new ia;this.up=new ia;this._x=a;this._y=b;this._isDown=c};g["flambe.platform.BasicPointer"]=fa;fa.__name__=["flambe","platform","BasicPointer"];fa.__interfaces__=
[le];fa.prototype={get_x:function(){return this._x},get_y:function(){return this._y},submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,c);this._isDown=!0;var d=[],f=da.hitTest(F.root,a,b);if(null!=f)for(var l=f.owner;;){var e=l._compMap.Sprite_1;null!=e&&d.push(e);l=l.parent;if(null==l)break}this.prepare(a,b,f,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerDown(fa._sharedEvent),fa._sharedEvent._stopped)return;this.down.emit(fa._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&
b==this._y)){var d=[],f=da.hitTest(F.root,a,b);if(null!=f)for(var l=f.owner;;){var e=l._compMap.Sprite_1;null!=e&&d.push(e);l=l.parent;if(null==l)break}this.prepare(a,b,f,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerMove(fa._sharedEvent),fa._sharedEvent._stopped)return;this.move.emit(fa._sharedEvent)}},submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var d=[],f=da.hitTest(F.root,a,b);if(null!=f)for(var l=f.owner;;){var e=l._compMap.Sprite_1;null!=e&&d.push(e);l=
l.parent;if(null==l)break}this.prepare(a,b,f,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerUp(fa._sharedEvent),fa._sharedEvent._stopped)return;this.up.emit(fa._sharedEvent)}},prepare:function(a,b,c,d){this._x=a;this._y=b;fa._sharedEvent.init(fa._sharedEvent.id+1,a,b,c,d)},__class__:fa,__properties__:{get_y:"get_y",get_x:"get_x"}};var Qb=function(a,b,c){this._x=this._y=0;this._parent=null;this.rootX=this.rootY=0;this._disposed=!1;this.root=a;this._width=b;this._height=c};g["flambe.platform.BasicTexture"]=
Qb;Qb.__name__=["flambe","platform","BasicTexture"];Qb.__interfaces__=[of];Qb.__super__=ma;Qb.prototype=x(ma.prototype,{subTexture:function(a,b,c,d){c=this.root.createTexture(c,d);c._parent=this;c._x=a;c._y=b;c.rootX=this.rootX+a;c.rootY=this.rootY+b;return c},get_graphics:function(){return this.root.getGraphics()},onDisposed:function(){null==this._parent&&this.root.dispose()},get_width:function(){return this._width},get_height:function(){return this._height},__class__:Qb,__properties__:{get_height:"get_height",
get_width:"get_width",get_graphics:"get_graphics"}});var ad=function(){};g["flambe.subsystem.TouchSystem"]=ad;ad.__name__=["flambe","subsystem","TouchSystem"];ad.prototype={__class__:ad,__properties__:{get_supported:"get_supported"}};var Sc=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new Ta;this._points=[];this.down=new ia;this.move=new ia;this.up=new ia};g["flambe.platform.BasicTouch"]=Sc;Sc.__name__=["flambe","platform","BasicTouch"];Sc.__interfaces__=[ad];Sc.prototype=
{get_supported:function(){return!0},submitDown:function(a,b,c){if(!this._pointMap.h.hasOwnProperty(a)){var d=new he(a);d.init(b,c);this._pointMap.h[a]=d;this._points.push(d);null==this._pointerTouch&&(this._pointerTouch=d,this._pointer.submitDown(b,c,d._source));this.down.emit(d)}},submitMove:function(a,b,c){a=this._pointMap.h[a];null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,b,c){var d=this._pointMap.h[a];null!=d&&(d.init(b,
c),this._pointMap.remove(a),C.remove(this._points,d),this._pointerTouch==d&&(this._pointerTouch=null,this._pointer.submitUp(b,c,d._source)),this.up.emit(d))},__class__:Sc,__properties__:{get_supported:"get_supported"}};var Ub=function(){};g["flambe.sound.Sound"]=Ub;Ub.__name__=["flambe","sound","Sound"];Ub.__interfaces__=[Jb];Ub.prototype={__class__:Ub};var ab=function(){this._disposed=!1;this._playback=new bd(this)};g["flambe.platform.DummySound"]=ab;ab.__name__=["flambe","platform","DummySound"];
ab.__interfaces__=[Ub];ab.getInstance=function(){null==ab._instance&&(ab._instance=new ab);return ab._instance};ab.__super__=ma;ab.prototype=x(ma.prototype,{play:function(){return this._playback},loop:function(){return this._playback},onDisposed:function(){},__class__:ab});var Lb=function(){};g["flambe.sound.Playback"]=Lb;Lb.__name__=["flambe","sound","Playback"];Lb.__interfaces__=[ub];Lb.prototype={__class__:Lb,__properties__:{get_complete:"get_complete"}};var bd=function(a){this._sound=a;this.volume=
new Ga(0);this._complete=new Sa(!0)};g["flambe.platform.DummyPlayback"]=bd;bd.__name__=["flambe","platform","DummyPlayback"];bd.__interfaces__=[Lb];bd.prototype={get_complete:function(){return this._complete},dispose:function(){},__class__:bd,__properties__:{get_complete:"get_complete"}};var Tc=function(){this.down=new ia;this.move=new ia;this.up=new ia};g["flambe.platform.DummyTouch"]=Tc;Tc.__name__=["flambe","platform","DummyTouch"];Tc.__interfaces__=[ad];Tc.prototype={get_supported:function(){return!1},
__class__:Tc,__properties__:{get_supported:"get_supported"}};var kc=function(){this._entries=[]};g["flambe.platform.EventGroup"]=kc;kc.__name__=["flambe","platform","EventGroup"];kc.__interfaces__=[ub];kc.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new me(a,b,c))},addDisposingListener:function(a,b,c){var d=this;this.addListener(a,b,function(a){d.dispose();c(a)})},dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,
c.listener,!1)}this._entries=[]},__class__:kc};var me=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};g["flambe.platform._EventGroup.Entry"]=me;me.__name__=["flambe","platform","_EventGroup","Entry"];me.prototype={__class__:me};var cd=function(){};g["flambe.platform.InternalGraphics"]=cd;cd.__name__=["flambe","platform","InternalGraphics"];cd.__interfaces__=[de];cd.prototype={__class__:cd};var ne=function(){};g["flambe.subsystem.RendererSystem"]=ne;ne.__name__=["flambe","subsystem",
"RendererSystem"];ne.prototype={__class__:ne,__properties__:{get_type:"get_type"}};var dd=function(){};g["flambe.platform.InternalRenderer"]=dd;dd.__name__=["flambe","platform","InternalRenderer"];dd.__interfaces__=[ne];dd.prototype={__class__:dd};var jc=function(){};g["flambe.platform.KeyCodes"]=jc;jc.__name__=["flambe","platform","KeyCodes"];jc.toKey=function(a){switch(a){case 8:return e.Backspace;case 9:return e.Tab;case 13:return e.Enter;case 15:return e.Command;case 16:return e.Shift;case 17:return e.Control;
case 18:return e.Alt;case 20:return e.CapsLock;case 27:return e.Escape;case 32:return e.Space;case 33:return e.PageUp;case 34:return e.PageDown;case 35:return e.End;case 36:return e.Home;case 37:return e.Left;case 38:return e.Up;case 39:return e.Right;case 40:return e.Down;case 45:return e.Insert;case 46:return e.Delete;case 48:return e.Number0;case 49:return e.Number1;case 50:return e.Number2;case 51:return e.Number3;case 52:return e.Number4;case 53:return e.Number5;case 54:return e.Number6;case 55:return e.Number7;
case 56:return e.Number8;case 57:return e.Number9;case 65:return e.A;case 66:return e.B;case 67:return e.C;case 68:return e.D;case 69:return e.E;case 70:return e.F;case 71:return e.G;case 72:return e.H;case 73:return e.I;case 74:return e.J;case 75:return e.K;case 76:return e.L;case 77:return e.M;case 78:return e.N;case 79:return e.O;case 80:return e.P;case 81:return e.Q;case 82:return e.R;case 83:return e.S;case 84:return e.T;case 85:return e.U;case 86:return e.V;case 87:return e.W;case 88:return e.X;
case 89:return e.Y;case 90:return e.Z;case 96:return e.Numpad0;case 97:return e.Numpad1;case 98:return e.Numpad2;case 99:return e.Numpad3;case 100:return e.Numpad4;case 101:return e.Numpad5;case 102:return e.Numpad6;case 103:return e.Numpad7;case 104:return e.Numpad8;case 105:return e.Numpad9;case 106:return e.NumpadMultiply;case 107:return e.NumpadAdd;case 108:return e.NumpadEnter;case 109:return e.NumpadSubtract;case 110:return e.NumpadDecimal;case 111:return e.NumpadDivide;case 112:return e.F1;
case 113:return e.F2;case 114:return e.F3;case 115:return e.F4;case 116:return e.F5;case 117:return e.F6;case 118:return e.F7;case 119:return e.F8;case 120:return e.F9;case 121:return e.F10;case 122:return e.F11;case 123:return e.F12;case 186:return e.Semicolon;case 187:return e.Equals;case 188:return e.Comma;case 189:return e.Minus;case 190:return e.Period;case 191:return e.Slash;case 192:return e.Backquote;case 219:return e.LeftBracket;case 220:return e.Backslash;case 221:return e.RightBracket;
case 222:return e.Quote;case 16777234:return e.Menu;case 16777247:return e.Search}return e.Unknown(a)};jc.toKeyCode=function(a){switch(a[1]){case 0:return 65;case 1:return 66;case 2:return 67;case 3:return 68;case 4:return 69;case 5:return 70;case 6:return 71;case 7:return 72;case 8:return 73;case 9:return 74;case 10:return 75;case 11:return 76;case 12:return 77;case 13:return 78;case 14:return 79;case 15:return 80;case 16:return 81;case 17:return 82;case 18:return 83;case 19:return 84;case 20:return 85;
case 21:return 86;case 22:return 87;case 23:return 88;case 24:return 89;case 25:return 90;case 26:return 48;case 27:return 49;case 28:return 50;case 29:return 51;case 30:return 52;case 31:return 53;case 32:return 54;case 33:return 55;case 34:return 56;case 35:return 57;case 36:return 96;case 37:return 97;case 38:return 98;case 39:return 99;case 40:return 100;case 41:return 101;case 42:return 102;case 43:return 103;case 44:return 104;case 45:return 105;case 46:return 107;case 47:return 110;case 48:return 111;
case 49:return 108;case 50:return 106;case 51:return 109;case 52:return 112;case 53:return 113;case 54:return 114;case 55:return 115;case 56:return 116;case 57:return 117;case 58:return 118;case 59:return 119;case 60:return 120;case 61:return 121;case 62:return 122;case 63:return 123;case 64:return 124;case 65:return 125;case 66:return 126;case 67:return 37;case 68:return 38;case 69:return 39;case 70:return 40;case 71:return 18;case 72:return 192;case 73:return 220;case 74:return 8;case 75:return 20;
case 76:return 188;case 77:return 15;case 78:return 17;case 79:return 46;case 80:return 35;case 81:return 13;case 82:return 187;case 83:return 27;case 84:return 36;case 85:return 45;case 86:return 219;case 87:return 189;case 88:return 34;case 89:return 33;case 90:return 190;case 91:return 222;case 92:return 221;case 93:return 186;case 94:return 16;case 95:return 191;case 96:return 32;case 97:return 9;case 98:return 16777234;case 99:return 16777247;case 100:return a[2]}};var Ib=function(){this._tickables=
[]};g["flambe.platform.MainLoop"]=Ib;Ib.__name__=["flambe","platform","MainLoop"];Ib.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_3;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var d=c.next;0==(c._flags&1)&&(c._flags|=1,c.onStart());c.onUpdate(b);c=d}for(c=a.firstChild;null!=c;)d=c.next,Ib.updateEntity(c,b),c=d};Ib.prototype={update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];
null==c||c.update(a)?this._tickables.splice(b,1):++b}F.volume.update(a);Ib.updateEntity(F.root,a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),da.render(F.root,b),a.didRender())},addTickable:function(a){this._tickables.push(a)},__class__:Ib};var ke=function(){};g["flambe.platform.MouseCodes"]=ke;ke.__name__=["flambe","platform","MouseCodes"];ke.toButton=function(a){switch(a){case 0:return Ha.Left;case 1:return Ha.Middle;case 2:return Ha.Right}return Ha.Unknown(a)};var oe=function(){};
g["flambe.platform.TextureRoot"]=oe;oe.__name__=["flambe","platform","TextureRoot"];oe.prototype={__class__:oe};var ed=function(){};g["flambe.platform.Tickable"]=ed;ed.__name__=["flambe","platform","Tickable"];ed.prototype={__class__:ed};var Ma=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};g["flambe.platform.html.CanvasGraphics"]=Ma;Ma.__name__=["flambe","platform","html","CanvasGraphics"];Ma.__interfaces__=[cd];Ma.prototype={save:function(){this._canvasCtx.save()},
translate:function(a,b){this._canvasCtx.translate(a|0,b|0)},scale:function(a,b){this._canvasCtx.scale(a,b)},rotate:function(a){this._canvasCtx.rotate(3.141592653589793*a/180)},transform:function(a,b,c,d,f,l){this._canvasCtx.transform(a,b,c,d,f,l)},restore:function(){this._canvasCtx.restore()},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,f,l,e){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",
this.drawSubTexture(a,b,c,d,f,l,e),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+d|0,a.rootY+f|0,l|0,e|0,b|0,c|0,l|0,e|0)},fillRect:function(a,b,c,d,f){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,d,f),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=(16777215&a).toString(16);6>a.length;)a="0"+A.string(a);this._canvasCtx.fillStyle="#"+A.string(a);this._canvasCtx.fillRect(b|
0,c|0,d|0,f|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},setAlpha:function(a){this._canvasCtx.globalAlpha=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=b},applyScissor:function(a,b,c,d){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,d|0);this._canvasCtx.clip()},willRender:function(){this._firstDraw=
!0},didRender:function(){},__class__:Ma};var Nb=function(a){this.graphics=new Ma(a,!1);this._hasGPU=new Sa(!0)};g["flambe.platform.html.CanvasRenderer"]=Nb;Nb.__name__=["flambe","platform","html","CanvasRenderer"];Nb.__interfaces__=[dd];Nb.prototype={get_type:function(){return hb.Canvas},createTextureFromImage:function(a){a=new Yb(Nb.CANVAS_TEXTURES?M.createCanvas(a):a);return a.createTexture(a.width,a.height)},createTexture:function(a,b){return(new Yb(M.createEmptyCanvas(a,b))).createTexture(a,b)},
getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:Nb,__properties__:{get_type:"get_type"}};var fd=function(a,b,c){Qb.call(this,a,b,c)};g["flambe.platform.html.CanvasTexture"]=fd;fd.__name__=["flambe","platform","html","CanvasTexture"];fd.__super__=Qb;fd.prototype=x(Qb.prototype,{__class__:fd});var Yb=function(a){this._graphics=null;this.updateCount=
0;this._disposed=!1;this.image=a;this.width=a.width;this.height=a.height};g["flambe.platform.html.CanvasTextureRoot"]=Yb;Yb.__name__=["flambe","platform","html","CanvasTextureRoot"];Yb.__interfaces__=[oe];Yb.__super__=ma;Yb.prototype=x(ma.prototype,{createTexture:function(a,b){return new fd(this,a,b)},getGraphics:function(){null==this._graphics&&(this.getContext2d(),this._graphics=new gd(this));return this._graphics},getContext2d:function(){r.__instanceof(this.image,HTMLCanvasElement)||(this.image=
M.createCanvas(this.image));return this.image.getContext("2d",null)},onDisposed:function(){this._graphics=this.image=null},__class__:Yb});var gd=function(a){Ma.call(this,a.image,!0);this._renderTarget=a};g["flambe.platform.html._CanvasTextureRoot.InternalGraphics"]=gd;gd.__name__=["flambe","platform","html","_CanvasTextureRoot","InternalGraphics"];gd.__super__=Ma;gd.prototype=x(Ma.prototype,{drawTexture:function(a,b,c){Ma.prototype.drawTexture.call(this,a,b,c);++this._renderTarget.updateCount},drawSubTexture:function(a,
b,c,d,f,l,e){Ma.prototype.drawSubTexture.call(this,a,b,c,d,f,l,e);++this._renderTarget.updateCount},fillRect:function(a,b,c,d,f){Ma.prototype.fillRect.call(this,a,b,c,d,f);++this._renderTarget.updateCount},__class__:gd});var Y=function(a,b){Pb.call(this,a,b)};g["flambe.platform.html.HtmlAssetPackLoader"]=Y;Y.__name__=["flambe","platform","html","HtmlAssetPackLoader"];Y.detectImageFormats=function(a){var b=[y.PNG,y.JPG,y.GIF],c=2,d=window.document.createElement("img");d.onload=d.onerror=function(){1==
d.width&&b.unshift(y.WEBP);c-=1;0==c&&a(b)};d.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var f=window.document.createElement("img");f.onload=f.onerror=function(){1==f.width&&b.unshift(y.JXR);c-=1;0==c&&a(b)};f.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};Y.detectAudioFormats=function(){var a=window.document.createElement("audio");
if(null==a||null==i(a,a.canPlayType))return[];var b=new fb("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),c=window.navigator.userAgent;if(!V.get_supported()&&b.match(c))return[];for(var b=[{format:y.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:y.MP3,mimeType:"audio/mpeg"},{format:y.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:y.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:y.WAV,mimeType:"audio/wav"}],c=[],d=0;d<b.length;){var f=b[d];++d;var l="";try{l=a.canPlayType(f.mimeType)}catch(e){}""!=
l&&c.push(f.format)}return c};Y.supportsBlob=function(){if(Y._detectBlobSupport){Y._detectBlobSupport=!1;if((new fb("\\bSilk\\b","")).match(window.navigator.userAgent)||null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;Y._URL=M.loadExtension("URL").value}return null!=Y._URL?null!=Y._URL.createObjectURL:!1};Y.__super__=Pb;Y.prototype=x(Pb.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var d=
window.document.createElement("img"),f=new kc;f.addDisposingListener(d,"load",function(){Y.supportsBlob()&&Y._URL.revokeObjectURL(d.src);var a=c._platform.getRenderer().createTextureFromImage(d);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});f.addDisposingListener(d,"error",function(){c.handleError(b,"Failed to load image")});Y.supportsBlob()?this.download(a,b,"blob",function(a){d.src=Y._URL.createObjectURL(a)}):d.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=
c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(V.get_supported())this.download(a,b,"arraybuffer",function(a){V.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new V(a))},function(){var a=ab.getInstance();c.handleLoad(b,a)})});else{var l=window.document.createElement("audio");l.preload="auto";var e=++Y._mediaRefCount;null==Y._mediaElements&&(Y._mediaElements=new Ta);Y._mediaElements.set(e,
l);f=new kc;f.addDisposingListener(l,"canplaythrough",function(){Y._mediaElements.remove(e);c.handleLoad(b,new lc(l))});f.addDisposingListener(l,"error",function(){Y._mediaElements.remove(e);var a=l.error.code;3==a||4==a?(a=ab.getInstance(),c.handleLoad(b,a)):c.handleError(b,"Failed to load audio: "+l.error.code)});f.addListener(l,"progress",function(){if(0<l.buffered.length&&0<l.duration){var a=l.buffered.end(0)/l.duration;c.handleProgress(b,a*b.bytes|0)}});l.src=a;l.load()}break;case 13:this.download(a,
b,"text",function(a){c.handleLoad(b,new ic(a))})}},getAssetFormats:function(a){var b=this;null==Y._supportedFormats&&(Y._supportedFormats=new Zc,Y.detectImageFormats(function(a){Y._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(Y.detectAudioFormats()).concat([y.Data]))}));Y._supportedFormats.get(a)},download:function(a,b,c,d){var f=this,l=null,e=null,g=0,m=!1,i=function(){m&&(m=!1,window.clearInterval(g))},j=3,h=function(){j-=1;return 0<=j?(e(),
!0):!1},e=function(){i();null!=l&&l.abort();l=new XMLHttpRequest;l.open("GET",a,!0);l.responseType=c;var e=0;l.onprogress=function(a){m||(m=!0,g=window.setInterval(function(){4!=l.readyState&&5E3<Date.now()-e&&!h()&&(i(),f.handleError(b,"Download stalled"))},1E3));e=Date.now();f.handleProgress(b,a.loaded)};l.onerror=function(){if(0!=l.status||!h())i(),f.handleError(b,"HTTP error "+l.status)};l.onload=function(){var a=l.response;null==a&&(a=l.responseText);i();d(a)};l.send()};e()},__class__:Y});var Rc=
function(a,b){Ua.call(this,a);this._canvas=b};g["flambe.platform.html.HtmlMouse"]=Rc;Rc.__name__=["flambe","platform","html","HtmlMouse"];Rc.__super__=Ua;Rc.prototype=x(Ua.prototype,{__class__:Rc});var lc=function(a){this._disposed=!1;this.audioElement=a};g["flambe.platform.html.HtmlSound"]=lc;lc.__name__=["flambe","platform","html","HtmlSound"];lc.__interfaces__=[Ub];lc.__super__=ma;lc.prototype=x(ma.prototype,{play:function(a){null==a&&(a=1);return new mc(this,a,!1)},loop:function(a){null==a&&(a=
1);return new mc(this,a,!0)},onDisposed:function(){this.audioElement=null},__class__:lc});var mc=function(a,b,c){var d=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=window.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.volume=new Ga(b,function(){d.updateVolume()});this.updateVolume();this._complete=new Sa(!1);this.playAudio();F.hidden._value&&this.set_paused(!0)};g["flambe.platform.html._HtmlSound.HtmlPlayback"]=mc;mc.__name__=
["flambe","platform","html","_HtmlSound","HtmlPlayback"];mc.__interfaces__=[ed,Lb];mc.prototype={set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},get_complete:function(){return this._complete},update:function(a){this.volume.update(a);this._complete.set__(this._clonedElement.ended);return this._complete._value||this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);
this._complete.set__(!0)},playAudio:function(){var a=this;this._clonedElement.play();this._tickableAdded||(Ra.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=F.volume.get_changed().connect(function(){a.updateVolume()}),this._hideBinding=F.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},updateVolume:function(){this._clonedElement.volume=F.volume._value*this.volume._value},__class__:mc,__properties__:{get_complete:"get_complete",
set_paused:"set_paused"}};var pe=function(){};g["flambe.subsystem.StageSystem"]=pe;pe.__name__=["flambe","subsystem","StageSystem"];pe.prototype={__class__:pe,__properties__:{get_height:"get_height",get_width:"get_width"}};var Mb=function(a){var b=this;this._canvas=a;this.resize=new Tb;this.scaleFactor=Mb.computeScaleFactor();1!=this.scaleFactor&&(M.setVendorStyle(this._canvas,"transform-origin","top left"),M.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));M.SHOULD_HIDE_MOBILE_BROWSER&&
(window.addEventListener("orientationchange",function(){M.callLater(i(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",i(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new Sa(null);null!=window.orientation&&(window.addEventListener("orientationchange",i(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=new Sa(!1);M.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},
!1);this.updateFullscreen()};g["flambe.platform.html.HtmlStage"]=Mb;Mb.__name__=["flambe","platform","html","HtmlStage"];Mb.__interfaces__=[pe];Mb.computeScaleFactor=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d",null),b=M.loadExtension("backingStorePixelRatio",b).value;null==b&&(b=1);a/=b;b=window.screen.height;return 1136<a*window.screen.width||1136<a*b?1:a};Mb.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},
requestResize:function(a,b){if(this.resizeCanvas(a,b)){var c=this._canvas.parentElement;c.style.width=a+"px";c.style.height=b+"px"}},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},resizeCanvas:function(a,b){var c=this.scaleFactor*a,d=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==d)return!1;this._canvas.width=c|0;this._canvas.height=d|0;this.resize.emit();return!0},hideMobileBrowser:function(){var a=this,b=
window.document.documentElement.style;b.height=A.string(window.innerHeight+100)+"px";b.width=A.string(window.innerWidth)+"px";b.overflow="visible";M.callLater(function(){M.hideMobileBrowser();M.callLater(function(){b.height=A.string(window.innerHeight)+"px";a.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation.set__(M.orientation(window.orientation))},updateFullscreen:function(){this.fullscreen.set__(!0==M.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value)},
__class__:Mb,__properties__:{get_height:"get_height",get_width:"get_width"}};var M=function(){};g["flambe.platform.html.HtmlUtil"]=M;M.__name__=["flambe","platform","html","HtmlUtil"];M.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};M.hideMobileBrowser=function(){window.scrollTo(1,0)};M.loadExtension=function(a,b){null==b&&(b=window);var c=k.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+C.substr(a,1,null),d=0,f=M.VENDOR_PREFIXES;d<f.length;){var l=
f[d];++d;var e=l+c,g=k.field(b,e);if(null!=g)return{prefix:l,field:e,value:g}}return{prefix:null,field:null,value:null}};M.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=M.loadExtension(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};M.polyfill=function(a,b){null==b&&(b=window);var c=M.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};M.setVendorStyle=function(a,b,c){for(var a=a.style,d=0,f=M.VENDOR_PREFIXES;d<f.length;){var l=f[d];
++d;a.setProperty("-"+l+"-"+b,c)}a.setProperty(b,c)};M.addVendorListener=function(a,b,c,d){for(var f=0,l=M.VENDOR_PREFIXES;f<l.length;){var e=l[f];++f;a.addEventListener(e+b,c,d)}a.addEventListener(b,c,d)};M.orientation=function(a){switch(a){case -90:case 90:return mb.Landscape;default:return mb.Portrait}};M.createEmptyCanvas=function(a,b){var c=window.document.createElement("canvas");c.width=a;c.height=b;return c};M.createCanvas=function(a){var b=M.createEmptyCanvas(a.width,a.height),c=b.getContext("2d",
null);c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};M.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};var V=function(a){this._disposed=!1;this.buffer=a};g["flambe.platform.html.WebAudioSound"]=V;V.__name__=["flambe","platform","html","WebAudioSound"];V.__interfaces__=[Ub];V.__properties__={get_supported:"get_supported"};
V.get_supported=function(){if(V._detectSupport){V._detectSupport=!1;var a=M.loadExtension("AudioContext").value;null!=a&&(V.ctx=new a,V.gain=V.createGain(),V.gain.connect(V.ctx.destination),F.volume.watch(function(a){V.gain.gain.value=a}))}return null!=V.ctx};V.createGain=function(){return null!=V.ctx.createGain?V.ctx.createGain():V.ctx.createGainNode()};V.start=function(a,b){null!=a.start?a.start(b):a.noteOn(b)};V.__super__=ma;V.prototype=x(ma.prototype,{play:function(a){null==a&&(a=1);return new nc(this,
a,!1)},loop:function(a){null==a&&(a=1);return new nc(this,a,!0)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=null},__class__:V,__properties__:{get_duration:"get_duration"}});var nc=function(a,b,c){var d=this;this._sound=a;this._head=V.gain;this._complete=new Sa(!1);this._sourceNode=V.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=c;this._sourceNode.onended=function(){d._complete.set__(!0)};V.start(this._sourceNode,0);this.playAudio();
this.volume=new Ga(b,function(a){d.setVolume(a)});1!=b&&this.setVolume(b);F.hidden._value&&this.set_paused(!0)};g["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=nc;nc.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];nc.__interfaces__=[ed,Lb];nc.prototype={set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_complete:function(){return this._complete},get_position:function(){return this._complete._value?
this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(V.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(a){this.volume.update(a);3==this._sourceNode.playbackState&&this._complete.set__(!0);return this._complete._value||0<=this._pausedAt?(this._tickableAdded=!1,this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},setVolume:function(a){null==this._gainNode&&(this._gainNode=V.createGain(),this.insertNode(this._gainNode));
this._gainNode.gain.value=a},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},playAudio:function(){var a=this;this._sourceNode.connect(this._head);this._startedAt=V.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(Ra.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=F.hidden.get_changed().connect(function(b){b?(a._wasPaused=0<=a._pausedAt,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},
__class__:nc,__properties__:{get_position:"get_position",get_complete:"get_complete",set_paused:"set_paused"}};var qe=function(){this._transitor=null};g["flambe.scene.Director"]=qe;qe.__name__=["flambe","scene","Director"];qe.__super__=Xa;qe.prototype=x(Xa.prototype,{get_name:function(){return"Director_2"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=
[];this._root.dispose()},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},show:function(a){a=a._compMap.Scene_4;null!=a&&a.shown.emit()},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a]._compMap.Scene_4;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();
null!=a&&this.show(a)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},__class__:qe,__properties__:x(Xa.prototype.__properties__,{get_topScene:"get_topScene"})});var qf=function(){};g["flambe.scene._Director.Transitor"]=qf;qf.__name__=["flambe","scene","_Director","Transitor"];qf.prototype={update:function(a){return this._transition.update(a)},complete:function(){this._transition.complete();this._onComplete()},__class__:qf};
var re=function(){};g["flambe.scene.Scene"]=re;re.__name__=["flambe","scene","Scene"];re.__super__=Xa;re.prototype=x(Xa.prototype,{get_name:function(){return"Scene_4"},__class__:re});var rf=function(){};g["flambe.scene.Transition"]=rf;rf.__name__=["flambe","scene","Transition"];rf.prototype={update:function(){return!0},complete:function(){},__class__:rf};var hb=g["flambe.subsystem.RendererType"]={__ename__:!0,__constructs__:["Stage3D","WebGL","Canvas"]};hb.Stage3D=["Stage3D",0];hb.Stage3D.toString=
h;hb.Stage3D.__enum__=hb;hb.WebGL=["WebGL",1];hb.WebGL.toString=h;hb.WebGL.__enum__=hb;hb.Canvas=["Canvas",2];hb.Canvas.toString=h;hb.Canvas.__enum__=hb;var se=function(){};g["flambe.swf.Symbol"]=se;se.__name__=["flambe","swf","Symbol"];var hd=function(a,b){this._name=a.symbol;var c=a.rect;this.texture=b.subTexture(c[0],c[1],c[2],c[3]);c=a.origin;null!=c?(this.anchorX=c[0],this.anchorY=c[1]):this.anchorY=this.anchorX=0};g["flambe.swf.BitmapSymbol"]=hd;hd.__name__=["flambe","swf","BitmapSymbol"];hd.__interfaces__=
[se];hd.prototype={__class__:hd};var sf=function(){};g["flambe.swf.Flipbook"]=sf;sf.__name__=["flambe","swf","Flipbook"];sf.prototype={__class__:sf};var tf=function(){this.label=null;this.anchorX=this.anchorY=0};g["flambe.swf.FlipbookFrame"]=tf;tf.__name__=["flambe","swf","FlipbookFrame"];tf.prototype={toSymbol:function(){return new id(this)},__class__:tf};var id=function(a){this._texture=a.texture;this._anchorX=a.anchorX;this._anchorY=a.anchorY};g["flambe.swf._Flipbook.FrameSymbol"]=id;id.__name__=
["flambe","swf","_Flipbook","FrameSymbol"];id.__interfaces__=[se];id.prototype={__class__:id};var pc=function(a,b){this._file=a.getFile(b+"/library.json");var c=JSON.parse(this._file.toString());this._symbols=new aa;this.frameRate=c.frameRate;for(var d=[],f=0,l=c.movies;f<l.length;){var e=l[f];++f;e=new oc(this,e);d.push(e);var g=e._name,m=this._symbols;null!=v[g]?m.setReserved(g,e):m.h[g]=e}c=c.textureGroups[0].atlases;for(f=0;f<c.length;){g=c[f];++f;l=a.getTexture(b+"/"+ja.removeFileExtension(g.file));
e=0;for(g=g.textures;e<g.length;){m=g[e];++e;var m=new hd(m,l),i=m._name,j=this._symbols;null!=v[i]?j.setReserved(i,m):j.h[i]=m}}for(c=0;c<d.length;){l=d[c];++c;f=0;for(l=l.layers;f<l.length;){e=l[f];++f;e=e.keyframes;g=e.length;m=0;for(i=g;m<i;){var h=m++,j=e[h];if(null!=j.symbolName){var k=j.symbolName,o=this._symbols,k=null!=v[k]?o.getReserved(k):o.h[k];j.symbol=k}if(j.tweened&&1==j.duration&&h+1<g&&(h=e[h+1],!h.visible||null==h.symbolName))j.visible=!1}}}};g["flambe.swf.Library"]=pc;pc.__name__=
["flambe","swf","Library"];pc.fromFlipbooks=function(a){var b=ha.createEmptyInstance(pc);b._symbols=new aa;b.frameRate=60;b._file=null;for(var c=0;c<a.length;){var d=a[c];++c;for(var f=[],l=0,e=d.frames;l<e.length;){var g=e[l];++l;f.push({duration:g.duration*b.frameRate,label:g.label,pivot:[g.anchorX,g.anchorY],ref:""})}f=new oc(b,{id:d.name,layers:[{name:"flipbook",flipbook:!0,keyframes:f}]});l=d.name;e=b._symbols;null!=v[l]?e.setReserved(l,f):e.h[l]=f;f=f.layers[0].keyframes;l=0;for(e=d.frames.length;l<
e;){var g=l++,m=d.frames[g].toSymbol();f[g].symbol=m}}return b};pc.prototype={__class__:pc};var oc=function(a,b){this._name=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var c=0,d=this.layers.length;c<d;){var f=c++,l=new te(b.layers[f]);this.frames=Math.max(l.frames,this.frames);this.layers[f]=l}this.duration=this.frames/this.frameRate};g["flambe.swf.MovieSymbol"]=oc;oc.__name__=["flambe","swf","MovieSymbol"];oc.__interfaces__=[se];oc.prototype={__class__:oc};
var te=function(a){this.empty=!0;this.name=a.name;var b=null;this.keyframes=Array(a.keyframes.length);for(var c=0,d=this.keyframes.length;c<d;){var f=c++,b=new ue(a.keyframes[f],b);this.keyframes[f]=b;this.empty=this.empty&&null==b.symbolName}this.frames=null!=b?b.index+b.duration:0};g["flambe.swf.MovieLayer"]=te;te.__name__=["flambe","swf","MovieLayer"];te.prototype={__class__:te};var ue=function(a,b){this.ease=0;this.visible=this.tweened=!0;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=
0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=null;this.index=null!=b?b.index+b.duration:0;this.duration=a.duration;this.label=a.label;this.symbolName=a.ref;var c=a.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=a.scale;null!=c&&(this.scaleX=c[0],this.scaleY=c[1]);c=a.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=a.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=a.alpha&&(this.alpha=a.alpha);null!=a.visible&&(this.visible=a.visible);null!=a.tweened&&(this.tweened=a.tweened);null!=
a.ease&&(this.ease=a.ease)};g["flambe.swf.MovieKeyframe"]=ue;ue.__name__=["flambe","swf","MovieKeyframe"];ue.prototype={__class__:ue};var Df=function(){};g["flambe.util.LogHandler"]=Df;Df.__name__=["flambe","util","LogHandler"];var Zc=function(){this.success=new ia;this.error=new ia;this.progressChanged=new Tb;this.hasResult=!1;this._total=this._progress=0};g["flambe.util.Promise"]=Zc;Zc.__name__=["flambe","util","Promise"];Zc.prototype={set_result:function(a){if(this.hasResult)throw new o("Promise result already assigned");
this._result=a;this.hasResult=!0;this.success.emit(a);return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit());return a},set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit());return a},__class__:Zc,__properties__:{set_total:"set_total",set_progress:"set_progress",set_result:"set_result"}};var Tb=function(a){sa.call(this,a)};g["flambe.util.Signal0"]=
Tb;Tb.__name__=["flambe","util","Signal0"];Tb.__super__=sa;Tb.prototype=x(sa.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(){var a=this;this._head==sa.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):this.emitImpl()},emitImpl:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},__class__:Tb});var Yd=function(a){this.next=null;this.fn=a};g["flambe.util._SignalBase.Task"]=Yd;Yd.__name__=
["flambe","util","_SignalBase","Task"];Yd.prototype={__class__:Yd};var ja=function(){};g["flambe.util.Strings"]=ja;ja.__name__=["flambe","util","Strings"];ja.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?C.substr(a,b+1,null):null};ja.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?C.substr(a,0,b):a};ja.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=C.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=C.substr(a,b+1,null));return ja.getFileExtension(a)};
ja.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};ja.withFields=function(a,b){var c=b.length;if(0<c){for(var a=a+(0<a.length?" [":"["),d=0;d<c;){0<d&&(a+=", ");var f=b[d],l=b[d+1];if(r.__instanceof(l,Error)){var e=l.stack;null!=e&&(l=e)}a+=f+"="+A.string(l);d+=2}a+="]"}return a};var Vb=function(){};g["haxe.IMap"]=Vb;Vb.__name__=["haxe","IMap"];Vb.prototype={__class__:Vb};var jd=function(){};g["haxe._Unserializer.DefaultResolver"]=jd;jd.__name__=["haxe","_Unserializer",
"DefaultResolver"];jd.prototype={resolveClass:function(a){return ha.resolveClass(a)},resolveEnum:function(a){return ha.resolveEnum(a)},__class__:jd};var ta=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=ta.DEFAULT_RESOLVER;null==a&&(a=new jd,ta.DEFAULT_RESOLVER=a);this.resolver=a};g["haxe.Unserializer"]=ta;ta.__name__=["haxe","Unserializer"];ta.initCodes=function(){for(var a=[],b=0,c=ta.BASE64.length;b<c;){var d=b++;a[ta.BASE64.charCodeAt(d)]=d}return a};ta.run=
function(a){return(new ta(a)).unserialize()};ta.prototype={readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(b!=b)break;if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return parseFloat(C.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=
this.length)throw new o("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new o("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw new o("Invalid enum format");var c=this.readDigits();if(0==c)return ha.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return ha.createEnum(a,b,d)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var a=
this.unserialize(),b=this.resolver.resolveClass(a);if(null==b)throw new o("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new o("Enum not found "+a);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new o("Class not found "+a);a=ha.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw new o("Invalid custom data");return a;case 77:a=new Na;for(this.cache.push(a);104!=
this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new o("Invalid string reference");return this.scache[a];case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 98:a=new aa;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);){var b=this.unserialize(),
c=this.unserialize();null!=v[b]?a.setReserved(b,c):a.h[b]=c}this.pos++;return a;case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new o("Class not found "+a);a=ha.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new o("Enum not found "+a);this.pos++;var c=this.readDigits(),d=b.__constructs__.slice()[c];
if(null==d)throw new o("Unknown enum index "+a+"@"+c);a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 107:return NaN;case 108:a=new zc;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 109:return-Infinity;case 110:return null;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 112:return Infinity;case 113:a=new Ta;this.cache.push(a);for(b=this.buf.charCodeAt(this.pos++);58==b;)b=this.readDigits(),c=this.unserialize(),
a.h[b]=c,b=this.buf.charCodeAt(this.pos++);if(104!=b)throw new o("Invalid IntMap format");return a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new o("Invalid reference");return this.cache[a];case 115:a=this.readDigits();d=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new o("Invalid bytes length");var f=ta.CODES;null==f&&(f=ta.initCodes(),ta.CODES=f);for(var l=this.pos,e=a&3,g=l+(a-e),b=new Ja(new kd(3*(a>>2)+(2<=e?e-1:0))),c=0;l<g;){var m=f[d.charCodeAt(l++)],
i=f[d.charCodeAt(l++)];b.b[c++]=(m<<2|i>>4)&255;m=f[d.charCodeAt(l++)];b.b[c++]=(i<<4|m>>2)&255;i=f[d.charCodeAt(l++)];b.b[c++]=(m<<6|i)&255}2<=e&&(i=f[d.charCodeAt(l++)],g=f[d.charCodeAt(l++)],b.b[c++]=(i<<2|g>>4)&255,3==e&&(d=f[d.charCodeAt(l++)],b.b[c++]=(g<<4|d>>2)&255));this.pos+=a;this.cache.push(b);return b;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+
2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=C.strDate(C.substr(this.buf,this.pos,19)),this.pos+=19):(a=this.readFloat(),a=new Date(a)),this.cache.push(a),a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new o("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 120:throw o.wrap(this.unserialize());case 121:a=this.readDigits();
if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new o("Invalid string length");b=C.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 122:return 0}this.pos--;throw new o("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:ta};var Ja=function(a){this.length=a.byteLength;this.b=new uf(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};g["haxe.io.Bytes"]=Ja;Ja.__name__=["haxe","io",
"Bytes"];Ja.alloc=function(a){return new Ja(new kd(a))};Ja.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=a.charCodeAt(c++);55296<=d&&56319>=d&&(d=d-55232<<10|a.charCodeAt(c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new Ja((new uf(b)).buffer)};Ja.ofData=function(a){var b=a.hxBytes;return null!=b?b:new Ja(a)};Ja.fastGet=function(a,b){return a.bytes[b]};Ja.prototype=
{__class__:Ja};var Vd=function(a){for(var b=a.length,c=1;b>1<<c;)++c;if(8<c||b!=1<<c)throw new o("BaseCode : base length must be a power of two.");this.base=a;this.nbits=c};g["haxe.crypto.BaseCode"]=Vd;Vd.__name__=["haxe","crypto","BaseCode"];Vd.prototype={initTable:function(){for(var a=[],b=0;256>b;){var c=b++;a[c]=-1}b=0;for(c=this.base.length;b<c;){var d=b++;a[this.base.b[d]]=d}this.tbl=a},decodeBytes:function(a){var b=this.nbits;null==this.tbl&&this.initTable();for(var c=this.tbl,d=a.length*b>>
3,f=new Ja(new kd(d)),l=0,e=0,g=0,m=0;m<d;){for(;8>e;){var e=e+b,l=l<<b,i=c[a.b[g++]];if(-1==i)throw new o("BaseCode : invalid encoded char");l|=i}e-=8;f.b[m++]=l>>e&255}return f},__class__:Vd};var ld=function(){};g["haxe.ds.BalancedTree"]=ld;ld.__name__=["haxe","ds","BalancedTree"];ld.prototype={set:function(a,b){this.root=this.setLoop(a,b,this.root)},get:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);if(0==c)return b.value;b=0>c?b.left:b.right}return null},remove:function(a){try{return this.root=
this.removeLoop(a,this.root),!0}catch(b){b instanceof o&&(b=b.val);if(r.__instanceof(b,String))return!1;throw b;}},exists:function(a){for(var b=this.root;null!=b;){var c=this.compare(a,b.key);if(0==c)return!0;b=0>c?b.left:b.right}return!1},setLoop:function(a,b,c){if(null==c)return new na(null,a,b,null);var d=this.compare(a,c.key);if(0==d)return new na(c.left,a,b,c.right,null==c?0:c._height);if(0>d)return this.balance(this.setLoop(a,b,c.left),c.key,c.value,c.right);a=this.setLoop(a,b,c.right);return this.balance(c.left,
c.key,c.value,a)},removeLoop:function(a,b){if(null==b)throw new o("Not_found");var c=this.compare(a,b.key);return 0==c?this.merge(b.left,b.right):0>c?this.balance(this.removeLoop(a,b.left),b.key,b.value,b.right):this.balance(b.left,b.key,b.value,this.removeLoop(a,b.right))},merge:function(a,b){if(null==a)return b;if(null==b)return a;var c=this.minBinding(b);return this.balance(a,c.key,c.value,this.removeMinBinding(b))},minBinding:function(a){if(null==a)throw new o("Not_found");return null==a.left?
a:this.minBinding(a.left)},removeMinBinding:function(a){return null==a.left?a.right:this.balance(this.removeMinBinding(a.left),a.key,a.value,a.right)},balance:function(a,b,c,d){var f=null==a?0:a._height,l=null==d?0:d._height;if(f>l+2)return f=a.left,l=a.right,(null==f?0:f._height)>=(null==l?0:l._height)?new na(a.left,a.key,a.value,new na(a.right,b,c,d)):new na(new na(a.left,a.key,a.value,a.right.left),a.right.key,a.right.value,new na(a.right.right,b,c,d));return l>f+2?(f=d.right,l=d.left,(null==f?
0:f._height)>(null==l?0:l._height)?new na(new na(a,b,c,d.left),d.key,d.value,d.right):new na(new na(a,b,c,d.left.left),d.left.key,d.left.value,new na(d.left.right,d.key,d.value,d.right))):new na(a,b,c,d,(f>l?f:l)+1)},compare:function(a,b){return k.compare(a,b)},__class__:ld};var na=function(a,b,c,d,f){null==f&&(f=-1);this.left=a;this.key=b;this.value=c;this.right=d;-1==f?(a=this.left,b=this.right,a=(null==a?0:a._height)>(null==b?0:b._height)?this.left:this.right,a=null==a?0:a._height,this._height=
a+1):this._height=f};g["haxe.ds.TreeNode"]=na;na.__name__=["haxe","ds","TreeNode"];na.prototype={__class__:na};var qc=function(){};g["haxe.ds.EnumValueMap"]=qc;qc.__name__=["haxe","ds","EnumValueMap"];qc.__interfaces__=[Vb];qc.__super__=ld;qc.prototype=x(ld.prototype,{compare:function(a,b){var c=a[1]-b[1];if(0!=c)return c;var c=a.slice(2),d=b.slice(2);return 0==c.length&&0==d.length?0:this.compareArgs(c,d)},compareArgs:function(a,b){var c=a.length-b.length;if(0!=c)return c;for(var c=0,d=a.length;c<
d;){var f=c++,f=this.compareArg(a[f],b[f]);if(0!=f)return f}return 0},compareArg:function(a,b){return k.isEnumValue(a)&&k.isEnumValue(b)?this.compare(a,b):a instanceof Array&&null==a.__enum__&&b instanceof Array&&null==b.__enum__?this.compareArgs(a,b):k.compare(a,b)},__class__:qc});var Ta=function(){this.h={}};g["haxe.ds.IntMap"]=Ta;Ta.__name__=["haxe","ds","IntMap"];Ta.__interfaces__=[Vb];Ta.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},
remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},__class__:Ta};var Na=function(){this.h={__keys__:{}}};g["haxe.ds.ObjectMap"]=Na;Na.__name__=["haxe","ds","ObjectMap"];Na.__interfaces__=[Vb];Na.assignId=function(a){return a.__id__=++Na.count};Na.getId=function(a){return a.__id__};Na.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++Na.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},exists:function(a){return null!=this.h.__keys__[a.__id__]},
remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return C.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref[this.it.next().__id__]}}},__class__:Na};var La=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};g["haxe.ds._StringMap.StringMapIterator"]=
La;La.__name__=["haxe","ds","_StringMap","StringMapIterator"];La.prototype={hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=this.keys[this.index++];return null!=v[b]?a.getReserved(b):a.h[b]},__class__:La};var aa=function(){this.h={}};g["haxe.ds.StringMap"]=aa;aa.__name__=["haxe","ds","StringMap"];aa.__interfaces__=[Vb];aa.prototype={set:function(a,b){null!=v[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=v[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=
v[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=v[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){return C.iter(this.arrayKeys())},
arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new La(this,this.arrayKeys())},__class__:aa};var hc=function(){};g["haxe.rtti.Meta"]=hc;hc.__name__=["haxe","rtti","Meta"];hc.getType=function(a){a=hc.getMeta(a);return null==a||null==a.obj?{}:a.obj};hc.getMeta=function(a){return a.__meta__};var ve=function(a){this.__x=a};g["haxe.xml._Fast.NodeAccess"]=ve;
ve.__name__=["haxe","xml","_Fast","NodeAccess"];ve.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b){if(this.__x.nodeType==t.Document)b="Document";else{b=this.__x;if(b.nodeType!=t.Element)throw new o("Bad node type, expected Element but found "+b.nodeType);b=b.nodeName}throw new o(b+" is missing element "+a);}return new rc(b)},__class__:ve};var we=function(a){this.__x=a};g["haxe.xml._Fast.AttribAccess"]=we;we.__name__=["haxe","xml","_Fast","AttribAccess"];we.prototype=
{resolve:function(a){if(this.__x.nodeType==t.Document)throw new o("Cannot access document attribute "+a);var b=this.__x.get(a);if(null==b){b=this.__x;if(b.nodeType!=t.Element)throw new o("Bad node type, expected Element but found "+b.nodeType);throw new o(b.nodeName+" is missing attribute "+a);}return b},__class__:we};var xe=function(a){this.__x=a};g["haxe.xml._Fast.HasAttribAccess"]=xe;xe.__name__=["haxe","xml","_Fast","HasAttribAccess"];xe.prototype={resolve:function(a){if(this.__x.nodeType==t.Document)throw new o("Cannot access document attribute "+
a);return this.__x.exists(a)},__class__:xe};var ye=function(a){this.__x=a};g["haxe.xml._Fast.HasNodeAccess"]=ye;ye.__name__=["haxe","xml","_Fast","HasNodeAccess"];ye.prototype={resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__class__:ye};var ze=function(a){this.__x=a};g["haxe.xml._Fast.NodeListAccess"]=ze;ze.__name__=["haxe","xml","_Fast","NodeListAccess"];ze.prototype={resolve:function(a){for(var b=new zc,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new rc(c))}return b},
__class__:ze};var rc=function(a){if(a.nodeType!=t.Document&&a.nodeType!=t.Element)throw new o("Invalid nodeType "+a.nodeType);this.x=a;this.node=new ve(a);this.nodes=new ze(a);this.att=new we(a);this.has=new xe(a);this.hasNode=new ye(a)};g["haxe.xml.Fast"]=rc;rc.__name__=["haxe","xml","Fast"];rc.prototype={get_name:function(){if(this.x.nodeType==t.Document)return"Document";var a=this.x;if(a.nodeType!=t.Element)throw new o("Bad node type, expected Element but found "+a.nodeType);return a.nodeName},
get_innerData:function(){var a=this.x;if(a.nodeType!=t.Document&&a.nodeType!=t.Element)throw new o("Bad node type, expected Element or Document but found "+a.nodeType);a=C.iter(a.children);if(!a.hasNext())throw new o(this.get_name()+" does not have data");var b=a.next();if(a.hasNext()){var c=a.next();if(b.nodeType==t.PCData&&c.nodeType==t.CData){if(b.nodeType==t.Document||b.nodeType==t.Element)throw new o("Bad node type, unexpected "+b.nodeType);b=""==Q.trim(b.nodeValue)}else b=!1;if(b){if(!a.hasNext()){if(c.nodeType==
t.Document||c.nodeType==t.Element)throw new o("Bad node type, unexpected "+c.nodeType);return c.nodeValue}b=a.next();if(b.nodeType==t.PCData){if(b.nodeType==t.Document||b.nodeType==t.Element)throw new o("Bad node type, unexpected "+b.nodeType);b=""==Q.trim(b.nodeValue)}else b=!1;if(b&&!a.hasNext()){if(c.nodeType==t.Document||c.nodeType==t.Element)throw new o("Bad node type, unexpected "+c.nodeType);return c.nodeValue}}throw new o(this.get_name()+" does not only have data");}if(b.nodeType!=t.PCData&&
b.nodeType!=t.CData)throw new o(this.get_name()+" does not have data");if(b.nodeType==t.Document||b.nodeType==t.Element)throw new o("Bad node type, unexpected "+b.nodeType);return b.nodeValue},__class__:rc,__properties__:{get_innerData:"get_innerData",get_name:"get_name"}};var oa=function(a,b,c){this.xml=b;this.message=a;this.position=c;this.lineNumber=1;for(a=this.positionAtLine=0;a<c;){var d=a++,d=b.charCodeAt(d);10==d?(this.lineNumber++,this.positionAtLine=0):13!=d&&this.positionAtLine++}};g["haxe.xml.XmlParserException"]=
oa;oa.__name__=["haxe","xml","XmlParserException"];oa.prototype={toString:function(){return ha.getClassName(r.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:oa};var sb=function(){};g["haxe.xml.Parser"]=sb;sb.__name__=["haxe","xml","Parser"];sb.parse=function(a,b){null==b&&(b=!1);var c=t.createDocument();sb.doParse(a,b,0,c);return c};sb.doParse=function(a,b,c,d){null==c&&(c=0);for(var f=null,l=1,e=1,g=null,m=0,i=0,j=0,h=a.charCodeAt(c),k=new Gb,
n=1,p=-1;h==h;){switch(l){case 0:switch(h){case 9:case 10:case 13:case 32:break;default:l=e;continue}break;case 1:if(60==h)l=0,e=2;else{m=c;l=13;continue}break;case 2:switch(h){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=C.substr(a,c,6).toUpperCase())throw new o(new oa("Expected <![CDATA[",a,c));c+=5;l=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=C.substr(a,c+2,6).toUpperCase())throw new o(new oa("Expected <!DOCTYPE",a,c));c+=8;l=16}else{if(45!=a.charCodeAt(c+1)||
45!=a.charCodeAt(c+2))throw new o(new oa("Expected <\!--",a,c));c+=2;l=15}m=c+1;break;case 47:if(null==d)throw new o(new oa("Expected node name",a,c));m=c+1;l=0;e=10;break;case 63:l=14;m=c;break;default:l=3;m=c;continue}break;case 3:if(!(97<=h&&122>=h||65<=h&&90>=h||48<=h&&57>=h||58==h||46==h||95==h||45==h)){if(c==m)throw new o(new oa("Expected node name",a,c));f=t.createElement(C.substr(a,m,c-m));d.addChild(f);++i;l=0;e=4;continue}break;case 4:switch(h){case 47:l=11;break;case 62:l=9;break;default:l=
5;m=c;continue}break;case 5:if(!(97<=h&&122>=h||65<=h&&90>=h||48<=h&&57>=h||58==h||46==h||95==h||45==h)){if(m==c)throw new o(new oa("Expected attribute name",a,c));g=C.substr(a,m,c-m);if(f.exists(g))throw new o(new oa("Duplicate attribute ["+g+"]",a,c));l=0;e=6;continue}break;case 6:if(61==h)l=0,e=7;else throw new o(new oa("Expected =",a,c));break;case 7:switch(h){case 34:case 39:k=new Gb;l=8;m=c+1;p=h;break;default:throw new o(new oa('Expected "',a,c));}break;case 8:switch(h){case 38:n=c-m;k.b+=
null==n?C.substr(a,m,null):C.substr(a,m,n);l=18;n=8;m=c+1;break;case 60:case 62:if(b)throw new o(new oa("Invalid unescaped "+String.fromCharCode(h)+" in attribute value",a,c));h==p&&(e=c-m,k.b+=null==e?C.substr(a,m,null):C.substr(a,m,e),e=k.b,k=new Gb,f.set(g,e),l=0,e=4);break;default:h==p&&(e=c-m,k.b+=null==e?C.substr(a,m,null):C.substr(a,m,e),e=k.b,k=new Gb,f.set(g,e),l=0,e=4)}break;case 9:m=c=sb.doParse(a,b,c,f);l=1;break;case 10:if(!(97<=h&&122>=h||65<=h&&90>=h||48<=h&&57>=h||58==h||46==h||95==
h||45==h)){if(m==c)throw new o(new oa("Expected node name",a,c));e=C.substr(a,m,c-m);if(d.nodeType!=t.Element)throw new o("Bad node type, expected Element but found "+d.nodeType);if(e!=d.nodeName){if(d.nodeType!=t.Element)throw new o("Bad node type, expected Element but found "+d.nodeType);throw new o(new oa("Expected </"+d.nodeName+">",a,c));}l=0;e=12;continue}break;case 11:if(62==h)l=1;else throw new o(new oa("Expected >",a,c));break;case 12:if(62==h)return 0==i&&d.addChild(t.createPCData("")),
c;throw new o(new oa("Expected >",a,c));case 13:60==h?(e=c-m,k.b+=null==e?C.substr(a,m,null):C.substr(a,m,e),e=t.createPCData(k.b),k=new Gb,d.addChild(e),++i,l=0,e=2):38==h&&(n=c-m,k.b+=null==n?C.substr(a,m,null):C.substr(a,m,n),l=18,n=13,m=c+1);break;case 14:63==h&&62==a.charCodeAt(c+1)&&(++c,h=C.substr(a,m+1,c-m-2),d.addChild(t.createProcessingInstruction(h)),++i,l=1);break;case 15:45==h&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(d.addChild(t.createComment(C.substr(a,m,c-m))),++i,c+=2,l=1);
break;case 16:91==h?++j:93==h?--j:62==h&&0==j&&(d.addChild(t.createDocType(C.substr(a,m,c-m))),++i,l=1);break;case 17:93==h&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(h=t.createCData(C.substr(a,m,c-m)),d.addChild(h),++i,c+=2,l=1);break;case 18:if(59==h){m=C.substr(a,m,c-m);if(35==m.charCodeAt(0))m=120==m.charCodeAt(1)?A.parseInt("0"+C.substr(m,1,m.length-1)):A.parseInt(C.substr(m,1,m.length-1)),k.b+=String.fromCharCode(m);else if(h=sb.escapes,null!=v[m]?h.existsReserved(m):h.h.hasOwnProperty(m))h=
sb.escapes,m=null!=v[m]?h.getReserved(m):h.h[m],k.b+=A.string(m);else{if(b)throw new o(new oa("Undefined entity: "+m,a,c));k.b+=A.string("&"+m+";")}m=c+1;l=n}else if(!(97<=h&&122>=h||65<=h&&90>=h||48<=h&&57>=h||58==h||46==h||95==h||45==h)&&35!=h){if(b)throw new o(new oa("Invalid character in entity: "+String.fromCharCode(h),a,c));k.b+="&";h=c-m;k.b+=null==h?C.substr(a,m,null):C.substr(a,m,h);m=c--;l=n}}h=a.charCodeAt(++c)}1==l&&(m=c,l=13);if(13==l){if(c!=m||0==i)b=c-m,k.b+=null==b?C.substr(a,m,null):
C.substr(a,m,b),d.addChild(t.createPCData(k.b));return c}if(!b&&18==l&&13==n)return k.b+="&",b=c-m,k.b+=null==b?C.substr(a,m,null):C.substr(a,m,b),d.addChild(t.createPCData(k.b)),c;throw new o(new oa("Unexpected end",a,c));};var o=function(a){Error.call(this);this.val=a;this.message=""+a;Error.captureStackTrace&&Error.captureStackTrace(this,o)};g["js._Boot.HaxeError"]=o;o.__name__=["js","_Boot","HaxeError"];o.wrap=function(a){return a instanceof Error?a:new o(a)};o.__super__=Error;o.prototype=x(Error.prototype,
{__class__:o});var r=function(){};g["js.Boot"]=r;r.__name__=["js","Boot"];r.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=r.__nativeClassName(a);return null!=a?r.__resolveNativeClass(a):null};r.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "function":return"<function>";case "object":if(a instanceof Array){if(a.__enum__){if(2==
a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,f=a.length;d<f;)var l=d++,c=2!=l?c+(","+r.__string_rec(a[l],b)):c+r.__string_rec(a[l],b);return c+")"}c=a.length;d="[";b+="\t";for(f=0;f<c;)l=f++,d+=(0<l?",":"")+r.__string_rec(a[l],b);return d+"]"}try{d=a.toString}catch(e){return"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";f=null!=a.hasOwnProperty;for(c in a)if(!f||a.hasOwnProperty(c))"prototype"==c||"__class__"==
c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+r.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "string":return a;default:return""+a}};r.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,f=c.length;d<f;){var l=d++,l=c[l];if(l==b||r.__interfLoop(l,b))return!0}return r.__interfLoop(a.__super__,b)};r.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof
Array?null==a.__enum__:!1;case md:return"boolean"==typeof a;case Ff:return!0;case K:return"number"==typeof a;case sc:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==typeof a;default:if(null!=a)if("function"==typeof b){if(a instanceof b||r.__interfLoop(r.getClass(a),b))return!0}else{if("object"==typeof b&&r.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==Gf&&null!=a.__name__||b==Hf&&null!=a.__ename__?!0:a.__enum__==b}};r.__cast=function(a,b){if(r.__instanceof(a,
b))return a;throw new o("Cannot cast "+A.string(a)+" to "+A.string(b));};r.__nativeClassName=function(a){a=r.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};r.__isNativeObj=function(a){return null!=r.__nativeClassName(a)};r.__resolveNativeClass=function(a){return Af[a]};var Hb=function(){};g["js.Cookie"]=Hb;Hb.__name__=["js","Cookie"];Hb.set=function(a,b,c,d,f){a=a+"="+encodeURIComponent(b);null!=c&&(c=(new Date).getTime()+1E3*c,a+=";expires="+(new Date(c)).toGMTString());
null!=d&&(a+=";path="+d);null!=f&&(a+=";domain="+f);window.document.cookie=a};Hb.all=function(){for(var a=new aa,b=window.document.cookie.split(";"),c=0;c<b.length;){var d=b[c];++c;var d=Q.ltrim(d),f=d.split("=");2>f.length||(d=f[0],f=decodeURIComponent(f[1].split("+").join(" ")),null!=v[d]?a.setReserved(d,f):a.h[d]=f)}return a};Hb.get=function(a){var b=Hb.all();return null!=v[a]?b.getReserved(a):b.h[a]};var nb=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;
else{this.a=[];for(var b=0;b<a;)this.a[b++]=0;this.byteLength=a}};g["js.html.compat.ArrayBuffer"]=nb;nb.__name__=["js","html","compat","ArrayBuffer"];nb.sliceImpl=function(a,b){var c=new uf(this,a,null==b?null:b-a),d=new kd(c.byteLength);(new uf(d)).set(c);return d};nb.prototype={slice:function(a,b){return new nb(this.a.slice(a,b))},__class__:nb};var Bb=function(){};g["js.html.compat.Uint8Array"]=Bb;Bb.__name__=["js","html","compat","Uint8Array"];Bb._new=function(a,b,c){if("number"==typeof a){c=[];
for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new nb(c)}else if(r.__instanceof(a,nb))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new nb(c);else throw new o("TODO "+A.string(a));c.subarray=Bb._subarray;c.set=Bb._set;return c};Bb._set=function(a,b){if(r.__instanceof(a.buffer,nb)){if(a.byteLength+
b>this.byteLength)throw new o("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var f=c++;this[f+b]=a[f]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new o("set() outside of range");c=0;for(d=a.length;c<d;)f=c++,this[f+b]=a[f]}else throw new o("TODO");};Bb._subarray=function(a,b){var c=Bb._new(this.slice(a,b));c.byteOffset=a;return c};var vf=function(){};g["manifest.Xml"]=vf;vf.__name__=["manifest","Xml"];var u=function(a){this._highlightIndex=-1;this.classType=
r.getClass(this);this._elementManager=new nd(a,N.STAGE_CENTER_X,360,!0);this._useClickWall()&&(this._clickWall=this._elementManager.root.addChild(new ib({color:16711680,sizeX:N.STAGE_WIDTH,sizeY:720,alpha:0})));this._elementManager.addLayer("ui_default",!0);this._elementManager.addLayer("ui_loader");this._elementManager.addLayer("ui_border");this._tween=new tc;this._buildScreen();this._onEventResizeCanvas();this.doDelete=!1;this._addEventListeners()};g["workinman.ui.ScreenBase"]=u;u.__name__=["workinman",
"ui","ScreenBase"];u.prototype={dispose:function(){this._removeEventListeners();this._clickWall=null;null!=this._elementManager&&(this._elementManager.dispose(),this._elementManager=null);null!=this._tween&&(this._tween.dispose(),this._tween=null);this.classType=this._state=null},_buildScreen:function(){this._border=this._elementManager.addElement(new s({asset:"border",scaleY:0.5,scaleX:0.5135,alpha:0}),"ui_border");this._border.inputEnabled=!1;this._addLoader()},_addEventListeners:function(){w.resizeCanvas.add(i(this,
this._handleResizeCanvas));w.addLoader.add(i(this,this._addLoader));w.removeLoader.add(i(this,this._removeLoader));p.eventInput.add(i(this,this._handleInput))},_removeEventListeners:function(){w.resizeCanvas.remove(i(this,this._handleResizeCanvas));w.addLoader.remove(i(this,this._addLoader));w.removeLoader.remove(i(this,this._removeLoader));p.eventInput.remove(i(this,this._handleInput))},get_root:function(){return this._elementManager.root},_addLoader:function(){null==this._loadWidget&&(this._loadWidget=
this._elementManager.addElement(new od({tween:this._tween,y:0}),"ui_loader"));!1==this._loadWidget.get_active()&&this._loadWidget.tweenIn(!0);this._loadWidget.inputEnabled=!1},_removeLoader:function(){null==this._loadWidget||!1==this._loadWidget.get_active()||this._loadWidget.tweenOut()},_useClickWall:function(){return!0},_setState:function(a){if(this._state!=a)switch(this._state=a,this._state[1]){case 0:this._setInState();break;case 2:this._setOpenedState()}},_setInState:function(){this._finishInState()},
_finishInState:function(){this._setState(Ba.OPENED);Fb.eventFlowDelegate.dispatch(ka.OPEN_COMPLETE,this.classType);w.removeLoader.dispatch()},_setCloseState:function(){this._finishCloseState()},_finishCloseState:function(){this.doDelete=!0;Fb.eventFlowDelegate.dispatch(ka.CLOSE_COMPLETE,this.classType)},_setOpenedState:function(){},update:function(a){this._tween.update(a);this._elementManager.update(a)},_handleInput:function(a,b){!1!=this._clearInput()&&(this._onInput(a,b),this._checkButtonHighlight(a,
b))},_checkButtonHighlight:function(a,b){switch(a[1]){case 0:b&&null!=this._highlightedButton&&this._highlightedButton.setHighlight(!1);break;case 2:b&&null!=this._highlightedButton&&this._highlightedButton.forceClick();break;case 7:if(b){null!=this._highlightedButton&&this._highlightedButton.setHighlight(!1);var c=this._elementManager.getAllButtons();if(0==c.length)break;for(var d=this._highlightIndex;!(this._highlightIndex+=-1,this._highlightIndex>=c.length&&(this._highlightIndex=0),0>this._highlightIndex&&
(this._highlightIndex=c.length-1),this._highlightIndex==d||c[this._highlightIndex].isSelectable()););this._highlightedButton=c[this._highlightIndex];this._highlightedButton.setHighlight(!0)}break;case 8:if(b){null!=this._highlightedButton&&this._highlightedButton.setHighlight(!1);c=this._elementManager.getAllButtons();if(0==c.length)break;for(d=this._highlightIndex;!(this._highlightIndex+=1,this._highlightIndex>=c.length&&(this._highlightIndex=0),0>this._highlightIndex&&(this._highlightIndex=c.length-
1),this._highlightIndex==d||c[this._highlightIndex].isSelectable()););this._highlightedButton=c[this._highlightIndex];this._highlightedButton.setHighlight(!0)}break;case 13:if(b){null!=this._highlightedButton&&this._highlightedButton.setHighlight(!1);c=this._elementManager.getAllButtons();if(0==c.length)break;for(var d=F._platform.getKeyboard().isDown(e.Shift),f=this._highlightIndex;!(this._highlightIndex+=d?-1:1,this._highlightIndex>=c.length&&(this._highlightIndex=0),0>this._highlightIndex&&(this._highlightIndex=
c.length-1),this._highlightIndex==f||c[this._highlightIndex].isSelectable()););this._highlightedButton=c[this._highlightIndex];this._highlightedButton.setHighlight(!0)}}},_onInput:function(){},open:function(a){null==a&&(a=!0);a?this._setState(Ba.IN):this._finishInState()},close:function(a){null==a&&(a=!0);this._state!=Ba.OUT&&(this._setState(Ba.OUT),a?this._setCloseState():this._finishCloseState())},_handleResizeCanvas:function(){null!=this._clickWall&&(this._clickWall.sizeX=Math.floor(N.STAGE_WIDTH),
this._clickWall.sizeY=720);this._onEventResizeCanvas()},_onEventResizeCanvas:function(){var a=n.getTexture(this._border.get_asset()),b=N.STAGE_WIDTH,c=a.get_width();this._border.scaleX=b/c;this._border.scaleY=720/a.get_height()},_clearInput:function(){return this._state!=Ba.OPENED?!1:!0},_clearButtonInput:function(){return this._state!=Ba.OPENED?!1:!0},__class__:u,__properties__:{get_root:"get_root"}};var fc=function(a){u.call(this,a)};g["screen.ScreenAttract"]=fc;fc.__name__=["screen","ScreenAttract"];
fc.__super__=u;fc.prototype=x(u.prototype,{_buildScreen:function(){u.prototype._buildScreen.call(this);j.stopMusic();this._closing=!1;this._beginPreload();G.loadCookies();this._tray=this._elementManager.addElement(new s({}));this._tray.addChild(new s({asset:"splash_bg",scale:0.5}));this._background=this._tray.addChild(new W({library:"splash",scale:0.5,alpha:0}));this._background.animate("animation");this._sofia=this._background.addChild(new W({library:"sofia",x:500,y:400,scale:0.7,scaleX:-0.7}));
this._sofia.animate("splash");this._clickTray=this._tray.addChild(new E({asset:"splash_bg",x:0,y:0,tween:this._tween,clear:i(this,this._clearButtonInput),scale:1,alpha:0}));this._clickTray.eventClick.add(i(this,this._onEventClickPlay));this._onEventResizeCanvas()},dispose:function(){this._background=this._sofia=this._bg=this._clickTray=this._tray=this._loadWidget=null;u.prototype.dispose.call(this)},_beginPreload:function(){var a=["preload","fonts_"+O.region];n.load(i(this,this._onPreloadFinished),
a,0)},_onPreloadFinished:function(){ca.onPreloadFinished();O.parseLocalization();this._addPreload();this._beginInitialLoad()},_beginInitialLoad:function(){n.load(i(this,this._eventLoadCompleteInitial),["initial_universal","initial_audio_required"],1.2)},_eventLoadCompleteInitial:function(){this._addClickTray();this._tray.alpha=1;this._background.alpha=1;w.removeLoader.dispatch();this._tray.addChild(new pd({assetUp:"button_sound_on",assetUpOff:"button_sound_off",tween:this._tween,clear:i(this,this._clearButtonInput),
x:N.STAGE_CENTER_X-50,y:-310,scale:0.5}));ca.onInitialFinished();ca.onTitleStart();w.initialLoadComplete.dispatch()},_addPreload:function(){w.addLoader.dispatch()},_addClickTray:function(){null==this._clickTray&&ob.easeBounceIn(this._clickTray,this._tween)},update:function(a){u.prototype.update.call(this,a)},_setCloseState:function(){ob.easeBounceOut(this._tray,this._tween).onComplete(i(this,this._finishCloseState))},_onEventClickPlay:function(){!1==this._closing&&(this._closing=!0,j.playMusic("sofia_bg_music",
0.3),w.addLoader.dispatch(),w.flow.dispatch("AVATAR_BUILDER"))},_onEventResizeCanvas:function(){u.prototype._onEventResizeCanvas.call(this);this._tray.scaleX=N.STAGE_WIDTH/1280},__class__:fc});var Bc=function(a){this._clickVolume=0.5;this._selectedEyeColor=this._selectedEyeShape=this._selectedOutfitType=this._selectedOutfitColor=this._selectedFacewear=0;this._wasAltColor=!1;this._selectedSkinColor=this._selectedBodyType=this._selectedHairColor=this._selectedHairStyle=0;this._accesoryButtons=[null,
null,null,null];this._outfitColorButtons=[null,null,null,null,null,null,null,null];this._outfitButtons=[null,null];this._eyeStyleButtons=[null,null,null];this._eyeColorButtons=[null,null,null,null,null,null,null,null,null,null,null,null];this._hairStyleButtons=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];this._hairColorButtons=[null,null,null,null,null,null,null,null,null,null];this._hairStyleContainers=[null,null];this._arrowButtons=[null,
null];this._bodyTypeButtons=[null,null,null,null,null];this._skinColorButtons=[null,null,null,null,null,null,null,null];this._customizationBodies=[null,null,null,null];this._customizationTabButtons=[null,null,null,null];u.call(this,a)};g["screen.ScreenAvatarBuilder"]=Bc;Bc.__name__=["screen","ScreenAvatarBuilder"];Bc.__super__=u;Bc.prototype=x(u.prototype,{_buildScreen:function(){u.prototype._buildScreen.call(this);j.stopMusic();j.playMusic("sofia_park_lab_track",0.3);this._closing=!1;this._tray=
this._elementManager.addElement(new s({}));this._tray.addChild(new s({asset:"avatar_bg",scale:1,alpha:1}));this._acceptButton=this._tray.addChild(new E({asset:"btn_check",x:N.STAGE_WIDTH/2-75,y:285,tween:this._tween,clear:i(this,this._clearButtonInput),scale:1,alpha:1}));this._acceptButton.eventClick.add(i(this,this._onEventClickPlay));this._createHeaderTabs();this._createBodyButtons();this._createHairButtons();this._createEyeButtons();this._createOutfitButtons();this._initializeAvatar();this._menuOptions=
this._tray.addChild(new bb({},"4: Avatar Builder","avatar_popup","sofia_avatar_builder",this._tween,i(this,this._clearButtonInput)));ba.LogEvent("Progress_web",{event_label:"4: Avatar Builder"});p.eventInput.add(i(this,this._generalInput))},update:function(a){u.prototype.update.call(this,a)},dispose:function(){S.stop("hide_timer");this._glassesTray=this._eyesTray=this._hairTray=this._bodyTray=this._customizationBacking=this._avatar=this._acceptButton=this._tray=this._menuOptions=null;this._customizationTabButtons=
[];this._customizationBodies=[];this._skinColorButtons=[];this._bodyTypeButtons=[];this._arrowButtons=[];this._hairStyleContainers=[];this._hairColorButtons=[];this._hairStyleButtons=[];this._eyeColorButtons=[];this._eyeStyleButtons=[];this._outfitButtons=[];this._outfitColorButtons=[];this._accesoryButtons=[];p.eventInput.remove(i(this,this._generalInput));u.prototype.dispose.call(this)},_generalInput:function(a,b){0==a[1]&&b&&this._menuOptions.resetCountdown()},_onEventClickPlay:function(){!1==
this._closing&&(j.stopVO(),j.stopMusic(),j.playSound("sofia_click_confirm"),j.playMusic("sofia_bg_music",0.3),G.set_avatarSettings({skinColor:this._selectedSkinColor,bodyType:this._selectedBodyType,hairColor:this._selectedHairColor,hairStyle:this._selectedHairStyle,eyeColor:this._selectedEyeColor,eyeShape:this._selectedEyeShape,outfitType:this._selectedOutfitType,outfitColor:this._selectedOutfitColor,facewear:this._selectedFacewear}),this._closing=!0,w.addLoader.dispatch(),w.flow.dispatch("CUTSCENE_OPENING"))},
_createHeaderTabs:function(){var a=this;this._customizationBacking=this._tray.addChild(new s({asset:"top_panel",x:216,y:-224}));this._customizationTabButtons[0]=this._customizationBacking.addChild(new B({asset:"btn_body",alt:"btn_body_highlight",x:-261,y:-16,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectHeaderTab(0)}));this._customizationTabButtons[1]=this._customizationBacking.addChild(new B({asset:"btn_hair",alt:"btn_hair_highlight",x:-91,y:0,tween:this._tween,clear:i(this,
this._clearButtonInput)},function(){a._selectHeaderTab(1)}));this._customizationTabButtons[2]=this._customizationBacking.addChild(new B({asset:"btn_eyes",alt:"btn_eyes_highlight",x:64,y:1,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectHeaderTab(2)}));this._customizationTabButtons[3]=this._customizationBacking.addChild(new B({asset:"btn_accessories",alt:"btn_accessories_highlight",x:240,y:1,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectHeaderTab(3)}));
this._bodyTray=this._customizationBodies[0]=this._tray.addChild(new s({x:215,y:0,alpha:0}));this._hairTray=this._customizationBodies[1]=this._tray.addChild(new s({x:215,y:0,alpha:0}));this._eyesTray=this._customizationBodies[2]=this._tray.addChild(new s({x:215,y:0,alpha:0}));this._glassesTray=this._customizationBodies[3]=this._tray.addChild(new s({x:215,y:0,alpha:0}));this._selectHeaderTab(0,!1)},_selectHeaderTab:function(a,b){null==b&&(b=!0);b&&j.playSound("sofia_click",this._clickVolume);for(var c=
0,d=this._customizationTabButtons.length;c<d;){var f=c++;f!=a&&(this._customizationTabButtons[f].deselect(),this._customizationBodies[f].alpha=0,this._customizationBodies[f].inputEnabled=!1)}this._customizationTabButtons[a].select();this._customizationBodies[a].alpha=1;this._customizationBodies[a].inputEnabled=!0},_createBodyButtons:function(){var a=this;this._skinColorButtons[0]=this._bodyTray.addChild(new B({asset:"btn_body_color_1",highlight:"btn_body_color_highlight",x:-151,y:-38,tween:this._tween,
clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(0,a._skinColorButtons);a._selectSkinColor(0)}));this._skinColorButtons[1]=this._bodyTray.addChild(new B({asset:"btn_body_color_2",highlight:"btn_body_color_highlight",x:-46,y:-38,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(1,a._skinColorButtons);a._selectSkinColor(1)}));this._skinColorButtons[2]=this._bodyTray.addChild(new B({asset:"btn_body_color_3",highlight:"btn_body_color_highlight",
x:63,y:-38,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(2,a._skinColorButtons);a._selectSkinColor(2)}));this._skinColorButtons[3]=this._bodyTray.addChild(new B({asset:"btn_body_color_4",highlight:"btn_body_color_highlight",x:167,y:-38,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(3,a._skinColorButtons);a._selectSkinColor(3)}));this._skinColorButtons[4]=this._bodyTray.addChild(new B({asset:"btn_body_color_5",
highlight:"btn_body_color_highlight",x:-197,y:72,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(4,a._skinColorButtons);a._selectSkinColor(4)}));this._skinColorButtons[5]=this._bodyTray.addChild(new B({asset:"btn_body_color_6",highlight:"btn_body_color_highlight",x:-90,y:72,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(5,a._skinColorButtons);a._selectSkinColor(5)}));this._skinColorButtons[6]=this._bodyTray.addChild(new B({asset:"btn_body_color_7",
highlight:"btn_body_color_highlight",x:19,y:72,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(6,a._skinColorButtons);a._selectSkinColor(6)}));this._skinColorButtons[7]=this._bodyTray.addChild(new B({asset:"btn_body_color_8",highlight:"btn_body_color_highlight",x:126,y:72,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(7,a._skinColorButtons);a._selectSkinColor(7)}));this._bodyTypeButtons[0]=this._bodyTray.addChild(new B({asset:"btn_body_shape_1",
highlight:"btn_body_shape_1_highlight",x:-282,y:234,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(0,a._bodyTypeButtons);a._selectBodyType(0)}));this._bodyTypeButtons[1]=this._bodyTray.addChild(new B({asset:"btn_body_shape_2",highlight:"btn_body_shape_2_highlight",x:-156,y:234,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(1,a._bodyTypeButtons);a._selectBodyType(1)}));this._bodyTypeButtons[2]=this._bodyTray.addChild(new B({asset:"btn_body_shape_3",
highlight:"btn_body_shape_1_highlight",x:-30,y:234,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(2,a._bodyTypeButtons);a._selectBodyType(2)}));this._bodyTypeButtons[3]=this._bodyTray.addChild(new B({asset:"btn_body_shape_4",highlight:"btn_body_shape_2_highlight",x:96,y:234,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(3,a._bodyTypeButtons);a._selectBodyType(3)}));this._bodyTypeButtons[4]=this._bodyTray.addChild(new B({asset:"btn_body_shape_5",
highlight:"btn_body_shape_1_highlight",x:224,y:234,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(4,a._bodyTypeButtons);a._selectBodyType(4)}));this._selectButtonFromGroup(0,this._skinColorButtons);this._selectButtonFromGroup(0,this._bodyTypeButtons)},_selectSkinColor:function(a,b){null==b&&(b=!0);this._selectedSkinColor=a;b&&j.playSound("sofia_click",this._clickVolume);this._avatar.setAttachment("face_color",I.getSlotAttachment("face_color",this._selectedSkinColor));
this._avatar.setAttachment("neck",I.getSlotAttachment("neck",this._selectedSkinColor))},_selectBodyType:function(a,b){null==b&&(b=!0);this._selectedBodyType=a;b&&j.playSound("sofia_click",this._clickVolume);null!=this._avatar&&(this._tray.removeChild(this._avatar),this._avatar.dispose(),this._avatar=null);switch(a){case 0:this._avatar=this._tray.addChild(new W({library:"spine/avatar_tall_thin",scale:0.5,x:-400,y:300,alpha:1},"spine/avatar_texture_packed"));break;case 1:this._avatar=this._tray.addChild(new W({library:"spine/avatar_short_thin",
scale:0.5,x:-400,y:300,alpha:1},"spine/avatar_texture_packed"));break;case 2:this._avatar=this._tray.addChild(new W({library:"spine/avatar_tall_thick",scale:0.5,x:-400,y:300,alpha:1},"spine/avatar_texture_packed"));break;case 3:this._avatar=this._tray.addChild(new W({library:"spine/avatar_short_thick",scale:0.5,x:-400,y:300,alpha:1},"spine/avatar_texture_packed"));break;case 4:this._avatar=this._tray.addChild(new W({library:"spine/avatar_wheelchair",scale:0.5,x:-400,y:300,alpha:1},"spine/avatar_texture_packed"));
break;default:this._avatar=this._tray.addChild(new W({library:"spine/avatar_tall_thin",scale:0.5,x:-400,y:300,alpha:1},"spine/avatar_texture_packed"))}this._selectSkinColor(this._selectedSkinColor,!1);this._selectHairColor(this._selectedHairColor,!1);this._selectEyeColor(this._selectedEyeColor,!1);this._selectEyeShape(this._selectedEyeShape,!1);this._selectOutfitType(this._selectedOutfitType,!1);this._avatar.animate("idle")},_createHairButtons:function(){var a=this;this._hairStyleContainers[0]=this._hairTray.addChild(new s({x:0,
y:0,alpha:1}));this._hairStyleContainers[1]=this._hairTray.addChild(new s({x:0,y:0,alpha:0}));this._hairStyleContainers[1].inputEnabled=!1;this._hairColorButtons[0]=this._hairTray.addChild(new B({asset:"btn_hair_color_1",highlight:"btn_hair_color_hjighlight",x:-335,y:-47,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(0,a._hairColorButtons);a._selectHairColor(0)}));this._hairColorButtons[1]=this._hairTray.addChild(new B({asset:"btn_hair_color_2",highlight:"btn_hair_color_hjighlight",
x:-261,y:-47,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(1,a._hairColorButtons);a._selectHairColor(1)}));this._hairColorButtons[2]=this._hairTray.addChild(new B({asset:"btn_hair_color_3",highlight:"btn_hair_color_hjighlight",x:-188,y:-47,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(2,a._hairColorButtons);a._selectHairColor(2)}));this._hairColorButtons[3]=this._hairTray.addChild(new B({asset:"btn_hair_color_4",
highlight:"btn_hair_color_hjighlight",x:-113,y:-47,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(3,a._hairColorButtons);a._selectHairColor(3)}));this._hairColorButtons[4]=this._hairTray.addChild(new B({asset:"btn_hair_color_5",highlight:"btn_hair_color_hjighlight",x:-38,y:-47,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(4,a._hairColorButtons);a._selectHairColor(4)}));this._hairColorButtons[5]=this._hairTray.addChild(new B({asset:"btn_hair_color_6",
highlight:"btn_hair_color_hjighlight",x:37,y:-47,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(5,a._hairColorButtons);a._selectHairColor(5)}));this._hairColorButtons[6]=this._hairTray.addChild(new B({asset:"btn_hair_color_7",highlight:"btn_hair_color_hjighlight",x:112,y:-47,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(6,a._hairColorButtons);a._selectHairColor(6)}));this._hairColorButtons[7]=this._hairTray.addChild(new B({asset:"btn_hair_color_8",
highlight:"btn_hair_color_hjighlight",x:187,y:-47,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(7,a._hairColorButtons);a._selectHairColor(7)}));this._hairColorButtons[8]=this._hairTray.addChild(new B({asset:"btn_hair_color_9",highlight:"btn_hair_color_hjighlight",x:262,y:-47,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(8,a._hairColorButtons);a._selectHairColor(8)}));this._hairColorButtons[9]=this._hairTray.addChild(new B({asset:"btn_hair_color_10",
highlight:"btn_hair_color_hjighlight",x:337,y:-47,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(9,a._hairColorButtons);a._selectHairColor(9)}));this._arrowButtons[0]=this._hairTray.addChild(new E({asset:"btn_arrow_left",x:-350,y:143,tween:this._tween,clear:i(this,this._clearButtonInput)}));this._arrowButtons[0].eventDown.add(i(this,this._arrowClick));this._arrowButtons[1]=this._hairTray.addChild(new E({asset:"btn_arrow_right",x:335,y:143,tween:this._tween,
clear:i(this,this._clearButtonInput)}));this._arrowButtons[1].eventDown.add(i(this,this._arrowClick));this._hairStyleButtons[0]=this._hairStyleContainers[0].addChild(new B({asset:"btn_hair_style_1",highlight:"btn_hair_style_highlight",x:-251,y:80,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(0,a._hairStyleButtons);a._selectHairStyle(0)}));this._hairStyleButtons[1]=this._hairStyleContainers[0].addChild(new B({asset:"btn_hair_style_2",highlight:"btn_hair_style_highlight",
x:-129,y:80,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(1,a._hairStyleButtons);a._selectHairStyle(1)}));this._hairStyleButtons[2]=this._hairStyleContainers[0].addChild(new B({asset:"btn_hair_style_3",highlight:"btn_hair_style_highlight",x:-7,y:80,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(2,a._hairStyleButtons);a._selectHairStyle(2)}));this._hairStyleButtons[3]=this._hairStyleContainers[0].addChild(new B({asset:"btn_hair_style_4",
highlight:"btn_hair_style_highlight",x:115,y:80,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(3,a._hairStyleButtons);a._selectHairStyle(3)}));this._hairStyleButtons[4]=this._hairStyleContainers[0].addChild(new B({asset:"btn_hair_style_5",highlight:"btn_hair_style_highlight",x:237,y:80,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(4,a._hairStyleButtons);a._selectHairStyle(4)}));this._hairStyleButtons[5]=this._hairStyleContainers[0].addChild(new B({asset:"btn_hair_style_6",
highlight:"btn_hair_style_highlight",x:-251,y:206,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(5,a._hairStyleButtons);a._selectHairStyle(5)}));this._hairStyleButtons[6]=this._hairStyleContainers[0].addChild(new B({asset:"btn_hair_style_7",highlight:"btn_hair_style_highlight",x:-129,y:206,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(6,a._hairStyleButtons);a._selectHairStyle(6)}));this._hairStyleButtons[7]=
this._hairStyleContainers[0].addChild(new B({asset:"btn_hair_style_8",highlight:"btn_hair_style_highlight",x:-7,y:206,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(7,a._hairStyleButtons);a._selectHairStyle(7)}));this._hairStyleButtons[8]=this._hairStyleContainers[0].addChild(new B({asset:"btn_hair_style_9",highlight:"btn_hair_style_highlight",x:115,y:206,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(8,a._hairStyleButtons);
a._selectHairStyle(8)}));this._hairStyleButtons[9]=this._hairStyleContainers[0].addChild(new B({asset:"btn_hair_style_10",highlight:"btn_hair_style_highlight",x:237,y:206,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(9,a._hairStyleButtons);a._selectHairStyle(9)}));this._hairStyleButtons[10]=this._hairStyleContainers[1].addChild(new B({asset:"btn_hair_style_11",highlight:"btn_hair_style_highlight",x:-251,y:80,tween:this._tween,clear:i(this,this._clearButtonInput)},
function(){a._selectButtonFromGroup(10,a._hairStyleButtons);a._selectHairStyle(10)}));this._hairStyleButtons[11]=this._hairStyleContainers[1].addChild(new B({asset:"btn_hair_style_12",highlight:"btn_hair_style_highlight",x:-129,y:80,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(11,a._hairStyleButtons);a._selectHairStyle(11)}));this._hairStyleButtons[12]=this._hairStyleContainers[1].addChild(new B({asset:"btn_hair_style_13",highlight:"btn_hair_style_highlight",
x:-7,y:80,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(12,a._hairStyleButtons);a._selectHairStyle(12)}));this._hairStyleButtons[13]=this._hairStyleContainers[1].addChild(new B({asset:"btn_hair_style_14",highlight:"btn_hair_style_highlight",x:115,y:80,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(13,a._hairStyleButtons);a._selectHairStyle(13)}));this._hairStyleButtons[14]=this._hairStyleContainers[1].addChild(new B({asset:"btn_hair_style_15",
highlight:"btn_hair_style_highlight",x:237,y:80,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(14,a._hairStyleButtons);a._selectHairStyle(14)}));this._hairStyleButtons[15]=this._hairStyleContainers[1].addChild(new B({asset:"btn_hair_style_16",highlight:"btn_hair_style_highlight",x:-251,y:206,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(15,a._hairStyleButtons);a._selectHairStyle(15)}));this._hairStyleButtons[16]=
this._hairStyleContainers[1].addChild(new B({asset:"btn_hair_style_17",highlight:"btn_hair_style_highlight",x:-129,y:206,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(16,a._hairStyleButtons);a._selectHairStyle(16)}));this._hairStyleButtons[17]=this._hairStyleContainers[1].addChild(new B({asset:"btn_hair_style_18",highlight:"btn_hair_style_highlight",x:-7,y:206,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(17,
a._hairStyleButtons);a._selectHairStyle(17)}));this._hairStyleButtons[18]=this._hairStyleContainers[1].addChild(new B({asset:"btn_hair_style_19",highlight:"btn_hair_style_highlight",x:115,y:206,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(18,a._hairStyleButtons);a._selectHairStyle(18)}));this._hairStyleButtons[19]=this._hairStyleContainers[1].addChild(new B({asset:"btn_hair_style_20",highlight:"btn_hair_style_highlight",x:237,y:206,tween:this._tween,
clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(19,a._hairStyleButtons);a._selectHairStyle(19)}));this._selectButtonFromGroup(0,this._hairColorButtons);this._selectButtonFromGroup(0,this._hairStyleButtons)},_selectHairColor:function(a,b){null==b&&(b=!0);this._selectedHairColor=a;b&&j.playSound("sofia_click",this._clickVolume);this._selectHairStyle(this._selectedHairStyle,!1)},_selectHairStyle:function(a,b){null==b&&(b=!0);this._selectedHairStyle=a;b&&j.playSound("sofia_click",
this._clickVolume);this._avatar.setAttachment("hair",I.getHairAttachment(this._selectedHairStyle,this._selectedHairColor));this._avatar.setAttachment("hair_back",null);(9==this._selectedHairStyle||13==this._selectedHairStyle||14==this._selectedHairStyle)&&this._avatar.setAttachment("hair_back",I.getHairBackAttachment(this._selectedHairStyle,this._selectedHairColor));if(this._wasAltColor&&10!=this._selectedHairStyle&&15!=this._selectedHairStyle||!this._wasAltColor&&(10==this._selectedHairStyle||15==
this._selectedHairStyle))this._setCustomHairColorOptions(10==this._selectedHairStyle||15==this._selectedHairStyle)},_arrowClick:function(){j.playSound("sofia_click",this._clickVolume);1==this._hairStyleContainers[0].alpha?(this._hairStyleContainers[0].alpha=0,this._hairStyleContainers[0].inputEnabled=!1,this._hairStyleContainers[1].alpha=1,this._hairStyleContainers[1].inputEnabled=!0):(this._hairStyleContainers[0].alpha=1,this._hairStyleContainers[0].inputEnabled=!0,this._hairStyleContainers[1].alpha=
0,this._hairStyleContainers[1].inputEnabled=!1)},_setCustomHairColorOptions:function(a){this._hairColorButtons[0].setButtonAsset(a?"btn_hair_color_11":"btn_hair_color_1");this._hairColorButtons[1].setButtonAsset(a?"btn_hair_color_12":"btn_hair_color_2");this._hairColorButtons[2].setButtonAsset(a?"btn_hair_color_13":"btn_hair_color_3");this._hairColorButtons[3].setButtonAsset(a?"btn_hair_color_14":"btn_hair_color_4");this._hairColorButtons[4].setButtonAsset(a?"btn_hair_color_15":"btn_hair_color_5");
this._hairColorButtons[5].setButtonAsset(a?"btn_hair_color_16":"btn_hair_color_6");this._hairColorButtons[6].setButtonAsset(a?"btn_hair_color_17":"btn_hair_color_7");this._hairColorButtons[7].setButtonAsset(a?"btn_hair_color_18":"btn_hair_color_8");this._hairColorButtons[8].setButtonAsset(a?"btn_hair_color_19":"btn_hair_color_9");this._hairColorButtons[9].setButtonAsset(a?"btn_hair_color_20":"btn_hair_color_10");this._wasAltColor=a},_createEyeButtons:function(){var a=this;this._eyeColorButtons[0]=
this._eyesTray.addChild(new B({asset:"btn_eye_color_1",highlight:"btn_eye_color_highlight",x:-257,y:-37,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(0,a._eyeColorButtons);a._selectEyeColor(0)}));this._eyeColorButtons[1]=this._eyesTray.addChild(new B({asset:"btn_eye_color_2",highlight:"btn_eye_color_highlight",x:-150,y:-37,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(1,a._eyeColorButtons);a._selectEyeColor(1)}));
this._eyeColorButtons[2]=this._eyesTray.addChild(new B({asset:"btn_eye_color_3",highlight:"btn_eye_color_highlight",x:-43,y:-37,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(2,a._eyeColorButtons);a._selectEyeColor(2)}));this._eyeColorButtons[3]=this._eyesTray.addChild(new B({asset:"btn_eye_color_4",highlight:"btn_eye_color_highlight",x:64,y:-37,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(3,a._eyeColorButtons);
a._selectEyeColor(3)}));this._eyeColorButtons[4]=this._eyesTray.addChild(new B({asset:"btn_eye_color_5",highlight:"btn_eye_color_highlight",x:171,y:-37,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(4,a._eyeColorButtons);a._selectEyeColor(4)}));this._eyeColorButtons[5]=this._eyesTray.addChild(new B({asset:"btn_eye_color_6",highlight:"btn_eye_color_highlight",x:278,y:-37,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(5,
a._eyeColorButtons);a._selectEyeColor(5)}));this._eyeColorButtons[6]=this._eyesTray.addChild(new B({asset:"btn_eye_color_7",highlight:"btn_eye_color_highlight",x:-303,y:72,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(6,a._eyeColorButtons);a._selectEyeColor(6)}));this._eyeColorButtons[7]=this._eyesTray.addChild(new B({asset:"btn_eye_color_8",highlight:"btn_eye_color_highlight",x:-196,y:72,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(7,
a._eyeColorButtons);a._selectEyeColor(7)}));this._eyeColorButtons[8]=this._eyesTray.addChild(new B({asset:"btn_eye_color_9",highlight:"btn_eye_color_highlight",x:-80,y:72,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(8,a._eyeColorButtons);a._selectEyeColor(8)}));this._eyeColorButtons[9]=this._eyesTray.addChild(new B({asset:"btn_eye_color_10",highlight:"btn_eye_color_highlight",x:18,y:72,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(9,
a._eyeColorButtons);a._selectEyeColor(9)}));this._eyeColorButtons[10]=this._eyesTray.addChild(new B({asset:"btn_eye_color_11",highlight:"btn_eye_color_highlight",x:125,y:72,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(10,a._eyeColorButtons);a._selectEyeColor(10)}));this._eyeColorButtons[11]=this._eyesTray.addChild(new B({asset:"btn_eye_color_12",highlight:"btn_eye_color_highlight",x:232,y:72,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(11,
a._eyeColorButtons);a._selectEyeColor(11)}));this._eyeStyleButtons[0]=this._eyesTray.addChild(new B({asset:"btn_eye_shape_1",highlight:"btn_eye_shape_highlight",x:-170,y:236,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(0,a._eyeStyleButtons);a._selectEyeShape(0)}));this._eyeStyleButtons[1]=this._eyesTray.addChild(new B({asset:"btn_eye_shape_2",highlight:"btn_eye_shape_highlight",x:-5,y:236,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(1,
a._eyeStyleButtons);a._selectEyeShape(1)}));this._eyeStyleButtons[2]=this._eyesTray.addChild(new B({asset:"btn_eye_shape_3",highlight:"btn_eye_shape_highlight",x:160,y:236,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(2,a._eyeStyleButtons);a._selectEyeShape(2)}));this._selectButtonFromGroup(0,this._eyeColorButtons);this._selectButtonFromGroup(0,this._eyeStyleButtons)},_selectEyeColor:function(a,b){null==b&&(b=!0);this._selectedEyeColor=a;b&&j.playSound("sofia_click",
this._clickVolume);this._avatar.setAttachment("eye_color_left",I.getSlotAttachment("eye_color",this._selectedEyeColor));this._avatar.setAttachment("eye_color_right",I.getSlotAttachment("eye_color",this._selectedEyeColor))},_selectEyeShape:function(a,b){null==b&&(b=!0);this._selectedEyeShape=a;b&&j.playSound("sofia_click",this._clickVolume);this._avatar.setAttachment("eyes_shape",I.getSlotAttachment("eyes_shape",this._selectedEyeShape))},_createOutfitButtons:function(){var a=this;this._outfitButtons[0]=
this._glassesTray.addChild(new B({asset:"btn_outfit_skirt",highlight:"btn_outfit_skirt_highlight",x:-73,y:-25,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(0,a._outfitButtons);a._selectOutfitType(0)}));this._outfitButtons[1]=this._glassesTray.addChild(new B({asset:"btn_outfit_pants",highlight:"btn_outfit_pants_highlight",x:40,y:-25,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(1,a._outfitButtons);a._selectOutfitType(1)}));
this._outfitColorButtons[0]=this._glassesTray.addChild(new B({asset:"btn_outfit_color_blue",highlight:"btn_outfit_color_highlight",x:-313,y:114,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(0,a._outfitColorButtons);a._selectOutfitColor(0)}));this._outfitColorButtons[1]=this._glassesTray.addChild(new B({asset:"btn_outfit_color_purple",highlight:"btn_outfit_color_highlight",x:-225,y:114,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(1,
a._outfitColorButtons);a._selectOutfitColor(1)}));this._outfitColorButtons[2]=this._glassesTray.addChild(new B({asset:"btn_outfit_color_red",highlight:"btn_outfit_color_highlight",x:-137,y:114,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(2,a._outfitColorButtons);a._selectOutfitColor(2)}));this._outfitColorButtons[3]=this._glassesTray.addChild(new B({asset:"btn_outfit_color_orange",highlight:"btn_outfit_color_highlight",x:-53,y:114,tween:this._tween,clear:i(this,
this._clearButtonInput)},function(){a._selectButtonFromGroup(3,a._outfitColorButtons);a._selectOutfitColor(3)}));this._outfitColorButtons[4]=this._glassesTray.addChild(new B({asset:"btn_outfit_color_yellow",highlight:"btn_outfit_color_highlight",x:31,y:114,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(4,a._outfitColorButtons);a._selectOutfitColor(4)}));this._outfitColorButtons[5]=this._glassesTray.addChild(new B({asset:"btn_outfit_color_green",highlight:"btn_outfit_color_highlight",
x:115,y:114,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(5,a._outfitColorButtons);a._selectOutfitColor(5)}));this._outfitColorButtons[6]=this._glassesTray.addChild(new B({asset:"btn_outfit_color_pink",highlight:"btn_outfit_color_highlight",x:202,y:114,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(6,a._outfitColorButtons);a._selectOutfitColor(6)}));this._outfitColorButtons[7]=this._glassesTray.addChild(new B({asset:"btn_outfit_color_black",
highlight:"btn_outfit_color_highlight",x:286,y:114,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(7,a._outfitColorButtons);a._selectOutfitColor(7)}));this._accesoryButtons[0]=this._glassesTray.addChild(new B({asset:"btn_accessory_1",highlight:"btn_accessory_highlight",x:-258,y:260,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(0,a._accesoryButtons);a._selectFacewear(0)}));this._accesoryButtons[1]=this._glassesTray.addChild(new B({asset:"btn_accessory_3",
highlight:"btn_accessory_highlight",x:-100,y:260,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(1,a._accesoryButtons);a._selectFacewear(1)}));this._accesoryButtons[2]=this._glassesTray.addChild(new B({asset:"btn_accessory_2",highlight:"btn_accessory_highlight",x:58,y:260,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(2,a._accesoryButtons);a._selectFacewear(2)}));this._accesoryButtons[3]=this._glassesTray.addChild(new B({asset:"btn_accessory_4",
highlight:"btn_accessory_highlight",x:216,y:260,tween:this._tween,clear:i(this,this._clearButtonInput)},function(){a._selectButtonFromGroup(3,a._accesoryButtons);a._selectFacewear(3)}));this._selectButtonFromGroup(0,this._outfitButtons);this._selectButtonFromGroup(0,this._outfitColorButtons);this._selectButtonFromGroup(0,this._accesoryButtons)},_selectOutfitType:function(a,b){null==b&&(b=!0);this._selectedOutfitType=a;b&&j.playSound("sofia_click",this._clickVolume);this._selectOutfitColor(this._selectedOutfitColor,
!1);this._selectFacewear(this._selectedFacewear,!1)},_selectOutfitColor:function(a,b){null==b&&(b=!0);this._selectedOutfitColor=a;b&&j.playSound("sofia_click",this._clickVolume);if(0==this._selectedOutfitType)switch(a){case 0:this._avatar.setSkin("outfit_skirt_1");break;case 1:this._avatar.setSkin("outfit_skirt_2");break;case 2:this._avatar.setSkin("outfit_skirt_3");break;case 3:this._avatar.setSkin("outfit_skirt_4");break;case 4:this._avatar.setSkin("outfit_skirt_5");break;case 5:this._avatar.setSkin("outfit_skirt_6");
break;case 6:this._avatar.setSkin("outfit_skirt_7");break;case 7:this._avatar.setSkin("outfit_skirt_8")}else switch(a){case 0:this._avatar.setSkin("outfit_pants_1");break;case 1:this._avatar.setSkin("outfit_pants_2");break;case 2:this._avatar.setSkin("outfit_pants_3");break;case 3:this._avatar.setSkin("outfit_pants_4");break;case 4:this._avatar.setSkin("outfit_pants_5");break;case 5:this._avatar.setSkin("outfit_pants_6");break;case 6:this._avatar.setSkin("outfit_pants_7");break;case 7:this._avatar.setSkin("outfit_pants_8")}this._selectFacewear(this._selectedFacewear,
!1)},_selectFacewear:function(a,b){null==b&&(b=!0);this._selectedFacewear=a;b&&j.playSound("sofia_click",this._clickVolume);this._avatar.setAttachment("mask",null);this._avatar.setAttachment("hearingaid",null);this._avatar.setAttachment("glasses_circle",null);this._avatar.setAttachment("glasses_square",null);switch(this._selectedFacewear){case 0:this._avatar.setAttachment("mask",I.getSlotAttachment("mask",this._selectedOutfitColor));break;case 1:this._avatar.setAttachment("glasses_circle",I.getSlotAttachment("glasses_circle",
this._selectedOutfitColor));break;case 2:this._avatar.setAttachment("glasses_square",I.getSlotAttachment("glasses_square",this._selectedOutfitColor));break;case 3:this._avatar.setAttachment("hearingaid",I.getSlotAttachment("hearingaid",this._selectedOutfitColor))}},_selectButtonFromGroup:function(a,b){for(var c=0,d=b.length;c<d;){var f=c++;f!=a&&b[f].deselect()}b[a].select()},_initializeAvatar:function(){this._selectBodyType(0,!1);this._avatar.setAttachment("hair_back",null);this._avatar.setAttachment("glasses_circle",
null);this._avatar.setAttachment("glasses_square",null);this._avatar.setAttachment("hearingaid",null);this._avatar.setAttachment("mask",null)},__class__:Bc});var Cc=function(a){u.call(this,a)};g["screen.ScreenCutsceneDoctorEnd"]=Cc;Cc.__name__=["screen","ScreenCutsceneDoctorEnd"];Cc.__super__=u;Cc.prototype=x(u.prototype,{_buildScreen:function(){u.prototype._buildScreen.call(this);this._closing=!1;this._tray=this._elementManager.addElement(new s({}));this._tray.addChild(new s({asset:"doctors_office_end",
scale:1}));var a=this._tray,b=G.get_avatarSettings();this._avatar=a.addChild(new Ca({x:40,y:175,scale:0.35},b,this._tween));this._avatar.animate("idle");this._sofia=this._tray.addChild(new W({library:"sofia",scale:0.35,x:330,y:175}));this._sofia.animate("doctors_office_end");this._nextButton=this._tray.addChild(new s({asset:"btn_next_side",x:N.STAGE_CENTER_X-44,y:0,scale:0.5}));this._nextButtonHitbox=this._nextButton.addChild(new E({asset:"btn_next_side_arrow",tween:this._tween,clear:i(this,this._clearButtonInput)}));
this._nextButtonHitbox.setCustomHitBox(200,1440);this._nextButtonHitbox.eventClick.add(i(this,this._onEventClickPlay));this._menuOptions=this._tray.addChild(new bb({},"","avatar_popup","",this._tween,i(this,this._clearButtonInput),!0,!0));j.playVO("sofia_conclusion","");p.eventInput.add(i(this,this._generalInput));ba.LogEvent("Progress_web",{event_label:"10: Cutscene #5"})},update:function(a){u.prototype.update.call(this,a)},dispose:function(){this._sofia=this._nextButtonHitbox=this._nextButton=this._tray=
null;p.eventInput.remove(i(this,this._generalInput));u.prototype.dispose.call(this)},_generalInput:function(a,b){0==a[1]&&b&&this._menuOptions.resetCountdown()},_onEventClickPlay:function(){!1==this._closing&&(this._closing=!0,j.stopVO(),w.addLoader.dispatch(),w.flow.dispatch("QUIZ3"))},__class__:Cc});var Dc=function(a){this._instructionIn=!1;u.call(this,a)};g["screen.ScreenCutsceneDoctorStart"]=Dc;Dc.__name__=["screen","ScreenCutsceneDoctorStart"];Dc.__super__=u;Dc.prototype=x(u.prototype,{_buildScreen:function(){var a=
this;u.prototype._buildScreen.call(this);this._closing=!1;this._tray=this._elementManager.addElement(new s({}));this._tray.addChild(new s({asset:"doctors_office_start",scale:1}));var b=this._tray,c=G.get_avatarSettings();this._avatar=b.addChild(new Ca({x:80,y:161,scale:0.35},c,this._tween));this._avatar.animate("wave",1);this._avatar.queueAnimation("write_in",1);this._avatar.queueAnimation("write_idle");this._sofia=this._tray.addChild(new W({library:"sofia",scale:0.35,x:390,y:150}));this._sofia.animate("doctors_office_start");
this._definitionBar=this._tray.addChild(new s({asset:"popup_asthmatriggers",y:447,scale:1}));this._clickTray=this._tray.addChild(new E({tween:this._tween,clear:i(this,this._clearButtonInput)}));this._clickTray.setCustomHitBox(N.STAGE_WIDTH,720);this._clickTray.eventClick.add(i(this,this._clearDefinition));this._nextButton=this._tray.addChild(new s({asset:"btn_next_side",x:N.STAGE_CENTER_X-44,y:0,scale:0.5}));this._nextButtonHitbox=this._nextButton.addChild(new E({asset:"btn_next_side_arrow",tween:this._tween,
clear:i(this,this._clearButtonInput)}));this._nextButtonHitbox.setCustomHitBox(200,1440);this._nextButtonHitbox.eventClick.add(i(this,this._onEventClickPlay));this._clickableTextContainer1=this._tray.addChild(new E({x:-305,y:5,tween:this._tween,clear:i(this,this._clearButtonInput)}));this._clickableTextContainer1.setCustomHitBox(375,80);this._clickableTextContainer1.eventDown.add(function(){a._instructionIn?a._clearDefinition():a._clickDefinition()});this._menuOptions=this._tray.addChild(new bb({},
"","avatar_popup","",this._tween,i(this,this._clearButtonInput),!0,!0));j.playVO("sofia_park_01","");p.eventInput.add(i(this,this._generalInput));ba.LogEvent("Progress_web",{event_label:"5: Cutscene #3"})},update:function(a){u.prototype.update.call(this,a)},dispose:function(){this._nextButtonHitbox=this._nextButton=this._sofia=this._definitionBar=this._clickableTextContainer1=this._clickTray=this._tray=null;p.eventInput.remove(i(this,this._generalInput));u.prototype.dispose.call(this)},_generalInput:function(a,
b){0==a[1]&&b&&this._menuOptions.resetCountdown()},_onEventClickPlay:function(){!1==this._closing&&(this._closing=!0,j.stopVO(),w.addLoader.dispatch(),w.flow.dispatch("IMAGE_HUNT"))},_clickDefinition:function(){j.stopVO();j.playSound("sofia_click");this._instructionIn=!0;this._tween.tween({target:this._definitionBar,duration:0.4,delay:0,ease:J.outQuad},{y:273});j.playVO("sofia_asthma_trigger_definition","");ba.LogEvent("Clicked Definition_web",{event_label:"asthma triggers"})},_clearDefinition:function(){this._instructionIn&&
(j.stopVO(),this._instructionIn=!1,this._tween.tween({target:this._definitionBar,duration:0.2,delay:0,ease:J.outQuad},{y:447}))},__class__:Dc});var Ec=function(a){this._instructionIn=!1;this._pageIndex=0;u.call(this,a)};g["screen.ScreenCutsceneMid"]=Ec;Ec.__name__=["screen","ScreenCutsceneMid"];Ec.__super__=u;Ec.prototype=x(u.prototype,{_buildScreen:function(){var a=this;u.prototype._buildScreen.call(this);this._closing=!1;this._tray=this._elementManager.addElement(new s({}));this._storyPage=this._tray.addChild(new s({asset:"story_6"}));
var b=this._tray,c=G.get_avatarSettings();this._avatar=b.addChild(new Ca({x:-100,y:160,scale:0.32,scaleX:-0.32},c,this._tween,!0));this._avatar.animate("write_idle");this._tray.addChild(new s({asset:"survey_prop",x:-200,y:90}));this._sofia=this._tray.addChild(new W({library:"sofia",scale:0.32,x:-430,y:188}));this._sofia.animate("park_idle");this._definitionBar=this._tray.addChild(new s({asset:"story_popup_survey",y:447,scale:1}));this._clickTray=this._tray.addChild(new E({tween:this._tween,clear:i(this,
this._clearButtonInput)}));this._clickTray.setCustomHitBox(N.STAGE_WIDTH,720);this._clickTray.eventClick.add(i(this,this._clearDefinition));this._nextButton=this._tray.addChild(new s({asset:"btn_next_side",x:N.STAGE_CENTER_X-44,y:0,scale:0.5}));this._nextButtonHitbox=this._nextButton.addChild(new E({asset:"btn_next_side_arrow",tween:this._tween,clear:i(this,this._clearButtonInput)}));this._nextButtonHitbox.setCustomHitBox(200,1440);this._nextButtonHitbox.eventClick.add(i(this,this._clickNextButton));
this._clickableTextContainer1=this._tray.addChild(new E({x:150,y:-152,tween:this._tween,clear:i(this,this._clearButtonInput)}));this._clickableTextContainer1.setCustomHitBox(160,55);this._clickableTextContainer1.eventDown.add(function(){a._instructionIn?a._clearDefinition():a._clickDefinition()});this._menuOptions=this._tray.addChild(new bb({},"","avatar_popup","",this._tween,i(this,this._clearButtonInput),!0,!0));j.playVO("sofia_outro_01","");p.eventInput.add(i(this,this._generalInput));ba.LogEvent("Progress_web",
{event_label:"7: Cutscene #4"})},update:function(a){u.prototype.update.call(this,a)},dispose:function(){u.prototype.dispose.call(this);this._definitionBar=this._clickableTextContainer1=this._nextButtonHitbox=this._nextButton=this._storyPage=this._menuOptions=this._clickTray=this._tray=null;p.eventInput.remove(i(this,this._generalInput));this._sofia=null},_generalInput:function(a,b){0==a[1]&&b&&this._menuOptions.resetCountdown()},_onEventAdvanceScreen:function(){!1==this._closing&&(this._closing=!0,
j.stopVO(),w.addLoader.dispatch(),w.flow.dispatch("EXPERIMENT"))},_clickNextButton:function(){this._pageIndex++;1==this._pageIndex&&this._onEventAdvanceScreen()},_clickDefinition:function(){j.stopVO();j.playSound("sofia_click");this._instructionIn=!0;this._tween.tween({target:this._definitionBar,duration:0.4,delay:0,ease:J.outQuad},{y:273});j.playVO("sofia_survey_definition","");ba.LogEvent("Clicked Definition_web",{event_label:"survey"})},_clearDefinition:function(){this._instructionIn&&(j.stopVO(),
this._instructionIn=!1,this._tween.tween({target:this._definitionBar,duration:0.2,delay:0,ease:J.outQuad},{y:447}))},__class__:Ec});var Fc=function(a){this._definitionVO=this._definitionWord="";this._instructionIn=!1;this._pageIndex=0;u.call(this,a)};g["screen.ScreenCutsceneOpening"]=Fc;Fc.__name__=["screen","ScreenCutsceneOpening"];Fc.__super__=u;Fc.prototype=x(u.prototype,{_buildScreen:function(){var a=this;u.prototype._buildScreen.call(this);this._closing=!1;this._tray=this._elementManager.addElement(new s({}));
this._storyPage=this._tray.addChild(new s({asset:"story_1",scale:1}));this._storyPageColor=this._tray.addChild(new s({asset:"story_5_color",scale:1,alpha:0}));this._definitionBar=this._tray.addChild(new s({asset:"story_popup_lungs",y:447,scale:1}));this._clickTray=this._tray.addChild(new E({tween:this._tween,clear:i(this,this._clearButtonInput)}));this._clickTray.setCustomHitBox(N.STAGE_WIDTH,720);this._clickTray.eventClick.add(i(this,this._clearDefinition));this._nextButton=this._tray.addChild(new s({asset:"btn_next_side",
x:N.STAGE_CENTER_X-44,y:0,scale:0.5}));this._nextButtonHitbox=this._nextButton.addChild(new E({asset:"btn_next_side_arrow",tween:this._tween,clear:i(this,this._clearButtonInput)}));this._nextButtonHitbox.setCustomHitBox(200,1440);this._nextButtonHitbox.eventClick.add(i(this,this._clickNextButton));this._previousButton=this._tray.addChild(new s({asset:"btn_next_side",x:-N.STAGE_CENTER_X+44,y:0,scale:0.5,scaleX:-0.5,alpha:0}));this._previousButtonHitbox=this._previousButton.addChild(new E({asset:"btn_next_side_arrow",
tween:this._tween,clear:i(this,this._clearButtonInput)}));this._previousButtonHitbox.setCustomHitBox(200,1440);this._previousButtonHitbox.eventClick.add(i(this,this._clickPreviousButton));this._clickableTextContainer1=this._tray.addChild(new E({x:300,y:-185,tween:this._tween,clear:i(this,this._clearButtonInput)}));this._clickableTextContainer1.setCustomHitBox(140,55);this._clickableTextContainer1.eventDown.add(function(){a._instructionIn?a._clearDefinition():a._clickDefinition()});this._menuOptions=
this._tray.addChild(new bb({},"","popup_panel_short","",this._tween,i(this,this._clearButtonInput),!0));p.eventInput.add(i(this,this._generalInput));this._definitionWord="lungs";this._definitionVO="sofia_lungs_definition";j.playVO("sofia_intro_01","");ba.LogEvent("Progress_web",{event_label:"1: Cutscene #1"})},update:function(a){u.prototype.update.call(this,a)},dispose:function(){this._definitionBar=this._previousButtonHitbox=this._previousButton=this._nextButtonHitbox=this._nextButton=this._storyPageColor=
this._storyPage=this._menuOptions=this._clickableTextContainer2=this._clickableTextContainer1=this._clickTray=this._tray=null;p.eventInput.remove(i(this,this._generalInput));u.prototype.dispose.call(this)},_generalInput:function(a,b){0==a[1]&&b&&this._menuOptions.resetCountdown()},_onEventAdvanceScreen:function(){!1==this._closing&&(j.stopVO(),this._closing=!0,w.addLoader.dispatch(),w.flow.dispatch("QUIZ1"))},_clickNextButton:function(){j.stopVO();this._pageIndex++;this._clearDefinition();switch(this._pageIndex){case 1:j.playSound("sofia_page_turn",
0.5);this._definitionWord="treatment";this._definitionVO="sofia_treatment_definition";this._storyPage.set_asset("story_2");this._previousButton.alpha=1;this._definitionBar.setAsset("story_popup_treatment");this._clickableTextContainer1.inputEnabled=!0;this._clickableTextContainer1.set_x(-365);this._clickableTextContainer1.set_y(65);this._clickableTextContainer1.setCustomHitBox(250,55);j.playVO("sofia_intro_02","");break;case 2:j.playSound("sofia_page_turn",0.5);this._definitionWord="scientist";this._definitionVO=
"sofia_scientist_definition";this._storyPage.set_asset("story_3");this._definitionBar.set_scale(0.5);this._definitionBar.setAsset("story_popup_scientist");this._clickableTextContainer1.set_x(-160);this._clickableTextContainer1.set_y(-120);this._clickableTextContainer1.setCustomHitBox(210,55);j.playVO("sofia_intro_03","");break;case 3:this._onEventAdvanceScreen()}},_clickPreviousButton:function(){if(!(0>=this._pageIndex))switch(j.stopVO(),this._pageIndex--,this._clearDefinition(),this._pageIndex){case 0:j.playSound("sofia_page_turn",
0.5);this._definitionWord="lungs";this._definitionVO="sofia_lungs_definition";this._storyPage.set_asset("story_1");this._previousButton.alpha=0;this._definitionBar.set_scale(1);this._definitionBar.setAsset("story_popup_lungs");this._clickableTextContainer1.inputEnabled=!0;this._clickableTextContainer1.set_x(300);this._clickableTextContainer1.set_y(-185);this._clickableTextContainer1.setCustomHitBox(140,55);j.playVO("sofia_intro_01","");break;case 1:j.playSound("sofia_page_turn",0.5),this._definitionWord=
"treatment",this._definitionVO="sofia_treatment_definition",this._storyPage.set_asset("story_2"),this._definitionBar.set_scale(1),this._definitionBar.setAsset("story_popup_treatment"),this._clickableTextContainer1.inputEnabled=!0,this._clickableTextContainer1.set_x(-365),this._clickableTextContainer1.set_y(65),this._clickableTextContainer1.setCustomHitBox(250,55),j.playVO("sofia_intro_02","")}},_clickDefinition:function(){j.stopVO();j.playSound("sofia_click");this._menuOptions.hideInstructions();
this._instructionIn=!0;this._tween.tween({target:this._definitionBar,duration:0.4,delay:0,ease:J.outQuad},{y:273});j.playVO(this._definitionVO,"");ba.LogEvent("Clicked Definition_web",{event_label:this._definitionWord})},_clearDefinition:function(){this._instructionIn&&(j.stopVO(),this._instructionIn=!1,this._tween.tween({target:this._definitionBar,duration:0.2,delay:0,ease:J.outQuad},{y:447}))},__class__:Fc});var Gc=function(a){this._instructionIn=!1;this._pageIndex=0;u.call(this,a)};g["screen.ScreenCutsceneSurvey"]=
Gc;Gc.__name__=["screen","ScreenCutsceneSurvey"];Gc.__super__=u;Gc.prototype=x(u.prototype,{_buildScreen:function(){var a=this;u.prototype._buildScreen.call(this);this._closing=!1;this._tray=this._elementManager.addElement(new s({}));this._storyPage=this._tray.addChild(new s({asset:"story_4",scale:1}));this._storyPageColor=this._tray.addChild(new s({asset:"story_5_color",scale:1,alpha:0}));this._definitionBar=this._tray.addChild(new s({asset:"story_popup_researchstudy",y:447,scale:1}));this._clickTray=
this._tray.addChild(new E({tween:this._tween,clear:i(this,this._clearButtonInput)}));this._clickTray.setCustomHitBox(N.STAGE_WIDTH,720);this._clickTray.eventClick.add(i(this,this._clearDefinition));this._nextButton=this._tray.addChild(new s({asset:"btn_next_side",x:N.STAGE_CENTER_X-44,y:0,scale:0.5}));this._nextButtonHitbox=this._nextButton.addChild(new E({asset:"btn_next_side_arrow",tween:this._tween,clear:i(this,this._clearButtonInput)}));this._nextButtonHitbox.setCustomHitBox(200,1440);this._nextButtonHitbox.eventClick.add(i(this,
this._clickNextButton));this._previousButton=this._tray.addChild(new s({asset:"btn_next_side",x:-N.STAGE_CENTER_X+44,y:0,scale:0.5,scaleX:-0.5,alpha:0}));this._previousButtonHitbox=this._previousButton.addChild(new E({asset:"btn_next_side_arrow",tween:this._tween,clear:i(this,this._clearButtonInput)}));this._previousButtonHitbox.setCustomHitBox(200,1440);this._previousButtonHitbox.eventClick.add(i(this,this._clickPreviousButton));this._clickableTextContainer1=this._tray.addChild(new E({x:255,y:-127,
tween:this._tween,clear:i(this,this._clearButtonInput)}));this._clickableTextContainer1.setCustomHitBox(340,55);this._clickableTextContainer1.eventDown.add(function(){a._instructionIn?a._clearDefinition():a._clickDefinition()});this._menuOptions=this._tray.addChild(new bb({},"","avatar_popup","",this._tween,i(this,this._clearButtonInput),!0,!0));j.playVO("sofia_intro_04","");p.eventInput.add(i(this,this._generalInput));ba.LogEvent("Progress_web",{event_label:"3: Cutscene #2"})},update:function(a){u.prototype.update.call(this,
a)},dispose:function(){this._definitionBar=this._previousButtonHitbox=this._previousButton=this._nextButtonHitbox=this._nextButton=this._storyPageColor=this._storyPage=this._clickableTextContainer2=this._clickableTextContainer1=this._clickTray=this._tray=null;p.eventInput.remove(i(this,this._generalInput));u.prototype.dispose.call(this)},_generalInput:function(a,b){0==a[1]&&b&&this._menuOptions.resetCountdown()},_onEventAdvanceScreen:function(){!1==this._closing&&(this._closing=!0,w.addLoader.dispatch(),
w.flow.dispatch("CUTSCENE_DOCTOR_START"))},_clickNextButton:function(){var a=this;j.stopVO();this._pageIndex++;this._clearDefinition();switch(this._pageIndex){case 1:j.playSound("sofia_page_turn",0.5);this._previousButton.alpha=1;this._previousButton.inputEnabled=!1;this._storyPage.set_asset("story_5");this._tween.tween({target:this._storyPageColor,duration:3,delay:0.5,ease:J.outQuad,complete:function(){a._previousButton.inputEnabled=!0}},{alpha:1});this._clickableTextContainer1.inputEnabled=!1;j.playVO("sofia_intro_05",
"");break;case 2:this._onEventAdvanceScreen()}},_clickPreviousButton:function(){0>=this._pageIndex||(j.stopVO(),this._pageIndex--,this._clearDefinition(),0==this._pageIndex&&(j.playSound("sofia_page_turn",0.5),this._previousButton.alpha=0,this._storyPageColor.alpha=0,this._storyPage.set_asset("story_4"),this._definitionBar.setAsset("story_popup_researchstudy"),this._clickableTextContainer1.set_x(255),this._clickableTextContainer1.set_y(-127),this._clickableTextContainer1.setCustomHitBox(340,55),this._clickableTextContainer1.inputEnabled=
!0,j.playVO("sofia_intro_04","")))},_clickDefinition:function(){j.stopVO();j.playSound("sofia_click");this._instructionIn=!0;this._tween.tween({target:this._definitionBar,duration:0.4,delay:0,ease:J.outQuad},{y:273});j.playVO("sofia_research_study_definition","");ba.LogEvent("Clicked Definition_web",{event_label:"research study"})},_clearDefinition:function(){this._instructionIn&&(j.stopVO(),this._instructionIn=!1,this._tween.tween({target:this._definitionBar,duration:0.2,delay:0,ease:J.outQuad},
{y:447}))},__class__:Gc});var Hc=function(a){u.call(this,a)};g["screen.ScreenDebug"]=Hc;Hc.__name__=["screen","ScreenDebug"];Hc.__super__=u;Hc.prototype=x(u.prototype,{_buildScreen:function(){u.prototype._buildScreen.call(this);this._tray=this._elementManager.addElement(new ib({color:0,sizeX:N.STAGE_WIDTH,sizeY:720,alpha:0.5}));this._tray.alpha=0;this._buildButtons()},dispose:function(){u.prototype.dispose.call(this);this._tray=null},_addButton:function(a,b,c,d){this._tray.addChild(new E({tween:this._tween,
clear:i(this,this._clearButtonInput),assetUp:"btn_home",x:b-N.STAGE_CENTER_X,y:c-360})).eventClick.add(d)},_setInState:function(){ob.easeBounceIn(this._tray,this._tween).onComplete(i(this,this._finishInState))},_setCloseState:function(){ob.easeBounceOut(this._tray,this._tween).onComplete(i(this,this._finishCloseState))},_buildButtons:function(){this._addButton("X",50,50,i(this,this._onCloseClick))},_onCloseClick:function(){w.flow.dispatch("DEBUG_CLOSE")},__class__:Hc});var Ic=function(a){u.call(this,
a)};g["screen.ScreenEndPromotion"]=Ic;Ic.__name__=["screen","ScreenEndPromotion"];Ic.__super__=u;Ic.prototype=x(u.prototype,{_buildScreen:function(){u.prototype._buildScreen.call(this);this._closing=!1;this._tray=this._elementManager.addElement(new s({}));this._tray.addChild(new s({asset:"endscreen",scale:1}));this._sofia=this._tray.addChild(new W({library:"sofia",x:-90,y:224,scale:0.35,scaleX:-0.35}));this._sofia.animate("splash");var a=this._tray,b=G.get_avatarSettings();this._avatar=a.addChild(new Ca({x:-340,
y:230,scale:0.35},b,this._tween));this._avatar.animate("heroic_pose");this._clickTray=this._tray.addChild(new E({x:0,y:0,tween:this._tween,clear:i(this,this._clearButtonInput),scale:1,alpha:0}));this._clickTray.setCustomHitBox(N.STAGE_WIDTH,720);this._clickTray.eventClick.add(i(this,this._onEventClickPlay));a=this._tray.addChild(new E({asset:"popup_panel_short",x:404,y:-185,tween:this._tween,clear:i(this,this._clearButtonInput),scale:0.8}));a.addChild(new s({asset:"button_website",x:-250,scale:1.3})).inputEnabled=
!1;a.addChild(new Da({text:"ending.link",x:30,y:5}));a.eventClick.add(i(this,this._onEventClickLink));j.playVO("sofia_thanks_for_playing","");ba.LogEvent("Progress_web",{event_label:"12: Endscreen"})},update:function(a){u.prototype.update.call(this,a)},dispose:function(){this._sofia=this._clickTray=this._tray=null;u.prototype.dispose.call(this)},_onEventClickPlay:function(){!1==this._closing&&(j.stopVO(),this._closing=!0,ba.LogEvent("Completion_web",{event_label:"finished"}),w.addLoader.dispatch(),
w.flow.dispatch("ATTRACT_PLAY"))},_onEventClickLink:function(){!1==this._closing&&(ba.LogEvent("Completion_web",{event_label:"link"}),window.open("https://www.research.buffalo.edu/sofia/","_blank"))},__class__:Ic});var Jc=function(a){this._testingIndex=0;this._curAllergenIndex=-1;this._acceptableAllergens=[z.CAR,z.CIGARETTE,z.COLD,z.EXERCISE,z.FIRE,z.PERFUME,z.POLLUTION];this._coverButtons=[null,null,null,null,null];this._allergenCheckmarks=[null,null,null,null,null];this._allergenDraggables=[null,
null,null,null,null];u.call(this,a)};g["screen.ScreenExperiment"]=Jc;Jc.__name__=["screen","ScreenExperiment"];Jc.__super__=u;Jc.prototype=x(u.prototype,{_buildScreen:function(){var a=this;u.prototype._buildScreen.call(this);this._closing=!1;j.stopMusic();j.playMusic("sofia_park_lab_track",0.3);this._tray=this._elementManager.addElement(new s({}));this._background=this._tray.addChild(new W({library:"spine/lab",scale:0.5,alpha:1}));this._background.animate("idle",1);this._background.setSkin("perfume");
var b=this._tray,c=G.get_avatarSettings();this._avatar=b.addChild(new Ca({x:489,y:328,scale:0.35,scaleX:-0.35},c,this._tween,!0));this._avatar.animate("write_idle");this._sofia=this._tray.addChild(new W({library:"sofia",x:300,y:330,scale:0.35,scaleX:-0.35}));this._sofia.animate("thinking_idle");this._testText=this._tray.addChild(new Da({text:"experiment.testing",x:20,y:158,scale:0.8}));this._testText.setVariables([""]);this._clipboard=this._tray.addChild(new s({asset:"clipboard_full",x:-380,y:165,
rotation:-7}));this._allergenDraggables[0]=this._clipboard.addChild(new Cb({asset:this._getTargetedAllergen(G.get_selectedAllergens()[0]),x:-129,y:-122,scale:0.75,tween:this._tween,clear:i(this,this._clearButtonInput)},G.get_selectedAllergens()[0],0));this._clipboard.addChild(new Da({text:"experiment.clipboard_allergen",x:10,y:-118,scale:1})).setVariables([this._getAllergenText(G.get_selectedAllergens()[0])]);this._allergenCheckmarks[0]=this._clipboard.addChild(new s({asset:"little_question",x:138,
y:-118}));this._allergenDraggables[1]=this._clipboard.addChild(new Cb({asset:this._getTargetedAllergen(G.get_selectedAllergens()[1]),x:-129,y:-54,scale:0.75,tween:this._tween,clear:i(this,this._clearButtonInput)},G.get_selectedAllergens()[1],1));this._clipboard.addChild(new Da({text:"experiment.clipboard_allergen",x:10,y:-51,scale:1})).setVariables([this._getAllergenText(G.get_selectedAllergens()[1])]);this._allergenCheckmarks[1]=this._clipboard.addChild(new s({asset:"little_question",x:138,y:-52}));
this._allergenDraggables[2]=this._clipboard.addChild(new Cb({asset:this._getTargetedAllergen(G.get_selectedAllergens()[2]),x:-129,y:15,scale:0.75,tween:this._tween,clear:i(this,this._clearButtonInput)},G.get_selectedAllergens()[2],2));this._clipboard.addChild(new Da({text:"experiment.clipboard_allergen",x:10,y:17,scale:1})).setVariables([this._getAllergenText(G.get_selectedAllergens()[2])]);this._allergenCheckmarks[2]=this._clipboard.addChild(new s({asset:"little_question",x:138,y:15}));this._allergenDraggables[3]=
this._clipboard.addChild(new Cb({asset:this._getTargetedAllergen(G.get_selectedAllergens()[3]),x:-129,y:83,scale:0.75,tween:this._tween,clear:i(this,this._clearButtonInput)},G.get_selectedAllergens()[3],3));this._clipboard.addChild(new Da({text:"experiment.clipboard_allergen",x:10,y:85,scale:1})).setVariables([this._getAllergenText(G.get_selectedAllergens()[3])]);this._allergenCheckmarks[3]=this._clipboard.addChild(new s({asset:"little_question",x:138,y:82}));this._allergenDraggables[4]=this._clipboard.addChild(new Cb({asset:this._getTargetedAllergen(G.get_selectedAllergens()[4]),
x:-129,y:154,scale:0.75,tween:this._tween,clear:i(this,this._clearButtonInput)},G.get_selectedAllergens()[4],4));this._clipboard.addChild(new Da({text:"experiment.clipboard_allergen",x:10,y:153,scale:1})).setVariables([this._getAllergenText(G.get_selectedAllergens()[4])]);this._allergenCheckmarks[4]=this._clipboard.addChild(new s({asset:"little_question",x:138,y:153}));this._allergenDraggables[0].disable();this._allergenDraggables[1].disable();this._allergenDraggables[2].disable();this._allergenDraggables[3].disable();
this._allergenDraggables[4].disable();this._coverButtons[0]=this._clipboard.addChild(new E({x:0,y:-125,tween:this._tween,clear:i(this,this._clearButtonInput)}));this._coverButtons[0].setCustomHitBox(340,60);this._coverButtons[0].eventDown.add(function(){a._clickAllergen(0)});this._coverButtons[1]=this._clipboard.addChild(new E({x:0,y:-55,tween:this._tween,clear:i(this,this._clearButtonInput)}));this._coverButtons[1].setCustomHitBox(340,60);this._coverButtons[1].eventDown.add(function(){a._clickAllergen(1)});
this._coverButtons[2]=this._clipboard.addChild(new E({x:0,y:15,tween:this._tween,clear:i(this,this._clearButtonInput)}));this._coverButtons[2].setCustomHitBox(340,60);this._coverButtons[2].eventDown.add(function(){a._clickAllergen(2)});this._coverButtons[3]=this._clipboard.addChild(new E({x:0,y:85,tween:this._tween,clear:i(this,this._clearButtonInput)}));this._coverButtons[3].setCustomHitBox(340,60);this._coverButtons[3].eventDown.add(function(){a._clickAllergen(3)});this._coverButtons[4]=this._clipboard.addChild(new E({x:0,
y:155,tween:this._tween,clear:i(this,this._clearButtonInput)}));this._coverButtons[4].setCustomHitBox(340,60);this._coverButtons[4].eventDown.add(function(){a._clickAllergen(4)});this._clipboardCover=this._tray.addChild(new s({asset:"clipboard_full",x:-380,y:165,rotation:-7,alpha:0}));this._clipboardCover.inputEnabled=!1;this._dragger=this._elementManager.addElement(new U({}));this._dragger.set_scale(1);this._dragger.visible=!1;this._dragger.setAsset("little_x");this._inputPos=R.request(0,0);this._menuOptions=
this._tray.addChild(new bb({},"8: Laboratory","lab_popup","sofia_experiment",this._tween,i(this,this._clearButtonInput)));w.selectAllergen.add(i(this,this._pickupAllergen));p.eventInput.add(i(this,this._generalInput));ba.LogEvent("Progress_web",{event_label:"8: Laboratory"})},update:function(a){u.prototype.update.call(this,a);this._draggerToCursor()},dispose:function(){u.prototype.dispose.call(this);w.selectAllergen.remove(i(this,this._pickupAllergen));this._inputPos.dispose();this._background=this._acceptableAllergens=
this._clipboardCover=this._clipboard=this._testText=this._largeCheck=this._tray=this._sofia=this._dragger=this._inputPos=null;p.eventInput.remove(i(this,this._generalInput));S.stop("hide_timer")},_generalInput:function(a,b){0==a[1]&&b&&this._menuOptions.resetCountdown()},_onEventClickPlay:function(){!1==this._closing&&(this._closing=!0,w.addLoader.dispatch(),w.flow.dispatch("QUIZ2"))},_getTargetedSFX:function(a){switch(a[1]){case 1:return"sofia_blue_bird";case 2:return"";case 3:return"sofia_car_drive_by";
case 4:return"";case 5:return"sofia_cold_air";case 6:return"sofia_duck_quack";case 7:return"sofia_running";case 8:return"sofia_fire";case 9:return"sofia_perfume";case 10:return"";case 11:return"sofia_fish_pond";case 12:return"";case 13:return"sofia_ufo";default:return"sofia_fire"}},_getTargetedAllergen:function(a){switch(a[1]){case 1:return"clipboard_bird";case 2:return"clipboard_broccoli";case 3:return"clipboard_car";case 4:return"clipboard_cigarette";case 5:return"clipboard_cold_air";case 6:return"clipboard_duck";
case 7:return"clipboard_exercise";case 8:return"clipboard_fire";case 9:return"clipboard_perfume";case 10:return"clipboard_pollution";case 11:return"clipboard_goldfish";case 12:return"clipboard_basketball";case 13:return"clipboard_ufo";default:return"clipboard_fire"}},_getAllergenText:function(a,b){null==b&&(b=!1);switch(a[1]){case 1:return"bird";case 2:return"broccoli";case 3:return"car";case 4:return"cigarette";case 5:return b?"cold_air":"cold air";case 6:return"duck";case 7:return"exercise";case 8:return"fire";
case 9:return"perfume";case 10:return"pollution";case 11:return"goldfish";case 12:return"sports";case 13:return"ufo";default:return"fire"}},_pickupAllergen:function(a,b){this._allergenDraggables[b].visible=!1;this._dragger.set_asset(this._getTargetedAllergen(a));this._dragger.visible=!0;this._curAllergenIndex=b},_releaseAllergen:function(){this._dragger.visible=!1;this._checkPosition(this._dragger.get_x(),this._dragger.get_y())?(this._clipboardCover.inputEnabled=!0,this._testText.setVariables([this._getAllergenText(G.get_selectedAllergens()[this._curAllergenIndex]).toUpperCase()]),
this._background.setSkin(this._getAllergenText(G.get_selectedAllergens()[this._curAllergenIndex],!0)),this._background.animate("item_start",1).eventAnimationComplete.add(i(this,this._testAllergen))):this._allergenDraggables[this._curAllergenIndex].release()},_clickAllergen:function(a){this._clipboardCover.inputEnabled=!0;this._allergenDraggables[a].visible=!1;this._curAllergenIndex=a;this._testText.setVariables([this._getAllergenText(G.get_selectedAllergens()[this._curAllergenIndex]).toUpperCase()]);
j.playSound(this._getTargetedSFX(G.get_selectedAllergens()[this._curAllergenIndex]));j.playSound("sofia_machine_start",0.5);this._background.setSkin(this._getAllergenText(G.get_selectedAllergens()[this._curAllergenIndex],!0));this._background.animate("item_start",1).eventAnimationComplete.add(i(this,this._testAllergen))},_testAllergen:function(){var a=this;this._background.eventAnimationComplete.remove(i(this,this._testAllergen));this._background.animate("test",1);S.start(function(){null!=a._acceptableAllergens&&
(-1!=a._acceptableAllergens.indexOf(G.get_selectedAllergens()[a._curAllergenIndex])?(j.playSound("sofia_machine_done",0.5),a._background.animate("check",1).eventAnimationComplete.add(i(a,a._provideFeedback)),a._allergenCheckmarks[a._curAllergenIndex].set_asset("little_check"),a._avatar.animate("write_positive",1),a._sofia.animate("thinking_positive",1).eventAnimationComplete.add(function(){a._sofia.animate("thinking_idle")})):(j.playSound("sofia_machine_incorrect",0.5),a._background.animate("x",1).eventAnimationComplete.add(i(a,
a._provideFeedback)),a._allergenCheckmarks[a._curAllergenIndex].set_asset("little_x"),a._avatar.animate("write_negative",1),a._sofia.animate("thinking_negative",1).eventAnimationComplete.add(function(){a._sofia.animate("thinking_idle")})),a._allergenCheckmarks[a._curAllergenIndex].alpha=1)},2,"testing_delay")},_provideFeedback:function(){this._background.eventAnimationComplete.remove(i(this,this._provideFeedback));this._background.animate("item_end",1);this._allergenDraggables[this._curAllergenIndex].visible=
!0;this._coverButtons[this._curAllergenIndex].disable();this._clipboardCover.inputEnabled=!1;this._testingIndex++;5<=this._testingIndex&&S.start(i(this,this._advanceGame),0.5)},_draggerToCursor:function(){this._elementManager.camera.getWorldPositionOfScreenPoint(p.pointer.get_currentPos().x,p.pointer.get_currentPos().y,0,this._inputPos);this._dragger.pos.x=this._inputPos.x;this._dragger.pos.y=this._inputPos.y},_onInput:function(a,b){!1==b&&this._dragger.visible&&this._releaseAllergen()},_checkPosition:function(a,
b){return-80>b||110<b||-75>a||125<a?!1:!0},_advanceGame:function(){!1==this._closing&&(this._closing=!0,j.stopMusic(),j.playMusic("sofia_bg_music",0.3),w.addLoader.dispatch(),w.flow.dispatch("QUIZ2"))},__class__:Jc});var Kc=function(a){this._randomToSpawn=[0,2,3,9];this._sofiaRunnning=this._sofiaCollected=this._hasUpdated=!1;this._allergensIndex=this._allergensCount=this._reservedCount=0;this._sceneAllergens=[null,null,null,null,null,null,null,null,null,null,null,null];this._collectedAllergens=[null,
null,null,null,null];u.call(this,a)};g["screen.ScreenImageHunt"]=Kc;Kc.__name__=["screen","ScreenImageHunt"];Kc.__super__=u;Kc.prototype=x(u.prototype,{_buildScreen:function(){var a=this;u.prototype._buildScreen.call(this);this._closing=!1;j.stopMusic();j.playMusic("sofia_park_bg_music",0.3);this._tray=this._elementManager.addElement(new s({}));this._backgroundTray=this._tray.addChild(new s({}));this._backgroundTray.addChild(new s({asset:"sky",x:0,y:-272.5,scale:1}));this._backgroundTray.addChild(new s({asset:"bg",
x:0,y:0,scale:0.4998}));this._backgroundTray.addChild(new s({asset:"bench",x:163,y:123}));this._backgroundTray.addChild(new s({asset:"pond",x:425,y:-73})).inputEnabled=!1;for(this._backgroundTray.addChild(new W({library:"spine/park_trees",x:0,y:0,scale:0.4998})).animate("scene_trees_all_idle");2<this._randomToSpawn.length;){var b=this._randomToSpawn[vb.randomInt(0,this._randomToSpawn.length)];C.remove(this._randomToSpawn,b)}this._sceneAllergens[0]=this._backgroundTray.addChild(new Ea({x:0,y:0,scale:0.5},
845,-150,750,275,"spine/park_pond",z.POND,0,"sofia_fish_pond",this._tween,i(this,this._clearButtonInput)));this._sceneAllergens[0].setAnimations("scene_pond","","",Z.ANIMATE_THEN_TRANSITION);-1==this._randomToSpawn.indexOf(0)&&(this._sceneAllergens[0].inputEnabled=!1);this._backgroundTray.addChild(new W({library:"spine/park_flowers",x:0,y:0,scale:0.4998})).animate("scene_flowers");this._sceneAllergens[1]=this._backgroundTray.addChild(new Ea({x:0,y:0,scale:0.5},-570,-220,300,170,"spine/park_car",z.CAR,
1,"sofia_car_drive_by",this._tween,i(this,this._clearButtonInput)));this._sceneAllergens[1].setAnimations("scene_car_idle","scene_car_out","scene_car_in",Z.ANIMATE_THEN_IMMEDIATE_AND_HIDE,function(){a._playSofiaReaction("park_cough")});this._sceneAllergens[2]=this._backgroundTray.addChild(new Ea({x:0,y:0,scale:0.5},-1120,-400,150,150,"spine/park_tree_bird",z.BIRD,2,"sofia_blue_bird",this._tween,i(this,this._clearButtonInput)));this._sceneAllergens[2].setAnimations("scene_tree_idle","scene_bird_chirp",
"",Z.BIRD);-1==this._randomToSpawn.indexOf(2)&&(this._sceneAllergens[2].inputEnabled=!1,this._sceneAllergens[2].animate("scene_tree_idle2"));-1!=this._randomToSpawn.indexOf(3)&&(this._sceneAllergens[3]=this._backgroundTray.addChild(new Ea({x:0,y:0,scale:0.5},680,70,130,130,"spine/duck",z.DUCK,3,"sofia_duck_quack",this._tween,i(this,this._clearButtonInput))),this._sceneAllergens[3].setAnimations("idle","animation","",Z.ANIMATE_THEN_TRANSITION_AND_HIDE));this._sceneAllergens[4]=this._backgroundTray.addChild(new Ea({x:0,
y:0,scale:0.5},-375,150,200,600,"spine/cigarette",z.CIGARETTE,4,"sofia_cough",this._tween,i(this,this._clearButtonInput)));this._sceneAllergens[4].setAnimations("idle","animation","",Z.ANIMATE_THEN_TRANSITION,function(){a._playSofiaReaction("park_cough")});this._sceneAllergens[5]=this._backgroundTray.addChild(new Ea({x:0,y:0,scale:0.5},-940,60,500,500,"spine/vegetables",z.BROCCOLI,5,"sofia_broccoli_boop",this._tween,i(this,this._clearButtonInput)));this._sceneAllergens[5].setAnimations("idle","animation",
"",Z.ANIMATE_THEN_TRANSITION);this._sceneAllergens[7]=this._backgroundTray.addChild(new Ea({x:0,y:0,scale:0.5},-60,-200,150,170,"spine/park_fire",z.FIRE,7,"sofia_fire",this._tween,i(this,this._clearButtonInput)));this._sceneAllergens[7].setAnimations("scene_fire","","",Z.ANIMATE_THEN_TRANSITION_AND_HIDE,function(){a._playSofiaReaction("park_cough")});this._sceneAllergens[8]=this._backgroundTray.addChild(new Ea({x:0,y:0,scale:0.5},995,195,260,540,"spine/perfume",z.PERFUME,8,"sofia_perfume",this._tween,
i(this,this._clearButtonInput)));this._sceneAllergens[8].setAnimations("idle","animation","",Z.ANIMATE_THEN_TRANSITION,function(){a._playSofiaReaction("park_sneeze")});this._sceneAllergens[10]=this._backgroundTray.addChild(new Ea({x:0,y:0,scale:0.5},100,-600,230,200,"spine/pollution",z.POLLUTION,10,"",this._tween,i(this,this._clearButtonInput)));this._sceneAllergens[10].setAnimations("idle","animation","",Z.ANIMATE_THEN_TRANSITION,function(){a._playSofiaReaction("park_cough")});this._sceneAllergens[11]=
this._backgroundTray.addChild(new Ea({x:0,y:0,scale:0.5},100,-200,160,200,"spine/park_boy",z.SPORTS,11,"sofia_basketball_spin",this._tween,i(this,this._clearButtonInput)));this._sceneAllergens[11].setAnimations("scene_boy_idle","scene_boy_spin","",Z.ANIMATE_THEN_TRANSITION);-1!=this._randomToSpawn.indexOf(9)&&(this._sceneAllergens[9]=this._backgroundTray.addChild(new Ea({x:0,y:0,scale:0.5},-940,-610,200,150,"spine/park_ufo",z.UFO,9,"sofia_ufo",this._tween,i(this,this._clearButtonInput))),this._sceneAllergens[9].setAnimations("scene_ufo_idle",
"scene_ufo_out","scene_ufo_in",Z.ANIMATE_THEN_IMMEDIATE_AND_HIDE));var b=this._backgroundTray,c=G.get_avatarSettings();this._avatar=b.addChild(new Ca({x:112,y:220,scale:0.2},c,this._tween));this._avatar.animate("write_idle");this._avatar.addChild(new E({x:0,y:-570,tween:this._tween,clear:i(this,this._clearButtonInput)})).setCustomHitBox(500,1250).eventDown.add(function(){a._avatar.animating||a._avatar.animate("write_tap",1,!0)});this._sofia=this._backgroundTray.addChild(new W({library:"sofia",x:223,
y:224,scale:0.2,scaleX:-0.2}));this._sofia.animate("thinking_idle");this._sofia.addChild(new E({x:0,y:-550,tween:this._tween,clear:i(this,this._clearButtonInput)})).setCustomHitBox(400,1250).eventDown.add(function(){!a._sofiaRunnning&&!(a._sofiaCollected||5<=a._reservedCount+a._allergensCount)&&a._playSofiaRun()});this._sceneAllergens[6]=this._backgroundTray.addChild(new Ea({x:0,y:0,scale:0.5},340,-300,200,200,"spine/park_cold_air",z.COLD,6,"sofia_cold_air",this._tween,i(this,this._clearButtonInput)));
this._sceneAllergens[6].setAnimations("scene_cold_air_snowflake","scene_cold_air","",Z.ANIMATE_THEN_IMMEDIATE_AND_HIDE,function(){a._playSofiaReaction("park_shiver")});this._clipboardTray=this._tray.addChild(new s({asset:"clipboard",x:0,y:259.5}));for(b=0;5>b;)c=b++,this._collectedAllergens[c]=this._clipboardTray.addChild(new qd({scale:0.5,alpha:1,x:-300+150*c,y:55,tween:this._tween,clear:i(this,this._clearButtonInput)}));this._acceptButton=this._tray.addChild(new E({asset:"btn_check_gray",x:N.STAGE_WIDTH/
2-75,y:285,tween:this._tween,clear:i(this,this._clearButtonInput),scale:1,alpha:1}));this._acceptButton.eventClick.add(i(this,this._advanceGame));this._acceptButton.inputEnabled=!1;this._menuOptions=this._tray.addChild(new bb({},"6: Image Hunt","park_popup","sofia_park_02",this._tween,i(this,this._clearButtonInput)));p.eventInput.add(i(this,this._generalInput));w.selectAllergen.add(i(this,this._collectAllergen));w.collectAllergen.add(i(this,this._immediatelyCollectAllergen));w.releaseAllergen.add(i(this,
this._releaseAllergen));w.reserveSlot.add(i(this,this._reserveAllergen));G.reset();ba.LogEvent("Progress_web",{event_label:"6: Image Hunt"})},update:function(a){u.prototype.update.call(this,a)},dispose:function(){S.stop("hide_timer");w.selectAllergen.remove(i(this,this._collectAllergen));w.collectAllergen.remove(i(this,this._immediatelyCollectAllergen));w.releaseAllergen.remove(i(this,this._releaseAllergen));w.reserveSlot.remove(i(this,this._reserveAllergen));this._acceptButton=this._sofia=this._backgroundTray=
this._clipboardTray=this._clickTray=this._tray=null;p.eventInput.remove(i(this,this._generalInput));u.prototype.dispose.call(this)},_generalInput:function(a,b){0==a[1]&&b&&this._menuOptions.resetCountdown()},_collectAllergen:function(a,b){this._avatar.animate("write_active",1,!0);for(var c=0;5>c;){var d=c++;if(!this._collectedAllergens[d].full){this._allergensIndex=d;break}}this._collectedAllergens[this._allergensIndex].collect(this._getTargetedAllergen(a),this._getAllergenPositions(a),b);G.addAllergen(this._allergensIndex,
a);this._allergensCount++;w.setCollectedCount.dispatch(this._allergensCount);this._reservedCount--;w.setReservedCount.dispatch(this._reservedCount);this._enabledAcceptButton()},_immediatelyCollectAllergen:function(a,b){for(var c=0;5>c;){var d=c++;if(!this._collectedAllergens[d].full){this._allergensIndex=d;break}}this._collectedAllergens[this._allergensIndex].collectImmediate(this._getTargetedAllergen(a),b);G.addAllergen(this._allergensIndex,a);this._allergensCount++;w.setCollectedCount.dispatch(this._allergensCount);
this._reservedCount--;w.setReservedCount.dispatch(this._reservedCount);this._enabledAcceptButton()},_collectExercise:function(){for(var a=0;5>a;){var b=a++;if(!this._collectedAllergens[b].full){this._allergensIndex=b;break}}this._collectedAllergens[this._allergensIndex].collectImmediate(this._getTargetedAllergen(z.EXERCISE),-1);G.addAllergen(this._allergensIndex,z.EXERCISE);this._allergensCount++;w.setCollectedCount.dispatch(this._allergensCount);this._reservedCount--;w.setReservedCount.dispatch(this._reservedCount);
this._enabledAcceptButton()},_enabledAcceptButton:function(){5<=this._allergensCount&&(this._acceptButton.inputEnabled=!0,this._acceptButton.setAsset("btn_check"),this._hasUpdated||(this._hasUpdated=!0,this._menuOptions.updateInstructions()))},_releaseAllergen:function(a){-1==a?this._sofiaCollected=!1:this._sceneAllergens[a].release();this._acceptButton.inputEnabled=!1;this._acceptButton.setAsset("btn_check_gray");this._allergensCount--;w.setCollectedCount.dispatch(this._allergensCount)},_reserveAllergen:function(){for(var a=
0;5>a;){var b=a++;if(!this._collectedAllergens[b].full&&!this._collectedAllergens[b].reserved){this._collectedAllergens[b].reserved=!0;this._reservedCount++;w.setReservedCount.dispatch(this._reservedCount);break}}},_getTargetedAllergen:function(a){switch(a[1]){case 1:return"clipboard_bird";case 2:return"clipboard_broccoli";case 3:return"clipboard_car";case 4:return"clipboard_cigarette";case 5:return"clipboard_cold_air";case 6:return"clipboard_duck";case 7:return"clipboard_exercise";case 8:return"clipboard_fire";
case 9:return"clipboard_perfume";case 10:return"clipboard_pollution";case 11:return"clipboard_goldfish";case 12:return"clipboard_basketball";case 13:return"clipboard_ufo";default:return"clipboard_fire"}},_advanceGame:function(){!1==this._closing&&(this._closing=!0,ba.LogEvent("Trigger Selection_web",{event_label:this._getAllergenName(G.get_selectedAllergens()[0])}),ba.LogEvent("Trigger Selection_web",{event_label:this._getAllergenName(G.get_selectedAllergens()[1])}),ba.LogEvent("Trigger Selection_web",
{event_label:this._getAllergenName(G.get_selectedAllergens()[2])}),ba.LogEvent("Trigger Selection_web",{event_label:this._getAllergenName(G.get_selectedAllergens()[3])}),ba.LogEvent("Trigger Selection_web",{event_label:this._getAllergenName(G.get_selectedAllergens()[4])}),w.addLoader.dispatch(),w.flow.dispatch("CUTSCENE_MID"),j.playSound("sofia_click_confirm"),j.stopMusic(),j.playMusic("sofia_bg_music",0.3))},_getAllergenPositions:function(a){switch(a[1]){case 1:a={x:-560,y:-200};break;case 2:a={x:-480,
y:30};break;case 3:a={x:-285,y:-110};break;case 4:a={x:-190,y:75};break;case 5:a={x:-190,y:75};break;case 6:a={x:338,y:35};break;case 7:a={x:338,y:35};break;case 8:a={x:-30,y:-100};break;case 9:a={x:495,y:95};break;case 10:a={x:45,y:-300};break;case 11:a={x:422,y:-75};break;case 12:a={x:50,y:-100};break;case 13:a={x:-470,y:-305};break;default:a={x:0,y:0}}a.y-=this._clipboardTray.get_y();return a},_getAllergenName:function(a){switch(a[1]){case 1:return"bird";case 2:return"broccoli";case 3:return"car";
case 4:return"cigarette";case 5:return"cold";case 6:return"duck";case 7:return"exercise";case 8:return"fire";case 9:return"perfume";case 10:return"pollution";case 11:return"pond";case 12:return"sports";case 13:return"ufo";default:return"bird"}},_playSofiaReaction:function(a){""==a||this._sofiaRunnning||(this._sofia.animate(a,1),this._sofia.queueAnimation("thinking_idle"))},_playSofiaRun:function(){var a=this;this._sofiaRunnning=!0;this._reserveAllergen(z.EXERCISE,-1);j.playSound("sofia_running");
this._sofia.clearQueue();this._sofia.animate("park_run");this._sofia.scaleX=0.2;this._tween.tween({target:this._sofia,duration:2,delay:0,ease:J.outQuad,complete:function(){a._sofia.scaleX=-0.2;a._tween.tween({target:a._sofia,duration:2,delay:0,ease:J.outQuad,complete:function(){a._sofia.animate("park_run_into_idle",1);a._sofia.queueAnimation("park_breathing",1);a._sofia.queueAnimation("park_idle");S.start(function(){a._sofiaRunnning=!1;a._sofiaCollected=!0;a._collectExercise()},2)}},{x:223})}},{x:800})},
__class__:Kc});var Lc=function(a){this._firstAnswer="";this._instructionIn=!1;u.call(this,a)};g["screen.ScreenQuiz1"]=Lc;Lc.__name__=["screen","ScreenQuiz1"];Lc.__super__=u;Lc.prototype=x(u.prototype,{_buildScreen:function(){var a=this;u.prototype._buildScreen.call(this);this._closing=!1;this._tray=this._elementManager.addElement(new s({}));this._backgroundTray=this._tray.addChild(new s({}));this._backgroundTray.addChild(new s({asset:"quiz_bg",x:0,y:0,scale:1}));this._menuOptions=this._tray.addChild(new bb({},
"","popup_panel_short","",this._tween,i(this,this._clearButtonInput),!0,!0));this._definitionBar=this._backgroundTray.addChild(new s({asset:"popup_panel",y:447,scale:1}));this._definitionText=this._definitionBar.addChild(new Da({text:"quiz1.research_study",x:0,y:10}));this._clickTray=this._backgroundTray.addChild(new E({tween:this._tween,clear:i(this,this._clearButtonInput)}));this._clickTray.setCustomHitBox(N.STAGE_WIDTH,720);this._clickTray.eventClick.add(i(this,this._clearDefinition));this._questionBacking=
this._backgroundTray.addChild(new s({asset:"quiz_question_1",x:-5,y:-170,scale:1}));this._answerOne=this._backgroundTray.addChild(new E({asset:"btn_quiz_1_true",x:-212,y:100,tween:this._tween,clear:i(this,this._clearButtonInput)}));this._answerOne.eventDown.add(function(){j.playSound("sofia_correct_1",0.5);j.stopVO();""==a._firstAnswer&&(a._firstAnswer="correct");a._onEventClickAnswer();a._answerOne.inputEnabled=a._answerTwo.inputEnabled=!1;j.playVO("sofia_correct_research_study","")});this._answerTwo=
this._backgroundTray.addChild(new E({asset:"btn_quiz_1_false",x:216,y:100,tween:this._tween,clear:i(this,this._clearButtonInput)}));this._answerTwo.eventDown.add(function(){j.playSound("sofia_incorrect_1",0.5);j.stopVO();a._answerTwo.inputEnabled=!1;""==a._firstAnswer&&(a._firstAnswer="incorrect");j.playVO("sofia_wrong_research_study","")});j.playVO("sofia_question_research_study","");p.eventInput.add(i(this,this._generalInput));ba.LogEvent("Progress_web",{event_label:"2: Quiz #1"})},update:function(a){u.prototype.update.call(this,
a)},dispose:function(){this._menuOptions=this._definitionBar=this._answerTwo=this._answerOne=this._questionBacking=this._backgroundTray=this._clickTray=this._tray=null;p.eventInput.remove(i(this,this._generalInput));u.prototype.dispose.call(this)},_generalInput:function(a,b){0==a[1]&&b&&this._menuOptions.resetCountdown()},_onEventClickAnswer:function(){this._clickDefinition()},_clickDefinition:function(){this._instructionIn=!0;this._tween.tween({target:this._definitionBar,duration:0.4,delay:0,ease:J.outQuad},
{y:273})},_clearDefinition:function(){this._instructionIn&&(j.stopVO(),this._instructionIn=!1,this._tween.tween({target:this._definitionBar,duration:0.2,delay:0,ease:J.outQuad},{y:447}),!1==this._closing&&(this._closing=!0,ba.LogEvent("Quiz 1 Answer_web",{event_label:this._firstAnswer}),w.addLoader.dispatch(),w.flow.dispatch("CUTSCENE_SURVEY")))},__class__:Lc});var Mc=function(a){this._didClickIncorrect=!1;this._answers=0;this._acceptableAllergens=[z.CAR,z.CIGARETTE,z.COLD,z.EXERCISE,z.FIRE,z.PERFUME,
z.POLLUTION];u.call(this,a)};g["screen.ScreenQuiz2"]=Mc;Mc.__name__=["screen","ScreenQuiz2"];Mc.__super__=u;Mc.prototype=x(u.prototype,{_buildScreen:function(){var a=this;u.prototype._buildScreen.call(this);this._closing=!1;this._tray=this._elementManager.addElement(new s({}));this._backgroundTray=this._tray.addChild(new s({}));this._backgroundTray.addChild(new s({asset:"quiz_bg",x:0,y:0,scale:1}));this._questionBacking=this._backgroundTray.addChild(new s({asset:"quiz_question_2",x:-5,y:-200,scale:1}));
var b=this._backgroundTray.addChild(new s({asset:"quiz_clipboard",x:0,y:130,scale:1})),c=this._getTriggerOptions();this._answerOne=b.addChild(new E({asset:"btn_quiz_2",x:-250,y:0,scale:0.9,tween:this._tween,clear:i(this,this._clearButtonInput)}));this._answerOne.addChild(new s({asset:this._getTriggerAsset(c[0]),scale:1.5})).inputEnabled=!1;this._answerOne.eventDown.add(function(){j.stopVO();j.playSound("sofia_correct_1",0.5);a._onEventClickAnswer(c[0]);a._answerOne.inputEnabled=!1;a._answerOne.setAsset("btn_quiz_2_correct");
j.playVO(a._getDefintionVO(c[0]),"")});this._answerTwo=b.addChild(new E({asset:"btn_quiz_2",x:0,y:0,scale:0.9,tween:this._tween,clear:i(this,this._clearButtonInput)}));this._answerTwo.addChild(new s({asset:this._getTriggerAsset(c[1]),scale:1.5})).inputEnabled=!1;this._answerTwo.eventDown.add(function(){j.stopVO();j.playSound("sofia_incorrect_1",0.5);a._didClickIncorrect=!0;a._onEventClickAnswer(c[1]);a._answerTwo.inputEnabled=!1;a._answerTwo.setAsset("btn_quiz_2_incorrect")});this._answerThree=b.addChild(new E({asset:"btn_quiz_2",
x:250,y:0,scale:0.9,tween:this._tween,clear:i(this,this._clearButtonInput)}));this._answerThree.addChild(new s({asset:this._getTriggerAsset(c[2]),scale:1.5})).inputEnabled=!1;this._answerThree.eventDown.add(function(){j.stopVO();j.playSound("sofia_correct_1",0.5);a._onEventClickAnswer(c[2]);a._answerThree.inputEnabled=!1;a._answerThree.setAsset("btn_quiz_2_correct");j.playVO(a._getDefintionVO(c[2]),"")});this._definitionText=b.addChild(new Da({text:"quiz2.definition",x:0,y:167}));this._definitionText.setVariables(["Select all of the triggers!"]);
this._definitionText.inputEnabled=!1;this._acceptButton=this._tray.addChild(new E({asset:"btn_check_gray",x:N.STAGE_WIDTH/2-75,y:285,tween:this._tween,clear:i(this,this._clearButtonInput),scale:1,alpha:1}));this._acceptButton.eventClick.add(i(this,this._onEventClickPlay));this._acceptButton.inputEnabled=!1;this._menuOptions=this._tray.addChild(new bb({},"","popup_panel_short","",this._tween,i(this,this._clearButtonInput),!0,!0));j.playVO("sofia_research_asthma_triggers_01","");p.eventInput.add(i(this,
this._generalInput));ba.LogEvent("Progress_web",{event_label:"9: Quiz #2"})},update:function(a){u.prototype.update.call(this,a)},dispose:function(){this._definitionText=this._answerThree=this._answerTwo=this._answerOne=this._questionBacking=this._acceptButton=this._menuOptions=this._backgroundTray=this._tray=null;this._acceptableAllergens=[];p.eventInput.remove(i(this,this._generalInput));u.prototype.dispose.call(this)},_generalInput:function(a,b){0==a[1]&&b&&this._menuOptions.resetCountdown()},_onEventClickAnswer:function(a){this._setDefinition(a);
-1!=this._acceptableAllergens.indexOf(a)&&this._clickDefinition()},_getTriggerOptions:function(){for(var a=G.get_selectedAllergens(),b=[z.CAR,z.DUCK,z.COLD],c=!1,d=0,f=a.length;d<f;){var l=d++;-1!=this._acceptableAllergens.indexOf(a[l])?c?b[2]=a[l]:(c=!0,b[0]=a[l]):b[1]=a[l]}return b},_getTriggerAsset:function(a){switch(a[1]){case 1:return"clipboard_bird";case 2:return"clipboard_broccoli";case 3:return"clipboard_car";case 4:return"clipboard_cigarette";case 5:return"clipboard_cold_air";case 6:return"clipboard_duck";
case 7:return"clipboard_exercise";case 8:return"clipboard_fire";case 9:return"clipboard_perfume";case 10:return"clipboard_pollution";case 11:return"clipboard_goldfish";case 12:return"clipboard_basketball";case 13:return"clipboard_ufo";default:return"clipboard_fire"}},_getDefintionVO:function(a){switch(a[1]){case 1:return"";case 2:return"";case 3:return"sofia_experiment_cars";case 4:return"sofia_experiment_fire";case 5:return"sofia_experiment_cold";case 6:return"";case 7:return"sofia_experiment_exercise";
case 8:return"sofia_experiment_fire_alt";case 9:return"sofia_experiment_perfume";case 10:return"sofia_experiment_factory";case 11:return"";case 12:return"sofia_experiment_exercise";case 13:return"";default:return"sofia_experiment_cars"}},_setDefinition:function(a){switch(a[1]){case 1:this._definitionText.setVariables(["Actually, birds are not a\ntrigger for asthma."]);break;case 2:this._definitionText.setVariables(["Actually, broccoli is not a\ntrigger for asthma."]);break;case 3:this._definitionText.setVariables(["Correct! Car exhaust is an\nasthma trigger!"]);
break;case 4:this._definitionText.setVariables(["Correct! Cigarette smoke is\nan asthma trigger!"]);break;case 5:this._definitionText.setVariables(["Correct! Cold air is an asthma\ntrigger!"]);break;case 6:this._definitionText.setVariables(["Actually, ducks are not a\ntrigger for asthma."]);break;case 7:this._definitionText.setVariables(["Correct! Exercise can be an\nasthma trigger!"]);break;case 8:this._definitionText.setVariables(["Correct! Smoke is an asthma\ntrigger!"]);break;case 9:this._definitionText.setVariables(["Correct! Perfume can be an\nasthma trigger!"]);
break;case 10:this._definitionText.setVariables(["Correct! Pollution is an\nasthma trigger!"]);break;case 11:this._definitionText.setVariables(["Actually, fish are not a\ntrigger for asthma."]);break;case 12:this._definitionText.setVariables(["Correct! Sports can be an\nasthma trigger!"]);break;case 13:this._definitionText.setVariables(["Actually, UFO's are not a\ntrigger for asthma."]);break;default:this._definitionText.setVariables(["Correct! Car exhaust is an\nasthma trigger!"])}},_clickDefinition:function(){this._answers++;
2<=this._answers&&(this._acceptButton.setAsset("btn_check"),this._acceptButton.inputEnabled=!0)},_onEventClickPlay:function(){2<=this._answers&&!1==this._closing&&(this._closing=!0,j.stopVO(),j.playSound("sofia_click_confirm"),ba.LogEvent("Quiz 2 Answer_web",{event_label:this._didClickIncorrect?"1 incorrect":"all correct"}),w.addLoader.dispatch(),w.flow.dispatch("CUTSCENE_DOCTOR_END"))},__class__:Mc});var Nc=function(a){this._selection="";u.call(this,a)};g["screen.ScreenQuiz3"]=Nc;Nc.__name__=["screen",
"ScreenQuiz3"];Nc.__super__=u;Nc.prototype=x(u.prototype,{_buildScreen:function(){var a=this;u.prototype._buildScreen.call(this);this._closing=!1;this._tray=this._elementManager.addElement(new s({}));this._backgroundTray=this._tray.addChild(new s({}));this._backgroundTray.addChild(new s({asset:"quiz_bg",x:0,y:0,scale:1}));this._menuOptions=this._tray.addChild(new bb({},"","popup_panel_short","",this._tween,i(this,this._clearButtonInput),!0,!0));this._questionBacking=this._backgroundTray.addChild(new s({asset:"quiz_question_3",
x:-5,y:-157,scale:1}));this._answerOne=this._backgroundTray.addChild(new E({asset:"btn_quiz_3_notsure",x:-300,y:150,tween:this._tween,clear:i(this,this._clearButtonInput),scale:0.75}));this._answerOne.eventDown.add(function(){a._selection="not sure";a._onEventClickAnswer("sofia_conclusion_quiz_notsure")});this._answerTwo=this._backgroundTray.addChild(new E({asset:"btn_quiz_3_scientist",x:0,y:150,tween:this._tween,clear:i(this,this._clearButtonInput),scale:0.75}));this._answerTwo.eventDown.add(function(){a._selection=
"scientist";a._onEventClickAnswer("sofia_conclusion_quiz_scientist")});this._answerThree=this._backgroundTray.addChild(new E({asset:"btn_quiz_3_sofia",x:300,y:150,tween:this._tween,clear:i(this,this._clearButtonInput),scale:0.75}));this._answerThree.eventDown.add(function(){a._selection="participate";a._onEventClickAnswer("sofia_conclusion_quiz_participant")});j.playVO("sofia_conclusion_quiz","");p.eventInput.add(i(this,this._generalInput));ba.LogEvent("Progress_web",{event_label:"11: Quiz #3"})},
update:function(a){u.prototype.update.call(this,a)},dispose:function(){this._answerThree=this._answerTwo=this._answerOne=this._questionBacking=this._menuOptions=this._backgroundTray=this._tray=null;p.eventInput.remove(i(this,this._generalInput));u.prototype.dispose.call(this)},_generalInput:function(a,b){0==a[1]&&b&&this._menuOptions.resetCountdown()},_onEventClickAnswer:function(a){var b=this;!1==this._closing&&(this._closing=!0,j.stopVO(),j.playSound("sofia_correct_2"),j.playVO(a,"",!0,function(){ba.LogEvent("Quiz 3 Answer_web",
{event_label:b._selection});w.addLoader.dispatch();w.flow.dispatch("ENDSCREEN")}))},__class__:Nc});var L=function(a){this.children=[];this.parent=null;this._matrix=new Za;this._viewMatrix=new Za;this.pos=R.request(0,0,0);this.offset=R.request(0,0,0);this.rotation=0;this.set_origin(0.5);this.set_scale(this.alpha=1);this.inputEnabled=this.visible=this.useCamera=this.usePerspective=!0;this.doDelete=!1;null!=a&&(null!=a.alpha&&(this.alpha=a.alpha),null!=a.x&&this.set_x(a.x),null!=a.y&&this.set_y(a.y),
null!=a.z&&this.set_z(a.z),null!=a.offsetX&&this.set_offsetX(a.offsetX),null!=a.offsetY&&this.set_offsetY(a.offsetY),null!=a.offsetZ&&this.set_offsetZ(a.offsetZ),null!=a.origin&&this.set_origin(a.origin),null!=a.originX&&this.set_originX(a.originX),null!=a.originY&&this.set_originY(a.originY),null!=a.scale&&this.set_scale(a.scale),null!=a.scaleX&&(this.scaleX=a.scaleX),null!=a.scaleY&&(this.scaleY=a.scaleY),null!=a.rotation&&(this.rotation=a.rotation),null!=a.visible&&(this.visible=a.visible),null!=
a.useCamera&&(this.useCamera=a.useCamera),null!=a.usePerspective&&(this.usePerspective=a.usePerspective))};g["workinman.display.Sprite"]=L;L.__name__=["workinman","display","Sprite"];L.prototype={dispose:function(){if(null!=this.children){for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;c.dispose()}this.children=null}this.parent=null;null!=this.pos&&(this.pos.dispose(),this.pos=null);null!=this.offset&&(this.offset.dispose(),this.offset=null);this._viewMatrix=this._matrix=null},get_x:function(){return this.pos.x},
set_x:function(a){return this.pos.x=a},get_y:function(){return this.pos.y},set_y:function(a){return this.pos.y=a},get_z:function(){return this.pos.z},set_z:function(a){return this.pos.z=a},get_offsetX:function(){return this.offset.x},set_offsetX:function(a){return this.offset.x=a},get_offsetY:function(){return this.offset.y},set_offsetY:function(a){return this.offset.y=a},get_offsetZ:function(){return this.offset.z},set_offsetZ:function(a){return this.offset.z=a},get_depth:function(){return this.pos.z},
set_originX:function(a){return this.originX=a},set_originY:function(a){return this.originY=a},get_width:function(){return 0},get_height:function(){return 0},set_scale:function(a){return this.scale=this.scaleX=this.scaleY=a},set_origin:function(a){this.set_originX(this.set_originY(a));return a},addElement:function(a){return this.addChild(a)},addChild:function(a){null!=a.parent&&a.parent.removeChild(a);a.parent=this;this.children.push(a);return a},addChildToBottom:function(a){null!=a.parent&&a.parent.removeChild(a);
a.parent=this;this.children.unshift(a);return a},removeElement:function(a){return this.removeChild(a)},removeChild:function(a){C.remove(this.children,a)&&(a.parent=null);return a},get_viewMatrix:function(){return null!=this.parent?this._viewMatrix:this._matrix},get_viewX:function(){var a=this.get_viewMatrix();return a.m02/a.m00},get_viewY:function(){var a=this.get_viewMatrix();return a.m12/a.m11},accessibleInHierarchy:function(){return this.visible&&0<this.alpha&&this.inputEnabled?null==this.parent?
!0:this.parent.accessibleInHierarchy():!1},hitTest:function(a,b,c){if(!1==this.visible||!1==this.inputEnabled)return null;for(var d=this.children.length,f=null;0<d--;)if(f=this.children[d].hitTest(a,b,c),null!=f)return f;return this.inverseTransform(a,b,c)?this:null},inverseTransform:function(a,b,c,d,f){null==f&&(f=-1);null==d&&(d=-1);0>d&&(d=this.get_width());0>f&&(f=this.get_height());var l=-this.originX*d,e=-this.originY*f;return this.get_viewMatrix().inverseTransform(a,b,c)&&c.x>=l&&c.y>=e&&c.x<
l+d?c.y<e+f:!1},runUpdate:function(a){this.update(a);for(var b=this.children.length;0<b--;)this.children[b].runUpdate(a),this.children[b].doDelete&&(this.children[b].dispose(),this.children.splice(b,1))},update:function(){},render:function(a,b){if(!1!=this.visible){var c=0,d=0,c=0,f=1;if(null==b||!1==this.useCamera||!1==this.usePerspective)c=this.pos.x,d=this.pos.y,f=1;else{c=this.pos.z-b.pos.z+this.get_offsetZ();if(c<-b.focalLength)return;f=0>=b.focalLength?1:b.focalLength/(b.focalLength+c);c=b.worldCenterX+
(this.pos.x-b.pos.x-b.worldCenterX)*f;d=b.worldCenterY+(this.pos.y-b.pos.y-b.worldCenterY)*f}this._matrix.compose(c,d,this.scaleX*f,this.scaleY*f,3.141592653589793*this.rotation/180);null!=this.parent&&Za.multiply(this.parent.get_viewMatrix(),this._matrix,this._viewMatrix);a.ctx.save();1>this.alpha&&a.ctx.multiplyAlpha(this.alpha);a.ctx.transform(this._matrix.m00,this._matrix.m10,this._matrix.m01,this._matrix.m11,this._matrix.m02,this._matrix.m12);a.ctx.save();a.ctx.translate(-this.get_width()*this.originX+
this.get_offsetX(),-this.get_height()*this.originY+this.get_offsetY());this._draw(a);a.ctx.restore();c=0;for(d=this.children.length;c<d;)this.children[c++].render(a,null);a.ctx.restore()}},_draw:function(){},__class__:L,__properties__:{get_viewY:"get_viewY",get_viewX:"get_viewX",get_viewMatrix:"get_viewMatrix",set_origin:"set_origin",set_scale:"set_scale",get_height:"get_height",get_width:"get_width",get_depth:"get_depth",set_offsetZ:"set_offsetZ",get_offsetZ:"get_offsetZ",set_offsetY:"set_offsetY",
get_offsetY:"get_offsetY",set_offsetX:"set_offsetX",get_offsetX:"get_offsetX",set_z:"set_z",get_z:"get_z",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_originY:"set_originY",set_originX:"set_originX"}};var s=function(a){L.call(this,a);this.texture=this.rect=null;null!=a&&null!=a.asset&&this.setAsset(a.asset)};g["workinman.display.ImageSprite"]=s;s.__name__=["workinman","display","ImageSprite"];s.__super__=L;s.prototype=x(L.prototype,{get_asset:function(){return this._asset},set_asset:function(a){this.setAsset(a);
return this._asset},dispose:function(){L.prototype.dispose.call(this);this.texture=this.rect=null},get_width:function(){return null==this.texture?0:null!=this.rect?this.rect.origX:this.texture.get_width()},get_height:function(){return null==this.texture?0:null!=this.rect?this.rect.origY:this.texture.get_height()},setAsset:function(a){if(null==a||""==a)return this;this._asset=a;this.texture=n.getTexture(a);this.rect=n.getSpriteRect(a);return this},setTexture:function(a){this.rect=null;this.texture=
a;return this},_draw:function(a){null!=this.texture&&(null!=this.rect?this.rect.rotate?(a.ctx.save(),a.ctx.rotate(90),a.ctx.drawSubTexture(this.texture,this.rect.origY-this.rect.sizeY-this.rect.offsetY,-this.rect.offsetX-this.rect.sizeX,this.rect.x,this.rect.y,this.rect.sizeY,this.rect.sizeX),a.ctx.restore()):a.ctx.drawSubTexture(this.texture,this.rect.offsetX,this.rect.origY-this.rect.sizeY-this.rect.offsetY,this.rect.x,this.rect.y,this.rect.sizeX,this.rect.sizeY):a.ctx.drawTexture(this.texture,
0,0))},__class__:s,__properties__:x(L.prototype.__properties__,{set_asset:"set_asset",get_asset:"get_asset"})});var E=function(a){null==E._scratchPoint&&(E._scratchPoint=new Ob);s.call(this,a);this.eventClick=Qa._new();this.eventDown=Qa._new();this.eventUp=Qa._new();this.eventOver=Qa._new();this.eventOut=Qa._new();this._tween=a.tween;this._containsInput=!1;this._clearFunction=a.clear;this._assetUp=a.assetUp;this._assetOver=a.assetOver;this._assetDown=a.assetDown;this._assetDisabled=a.assetDisabled;
this._state=ea._STATE_UP;this.enable();this._selectedOutline=this.addChild(new rd({asset:"outline",innerW:this.get_width(),innerH:this.get_height(),bufferW:this.get_width()+10,bufferH:this.get_height()+10,alpha:0,originX:this.originX,originY:this.originY}));this.setCustomHitBox(this.get_width(),this.get_height());p.eventInput.add(i(this,this._onInput));this._buttonScaleBase=R.request(this.scaleX,this.scaleY)};g["workinman.ui.Button"]=E;E.__name__=["workinman","ui","Button"];E.__super__=s;E.prototype=
x(s.prototype,{dispose:function(){p.eventInput.remove(i(this,this._onInput));this.eventClick.dispose();this.eventClick=null;this.eventDown.dispose();this.eventDown=null;this.eventUp.dispose();this.eventUp=null;this.eventOver.dispose();this.eventOver=null;this.eventOut.dispose();this.eventOut=null;this._flagEnabled=!1;this._assetDisabled=this._assetDown=this._assetOver=this._assetUp=null;this._hitBox.dispose();this._tween=this._hitBox=null;this._buttonScaleBase.dispose();this._clearFunction=this._state=
this._buttonScaleBase=null;s.prototype.dispose.call(this)},enable:function(){this._flagEnabled=!0;this._renderUp();return this},disable:function(){this._flagEnabled=!1;this._renderDisabled();return this},get_hitbox:function(){return this._hitBox},setCustomHitBox:function(a,b){null==this._hitBox&&(this._hitBox=this.addChild(new ib({color:16711680,sizeX:a,sizeY:b,alpha:0,originX:this.originX,originY:this.originY})));this._hitBox.sizeX=a;this._hitBox.sizeY=b;this._selectedOutline.setInnerSize(Math.floor(a),
Math.floor(b));return this},_onInput:function(a,b){var c=F._platform.getPointer().get_x(),d=F._platform.getPointer().get_y();switch(a[1]){case 0:this._containsInput=this._hitBox.inverseTransform(c,d,E._scratchPoint);if(b)switch(this._state[1]){case 0:case 2:case 3:this._containsInput&&this._depthTest(c,d)&&(this._state=ea._STATE_DOWN,this._onDown(c,d))}else 1==this._state[1]&&(this._containsInput?(this._state=ea._STATE_CLICK,this._onUp(c,d)):(this._state=ea._STATE_UP,this._renderReturnUp()));break;
case 1:switch(this._state[1]){case 0:this._containsInput&&this._depthTest(c,d)&&(this._state=ea._STATE_OVER,this._onOver());break;case 2:!1==this._containsInput&&(this._state=ea._STATE_UP,this._onOut())}}},_depthTest:function(a,b){if(!1==this._flagEnabled)return!1;var c=p.hitTest(a,b);return null!=this._hitBox&&c==this._hitBox?!0:!1},forceClick:function(){this._dispatch(this.eventDown);this._click()},isSelectable:function(){return this._flagEnabled?this.accessibleInHierarchy():!1},_dispatch:function(a){!1!=
this._clearFunction()&&a.dispatch()},_click:function(){this._tween.tween({target:this,duration:0.1,overwrite:!0,ease:J.inQuad},{scaleX:1.1*this._buttonScaleBase.x,scaleY:1.1*this._buttonScaleBase.y});this._tween.tween({target:this,duration:0.4,overwrite:!1,ease:J.outElastic},{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y}).onComplete(i(this,this._onClickComplete));this._playSoundClick();this._doClick()},_onClickComplete:function(){this._containsInput&&this._flagEnabled?(this._state=
ea._STATE_OVER,this._renderOver()):this._state=ea._STATE_UP},_doClick:function(){this._dispatch(this.eventClick)},_onDown:function(){this._flagEnabled&&(this._renderDown(),this._dispatch(this.eventDown))},_onUp:function(){this._flagEnabled&&(this._renderReturnUp(),this._click(),this._dispatch(this.eventUp))},_onOver:function(){this._renderOver();this._playSoundOver();this._dispatch(this.eventOver)},_onOut:function(){this._flagEnabled&&(this._renderOut(),this._dispatch(this.eventOut))},_playSoundClick:function(){j.playSound("",
1)},_playSoundOver:function(){j.playSound("",1)},setScale:function(a,b){this._buttonScaleBase.x=a;this._buttonScaleBase.y=b;this.scaleX=this._buttonScaleBase.x;this.scaleY=this._buttonScaleBase.y;return this},setBaseAsset:function(a){this._assetDisabled=this._assetDown=this._assetOver=this._assetUp=a;this.setAsset(this._assetUp);return this},setHighlight:function(a){this._selectedOutline.alpha=a?1:0},_renderUp:function(){this.setAsset(this._assetUp)},_renderOver:function(){this._tween.tween({target:this,
duration:0.15,overwrite:!0,ease:J.inQuad},{scaleX:1.1*this._buttonScaleBase.x,scaleY:1.1*this._buttonScaleBase.y})},_renderOut:function(){this._tween.tween({target:this,duration:0.5,overwrite:!0,ease:J.outElastic},{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y})},_renderDown:function(){this._tween.tween({target:this,duration:0.15,overwrite:!0,ease:J.outQuad},{scaleX:0.9*this._buttonScaleBase.x,scaleY:0.9*this._buttonScaleBase.y});this.setAsset(this._assetDown)},_renderReturnUp:function(){this._tween.tween({target:this,
duration:0.15,overwrite:!0,ease:J.outQuad},{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y});this._renderUp()},_renderDisabled:function(){this.setAsset(this._assetDisabled)},__class__:E,__properties__:x(s.prototype.__properties__,{get_hitbox:"get_hitbox"})});var Cb=function(a,b,c,d){this.collected=!1;E.call(this,a);this.type=b;this.index=c;this.eventDown.add(i(this,this._select));null!=d&&this.eventDown.add(d)};g["screen.button.ButtonAllergen"]=Cb;Cb.__name__=["screen","button","ButtonAllergen"];
Cb.__super__=E;Cb.prototype=x(E.prototype,{_select:function(){this.collected||(this.collected=!0,w.selectAllergen.dispatch(this.type,this.index))},release:function(){this.visible=!0;this.collected=!1},__class__:Cb});var B=function(a,b){this.targetAsset=this.altHighlight="";s.call(this,{x:a.x,y:a.y,scale:a.scale,alpha:a.alpha});this.focus=this.addChild(new s({asset:a.highlight,alpha:0}));this.button=this.addChild(new E({asset:a.asset,tween:a.tween,clear:a.clear}));this.targetAsset=a.asset;this.altHighlight=
a.alt;null!=b&&this.button.eventDown.add(b)};g["screen.button.ButtonMenu"]=B;B.__name__=["screen","button","ButtonMenu"];B.__super__=s;B.prototype=x(s.prototype,{setButtonAsset:function(a){this.button.setAsset(a)},select:function(){null!=this.altHighlight?this.button.set_asset(this.altHighlight):this.focus.alpha=1},deselect:function(){null!=this.altHighlight?this.button.set_asset(this.targetAsset):this.focus.alpha=0},__class__:B});var qd=function(a,b){this.full=this.reserved=!1;s.call(this,{x:a.x,
y:a.y,scale:a.scale,alpha:a.alpha});this._tween=a.tween;this.slot=this.addChild(new W({library:"spine/park_effect"}));this.button=this.addChild(new E({tween:a.tween,clear:a.clear}));this.button.setCustomHitBox(200,150).disable();this.button.eventDown.add(i(this,this._empty));null!=b&&this.button.eventDown.add(b)};g["screen.button.ButtonSlot"]=qd;qd.__name__=["screen","button","ButtonSlot"];qd.__super__=s;qd.prototype=x(s.prototype,{collect:function(a,b,c){var d=this;this.reserved=!1;this.full=!0;
var f=(b.x-this.get_x())*(1/this.scale),b=(b.y-this.get_y())*(1/this.scale);this._index=c;this.allergen=this.addChild(new s({asset:a,x:f,y:b,scale:0}));this.allergen.inputEnabled=!1;a=Math.sqrt(f*f+b*b)/1E3;this._tween.tween({target:this.allergen,duration:0.4,delay:0,ease:J.inBounce},{scale:2.8});this._tween.tween({target:this.allergen,duration:0.2,delay:0,ease:J.inBack},{scale:2});this._tween.tween({target:this.allergen,duration:0.25*a,delay:0,ease:J.linear,complete:function(){d.slot.animate("clipboard",
1).eventAnimationComplete.add(function(){d.slot.animate("known_idle");d.button.enable()})}},{x:0,y:0})},collectImmediate:function(a,b){var c=this;this.reserved=!1;this.full=!0;this._index=b;this.allergen=this.addChild(new s({asset:a,x:0,y:0,scale:2}));this.allergen.inputEnabled=!1;this.slot.animate("clipboard",1).eventAnimationComplete.add(function(){c.slot.animate("known_idle");c.button.enable()})},_empty:function(){var a=this;this.full=!1;this.allergen.alpha=0;this.slot.animate("clipboard_remove",
1).eventAnimationComplete.add(function(){a.slot.animate("unknown_idle")});w.releaseAllergen.dispatch(this._index)},__class__:qd});var pd=function(a){E.call(this,a);this._assetUpOn=a.assetUp;this._assetOverOn=a.assetOver;this._assetDownOn=a.assetDown;this._assetDisabledOn=a.assetDisabled;this._assetUpOff=a.assetUpOff;this._assetOverOff=a.assetOverOff;this._assetDownOff=a.assetDownOff;this._assetDisabledOff=a.assetDisabledOff;this._refreshMuteState();this._renderUp()};g["screen.button.ButtonSoundToggle"]=
pd;pd.__name__=["screen","button","ButtonSoundToggle"];pd.__super__=E;pd.prototype=x(E.prototype,{dispose:function(){this._assetDisabledOff=this._assetDownOff=this._assetOverOff=this._assetUpOff=this._assetDisabledOn=this._assetDownOn=this._assetOverOn=this._assetUpOn=null;E.prototype.dispose.call(this)},_doClick:function(){this._flagEnabled&&(j.set_muteAll(!j.muteAll),this._refreshMuteState(),this._renderUp())},_refreshMuteState:function(){j.muteAll?(this._assetUp=this._assetUpOff,this._assetOver=
this._assetOverOff,this._assetDown=this._assetDownOff,this._assetDisabled=this._assetDisabledOff):(this._assetUp=this._assetUpOn,this._assetOver=this._assetOverOn,this._assetDown=this._assetDownOn,this._assetDisabled=this._assetDisabledOn)},__class__:pd});var Z=g["screen.button.PICKUP_TYPE"]={__ename__:!0,__constructs__:["ANIMATE_THEN_IMMEDIATE_AND_HIDE","ANIMATE_THEN_TRANSITION_AND_HIDE","ANIMATE_THEN_TRANSITION","BIRD"]};Z.ANIMATE_THEN_IMMEDIATE_AND_HIDE=["ANIMATE_THEN_IMMEDIATE_AND_HIDE",0];Z.ANIMATE_THEN_IMMEDIATE_AND_HIDE.toString=
h;Z.ANIMATE_THEN_IMMEDIATE_AND_HIDE.__enum__=Z;Z.ANIMATE_THEN_TRANSITION_AND_HIDE=["ANIMATE_THEN_TRANSITION_AND_HIDE",1];Z.ANIMATE_THEN_TRANSITION_AND_HIDE.toString=h;Z.ANIMATE_THEN_TRANSITION_AND_HIDE.__enum__=Z;Z.ANIMATE_THEN_TRANSITION=["ANIMATE_THEN_TRANSITION",2];Z.ANIMATE_THEN_TRANSITION.toString=h;Z.ANIMATE_THEN_TRANSITION.__enum__=Z;Z.BIRD=["BIRD",3];Z.BIRD.toString=h;Z.BIRD.__enum__=Z;var U=function(a){s.call(this,a);this.velocity=R.request();this._addEventListeners()};g["workinman.display.Element"]=
U;U.__name__=["workinman","display","Element"];U.__super__=s;U.prototype=x(s.prototype,{dispose:function(){s.prototype.dispose.call(this);this.velocity.dispose();this.velocity=null;this._removeEventListeners()},_addEventListeners:function(){},_removeEventListeners:function(){},__class__:U});var Ea=function(a,b,c,d,f,l,e,g,m,h,j){this._callback=null;this.collected=this.reserved=!1;this._collected=this._reserved=0;U.call(this,a);this.type=e;this.index=g;this._sfxPath=m;this._allergen=this.addChild(new W({library:l,
x:0,y:0,scale:1}));this._button=this._allergen.addChild(new E({x:b,y:c,tween:h,clear:j}));this._button.setCustomHitBox(d,f);this._button.eventDown.add(i(this,this._select));w.setCollectedCount.add(i(this,this._eventSetCollectCount));w.setReservedCount.add(i(this,this._eventSetReservedCount))};g["screen.button.SpineAllergen"]=Ea;Ea.__name__=["screen","button","SpineAllergen"];Ea.__super__=U;Ea.prototype=x(U.prototype,{setAnimations:function(a,b,c,d,f){this._idleAnim=a;this._reactionAnim=b;this._reentryAnim=
c;this._pickupType=d;this._allergen.animate(this._idleAnim);null!=f&&(this._callback=f)},_select:function(){if(!(this.collected||5<=this._collected+this._reserved))switch(null!=this._callback&&this._callback(),this.collected=!0,w.reserveSlot.dispatch(this.type,this.index),""!=this._sfxPath&&j.playSound(this._sfxPath),this._pickupType[1]){case 0:this._allergen.animate(this._reactionAnim,1).eventAnimationComplete.add(i(this,this._immediatelyCollectAllergen));break;case 1:this._allergen.animate(this._reactionAnim,
1).eventAnimationComplete.add(i(this,this._transitionHideAllergen));break;case 2:""!=this._reactionAnim?this._allergen.animate(this._reactionAnim,1).eventAnimationComplete.add(i(this,this._transitionAllergen)):this._transitionAllergen();this._allergen.queueAnimation(this._idleAnim);break;case 3:this._allergen.animate(this._reactionAnim,1).eventAnimationComplete.add(i(this,this._transitionAllergen)),this._allergen.queueAnimation("scene_tree_idle2")}},_immediatelyCollectAllergen:function(){this._allergen.eventAnimationComplete.remove(i(this,
this._immediatelyCollectAllergen));this.alpha=0;w.collectAllergen.dispatch(this.type,this.index)},_transitionHideAllergen:function(){this._allergen.eventAnimationComplete.remove(i(this,this._transitionHideAllergen));this.alpha=0;w.selectAllergen.dispatch(this.type,this.index)},_transitionAllergen:function(){this._allergen.eventAnimationComplete.remove(i(this,this._transitionAllergen));w.selectAllergen.dispatch(this.type,this.index)},_eventSetCollectCount:function(a){this._collected=a},_eventSetReservedCount:function(a){this._reserved=
a},release:function(){this._pickupType==Z.ANIMATE_THEN_IMMEDIATE_AND_HIDE?(""!=this._reentryAnim?(this._allergen.animate(this._reentryAnim),this._allergen.queueAnimation(this._idleAnim)):(this.type==z.COLD&&this._allergen.setSkin("default",!1),this._allergen.animate(this._idleAnim)),this.alpha=1):this._pickupType==Z.ANIMATE_THEN_TRANSITION_AND_HIDE?(this._allergen.animate(this._idleAnim),this.alpha=1):this._pickupType==Z.BIRD&&(this._allergen.animate("scene_tree_bird_in",1),this._allergen.queueAnimation(this._idleAnim));
this.collected=!1},animate:function(a){this._allergen.animate(a)},__class__:Ea});var I=function(){};g["screen.data.AvatarSlotData"]=I;I.__name__=["screen","data","AvatarSlotData"];I.getSlotAttachment=function(a,b){switch(a){case "cape":return I._capeOptions[b];case "eye_color":return I._eyeColorOptions[b];case "eye_color2":return I._eyeColor2Options[b];case "eyes_shape":return I._eyeShapeOptions[b];case "face_color":return I._faceColorOptions[b];case "glasses_circle":return I._glassesCircleOptions[b];
case "glasses_square":return I._glassesSquareOptions[b];case "hair":return I._hairOptions[b];case "hair_back":return I._hairBackOptions[b];case "hearingaid":return I._hearingAidOptions[b];case "mask":return I._maskOptions[b];case "neck":return I._neckOptions[b];default:return I._faceColorOptions[b]}};I.getHairAttachment=function(a,b){return"hair_"+(a+1)+"_color_"+(b+1)};I.getHairBackAttachment=function(a,b){return"hair_"+(a+1)+"_color_"+(b+1)+"_back"};var pb=function(a){this._flagLocked=!1;this._tween=
a.tween;U.call(this,a)};g["workinman.ui.Display"]=pb;pb.__name__=["workinman","ui","Display"];pb.__super__=U;pb.prototype=x(U.prototype,{_addEventListeners:function(){U.prototype._addEventListeners.call(this);w.updateDisplay.add(i(this,this._onUpdateDisplay))},_removeEventListeners:function(){U.prototype._removeEventListeners.call(this);w.updateDisplay.remove(i(this,this._onUpdateDisplay))},_onUpdateDisplay:function(a){this._flagLocked||a==this._updateValue()&&this._refresh()},_refresh:function(){},
_updateValue:function(){return null},dispose:function(){this._tween=null;U.prototype.dispose.call(this)},lock:function(){this._flagLocked=!0},unlock:function(){this._flagLocked=!1},__class__:pb});var od=function(a){this._currentString="";pb.call(this,a);this._active=!1;this._scale=0.5;this._spine=this.addChild(new W({library:"transition",scale:this._scale}));this._spine.animate("loading",0,1,2);this.alpha=0};g["screen.display.DisplayLoadingProgress"]=od;od.__name__=["screen","display","DisplayLoadingProgress"];
od.__super__=pb;od.prototype=x(pb.prototype,{dispose:function(){pb.prototype.dispose.call(this)},get_active:function(){return this._active},update:function(a){pb.prototype.update.call(this,a)},tweenIn:function(){var a=this;this._active||(ob.easeFadeIn(this,this._tween),this._spine.animate("intro",1,1,1).eventAnimationComplete.add(function(){a._spine.animate("middle_loop")}),this._active=!0)},tweenOut:function(){!1!=this._active&&(j.stopSound(this._currentString),ob.easeFadeOut(this,this._tween),this._spine.animate("outro",
1,1,1),this._active=!1)},__class__:od,__properties__:x(pb.prototype.__properties__,{get_active:"get_active"})});var n=function(){};g["workinman.WMAssets"]=n;n.__name__=["workinman","WMAssets"];n.__properties__={set_baseUrl:"set_baseUrl",get_isLoading:"get_isLoading"};n.update=function(a){n.get_isLoading()||1>n._loadQueue.length||(n._loadQueue[0].delay-=a,0>n._loadQueue[0].delay&&n._beginLoad(n._loadQueue.shift()))};n.get_isLoading=function(){return n._manifestsLoaded<n._manifestsMax};n.set_baseUrl=
function(a){n.baseUrl=a;return n.baseUrl};n.setCrossdomainBaseUrl=function(a){n._flagBaseIsCrossdomain=!0;n.set_baseUrl(a)};n.load=function(a,b,c){null==c&&(c=0);if(null==a)throw new o("[WMAssets](load) Callback is null.");a=new Ae(a,b,c);n.get_isLoading()||0<c?n._loadQueue.push(a):n._beginLoad(a)};n._beginLoad=function(a){for(var b=[],c=[],d=0,f=a.packs;d<f.length;){var l=f[d];++d;var e=n._packs;if(!(null!=v[l]?e.existsReserved(l):e.h.hasOwnProperty(l)))la.exists(l)?b.push(l):(e=n._customManifests,
(null!=v[l]?e.existsReserved(l):e.h.hasOwnProperty(l))&&c.push(l))}if(1>b.length&&1>c.length)a.complete();else{X.setFloat("FLOAT_LOADING_PROGRESS",0);n._loadingProgress=0;n._loadingCallback=a.complete;n._manifestsMax+=c.length+b.length;for(d=0;d<b.length;)f=b[d],++d,n._loadPack(f);for(b=0;b<c.length;)d=c[b],++b,f=n._customManifests,n._loadManifest(null!=v[d]?f.getReserved(d):f.h[d],d);a.dispose()}};n._loadPack=function(a){var b=la.fromAssets(a);""!=n.baseUrl&&(n._flagBaseIsCrossdomain?b.set_remoteBase(n.baseUrl):
b.set_localBase(n.baseUrl));n._loadManifest(b,a)};n._loadManifest=function(a,b){var c=F._platform.loadAssetPack(a);n._loadingTotal+=c._total;var d=0;c.error.connect(n._loadingError);c.progressChanged.connect(function(){var a=c._progress-d;d=c._progress;n._loadingProgress+=a;X.setFloat("FLOAT_LOADING_PROGRESS",pf.clamp(n._loadingProgress/n._loadingTotal,0,1))});n._requests.push(c.get(function(a){n._addPack(b,new Be(a));++n._manifestsLoaded>=n._manifestsMax&&n._onAllLoadComplete()}))};n._loadingError=
function(){n.eventLoadError.dispatch();n._manifestsLoaded++};n._onAllLoadComplete=function(){if(null!=n._loadingCallback){var a=n._loadingCallback;n._loadingCallback=null;a()}for(;0<n._requests.length;)n._requests.pop()};n._addPack=function(a,b){var c=n._packs;null!=v[a]?c.setReserved(a,b):c.h[a]=b;for(c=C.iter(b.pack.get_manifest()._entries);c.hasNext();){var d=c.next();if(-1<d.name.indexOf("library.json")){var d=d.name,d=Q.replace(d,"/library.json",""),f=n._flump,l=new pc(b.pack,d);null!=v[d]?f.setReserved(d,
l):f.h[d]=l;b.flump.push(d)}else{switch(Ia.getExtension(d.name)){case "atlas":case "txt":for(var l="",f=d.name.split("/"),e=0,g=f.length-1;e<g;)var m=e++,l=l+(f[m]+"/");n._parseSpriteAtlas(l,b.pack.getFile(d.name).toString(),b)}l=d.name;f=n._assets;null!=v[l]?f.setReserved(l,a):f.h[l]=a;b.assets.push(d.name)}}};n._parseSpriteAtlas=function(a,b,c){for(b=b.split("\n");1<b.length;){for(;1>=b[0].length;)b.shift();for(var d=a+Ia.removeExtension(Q.rtrim(b.shift()));-1>=b.shift().indexOf("repeat:"););for(;1<
b.length&&1<b[0].length;)n._parsePackedSpriteAndMovePlayhead(d,b,c)}};n._parsePackedSpriteAndMovePlayhead=function(a,b,c){for(var d=[],f;!(f=b.shift(),d.push(Q.rtrim(f)),-1<f.indexOf("index:")););n._addPackedSprite(d[0],a,new Ce(d),c)};n._addPackedSprite=function(a,b,c,d){var f=n._spritesheets;if(null!=v[a]?f.existsReserved(a):f.h.hasOwnProperty(a))f=n._spritesheets,(null!=v[a]?f.getReserved(a):f.h[a]).dispose();f=n._spritesheets;b=new De(b,c);null!=v[a]?f.setReserved(a,b):f.h[a]=b;d.spritesheets.push(a)};
n.hasTexture=function(a){null==a&&(a="");return null==a||""==a?!1:n._hasAsset(a)};n.hasSound=function(a){null==a&&(a="");return null==a||""==a?!1:n._hasAsset(a)};n.hasXML=function(a){null==a&&(a="");return null==a||""==a?!1:n._hasAsset(a)};n._hasAsset=function(a){var b=n._spritesheets;if(null!=v[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return!0;b=n._assets;return null!=v[a]?b.existsReserved(a):b.h.hasOwnProperty(a)};n.getPackForAsset=function(a){var b=n._assets;if(!1==(null!=v[a]?b.existsReserved(a):
b.h.hasOwnProperty(a)))return null;var b=n._packs,c=n._assets,a=null!=v[a]?c.getReserved(a):c.h[a];return(null!=v[a]?b.getReserved(a):b.h[a]).pack};n.getTexture=function(a){if(!1==n.hasTexture(a))return null;var b=n._spritesheets;if(null!=v[a]?b.existsReserved(a):b.h.hasOwnProperty(a))b=n._spritesheets,a=(null!=v[a]?b.getReserved(a):b.h[a]).atlas;b=n._assets;if(!1==(null!=v[a]?b.existsReserved(a):b.h.hasOwnProperty(a)))return null;var b=n._packs,c=n._assets,c=null!=v[a]?c.getReserved(a):c.h[a];return(null!=
v[c]?b.getReserved(c):b.h[c]).pack.getTexture(a)};n.getSpriteRect=function(a){if(null==a||""==a)return null;var b=n._spritesheets;if(!1==(null!=v[a]?b.existsReserved(a):b.h.hasOwnProperty(a)))return null;b=n._spritesheets;return(null!=v[a]?b.getReserved(a):b.h[a]).rect};n.getSound=function(a){if(!1==n.hasSound(a))return null;var b=n._packs,c=n._assets,c=null!=v[a]?c.getReserved(a):c.h[a];return(null!=v[c]?b.getReserved(c):b.h[c]).pack.getSound(a)};n.getFile=function(a){if(!1==n._hasAsset(a))return null;
var b=n._packs,c=n._assets,c=null!=v[a]?c.getReserved(a):c.h[a];return(null!=v[c]?b.getReserved(c):b.h[c]).pack.getFile(a)};n.getXML=function(a){if(!1==n.hasXML(a))return null;a=t.parse(n.getFile(a).toString());return new rc(a.firstElement())};n.allConfig=function(){for(var a=[],b=0,c=vf.allConfig;b<c.length;){var d=c[b];++b;a.push(n.getXML(d))}return a};n.getFont=function(a,b,c){null==c&&(c=-1);null==b&&(b=!0);var d;null==a||""==a?d=!0:(d=n._assets,d=!1==(null!=v[a]?d.existsReserved(a):d.h.hasOwnProperty(a)));
if(d)return n.getFont(O.defaultFont);if(-1==c){if(!1==b)return c=n._packs,d=n._assets,d=null!=v[a]?d.getReserved(a):d.h[a],new gb((null!=v[d]?c.getReserved(d):c.h[d]).pack,a);c=n._fontCache;if(!1==(null!=v[a]?c.existsReserved(a):c.h.hasOwnProperty(a)))c=n._fontCache,d=n._packs,b=n._assets,b=null!=v[a]?b.getReserved(a):b.h[a],d=new gb((null!=v[b]?d.getReserved(b):d.h[b]).pack,a),null!=v[a]?c.setReserved(a,d):c.h[a]=d;c=n._fontCache;return null!=v[a]?c.getReserved(a):c.h[a]}d=a+c;if(!1==b)return d=
n._packs,b=n._assets,b=null!=v[a]?b.getReserved(a):b.h[a],new Db((null!=v[b]?d.getReserved(b):d.h[b]).pack,a,c);b=n._fontCache;if(!1==(null!=v[d]?b.existsReserved(d):b.h.hasOwnProperty(d))){var b=n._fontCache,f=n._packs,l=n._assets,l=null!=v[a]?l.getReserved(a):l.h[a],a=new Db((null!=v[l]?f.getReserved(l):f.h[l]).pack,a,c);null!=v[d]?b.setReserved(d,a):b.h[d]=a}a=n._fontCache;return null!=v[d]?a.getReserved(d):a.h[d]};var X=function(){};g["workinman.WMCloud"]=X;X.__name__=["workinman","WMCloud"];
X.setBool=function(a,b){X.setValue(a,b)};X.getBool=function(a){var b=X._values;return null!=v[a]?b.getReserved(a):b.h[a]};X.setFloat=function(a,b){X.setValue(a,b)};X.setInt=function(a,b){X.setValue(a,b)};X.setDefault=function(a,b){var c=X._defaults;null!=v[a]?c.setReserved(a,b):c.h[a]=b;X.resetValue(a)};X.setValue=function(a,b){var c=X._values;null!=v[a]?c.setReserved(a,b):c.h[a]=b;c=X._defaults;!1==(null!=v[a]?c.existsReserved(a):c.h.hasOwnProperty(a))&&X.setDefault(a,b);X._updateDisplays(a)};X.resetValue=
function(a){var b=X._defaults,c=X._values,b=null!=v[a]?b.getReserved(a):b.h[a];null!=v[a]?c.setReserved(a,b):c.h[a]=b;X._updateDisplays(a)};X._updateDisplays=function(a){w.updateDisplay.dispatch(a)};var uc=function(){};g["workinman.pooling.IStrictPoolable"]=uc;uc.__name__=["workinman","pooling","IStrictPoolable"];uc.prototype={__class__:uc,__properties__:{get_poolKey:"get_poolKey"}};var Oa=function(){};g["workinman.pooling.PoolStrictBase"]=Oa;Oa.__name__=["workinman","pooling","PoolStrictBase"];Oa.__interfaces__=
[uc];Oa.prototype={instance:function(a,b){this._returnFunction=b;this._key=a;this.poolActivate();this.create();return this},get_poolKey:function(){return this._key},create:function(){},poolActivate:function(){this._disposed=!1},dispose:function(){this._disposed||(this._disposed=!0,this._returnFunction(this))},destroy:function(){this._returnFunction=null},__class__:Oa,__properties__:{get_poolKey:"get_poolKey"}};var R=function(){};g["workinman.math.WMPoint"]=R;R.__name__=["workinman","math","WMPoint"];
R.request=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);return ga.requestObject(R).init(a,b,c)};R.__super__=Oa;R.prototype=x(Oa.prototype,{init:function(a,b,c){return this.to(a,b,c)},get_angle:function(){return 180*Math.atan2(this.y,this.x)/Math.PI},clean:function(){this.x=Math.round(1E3*this.x)/1E3;this.y=Math.round(1E3*this.y)/1E3;this.z=Math.round(1E3*this.z)/1E3;return this},to:function(a,b,c){null==c&&(c=0);this.x=a;this.y=b;this.z=c;this.calculateLength();return this},toPoint:function(a){this.x=
a.x;this.y=a.y;this.z=a.z;this.calculateLength();return this},add:function(a,b,c){null==c&&(c=0);this.x+=a;this.y+=b;this.z+=c;this.calculateLength();return this},addPoint:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;this.calculateLength();return this},addCopy:function(a,b,c){null==c&&(c=0);return R.request(this.x+a,this.y+b,this.z+c)},addPointCopy:function(a){return R.request(this.x+a.x,this.y+a.y,this.z+a.z)},subtract:function(a,b,c){null==c&&(c=0);this.x-=a;this.y-=b;this.z-=c;this.calculateLength();
return this},subtractScalar:function(a){a=this._length-a;Zb.sign(this._length)!=Zb.sign(a)&&(a=0);this.set_length(a);return this},subtractPoint:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.calculateLength();return this},subtractCopy:function(a,b,c){null==c&&(c=0);return R.request(this.x-a,this.y-b,this.z-c)},subtractPointCopy:function(a){return R.request(this.x-a.x,this.y-a.y,this.z-a.z)},multiply:function(a){this.x*=a;this.y*=a;this.z*=a;this.clean();this.calculateLength();return this},multiplyCopy:function(a){return R.request(this.x*
a,this.y*a,this.z*a)},divide:function(a){this.x/=a;this.y/=a;this.z/=a;this.clean();this.calculateLength();return this},divideCopy:function(a){return R.request(this.x/a,this.y/a,this.z/a)},reverse:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},copy:function(){return R.request(this.x,this.y,this.z)},copyAndResize:function(a){return 0==a?R.request(0,0):this.multiplyCopy(a/this._length)},equals:function(a){return this.x==a.x&&this.y==a.y?this.z==a.z:!1},get_length:function(){return this._length},
set_length:function(a){if(0==this._length||0>=a)return this.to(0,0),this._length;this.multiply(a/this._length);return this._length},reverseCopy:function(){return R.request(-1*this.x,-1*this.y,-1*this.z)},normalize:function(){if(0==this._length)return this;this.x/=this._length;this.y/=this._length;this.z/=this._length;this.calculateLength();return this},normalizeTo:function(a){this.set_length(a);return this},normalizeCopy:function(){return 0==this._length?R.request(0,0,0):R.request(this.x/this._length,
this.y/this._length,this.z/this._length)},normalizeCopyTo:function(a){if(0==this._length)return R.request(0,0,0);this._workFloat=a/this._length;return R.request(this.x*this._workFloat,this.y*this._workFloat,this.z*this._workFloat)},pseudoCross:function(a){a.to(this.y,-this.x,this.z);return this},calculateLength:function(){this._length=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return this},rotate:function(a){a*=Math.PI/180;this._workFloat=this.x*Math.cos(a)-this.y*Math.sin(a);this.y=this.y*
Math.cos(a)+this.x*Math.sin(a);this.x=this._workFloat;return this},rotateTo:function(a){this.rotate(a-this.get_angle());return this},getAngleBetween:function(a){return 0==a.get_length()||0==this.get_length()?0:180/Math.PI*Math.acos((a.x*this.x+a.y*this.y)/(a.get_length()*this.get_length()))},rotateCopy:function(a){var b=Math.cos(a*Math.PI/180),a=Math.sin(a*Math.PI/180);return R.request(this.x*b-this.y*a,this.x*a-this.y*b)},get_normalizedMagnitude:function(){var a=this.normalizeCopy(),b=Math.sqrt(a.x*
a.x+a.y*a.y);a.dispose();return b},toString:function(){return"{ WMPoint : "+this.x+" , "+this.y+" , "+this.z+" , len: "+this._length+"  }"},dot:function(a){return this.x*a.x+this.y*a.y},__class__:R,__properties__:x(Oa.prototype.__properties__,{get_normalizedMagnitude:"get_normalizedMagnitude",set_length:"set_length",get_length:"get_length",get_angle:"get_angle"})});var ga=function(){};g["workinman.WMPool"]=ga;ga.__name__=["workinman","WMPool"];ga._initPool=function(a,b,c,d){null==d&&(d=-1);var f=
ga._pools;if(!0!=(null!=v[a]?f.existsReserved(a):f.h.hasOwnProperty(a)))null==c&&(c=wa.NONE),f=ga._pools,b=new Ee(b,c,d),null!=v[a]?f.setReserved(a,b):f.h[a]=b};ga.requestObject=function(a,b,c){null==c&&(c=-1);var d=ha.getClassName(a);ga._testPool(d,a,b,c);b=ga._pools;b=null!=v[d]?b.getReserved(d):b.h[d];ga._logCreate(d,b);if(0<b.get_numPooled())a=b.givePool(),a.poolActivate();else{b.incrementCreated();if(0<b.get_cap()&&b.get_created()>b.get_cap())throw new o("Too many instances of "+A.string(a)+
" allocated - currently at "+b.get_created());a=ha.createEmptyInstance(a).instance(d,ga._returnObject)}return a};ga._logCreate=function(a,b){switch(b.get_log()[1]){case 2:b.get_numPooled()}};ga._returnObject=function(a){var b=ga._pools,c=a.get_poolKey();if(!1!=(null!=v[c]?b.existsReserved(c):b.h.hasOwnProperty(c)))b=ga._pools,c=a.get_poolKey(),b=null!=v[c]?b.getReserved(c):b.h[c],b.poolObject(a),ga._logReturn(a.get_poolKey(),b)};ga._logReturn=function(a,b){b.get_log()};ga._testPool=function(a,b,c,
d){null==d&&(d=-1);var f=ga._pools;!1==(null!=v[a]?f.existsReserved(a):f.h.hasOwnProperty(a))&&ga._initPool(a,b,c,d)};var wa=g["workinman.pooling.LOG_LEVEL"]={__ename__:!0,__constructs__:["NONE","NO_STACK","NEW_STACK","ALL_STACK"]};wa.NONE=["NONE",0];wa.NONE.toString=h;wa.NONE.__enum__=wa;wa.NO_STACK=["NO_STACK",1];wa.NO_STACK.toString=h;wa.NO_STACK.__enum__=wa;wa.NEW_STACK=["NEW_STACK",2];wa.NEW_STACK.toString=h;wa.NEW_STACK.__enum__=wa;wa.ALL_STACK=["ALL_STACK",3];wa.ALL_STACK.toString=h;wa.ALL_STACK.__enum__=
wa;var Ee=function(a,b,c){this._pool=[];this._class=a;this._log=b;this._created=this._max=0;this._cap=c;this._loose=0};g["workinman.pooling.PoolTracker"]=Ee;Ee.__name__=["workinman","pooling","PoolTracker"];Ee.prototype={get_log:function(){return this._log},get_numPooled:function(){return this._pool.length},get_created:function(){return this._created},get_cap:function(){return this._cap},incrementCreated:function(){this._created++},poolObject:function(a){this._pool.push(a);var a=this._max,b=this._pool.length;
this._max=a>b?a:b},givePool:function(){return this._pool.pop()},__class__:Ee,__properties__:{get_cap:"get_cap",get_created:"get_created",get_numPooled:"get_numPooled",get_log:"get_log"}};var sd=function(a){this.lastPos=R.request();this.line=Va.request();this.swipe=$.NONE;this.down=!1;this.fresh=!0;this.id=a;this.disposed=this.consumed=!1};g["workinman.input.Pointer"]=sd;sd.__name__=["workinman","input","Pointer"];sd.prototype={dispose:function(){this.disposed=!0;this.lastPos.dispose();this.lastPos=
null;this.line.dispose();this.swipe=this.line=null},get_currentPos:function(){return this.line.get_p1()},begin:function(a,b){this.line.toFloats(a,b,a,b);this.lastPos.to(a,b);this.phase=ua.DOWN;this.fresh=this.down=!0;this.consumed=!1;this.swipe=$.NONE},move:function(a,b){this._updateInfo(a,b);this.phase!=ua.UP&&!this.fresh&&(this.fresh=!0,this.phase=ua.MOVED)},stop:function(){this.phase=ua.STOPPED},end:function(a,b){this._updateInfo(a,b);this.fresh=!0;this.phase=ua.UP;this.down=!1},_updateInfo:function(a,
b){this.lastPos.toPoint(this.line.get_p1());this.line.endTo(a,b,0);var c=this.line.get_p0().x-this.line.get_p1().x,d=this.line.get_p0().y-this.line.get_p1().y;this.swipe=30<=Math.abs(c)&&30>Math.abs(d)?0<c?$.LEFT:$.RIGHT:30<=Math.abs(d)&&30>Math.abs(c)?0<d?$.UP:$.DOWN:$.NONE},__class__:sd,__properties__:{get_currentPos:"get_currentPos"}};var Va=function(){};g["workinman.math.WMLine"]=Va;Va.__name__=["workinman","math","WMLine"];Va.__interfaces__=[uc];Va.request=function(a,b,c,d){null==d&&(d=0);null==
c&&(c=0);null==b&&(b=0);null==a&&(a=0);return ga.requestObject(Va).init(a,b,c,d)};Va.__super__=Oa;Va.prototype=x(Oa.prototype,{init:function(a,b,c,d){this._p0=R.request();this._p1=R.request();this._normal=R.request();this._vector=R.request();this._parametricDenom=R.request();this.toFloats(a,b,c,d);this._calcProperties();return this},dispose:function(){this._p0.dispose();this._p0=null;this._p1.dispose();this._p1=null;this._normal.dispose();this._normal=null;this._vector.dispose();this._vector=null;
this._parametricDenom.dispose();this._parametricDenom=null;Oa.prototype.dispose.call(this)},get_p0:function(){return this._p0},get_p1:function(){return this._p1},get_slope:function(){return this._slope},get_yIntercept:function(){return this._yIntercept},get_normal:function(){return this._normal},get_vector:function(){return this._vector},get_center:function(){return R.request(this._p0.x+this._vector.x/2,this._p0.y+this._vector.y/2)},get_centerX:function(){return this._p0.x+this._vector.x/2},get_centerY:function(){return this._p0.y+
this._vector.y/2},get_parametricDenom:function(){return this._parametricDenom},get_length:function(){return this._length},set_length:function(a){if(0==this.get_length())return this._length;this._p1.to(this._p0.x+this._vector.x*(a/this.get_length()),this._p0.y+this._vector.y*(a/this.get_length()));this._calcProperties();return this._length},recalculate:function(){this._calcProperties()},getNewPoint:function(a,b){null==b&&(b=R.request());b.to(this.get_p0().x+this._vector.x*a,this.get_p0().y+this._vector.y*
a);return b},equals:function(a){return a.get_p0().equals(this.get_p0())?a.get_p1().equals(this.get_p1()):!1},flip:function(){var a=this._p0.copy();this._p0.toPoint(this._p1);this._p1.toPoint(a);a.dispose();this._calcProperties()},clean:function(){this._p0.clean();this._p1.clean();this._calcProperties()},copy:function(){return Va.request().to(this._p0,this._p1)},to:function(a,b){this._p0.toPoint(a);this._p1.toPoint(b);this._calcProperties();return this},toLine:function(a){this._p0.toPoint(a.get_p0());
this._p1.toPoint(a.get_p1());this._calcProperties();return this},toFloats:function(a,b,c,d){this._p0.to(a,b);this._p1.to(c,d);this._calcProperties();return this},originTo:function(a,b,c){null==c&&(c=0);this._p0.to(a,b,c);this._calcProperties();return this},originToPoint:function(a){this._p0.toPoint(a);this._calcProperties()},endTo:function(a,b,c){null==c&&(c=0);this._p1.to(a,b,c);this._calcProperties()},endToPoint:function(a){this._p1.toPoint(a);this._calcProperties()},rotate:function(a){this._vector.rotateTo(a);
this._p1.to(this._p0.x+this._vector.x,this._p0.y+this._vector.y);this._calcProperties();this._calcProperties()},rotateTo:function(a){this._vector.rotateTo(a);this._p1.to(this._p0.x+this._vector.x,this._p0.y+this._vector.y);this._calcProperties()},shiftOrigin:function(a){var b=this._vector.reverseCopy();b.set_length(a);this._p0.addPoint(b);b.dispose();this._calcProperties()},shiftEnd:function(a){this.set_length(this.get_length()+a)},_calcProperties:function(){this._length=Math.round(1E3*Math.sqrt((this._p0.x-
this._p1.x)*(this._p0.x-this._p1.x)+(this._p0.y-this._p1.y)*(this._p0.y-this._p1.y)))/1E3;this._vector.to(this.get_p1().x-this.get_p0().x,this.get_p1().y-this.get_p0().y);this._slope=this._vector.y/this._vector.x;0==this.get_vector().x&&(this._slope=1E5);this._yIntercept=this.get_p0().y-this._slope*this.get_p0().x;this._parametricDenom.to(this.get_p1().x-this.get_p0().x,this.get_p1().y-this.get_p0().y);this._vector.pseudoCross(this._normal);this._normal.normalize()},testLineDot:function(a){return this._vector.dot(a.get_normal())},
projectOntoLine:function(a){var b=a.get_vector().dot(this.get_vector().normalizeCopy());return Va.request().to(a.get_p0(),a.get_p1().addPointCopy(this._normal.copyAndResize(Math.sqrt(a.get_length()*a.get_length()-b*b))))},testLineIntercept:function(a,b){null==b&&(b=new td(!1));this._inverseDeterminate=1/(-1*this._slope- -1*a.get_slope());b.set_success(!0);var c=R.request((-1*a.get_yIntercept()- -1*this._yIntercept)*this._inverseDeterminate,(a.get_slope()*this._yIntercept-this.get_slope()*a.get_yIntercept())*
this._inverseDeterminate,0);b.set_result(c);c.dispose();return b},testLineSegmentIntercept:function(a,b,c){var d=-a.get_vector().x*this._vector.y+this._vector.x*a.get_vector().y,f=this.get_p0().x-a.get_p0().x,l=this.get_p0().y-a.get_p0().y,b=(-this._vector.y*f+this._vector.x*l)/d,a=(a.get_vector().x*l-a.get_vector().y*f)/d;null==c&&(c=new td(!1));c.set_success(!1);0<=b&&1>=b&&0<=a&&1>=a&&(c.set_success(!0),a=R.request(this.get_p0().x+a*this._vector.x,this.get_p0().y+a*this._vector.y),c.set_result(a),
a.dispose());return c},testPointSegmentIntercept:function(a){this._xSegmentResult=0==this._parametricDenom.x?0:(a.x-this.get_p0().x)/this._parametricDenom.x;this._ySegmentResult=0==this._parametricDenom.y?0:(a.y-this.get_p0().y)/this._parametricDenom.y;return 0<=this._xSegmentResult&&1>=this._xSegmentResult&&0<=this._ySegmentResult&&1>=this._ySegmentResult?!0:!1},toString:function(){return"[WMLine] ("+this._p0.x+", "+this._p0.y+", "+this._p0.z+") ~> ("+this._p1.x+", "+this._p1.y+", "+this._p1.z+") / Len: "+
this._length},__class__:Va,__properties__:x(Oa.prototype.__properties__,{set_length:"set_length",get_length:"get_length",get_parametricDenom:"get_parametricDenom",get_centerY:"get_centerY",get_centerX:"get_centerX",get_center:"get_center",get_vector:"get_vector",get_normal:"get_normal",get_yIntercept:"get_yIntercept",get_slope:"get_slope",get_p1:"get_p1",get_p0:"get_p0"})});var $=g["workinman.input.INPUT_SWIPE"]={__ename__:!0,__constructs__:["NONE","LEFT","RIGHT","UP","DOWN"]};$.NONE=["NONE",0];$.NONE.toString=
h;$.NONE.__enum__=$;$.LEFT=["LEFT",1];$.LEFT.toString=h;$.LEFT.__enum__=$;$.RIGHT=["RIGHT",2];$.RIGHT.toString=h;$.RIGHT.__enum__=$;$.UP=["UP",3];$.UP.toString=h;$.UP.__enum__=$;$.DOWN=["DOWN",4];$.DOWN.toString=h;$.DOWN.__enum__=$;var p=function(){};g["workinman.WMInput"]=p;p.__name__=["workinman","WMInput"];p.setDelegateUnlockWebAudio=function(a){p._delegateUnlockWebAudio=a};p._delegateDispatch=function(a,b){null!=p._delegateUnlockWebAudio&&!1==b&&(p._delegateUnlockWebAudio(),p._delegateUnlockWebAudio=
null);!1!=p.enabled&&p.eventInput.dispatch(a,b)};p.update=function(){if(!1!=p.enabled){p._findGamepad();null!=p._gamepad&&(p._gamepad.update(),p.leftStick.to(p._gamepad.leftX,p._gamepad.leftY),p.rightStick.to(p._gamepad.rightX,p._gamepad.rightY));for(var a=0,b=p._inputTrackers;a<b.length;){var c=b[a];++a;c.updateStatus()}p.pointer.fresh=!1;for(a=p.multiTouch.length;0<a--;)b=p.multiTouch[a],!1==b.fresh&&(!1==b.down?(b.dispose(),p.multiTouch.splice(a,1)):b.stop()),b.fresh=!1}};p._findGamepad=function(){if(k.isFunction((Cf=
window.navigator,i(Cf,Cf.getGamepads))))for(var a=0,b=window.navigator.getGamepads();a<b.length;){var c=b[a];++a;if(null!=c&&-1<c.id.indexOf("Xbox 360 Controller")){null==p._gamepad?p._gamepad=new ud(c):p._gamepad.setGamepad(c);break}}};p.prime=function(a){p._root=a;F._platform.getKeyboard().down.connect(p._onKeyDown);F._platform.getKeyboard().up.connect(p._onKeyUp);F._platform.getTouch().get_supported()&&(F._platform.getTouch().down.connect(p._onTouchDown),F._platform.getTouch().move.connect(p._onTouchMove),
F._platform.getTouch().up.connect(p._onTouchUp));F._platform.getPointer().down.connect(p._onPointerDown);F._platform.getPointer().move.connect(p._onPointerMove);F._platform.getPointer().up.connect(p._onPointerUp);F._platform.getMouse().scroll.connect(p._onScrollWheel)};p.hitTest=function(a,b){return p._root.hitTest(a,b)};p._onScrollWheel=function(a){p.eventMouseWheel.dispatch(a)};p.registerInput=function(a,b,c,d){p._createOrGetInputTracker(a).setKeys(b,c,d)};p._createOrGetInputTracker=function(a){for(var b=
0,c=p._inputTrackers;b<c.length;){var d=c[b];++b;if(d.type==a)return d}a=new Fe(a,p._fireKeyEvent,p._isVirtualDown,p._isControllerDown);p._inputTrackers.push(a);return a};p._fireKeyEvent=function(a,b){p._delegateDispatch(a,b)};p._onKeyDown=function(a){p.eventKey.dispatch(a.key,!0)};p._onKeyUp=function(a){p.eventKey.dispatch(a.key,!1)};p._isVirtualDown=function(a){for(var b=0,c=p._virtualDown;b<c.length;){var d=c[b];++b;if(d==a)return!0}return!1};p.onControllerDown=function(a){for(var b=0,c=p._controllerDown;b<
c.length;){var d=c[b];++b;if(d==a)return}p._controllerDown.push(a)};p.onControllerUp=function(a){for(var b=p._controllerDown.length;0<b--;)if(p._controllerDown[b]==a){p._controllerDown.splice(b,1);break}};p._isControllerDown=function(a){for(var b=0,c=p._controllerDown;b<c.length;){var d=c[b];++b;if(d==a)return!0}return!1};p._onTouchDown=function(a){p._doTouchDown(a.id,a.viewX,a.viewY)};p._onTouchMove=function(a){p._doTouchMove(a.id,a.viewX,a.viewY)};p._onTouchUp=function(a){p._doTouchUp(a.id,a.viewX,
a.viewY)};p._doTouchDown=function(a,b,c){var d=p._findTouch(a);null==d&&(d=new sd(a),p.multiTouch.push(d));d.begin(b,c)};p._doTouchMove=function(a,b,c){a=p._findTouch(a);null!=a&&a.move(b,c)};p._doTouchUp=function(a,b,c){a=p._findTouch(a);null!=a&&a.end(b,c)};p._findTouch=function(a){for(var b=0,c=p.multiTouch;b<c.length;){var d=c[b];++b;if(d.id==a)return d}return null};p._onPointerDown=function(a){p.pointer.begin(a.viewX,a.viewY);!1==F._platform.getTouch().get_supported()&&p._doTouchDown(0,a.viewX,
a.viewY);p._delegateDispatch(D.POINTER,!0)};p._onPointerMove=function(a){p.pointer.move(a.viewX,a.viewY);!1==F._platform.getTouch().get_supported()&&p._doTouchMove(0,a.viewX,a.viewY);p._delegateDispatch(D.POINTER_MOVE,!0)};p._onPointerUp=function(a){p.pointer.end(a.viewX,a.viewY);!1==F._platform.getTouch().get_supported()&&p._doTouchUp(0,a.viewX,a.viewY);p._delegateDispatch(D.POINTER,!1)};var Pa=g["workinman.LOCALIZATION_FORMAT"]={__ename__:!0,__constructs__:["TRADITIONAL_XML","STRINGS_JS","STRINGS_JSON"]};
Pa.TRADITIONAL_XML=["TRADITIONAL_XML",0];Pa.TRADITIONAL_XML.toString=h;Pa.TRADITIONAL_XML.__enum__=Pa;Pa.STRINGS_JS=["STRINGS_JS",1];Pa.STRINGS_JS.toString=h;Pa.STRINGS_JS.__enum__=Pa;Pa.STRINGS_JSON=["STRINGS_JSON",2];Pa.STRINGS_JSON.toString=h;Pa.STRINGS_JSON.__enum__=Pa;var Ge=function(a,b,c,d,f,l,e){this.id=a;this.string=this._sanitizeString(b);this.fontName=c;this.scale=d;this.offsetX=f;this.offsetY=l;this.subtitleTime=e};g["workinman.localization.LocalizationData"]=Ge;Ge.__name__=["workinman",
"localization","LocalizationData"];Ge.prototype={dispose:function(){this.fontName=this.string=this.id=null},_sanitizeString:function(a){a=Q.replace(a,"<br>","\n");return a=Q.replace(a,"\\n","\n")},__class__:Ge};var O=function(){};g["workinman.WMLocalize"]=O;O.__name__=["workinman","WMLocalize"];O.parseLocalization=function(a){null==a&&(a="");if(null==a||""==a)a="translation.xml";var b=n.getXML(a),a=Pa.TRADITIONAL_XML;b.has.resolve("format")&&(a=ha.createEnum(Pa,b.att.resolve("format")));O.defaultFont=
b.att.resolve("defaultFont");O.rtl=!1;b.has.resolve("rtl")&&(O.rtl="true"==b.att.resolve("rtl"));O.subtitlesEnabled=!1;b.has.resolve("sub")&&(O.subtitlesEnabled="true"==b.att.resolve("sub"));switch(a[1]){case 0:a="";for(b=b.nodes.resolve("string").h;null!=b;){var a=b.item,b=b.next,c=a,a=c.att.resolve("id");O._localizedData.exists(a)||O._addLocalizationData(a,c.get_innerData(),c.has.resolve("fontName")?c.att.resolve("fontName"):O.defaultFont,c.has.resolve("fontScale")?c.att.resolve("fontScale"):"1",
c.has.resolve("offsetX")?c.att.resolve("offsetX"):"0",c.has.resolve("offsetY")?c.att.resolve("offsetY"):"0",c.has.resolve("subTime")?c.att.resolve("subTime"):"-1")}break;case 2:for(a=b.nodes.resolve("json").h;null!=a;)for(var b=a.item,a=a.next,b=JSON.parse(n.getFile(b.get_innerData()).toString()),c=0,d=k.fields(b.strings);c<d.length;){var f=d[c];++c;var l=k.field(b.strings,f);null!=l.value?O._addLocalizationData(f,l.value,null==l.fontName?"":l.fontName,null==l.fontScale?"1":l.fontScale,null==l.offsetX?
"0":l.offsetX,null==l.offsetY?"0":l.offsetY,null==l.subTime?"-1":l.subTime):O._addLocalizationData(f,l,"","1","0","0","-1")}}};O._addLocalizationData=function(a,b,c,d,f,l,e){var g=O._localizedData;if(null!=v[a]?g.existsReserved(a):g.h.hasOwnProperty(a))g=O._localizedData,(null!=v[a]?g.getReserved(a):g.h[a]).dispose();g=O._localizedData;b=new Ge(a,b,c,parseFloat(d),parseFloat(f),parseFloat(l),parseFloat(e));null!=v[a]?g.setReserved(a,b):g.h[a]=b};O.getLocalizeData=function(a){var b=O._localizedData;
if(!1==(null!=v[a]?b.existsReserved(a):b.h.hasOwnProperty(a)))return null;b=O._localizedData;return null!=v[a]?b.getReserved(a):b.h[a]};var vb=function(){};g["workinman.WMRandom"]=vb;vb.__name__=["workinman","WMRandom"];vb.random=function(a){null==a&&(a="");if(null==a||""==a)return Math.random();var b=vb._seeds;if(null==(null!=v[a]?b.getReserved(a):b.h[a]))return Math.random();b=vb._seeds;return(null!=v[a]?b.getReserved(a):b.h[a]).random()};vb.randomFloat=function(a,b,c){null==c&&(c="");return a+
vb.random(c)*(b-a)};vb.randomInt=function(a,b,c){null==c&&(c="");return Math.floor(vb.randomFloat(a,b+1,c))};var Pc=function(){};g["workinman.WMSaving"]=Pc;Pc.__name__=["workinman","WMSaving"];Pc.dataLoad=function(a){var a=Pc._getLocal(a),b=a.data;a.dispose();return b};Pc._getLocal=function(a){var b=new He(a);try{var c=window.localStorage.getItem(a);null!=c&&""!=c&&(b.data=ta.run(c))}catch(d){}return b};var xa=g["workinman.sound.VO_STATUS"]={__ename__:!0,__constructs__:["STOPPED","PLAYING","PAUSED"]};
xa.STOPPED=["STOPPED",0];xa.STOPPED.toString=h;xa.STOPPED.__enum__=xa;xa.PLAYING=["PLAYING",1];xa.PLAYING.toString=h;xa.PLAYING.__enum__=xa;xa.PAUSED=["PAUSED",2];xa.PAUSED.toString=h;xa.PAUSED.__enum__=xa;var tc=function(){this._objectTrackers=[]};g["workinman.tween.Tweener"]=tc;tc.__name__=["workinman","tween","Tweener"];tc.prototype={dispose:function(){for(var a=0,b=this._objectTrackers;a<b.length;){var c=b[a];++a;c.dispose()}this._objectTrackers=null},update:function(a){for(var b=this._objectTrackers.length;0<
b--;){var c=this._objectTrackers[b];c.update(a);c.get_isComplete()&&(c.dispose(),this._objectTrackers.splice(b,1))}},tween:function(a,b){null==a.overwrite&&(a.overwrite=!1);null==a.thread&&(a.thread="def");for(var c=new Ie(a,b),d=0,f=this._objectTrackers;d<f.length;){var l=f[d];++d;if(l.target==a.target)return a.overwrite&&l.stopThread(a.thread),l.queueStep(c,a.thread),c}d=new Je(a.target);this._objectTrackers.push(d);d.queueStep(c,a.thread);return c},__class__:tc};var j=function(){};g["workinman.WMSound"]=
j;j.__name__=["workinman","WMSound"];j.__properties__={set_muteAll:"set_muteAll"};j.set_muteAll=function(a){j.muteAll=a;j._toggleMute();return a};j._toggleMute=function(){j._getMuteState(j.muteMusic)?j.stopMusic():j.playMusic(j._musicId,j._musicGain);j._getMuteState(j.muteSfx)&&j.stopAllSound();j._getMuteState(j.muteVo)&&j.stopVO()};j._setVOState=function(a){if(a!=j._stateVo){j._stateVo=a;switch(j._stateVo[1]){case 0:null!=j._music&&j.duckMusic&&j._tween.tween({target:j._music,duration:0.15,overwrite:!0,
ease:J.inOutQuad},{volume:0.3});break;case 1:null!=j._music&&j.duckMusic&&j._tween.tween({target:j._music,duration:0.15,overwrite:!0,ease:J.inOutQuad},{volume:0.15})}j.eventVOStatus.dispatch(a)}};j._getMuteState=function(a){return!j.muteAll&&!j.muteSystem?a:!0};j.playMusic=function(a,b,c){null==c&&(c=-1);null==b&&(b=1);null==a||""==a||j._musicId==a&&null!=j._music||(j._musicId=a,j._musicGain=b,j.stopMusic(c,j._finishPlayingMusic))};j._finishPlayingMusic=function(){j._music=j._playAudio(j._musicId,
j._musicGain,null,!0,j.muteMusic)};j.stopMusic=function(a,b){null==a&&(a=-1);0<a&&null!=j._music?j._tween.tween({target:j._music,duration:a,overwrite:!0,ease:J.linear,complete:function(){j._disposeMusic();null!=b&&b()}},{volume:0}):(j._disposeMusic(),null!=b&&b())};j._disposeMusic=function(){null!=j._music&&(j._music.dispose(),j._music=null)};j.playSound=function(a,b,c,d){null==d&&(d=!1);null==b&&(b=1);a=j._playAudio(a,b,c,d,j.muteSfx);if(null==a)return null;j._sound.push(a);return a};j.stopAllSound=
function(){for(;0<j._sound.length;)j._sound.pop().dispose()};j.stopSound=function(a){for(var b=j._sound.length;0<b--;)j._sound[b].id==a&&(j._sound[b].dispose(),j._sound.splice(b,1))};j.playVO=function(a,b,c,d,f,l){null==l&&(l=-1);null==f&&(f=1);null==c&&(c=!1);c&&j.stopVO();j._voQueue.push(new vd(a,f,d,l,b))};j.stopVO=function(){for(;0<j._voQueue.length;)j._voQueue.pop().dispose();null!=j._vo&&(j._vo.dispose(),j._vo=null)};j._playAudio=function(a,b,c,d,f){if(null==a||""==a||j._getMuteState(f))return null!=
c&&c(),null;f=n.getSound(a);return null==f?(null!=c&&c(),null):d?new wd(a,f.loop(b),c):new wd(a,f.play(b),c)};j.update=function(a){j._tween.update(a);for(var b=j._sound.length;0<b--;){var c=j._sound[b];if(c.isComplete||c.disposed)c.dispose(),j._sound.splice(b,1)}if(null!=j._music&&(j._music.isComplete||j._music.disposed))j._music.dispose(),j._music=null;switch(j._stateVo[1]){case 0:case 2:j._checkVOQueue(a);break;case 1:if(null!=j._vo&&(j._vo.isComplete||j._vo.disposed))j._vo.dispose(),j._vo=null;
null==j._vo&&j._checkVOQueue(a)}};j._checkVOQueue=function(a){0<j._voQueue.length?(j._voQueue[0].delay-=a,0>j._voQueue[0].delay?(a=j._voQueue.shift(),j.subtitleQueue.push(a.localization),null==j._lastVO&&(j._lastVO=new vd(a.id,a.gain,a.call,a.delay,a.localization)),j._lastVO.copy(a),j._vo=j._playAudio(a.id,1,function(){null!=j._lastVO.call&&j._lastVO.call();j.subtitleQueue.shift()},!1,j.muteVo),a.dispose(),j._setVOState(xa.PLAYING)):j._setVOState(xa.PAUSED)):j._setVOState(xa.STOPPED)};var S=function(){};
g["workinman.WMTimer"]=S;S.__name__=["workinman","WMTimer"];S.update=function(a){if(!S._paused)for(var b=S._timers.length;0<b--;)S._timers[b].update(a),S._timers[b].get_isComplete()&&(S._timers[b].dispose(!0),S._timers.splice(b,1))};S.start=function(a,b,c){null==c&&(c="");null!=a&&S._timers.push(new Ke(a,b,""==c?"def"+S._uniqueInc++:c))};S.stop=function(a,b){null==b&&(b=!1);for(var c=S._timers.length;0<c--;)if(S._timers[c].id==a){S._timers[c].dispose(b);S._timers.splice(c,1);break}};var Ke=function(a,
b,c){this.id=c;this._callback=a;this._timer=b;this.paused=!1};g["workinman.WMTimerData"]=Ke;Ke.__name__=["workinman","WMTimerData"];Ke.prototype={dispose:function(a){a&&this._fireCallback();this._callback=this.id=null},get_isComplete:function(){return 0>=this._timer},update:function(a){this.paused||(this._timer-=a,0>this._timer&&this._fireCallback())},_fireCallback:function(){if(null!=this._callback){var a=this._callback;this._callback=null;a()}},__class__:Ke,__properties__:{get_isComplete:"get_isComplete"}};
var Ia=function(){};g["workinman.WMUtils"]=Ia;Ia.__name__=["workinman","WMUtils"];Ia.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=C.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=C.substr(a,b,a.length-b);return a=Ia.appendAssetsToUrl(a)};Ia.appendAssetsToUrl=function(a){if(0==a.length)return a;"/"!=a.charAt(a.length-1)&&(a+="/");a.indexOf("/assets")<a.length-9&&(a+="assets/");return a};
Ia.getExtension=function(a){if(null==a)return"";var b=a.lastIndexOf(".");if(0>b)return"";var c=a.lastIndexOf("?");return c>b?a.substring(b+1,c):a.substring(b+1,a.length)};Ia.removeExtension=function(a){var b=a.lastIndexOf(".");return 0>b?a:a.substring(0,b)};Ia.clearTexture=function(a){a.get_graphics().save();a.get_graphics().setBlendMode(P.Mask);a.get_graphics().setAlpha(0);a.get_graphics().fillRect(0,0,0,a.get_width(),a.get_height());a.get_graphics().restore()};var Ae=function(a,b,c){this.packs=
b;this.complete=a;this.delay=c};g["workinman.assets.LoadQueue"]=Ae;Ae.__name__=["workinman","assets","LoadQueue"];Ae.prototype={dispose:function(){this.complete=this.packs=null},__class__:Ae};var De=function(a,b){this.rect=b;this.atlas=a};g["workinman.assets.SpriteSheetDef"]=De;De.__name__=["workinman","assets","SpriteSheetDef"];De.prototype={dispose:function(){this.atlas=this.rect=null},__class__:De};var Be=function(a){this.pack=a;this.assets=[];this.spritesheets=[];this.flump=[]};g["workinman.assets.WMAssetPack"]=
Be;Be.__name__=["workinman","assets","WMAssetPack"];Be.prototype={__class__:Be};var Le=function(a,b,c){this._worldRoot=a;this.worldCenterX=b;this.worldCenterY=c;this.focalLength=300;this.set_rotation(0);this.pos=R.request();this._scratchPoint=new Ob};g["workinman.display.Camera"]=Le;Le.__name__=["workinman","display","Camera"];Le.prototype={dispose:function(){this.pos.dispose();this._scratchPoint=this.pos=null},set_rotation:function(a){this.rotation=a;this._worldRoot.rotation=a;return this.rotation},
getWorldPositionOfScreenPoint:function(a,b,c,d){this._worldRoot.get_viewMatrix().inverseTransform(a,b,this._scratchPoint);a=1/(this.focalLength/(this.focalLength-(this.pos.z-c)));d.x=this.pos.x+(this.worldCenterX+(this._scratchPoint.x-this.worldCenterX)*a);d.y=this.pos.y+(this.worldCenterY+(this._scratchPoint.y-this.worldCenterY)*a);return d},__class__:Le,__properties__:{set_rotation:"set_rotation"}};var nd=function(a,b,c,d){null==d&&(d=!1);this._layerOrder=[];this._layers=new aa;this.root=a.addChild(new xd(b,
c,this._layers,this._layerOrder));this.camera=this.root.camera;this._defaultLayer="";this._enablePointer=d};g["workinman.display.ElementManager"]=nd;nd.__name__=["workinman","display","ElementManager"];nd.prototype={dispose:function(){null!=this.root&&(this.root.doDelete=!0,this.root=null);this._defaultLayer=this._layerOrder=this._layers=null},addLayer:function(a,b){null==b&&(b=!1);var c=this._layers;if(null!=v[a]?c.existsReserved(a):c.h.hasOwnProperty(a))C.remove(this._layerOrder,a);else{if(b||1>
this._defaultLayer.length)this._defaultLayer=a;var c=this._layers,d=[];null!=v[a]?c.setReserved(a,d):c.h[a]=d}this._layerOrder.push(a)},addElement:function(a,b){null==b&&null!=this._defaultLayer&&(b=this._defaultLayer);var c;null!=b?(c=this._layers,c=!1==(null!=v[b]?c.existsReserved(b):c.h.hasOwnProperty(b))):c=!0;if(c)return a;null!=a.parent&&a.parent.removeChild(a);this.root.addElementLayer(a,b);return a},update:function(a){var b;b=this._layers;for(var c=new La(b,b.arrayKeys());c.hasNext();)for(var d=
c.next(),f=d.length;0<f--;)b=d[f],b.runUpdate(a),b.doDelete&&(b.dispose(),d.splice(f,1))},getAllButtons:function(){for(var a=[],b=this._layers,b=new La(b,b.arrayKeys());b.hasNext();)for(var c=b.next(),d=0;d<c.length;){var f=c[d];++d;a=a.concat(this._getButtons(f))}return a},_getButtons:function(a){var b=[];r.__instanceof(a,E)&&b.push(a);for(var c=0,a=a.children;c<a.length;){var d=a[c];++c;b=b.concat(this._getButtons(d))}return b},__class__:nd};var xd=function(a,b,c,d){L.call(this,null);this.camera=
new Le(this,a,b);this._layers=c;this._layerOrder=d};g["workinman.display.ElementManagerSprite"]=xd;xd.__name__=["workinman","display","ElementManagerSprite"];xd.__super__=L;xd.prototype=x(L.prototype,{dispose:function(){L.prototype.dispose.call(this);null!=this.camera&&(this.camera.dispose(),this.camera=null);if(null!=this._layers){for(var a=this._layers,a=new La(a,a.arrayKeys());a.hasNext();)for(var b=a.next(),c=0;c<b.length;){var d=b[c];++c;d.dispose()}this._layers=null}this._layerOrder=null},hitTest:function(a,
b,c){if(!1==this.visible||!1==this.inputEnabled)return null;for(var d=null,f=this._layerOrder.length,l;0<f--;){d=this._layerOrder[f];l=this._layers;l=null!=v[d]?l.getReserved(d):l.h[d];for(var e=l.length;0<e--;)if(d=l[e].hitTest(a,b,c),null!=d)return d}return L.prototype.hitTest.call(this,a,b,c)},addElementLayer:function(a,b){var c=this._layers;if(!1==(null!=v[b]?c.existsReserved(b):c.h.hasOwnProperty(b)))return a;null!=a.parent&&a.parent.removeChild(a);a.parent=this;c=this._layers;(null!=v[b]?c.getReserved(b):
c.h[b]).push(a);return a},removeChild:function(a){for(var b=this._layers,b=new La(b,b.arrayKeys());b.hasNext();){var c=b.next();if(C.remove(c,a)){a.parent=null;break}}return a},render:function(a){a.ctx.save();this._matrix.compose(this.get_x(),this.get_y(),this.scaleX,this.scaleY,3.141592653589793*this.rotation/180);null!=this.parent&&Za.multiply(this.parent.get_viewMatrix(),this._matrix,this._viewMatrix);a.ctx.transform(this._matrix.m00,this._matrix.m10,this._matrix.m01,this._matrix.m11,this._matrix.m02,
this._matrix.m12);for(var b=0,c=this.children.length;b<c;)this.children[b++].render(a,null);for(var d,b=0,c=this._layerOrder.length;b<c;){d=this._layerOrder[b++];var f=this._layers;d=null!=v[d]?f.getReserved(d):f.h[d];for(var f=0,l=d.length;f<l;){var e=f++;d[e].render(a,this.camera)}}a.ctx.restore()},__class__:xd});var ib=function(a){L.call(this,a);this.color=16711680;this.sizeX=this.sizeY=10;null!=a&&(this.color=a.color,this.sizeX=a.sizeX,this.sizeY=a.sizeY)};g["workinman.display.FillSprite"]=ib;
ib.__name__=["workinman","display","FillSprite"];ib.__super__=L;ib.prototype=x(L.prototype,{get_width:function(){return Math.floor(this.sizeX)},get_height:function(){return Math.floor(this.sizeY)},_draw:function(a){a.ctx.fillRect(this.color,0,0,this.sizeX,this.sizeY)},__class__:ib});var Db=function(a,b,c){this._color=c;gb.call(this,a,b)};g["workinman.display.FontColor"]=Db;Db.__name__=["workinman","display","FontColor"];Db.__super__=gb;Db.prototype=x(gb.prototype,{reload:function(){this._glyphs=new Ta;
this._glyphs.h[Db.NEWLINE.charCode]=Db.NEWLINE;for(var a=new Wb(this._file.toString()),b=new Ta,c=this.name.lastIndexOf("/"),c=0<=c?C.substr(this.name,0,c+1):"",d=a.keywords();d.hasNext();)switch(d.next()){case "char":for(var f=null,l=a.pairs();l.hasNext();){var e=l.next();switch(e.key){case "height":f.height=e.getInt();break;case "id":f=new Sb(e.getInt());break;case "page":e=e.getInt();f.page=b.h[e];break;case "width":f.width=e.getInt();break;case "x":f.x=e.getInt();break;case "xadvance":f.xAdvance=
e.getInt();break;case "xoffset":f.xOffset=e.getInt();break;case "y":f.y=e.getInt();break;case "yoffset":f.yOffset=e.getInt()}}this._glyphs.set(f.charCode,f);break;case "common":for(f=a.pairs();f.hasNext();)l=f.next(),"lineHeight"==l.key&&(this.lineHeight=l.getInt());break;case "info":for(f=a.pairs();f.hasNext();)l=f.next(),"size"==l.key&&(this.size=l.getInt());break;case "kerning":for(var f=null,e=l=0,g=a.pairs();g.hasNext();){var m=g.next();switch(m.key){case "amount":e=m.getInt();break;case "first":f=
this._glyphs.get(m.getInt());break;case "second":l=m.getInt()}}null!=f&&0!=e&&f.setKerning(l,e);break;case "page":f=0;l=null;for(e=a.pairs();e.hasNext();)switch(g=e.next(),g.key){case "file":l=g.getString();break;case "id":f=g.getInt()}null==b.h[f]&&(l=this._pack.getTexture(c+ja.removeFileExtension(l)),this._texture=F._platform.getRenderer().createTexture(l.get_width()|0,l.get_height()|0),this._texture.get_graphics().fillRect(this._color,0,0,this._texture.get_width(),this._texture.get_height()),this._texture.get_graphics().setBlendMode(P.Mask),
this._texture.get_graphics().drawTexture(l,0,0),this._texture.get_graphics().setBlendMode(P.Normal),b.h[f]=this._texture)}},__class__:Db});var Wb=function(a){this._configText=a;this._keywordPattern=new fb("([A-Za-z]+)(.*)","");this._pairPattern=new fb('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};g["workinman.display._FontColor.ConfigParser"]=Wb;Wb.__name__=["workinman","display","_FontColor","ConfigParser"];Wb.advance=function(a,b){var c=b.matchedPos();return C.substr(a,c.pos+c.len,a.length)};Wb.prototype=
{keywords:function(){var a=this,b=this._configText;return{next:function(){b=Wb.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},pairs:function(){var a=this,b=this._pairText;return{next:function(){b=Wb.advance(b,a._pairPattern);return new Me(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},__class__:Wb};var Me=function(a,b){this.key=
a;this._value=b};g["workinman.display._FontColor.ConfigPair"]=Me;Me.__name__=["workinman","display","_FontColor","ConfigPair"];Me.prototype={getInt:function(){return A.parseInt(this._value)},getString:function(){return 34!=this._value.charCodeAt(0)?null:C.substr(this._value,1,this._value.length-2)},__class__:Me};var Ne=function(a){this.ctx=a;this.canvasCtx=null;r.__instanceof(a,Ma)&&(this.canvasCtx=k.field(a,"_canvasCtx"))};g["workinman.display.Graphics"]=Ne;Ne.__name__=["workinman","display","Graphics"];
Ne.prototype={__class__:Ne};var wb=function(){L.call(this,null)};g["workinman.display.GuideSprite"]=wb;wb.__name__=["workinman","display","GuideSprite"];wb.__super__=L;wb.prototype=x(L.prototype,{_draw:function(a){a.ctx.save();a.ctx.setAlpha(0.5);var b=N.STAGE_CENTER_X-640;a.ctx.fillRect(65280,-480,-360,960,720);a.ctx.fillRect(14911259,-640,-360,160,720);a.ctx.fillRect(14911259,480,-360,160,720);0<b&&(a.ctx.fillRect(16711680,-N.STAGE_CENTER_X,-360,b,720),a.ctx.fillRect(16711680,N.STAGE_CENTER_X-b,
-360,b,720));a.ctx.fillRect(16777215,-N.STAGE_CENTER_X,-360,N.STAGE_WIDTH,40);a.ctx.fillRect(16777215,-N.STAGE_CENTER_X,320,N.STAGE_WIDTH,40);a.ctx.restore()},__class__:wb});var Ac=function(a){da.call(this);this._root=new L(null);this._lastStageX=this._lastStageX=0;this._updateDelegate=a;this._calcScale();this._scratchPoint=new Ob};g["workinman.display.RootSprite"]=Ac;Ac.__name__=["workinman","display","RootSprite"];Ac.__super__=da;Ac.prototype=x(da.prototype,{dispose:function(){this._scratchPoint=
this._updateDelegate=null;da.prototype.dispose.call(this)},onUpdate:function(a){this._root.runUpdate(a);this._updateDelegate(a)},hitTest:function(a,b){return this._root.hitTest(a,b,this._scratchPoint)},_calcScale:function(){if(!(F._platform.getStage().get_width()==this._lastStageX&&F._platform.getStage().get_height()==this._lastStageY)){this._lastStageX=F._platform.getStage().get_width();this._lastStageY=F._platform.getStage().get_height();this._root.set_x(0.5*this._lastStageX);this._root.set_y(0.5*
this._lastStageY);var a=this._lastStageY/720;this._fullWidth=this._lastStageX/a;this._root.rotation=0;N.STAGE_WIDTH=Math.min(Math.ceil(this._fullWidth),1280);N.STAGE_CENTER_X=Math.floor(0.5*N.STAGE_WIDTH);this._root.set_scale(a);w.resizeCanvas.dispatch(a)}},addChild:function(a){return this._root.addChild(a)},draw:function(a){null==this._graphics&&(this._graphics=new Ne(a));this._calcScale();a.fillRect(0,-N.STAGE_CENTER_X-1,-361,N.STAGE_WIDTH+2,722);this._root.render(this._graphics,null);a.save();
a.translate(this._root.get_x(),this._root.get_y());a.scale(this._root.scale,this._root.scale);a.rotate(this._root.rotation);var b=Math.ceil(0.5*(this._fullWidth-N.STAGE_WIDTH)),c=Math.ceil(0.5*this._fullWidth);0<b&&(a.fillRect(0,-c,-361,b,722),a.fillRect(0,c-b,-361,b,722));a.restore()},__class__:Ac});var rd=function(a){this.set_borderLeft(5);this.set_borderRight(5);this.set_borderTop(5);this.set_borderBottom(5);this.set_innerWidth(100);this.set_innerHeight(100);this._bufferW=this._bufferH=-1;null!=
a.borderL&&this.set_borderLeft(a.borderL);null!=a.borderR&&this.set_borderRight(a.borderR);null!=a.borderT&&this.set_borderTop(a.borderT);null!=a.borderB&&this.set_borderBottom(a.borderB);null!=a.innerW&&this.set_innerWidth(a.innerW);null!=a.innerH&&this.set_innerHeight(a.innerH);null!=a.bufferW&&(this._bufferW=Math.floor(a.bufferW));null!=a.bufferH&&(this._bufferH=Math.floor(a.bufferH));s.call(this,a);this._rebuildBuffer(this._bufferW,this._bufferH)};g["workinman.display.SliceSprite"]=rd;rd.__name__=
["workinman","display","SliceSprite"];rd.__super__=s;rd.prototype=x(s.prototype,{set_innerWidth:function(a){this.innerWidth=a;this._rebuildBuffer();return a},set_innerHeight:function(a){this.innerHeight=a;this._rebuildBuffer();return a},set_borderLeft:function(a){this.borderLeft=a;this._rebuildBuffer();return a},set_borderRight:function(a){this.borderRight=a;this._rebuildBuffer();return a},set_borderTop:function(a){this.borderTop=a;this._rebuildBuffer();return a},set_borderBottom:function(a){this.borderBottom=
a;this._rebuildBuffer();return a},get_outerWidth:function(){return this.get_width()},set_outerWidth:function(a){this.set_innerWidth(a-this.borderLeft-this.borderRight);return a},get_outerHeight:function(){return this.get_height()},set_outerHeight:function(a){this.set_innerHeight(a-this.borderTop-this.borderBottom);return a},get_width:function(){return Math.floor(this.innerWidth+this.borderLeft+this.borderRight)},get_height:function(){return Math.floor(this.innerHeight+this.borderTop+this.borderBottom)},
setInnerSize:function(a,b){this.set_innerWidth(a);this.set_innerHeight(b);this._rebuildBuffer()},setBufferSize:function(a,b){null!=this._buffer&&(this._buffer.dispose(),this._buffer=null);this._rebuildBuffer(a,b)},_rebuildBuffer:function(a,b){if(null!=this.texture){null==a&&(a=Math.floor(this.get_outerWidth()));null==b&&(b=Math.floor(this.get_outerHeight()));if(null!=this._buffer&&this._bufferW>=a&&this._bufferH>=b)Ia.clearTexture(this._buffer);else{null!=this._buffer&&(this._buffer.dispose(),this._buffer=
null);var c=this._bufferW;this._bufferW=c>a?c:a;c=this._bufferH;this._bufferH=c>b?c:b;this._buffer=F._platform.getRenderer().createTexture(this._bufferW,this._bufferH)}this._redrawBuffer()}},_redrawBuffer:function(){null!=this.rect?this.rect.rotate?(this._buffer.get_graphics().save(),this._buffer.get_graphics().translate(this.get_width(),0),this._buffer.get_graphics().rotate(90),this._drawSlices(this.rect.x,this.rect.y,this.rect.sizeY,this.rect.sizeX,this.borderTop,this.borderBottom,this.borderLeft,
this.borderRight,this.innerHeight,this.innerWidth,this._buffer.get_graphics()),this._buffer.get_graphics().restore()):this._drawSlices(this.rect.x,this.rect.y,this.rect.sizeX,this.rect.sizeY,this.borderLeft,this.borderRight,this.borderTop,this.borderBottom,this.innerWidth,this.innerHeight,this._buffer.get_graphics()):this._drawSlices(0,0,this.texture.get_width(),this.texture.get_height(),this.borderLeft,this.borderRight,this.borderTop,this.borderBottom,this.innerWidth,this.innerHeight,this._buffer.get_graphics())},
_drawSlices:function(a,b,c,d,f,e,g,h,m,i,j){var f=Math.floor(f),e=Math.floor(e),g=Math.floor(g),h=Math.floor(h),m=Math.floor(m),i=Math.floor(i),k=c-f-e,o=d-g-h,n=a+f,p=b+g,c=a+c-e,d=b+d-h,q=g+i,r=f+m,v=0,s=0;0<k&&(v=m/k,j.save(),j.translate(f,0),j.scale(v,1),j.drawSubTexture(this.texture,0,0,n,b,k,g),j.drawSubTexture(this.texture,0,q,n,d,k,h),j.restore());0<o&&(s=i/o,j.save(),j.translate(0,g),j.scale(1,s),j.drawSubTexture(this.texture,0,0,a,p,f,o),j.drawSubTexture(this.texture,r,0,c,p,e,o),j.restore());
0<o&&0<k&&(j.save(),j.translate(f,g),j.scale(v,s),j.drawSubTexture(this.texture,0,0,n,p,k,o),j.restore());j.drawSubTexture(this.texture,0,0,a,b,f,g);j.drawSubTexture(this.texture,r,0,c,b,e,g);j.drawSubTexture(this.texture,0,q,a,d,f,h);j.drawSubTexture(this.texture,r,q,c,d,e,h)},_draw:function(a){null!=this._buffer&&a.ctx.drawSubTexture(this._buffer,0,0,0,0,this.get_outerWidth(),this.get_outerHeight())},__class__:rd,__properties__:x(s.prototype.__properties__,{set_borderBottom:"set_borderBottom",set_borderTop:"set_borderTop",
set_borderRight:"set_borderRight",set_borderLeft:"set_borderLeft",set_innerHeight:"set_innerHeight",set_innerWidth:"set_innerWidth",set_outerHeight:"set_outerHeight",get_outerHeight:"get_outerHeight",set_outerWidth:"set_outerWidth",get_outerWidth:"get_outerWidth"})});var Ce=function(a){this._parseRes={x:0,y:0};this.rotate=-1<a[1].indexOf("true");this._setXY(this._getLineData(a[2]));this._setSizeXY(this._getLineData(a[3]));this._setOrig(this._getLineData(a[4]));this._setOffset(this._getLineData(a[5]));
this._parseRes=null};g["workinman.display.SpriteRect"]=Ce;Ce.__name__=["workinman","display","SpriteRect"];Ce.prototype={_getLineData:function(a){a=a.split(": ");a=a[1].split(", ");this._parseRes.x=A.parseInt(a[0]);this._parseRes.y=A.parseInt(a[1]);return this._parseRes},_setXY:function(a){this.x=a.x;this.y=a.y},_setSizeXY:function(a){this.sizeX=a.x;this.sizeY=a.y},_setOrig:function(a){this.origX=a.x;this.origY=a.y},_setOffset:function(a){this.offsetX=a.x;this.offsetY=a.y},__class__:Ce};var Da=function(a){L.call(this,
a);this._fontName="";this.set_wrapWidth(this.set_letterSpacing(this.set_lineSpacing(0)));this.set_align(Ka.Center);null!=a&&(null!=a.color&&(this._color=a.color),this.setText(a.text),this.setVariables(a.vars),null!=a.align&&this.set_align(a.align),null!=a.wrapWidth&&this.set_wrapWidth(a.wrapWidth),null!=a.lineSpacing&&this.set_lineSpacing(a.lineSpacing),null!=a.letterSpacing&&this.set_letterSpacing(a.letterSpacing));this.inputEnabled=!1};g["workinman.display.Text"]=Da;Da.__name__=["workinman","display",
"Text"];Da.__super__=L;Da.prototype=x(L.prototype,{dispose:function(){this._text=this._data=this._fontName=this._font=this._layout=null;this.set_align(null);L.prototype.dispose.call(this)},get_width:function(){return null==this._layout||null==this._data?0:(0<this.wrapWidth?this.wrapWidth:this._layout.bounds.width)*this._data.scale},get_height:function(){if(null==this._layout||null==this._data)return 0;var a=this._layout.lines*(this._font.lineHeight+this.lineSpacing),b=this._layout.bounds.height;return(a>
b?a:b)*this._data.scale},set_align:function(a){if(null==a)return this.align=null;this.align=a;this._updateLayout();return a},set_originX:function(){return this.originX=0},set_wrapWidth:function(a){this.wrapWidth=a;this._updateLayout();return a},set_letterSpacing:function(a){this.letterSpacing=a;this._updateLayout();return a},set_lineSpacing:function(a){this.lineSpacing=a;this._updateLayout();return a},setText:function(a,b){this._data=O.getLocalizeData(a);null!=this._data&&(this.set_offsetX(this._data.offsetX),
this.set_offsetY(this._data.offsetY),this._setFont(this._data.fontName),this._text=this._replaceVars(b),this._updateLayout())},setColor:function(a){this._color=a},setVariables:function(a){null!=this._data&&(this._text=this._replaceVars(a),this._updateLayout())},_updateLayout:function(){null==this._data||null==this._font||(this._layout=this._font.layoutText(this._text,this.align,this.wrapWidth/this._data.scale,this.letterSpacing,this.lineSpacing))},_draw:function(a){if(null!=this._layout){a.ctx.save();
if(0<this.wrapWidth){var b=this.wrapWidth*this._data.scale;switch(this.align[1]){case 1:a.ctx.translate(0.5*-this.wrapWidth,0);break;case 2:a.ctx.translate(2*-b,0)}}a.ctx.scale(this._data.scale,this._data.scale);this._layout.draw(a.ctx);a.ctx.restore()}},_setFont:function(a){a!=this._fontName&&(this._font=null!=this._color?n.getFont(a,!0,this._color):n.getFont(a))},_replaceVars:function(a){for(var b="",c=this._data.string.split("}"),d=0;d<c.length;){var f=c[d];++d;f=f.split("{");b+=f[0];1<f.length&&
(f=A.parseInt(f[1]),b=null!=a&&a.length>f?b+A.string(a[f]):b+("[Missing {"+f+"}]"))}return b},__class__:Da,__properties__:x(L.prototype.__properties__,{set_lineSpacing:"set_lineSpacing",set_letterSpacing:"set_letterSpacing",set_wrapWidth:"set_wrapWidth",set_align:"set_align"})});var pa=function(){};g["workinman.display.spine.ArrayUtils"]=pa;pa.__name__=["workinman","display","spine","ArrayUtils"];pa.allocIntArray=function(a){for(var b=[],c=0;c<a;){var d=c++;b[d]=[]}return b};pa.allocFloatArray=function(a){for(var b=
[],c=0;c<a;){var d=c++;b[d]=[]}return b};pa.allocFloat=function(a){for(var b=[],c=0;c<a;){var d=c++;b[d]=0}return b};pa.allocString=function(a){for(var b=[],c=0;c<a;){var d=c++;b[d]=""}return b};var vc=function(){};g["workinman.display.spine.Updatable"]=vc;vc.__name__=["workinman","display","spine","Updatable"];vc.prototype={__class__:vc};var Eb=function(a,b,c){this.x=this.y=this.rotation=this.scaleX=this.scaleY=this.appliedRotation=this.appliedScaleX=this.appliedScaleY=this.shearX=this.shearY=this._a=
this._b=this._c=this._d=this._worldX=this._worldY=this._worldSignX=this._worldSignY=this._worldRotationX=0;if(null==a)throw new o(new H("data cannot be null."));if(null==b)throw new o(new H("skeleton cannot be null."));this._data=a;this._skeleton=b;this._parent=c;this.setToSetupPose()};g["workinman.display.spine.Bone"]=Eb;Eb.__name__=["workinman","display","spine","Bone"];Eb.__interfaces__=[vc];Eb.prototype={dispose:function(){this._parent=null;this._data.dispose();this._skeleton=this._data=null},
updateWorldTransform:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},update:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},updateWorldTransformWith:function(a,b,c,d,f,e,g){this.appliedRotation=c;this.appliedScaleX=d;this.appliedScaleY=f;var h=0,m=0,m=0,h=(c+e)*cb.degRad,m=(c+90+g)*cb.degRad,c=Math.cos(h)*d,g=Math.cos(m)*f,e=Math.sin(h)*d,i=Math.sin(m)*f,j=
this._parent;if(null==j)h=this._skeleton,h.flipX&&(a=-a,c=-c,g=-g),h.flipY!=Eb.yDown&&(b=-b,e=-e,i=-i),this._a=c,this._b=g,this._c=e,this._d=i,this._worldX=a,this._worldY=b,this._worldSignX=0>d?-1:1,this._worldSignY=0>f?-1:1;else{var k=j.get_a(),o=j.get_b(),n=j.get_c(),p=j.get_d();this._worldX=k*a+o*b+j.get_worldX();this._worldY=n*a+p*b+j.get_worldY();this._worldSignX=j.get_worldSignX()*(0>d?-1:1);this._worldSignY=j.get_worldSignY()*(0>f?-1:1);if(this.get_data().inheritRotation&&this.get_data().inheritScale)this._a=
k*c+o*e,this._b=k*g+o*i,this._c=n*c+p*e,this._d=n*g+p*i;else{if(this.get_data().inheritRotation){k=1;n=o=0;for(p=1;;){m=j.appliedRotation*cb.degRad;h=Math.cos(m);m=Math.sin(m);a=k*h+o*m;o=o*h-k*m;k=a;a=n*h+p*m;p=p*h-n*m;n=a;if(!j.get_data().inheritRotation)break;j=j.get_parent();if(null==j)break}this._a=k*c+o*e;this._b=k*g+o*i;this._c=n*c+p*e;this._d=n*g+p*i}else if(this.get_data().inheritScale){k=1;n=o=0;for(p=1;;){var m=j.appliedRotation*cb.degRad,h=Math.cos(m),m=Math.sin(m),a=j.appliedScaleX,q=
j.appliedScaleY,b=h*a,d=m*q,f=m*a,q=h*q,r=k*b+o*f,o=o*q-k*d,k=r,r=n*b+p*f,p=p*q-n*d,n=r;0>a&&(m=-m);r=k*h+o*m;o=o*h-k*m;k=r;r=n*h+p*m;p=p*h-n*m;n=r;if(!j.get_data().inheritScale)break;j=j.get_parent();if(null==j)break}this._a=k*c+o*e;this._b=k*g+o*i;this._c=n*c+p*e;this._d=n*g+p*i}else this._a=c,this._b=g,this._c=e,this._d=i;this._skeleton.flipX&&(this._a=-this._a,this._b=-this._b);this._skeleton.flipY!=Eb.yDown&&(this._c=-this._c,this._d=-this._d)}}this._worldRotationX=Math.atan2(this._c,this._a)*
cb.radDeg},setToSetupPose:function(){this.x=this._data.x;this.y=this._data.y;this.rotation=this._data.rotation;this.scaleX=this._data.scaleX;this.scaleY=this._data.scaleY;this.shearX=this._data.shearX;this.shearY=this._data.shearY},get_data:function(){return this._data},get_parent:function(){return this._parent},get_skeleton:function(){return this._skeleton},get_a:function(){return this._a},set_a:function(a){return this._a=a},get_b:function(){return this._b},set_b:function(a){return this._b=a},get_c:function(){return this._c},
set_c:function(a){return this._c=a},get_d:function(){return this._d},set_d:function(a){return this._d=a},get_worldX:function(){return this._worldX},set_worldX:function(a){return this._worldX=a},get_worldY:function(){return this._worldY},set_worldY:function(a){return this._worldY=a},get_worldSignX:function(){return this._worldSignX},get_worldSignY:function(){return this._worldSignY},get_worldRotationX:function(){return this._worldRotationX},get_worldScaleX:function(){return Math.sqrt(this._a*this._a+
this._b*this._b)*this._worldSignX},localToWorld:function(a){var b=a[0],c=a[1];a[0]=b*this._a+c*this._b+this._worldX;a[1]=b*this._c+c*this._d+this._worldY},__class__:Eb,__properties__:{get_worldScaleX:"get_worldScaleX",get_worldRotationX:"get_worldRotationX",get_worldSignY:"get_worldSignY",get_worldSignX:"get_worldSignX",set_worldY:"set_worldY",get_worldY:"get_worldY",set_worldX:"set_worldX",get_worldX:"get_worldX",set_d:"set_d",get_d:"get_d",set_c:"set_c",get_c:"get_c",set_b:"set_b",get_b:"get_b",
set_a:"set_a",get_a:"get_a",get_skeleton:"get_skeleton",get_parent:"get_parent",get_data:"get_data"}};var Oe=function(a,b){this.inheritScale=this.inheritRotation=!0;this.scaleX=this.scaleY=1;if(null==a)throw new o(new H("name cannot be null."));this.name=a;this.parent=b};g["workinman.display.spine.BoneData"]=Oe;Oe.__name__=["workinman","display","spine","BoneData"];Oe.prototype={dispose:function(){this.parent=null},__class__:Oe};var Pe=function(a,b){if(null==b)throw new o(new H("data cannot be null."));
this.time=a;this.data=b};g["workinman.display.spine.Event"]=Pe;Pe.__name__=["workinman","display","spine","Event"];Pe.prototype={dispose:function(){this.data.dispose();this.data=null},__class__:Pe};var Qe=function(a){if(null==a)throw new o(new H("name cannot be null."));this.name=a};g["workinman.display.spine.EventData"]=Qe;Qe.__name__=["workinman","display","spine","EventData"];Qe.prototype={dispose:function(){},__class__:Qe};var H=function(a){this.msg=a};g["workinman.display.spine.Exception"]=H;
H.__name__=["workinman","display","spine","Exception"];H.prototype={__class__:H};var qb=function(a,b){if(null==a)throw new o(new H("data cannot be null."));if(null==b)throw new o(new H("skeleton cannot be null."));this._data=a;this.mix=a.mix;this.bendDirection=a.bendDirection;this.bones=[];for(var c=0,d=a.bones;c<d.length;){var f=d[c];++c;this.bones[this.bones.length]=b.findBone(f.name)}this.target=b.findBone(a.target.name)};g["workinman.display.spine.IkConstraint"]=qb;qb.__name__=["workinman","display",
"spine","IkConstraint"];qb.__interfaces__=[vc];qb.apply1=function(a,b,c,d){var f=a.get_parent(),e=1/(f.get_a()*f.get_d()-f.get_b()*f.get_c()),b=b-f.get_worldX(),g=c-f.get_worldY(),c=(b*f.get_d()-g*f.get_b())*e-a.x,f=(g*f.get_a()-b*f.get_c())*e-a.y,f=Math.atan2(f,c)*cb.radDeg-a.shearX-a.rotation;0>a.scaleX&&(f+=180);180<f?f-=360:-180>f&&(f+=360);a.updateWorldTransformWith(a.x,a.y,a.rotation+f*d,a.scaleX,a.scaleY,a.shearX,a.shearY)};qb.apply2=function(a,b,c,d,f,e){if(0==e)b.updateWorldTransform();else{var g=
a.x,h=a.y,m=a.scaleX,i=a.scaleY,j=b.scaleX,k,o,n;0>m?(m=-m,k=180,n=-1):(k=0,n=1);0>i&&(i=-i,n=-n);0>j?(j=-j,o=180):o=0;var p=b.x,q,r,v,s=a.get_a(),t=a.get_b(),w=a.get_c(),u=a.get_d(),z=1.0E-4>=Math.abs(m-i);z?(q=b.y,r=s*p+t*q+a.get_worldX(),v=w*p+u*q+a.get_worldY()):(q=0,r=s*p+a.get_worldX(),v=w*p+a.get_worldY());var x=a.get_parent(),s=x.get_a(),t=x.get_b(),w=x.get_c(),u=x.get_d(),y=1/(s*u-t*w),c=c-x.get_worldX(),d=d-x.get_worldY(),B=(c*u-d*t)*y-g,A=(d*s-c*w)*y-h,c=r-x.get_worldX(),d=v-x.get_worldY(),
t=(c*u-d*t)*y-g,s=(d*s-c*w)*y-h,y=Math.sqrt(t*t+s*s),t=b.get_data().length*j,d=c=0;v=!1;if(z)t*=m,s=(B*B+A*A-y*y-t*t)/(2*y*t),-1>s?s=-1:1<s&&(s=1),d=Math.acos(s)*f,s=y+t*s,t*=Math.sin(d),c=Math.atan2(A*s-B*t,B*s+A*t);else if(s=m*t,t*=i,j=s*s,r=t*t,z=B*B+A*A,B=Math.atan2(A,B),w=r*y*y+j*z-j*r,A=-2*r*y,x=r-j,u=A*A-4*x*w,0<=u&&(u=Math.sqrt(u),0>A&&(u=-u),u=-(A+u)/2,A=u/x,u=w/u,u=Math.abs(A)<Math.abs(u)?A:u,u*u<=z&&(d=Math.sqrt(z-u*u)*f,c=B-Math.atan2(d,u),d=Math.atan2(d/i,(u-y)/m),v=!0)),!v){var m=0,
w=Infinity,C=x=i=v=A=0,D=0,c=y+s,u=c*c;u>x&&(i=0,x=u,C=c);c=y-s;u=c*c;u<w&&(m=Math.PI,w=u,A=c);j=Math.acos(-s*y/(j-r));c=s*Math.cos(j)+y;d=t*Math.sin(j);u=c*c+d*d;u<w&&(m=j,w=u,A=c,v=d);u>x&&(i=j,x=u,C=c,D=d);z<=(w+x)/2?(c=B-Math.atan2(v*f,A),d=m*f):(c=B-Math.atan2(D*f,C),d=i*f)}f=Math.atan2(q,p)*n;s=a.rotation;c=(c-f)*cb.radDeg+k-s;180<c?c-=360:-180>c&&(c+=360);a.updateWorldTransformWith(g,h,s+c*e,a.scaleX,a.scaleY,0,0);s=b.rotation;d=((d+f)*cb.radDeg-b.shearX)*n+o-s;180<d?d-=360:-180>d&&(d+=360);
b.updateWorldTransformWith(p,q,s+d*e,b.scaleX,b.scaleY,b.shearX,b.shearY)}};qb.prototype={dispose:function(){this._data.dispose();this.target=this.bones=this._data=null},update:function(){switch(this.bones.length){case 1:qb.apply1(this.bones[0],this.target.get_worldX(),this.target.get_worldY(),this.mix);break;case 2:qb.apply2(this.bones[0],this.bones[1],this.target.get_worldX(),this.target.get_worldY(),this.bendDirection,this.mix)}},get_data:function(){return this._data},__class__:qb,__properties__:{get_data:"get_data"}};
var Re=function(a){this.bendDirection=this.mix=1;this.bones=[];if(null==a)throw new o(new H("name cannot be null."));this.name=a};g["workinman.display.spine.IkConstraintData"]=Re;Re.__name__=["workinman","display","spine","IkConstraintData"];Re.prototype={dispose:function(){this.target=this.bones=null},__class__:Re};var cb=function(){};g["workinman.display.spine.MathUtils"]=cb;cb.__name__=["workinman","display","spine","MathUtils"];var $b=function(){this.vertices=[]};g["workinman.display.spine.Polygon"]=
$b;$b.__name__=["workinman","display","spine","Polygon"];$b.prototype={dispose:function(){this.vertices=null},containsPoint:function(a,b){for(var c=this.vertices.length,d=c-2,f=!1,e=0;e<c;){var g=this.vertices[e+1],h=this.vertices[d+1];if(g<b&&h>=b||h<b&&g>=b){var m=this.vertices[e];m+(b-g)/(h-g)*(this.vertices[d]-m)<a&&(f=!f)}d=e;e+=2}return f},__class__:$b};var Te=function(a){this.x=this.y=0;this.flipX=this.flipY=!1;this.time=0;this.r=this.g=this.b=this.a=1;this._updateCache=[];if(null==a)throw new o(new H("data cannot be null."));
this._data=a;this.bones=[];for(var b=0,c=a.bones;b<c.length;){var d=c[b];++b;var f=null==d.parent?null:this.bones[a.bones.indexOf(d.parent)];this.bones[this.bones.length]=new Eb(d,this,f)}this.slots=[];this.drawOrder=[];b=0;for(c=a.slots;b<c.length;)d=c[b],++b,f=this.bones[a.bones.indexOf(d.get_boneData())],d=new Se(d,f),this.slots[this.slots.length]=d,this.drawOrder[this.drawOrder.length]=d;this.ikConstraints=[];b=0;for(c=a.ikConstraints;b<c.length;)d=c[b],++b,this.ikConstraints[this.ikConstraints.length]=
new qb(d,this);this.transformConstraints=[];b=0;for(a=a.transformConstraints;b<a.length;)c=a[b],++b,this.transformConstraints[this.transformConstraints.length]=new yd(c,this);this.updateCache()};g["workinman.display.spine.Skeleton"]=Te;Te.__name__=["workinman","display","spine","Skeleton"];Te.prototype={dispose:function(){this._data.dispose();this._data=null;for(var a=0,b=this.bones;a<b.length;){var c=b[a];++a;c.dispose()}this.bones=null;a=0;for(b=this.slots;a<b.length;)c=b[a],++a,c.dispose();this.drawOrder=
this.slots=null;a=0;for(b=this.ikConstraints;a<b.length;)c=b[a],++a,c.dispose();this.ikConstraints=null;a=0;for(b=this.transformConstraints;a<b.length;)c=b[a],++a,c.dispose();this._updateCache=this.transformConstraints=null;null!=this.get_skin()&&this.get_skin().dispose();this.set_skin(null)},updateCache:function(){for(var a=this._updateCache,b=this.ikConstraints,c=this.transformConstraints,d=0,f=0,e=this.bones.length+b.length;f<e;)f++,a.push(null);f=0;for(e=this.bones;f<e.length;){var g=e[f];++f;
a[d++]=g;for(var h=0;h<b.length;){var m=b[h];++h;if(g==m.bones[m.bones.length-1]){a[d++]=m;break}}}for(b=0;b<c.length;){d=c[b];++b;for(f=a.length-1;0<=f;){e=a[f];if(e==d.bone||e==d.target){a.splice(f+1,0,d);break}--f}}},updateWorldTransform:function(){for(var a=0,b=this._updateCache;a<b.length;){var c=b[a];++a;c.update()}},setToSetupPose:function(){this.setBonesToSetupPose();this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var a=0,b=this.bones;a<b.length;){var c=b[a];++a;c.setToSetupPose()}a=
0;for(b=this.ikConstraints;a<b.length;)c=b[a],++a,c.bendDirection=c.get_data().bendDirection,c.mix=c.get_data().mix;a=0;for(b=this.transformConstraints;a<b.length;)c=b[a],++a,c.translateMix=c.get_data().translateMix,c.rotateMix=c.get_data().rotateMix,c.scaleMix=c.get_data().scaleMix,c.shearMix=c.get_data().shearMix},setSlotsToSetupPose:function(){for(var a=0,b=0,c=this.slots;b<c.length;){var d=c[b];++b;this.drawOrder[a++]=d;d.setToSetupPose()}},get_data:function(){return this._data},findBone:function(a){if(null==
a)throw new o(new H("boneName cannot be null."));for(var b=0,c=this.bones;b<c.length;){var d=c[b];++b;if(d.get_data().name==a)return d}return null},findSlot:function(a){if(null==a)throw new o(new H("slotName cannot be null."));for(var b=0,c=this.slots;b<c.length;){var d=c[b];++b;if(d.get_data().get_name()==a)return d}return null},get_skin:function(){return this._skin},set_skinName:function(a){var b=this.get_data().findSkin(a);if(null==b)throw new o(new H("Skin not found: "+a));if(null!=this._skin&&
a==this._skin.get_name())return this._skin.get_name();this.set_skin(b);return null==this._skin?null:this._skin.get_name()},set_skin:function(a){if(null!=a)if(null!=this.get_skin())a.attachAll(this,this.get_skin());else for(var b=0,c=0,d=this.slots;c<d.length;){var f=d[c];++c;var e=f.get_data().attachmentName;""!=e&&(e=a.getAttachment(b,e),null!=e&&f.set_attachment(e));++b}return this._skin=a},getAttachmentForSlotIndex:function(a,b){if(null==b)throw new o(new H("attachmentName cannot be null."));if(null!=
this.get_skin()){var c=this.get_skin().getAttachment(a,b);if(null!=c)return c}return null!=this.get_data().defaultSkin?this.get_data().defaultSkin.getAttachment(a,b):null},setAttachment:function(a,b){if(null==a)throw new o(new H("slotName cannot be null."));for(var c=0,d=0,f=this.slots;d<f.length;){var e=f[d];++d;if(e.get_data().get_name()==a){d=null;if(null!=b&&(d=this.getAttachmentForSlotIndex(c,b),null==d))throw new o(new H("Attachment not found: "+b+", for slot: "+a));e.set_attachment(d);return}++c}throw new o(new H("Slot not found: "+
a));},__class__:Te,__properties__:{set_skinName:"set_skinName",set_skin:"set_skin",get_skin:"get_skin",get_data:"get_data"}};var Ue=function(){this.polygonPool=[];this.boundingBoxes=[];this.polygons=[]};g["workinman.display.spine.SkeletonBounds"]=Ue;Ue.__name__=["workinman","display","spine","SkeletonBounds"];Ue.prototype={dispose:function(){for(var a=0,b=this.boundingBoxes;a<b.length;){var c=b[a];++a;null!=c&&c.dispose()}this.boundingBoxes=null;a=0;for(b=this.polygons;a<b.length;)c=b[a],++a,null!=
c&&c.dispose();this.polygons=null;a=0;for(b=this.polygonPool;a<b.length;)c=b[a],++a,null!=c&&c.dispose();this.polygonPool=null},update:function(a,b){var c=a.slots,d=c.length,f=a.x,e=a.y;this.boundingBoxes=[];for(var g=0,h=this.polygons;g<h.length;){var m=h[g];++g;this.polygonPool[this.polygonPool.length]=m}this.polygons=[];for(g=0;g<d;){var h=g++,m=c[h],i=null;r.__instanceof(m.get_attachment(),Rb)&&(i=r.__cast(m.get_attachment(),Rb));if(null!=i){this.boundingBoxes[this.boundingBoxes.length]=i;var j=
this.polygonPool.length;0<j?(h=this.polygonPool[j-1],this.polygonPool.splice(j-1,1)):h=new $b;this.polygons[this.polygons.length]=h;i.computeWorldVertices(f,e,m.get_bone(),h.vertices)}}b&&this.aabbCompute()},aabbCompute:function(){for(var a=2147483647,b=2147483647,c=-2147483648,d=-2147483648,f=0,e=this.polygons.length;f<e;)for(var g=this.polygons[f++].vertices,h=0,m=g.length;h<m;)var i=g[h],j=g[h+1],a=Math.min(a,i),b=Math.min(b,j),c=Math.max(c,i),d=Math.max(d,j),h=h+2;this.minX=a;this.minY=b;this.maxX=
c;this.maxY=d},aabbContainsPoint:function(a,b){return a>=this.minX&&a<=this.maxX&&b>=this.minY?b<=this.maxY:!1},containsPoint:function(a,b){for(var c=0,d=this.polygons.length;c<d;){var f=c++;if(this.polygons[f].containsPoint(a,b))return this.boundingBoxes[f]}return null},__class__:Ue};var Ve=function(){this.transformConstraints=[];this.ikConstraints=[];this.animations=[];this.events=[];this.skins=[];this.slots=[];this.bones=[]};g["workinman.display.spine.SkeletonData"]=Ve;Ve.__name__=["workinman",
"display","spine","SkeletonData"];Ve.prototype={dispose:function(){this.ikConstraints=this.animations=this.events=this.defaultSkin=this.skins=this.slots=this.bones=null},findBone:function(a){if(null==a)throw new o(new H("boneName cannot be null."));for(var b=0,c=this.bones.length;b<c;){var d=this.bones[b++];if(d.name==a)return d}return null},findBoneIndex:function(a){if(null==a)throw new o(new H("boneName cannot be null."));for(var b=0,c=this.bones.length;b<c;){var d=b++;if(this.bones[d].name==a)return d}return-1},
findSlotIndex:function(a){if(null==a)throw new o(new H("slotName cannot be null."));for(var b=0,c=this.slots.length;b<c;){var d=b++;if(this.slots[d].get_name()==a)return d}return-1},findSkin:function(a){if(null==a)throw new o(new H("skinName cannot be null."));for(var b=0,c=this.skins;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d}return null},findEvent:function(a){if(null==a)throw new o(new H("eventName cannot be null."));for(var b=0,c=this.events;b<c.length;){var d=c[b];++b;if(d.name==
a)return d}return null},findAnimation:function(a){if(null==a)throw new o(new H("animationName cannot be null."));for(var b=0,c=this.animations;b<c.length;){var d=c[b];++b;if(d.get_name()==a)return d}return null},findIkConstraint:function(a){if(null==a)throw new o(new H("constraintName cannot be null."));for(var b=0,c=this.ikConstraints;b<c.length;){var d=c[b];++b;if(d.name==a)return d}return null},__class__:Ve};var T=function(a){this.scale=1;this.attachmentLoader=a};g["workinman.display.spine.SkeletonJson"]=
T;T.__name__=["workinman","display","spine","SkeletonJson"];T.readCurve=function(a,b,c){var d=k.field(c,"curve");if(null!=d)if("stepped"==d)a.setStepped(b);else if(d instanceof Array&&null==d.__enum__)a.setCurve(b,d[0],d[1],d[2],d[3]);else{var f=k.field(c,"c2"),e=k.field(c,"c3"),c=k.field(c,"c4");a.setCurve(b,d,null==f?0:r.__cast(f,K),null==e?1:r.__cast(e,K),null==c?1:r.__cast(c,K))}};T.toColor=function(a,b){if(8!=a.length)throw new o(new H("Color hexidecimal length must be 8, recieved: "+a));return A.parseInt("0x"+
a.substring(2*b,2*b+2))/255};T.getFloatArray=function(a,b,c){var a=k.field(a,b),b=[],d=a.length;if(1==c)for(c=0;c<d;){var f=c++;b[f]=a[f]}else for(f=0;f<d;){var e=f++;b[e]=a[e]*c}return b};T.getIntArray=function(a,b){for(var c=k.field(a,b),d=[],f=0,e=c.length;f<e;){var g=f++;d[g]=c[g]}return d};T.getUIntArray=function(a,b){for(var c=k.field(a,b),d=[],f=0,e=c.length;f<e;){var g=f++;d[g]=c[g]}return d};T.prototype={readSkeletonData:function(a,b){if(null==a)throw new o(new H("object cannot be null."));
var c=JSON.parse(a),d=new Ve;d.name=b;if(Object.prototype.hasOwnProperty.call(c,"skeleton")){var f=k.field(c,"skeleton"),e=k.field(f,"hash");d.hash=null==e?null:A.string(e);var g=k.field(f,"spine");d.version=null==g?null:A.string(g);var h=k.field(f,"width");d.width=null==h?0:r.__cast(h,K);var m=k.field(f,"height");d.height=null==m?0:r.__cast(m,K)}for(var i=0,j=k.field(c,"bones");i<j.length;){var n=j[i];++i;var p=null,q=k.field(n,"parent"),s=null==q?null:A.string(q);if(null!=s&&(p=d.findBone(s),null==
p))throw new o("Parent bone not found: "+s);var u=k.field(n,"name"),t=new Oe(null==u?null:A.string(u),p),v=k.field(n,"length");t.length=(null==v?0:r.__cast(v,K))*this.scale;var w=k.field(n,"x");t.x=(null==w?0:r.__cast(w,K))*this.scale;var x=k.field(n,"y");t.y=(null==x?0:r.__cast(x,K))*this.scale;var y=k.field(n,"rotation");t.rotation=null==y?0:r.__cast(y,K);var z=k.field(n,"scaleX");t.scaleX=null==z?1:r.__cast(z,K);var B=k.field(n,"scaleY");t.scaleY=null==B?1:r.__cast(B,K);var C=k.field(n,"shearX");
t.shearX=null==C?0:r.__cast(C,K);var D=k.field(n,"shearY");t.shearY=null==D?0:r.__cast(D,K);var E=k.field(n,"inheritScale");t.inheritScale=null==E?!0:r.__cast(E,md);var F=k.field(n,"inheritRotation");t.inheritRotation=null==F?!0:r.__cast(F,md);d.bones.push(t)}if(Object.prototype.hasOwnProperty.call(c,"ik"))for(var G=0,J=k.field(c,"ik");G<J.length;){var I=J[G];++G;for(var L=k.field(I,"name"),M=new Re(null==L?null:A.string(L)),N=0,R=k.field(I,"bones");N<R.length;){var W=R[N];++N;var U=d.findBone(W);
if(null==U)throw new o("IK bone not found: "+W);M.bones.push(U)}var X=k.field(I,"target");M.target=d.findBone(null==X?null:A.string(X));if(null==M.target){var S=k.field(I,"target");throw new o("Target bone not found: "+(null==S?null:A.string(S)));}var V,Y=k.field(I,"bendPositive");V=null==Y||r.__cast(Y,md)?1:-1;M.bendDirection=V;var aa=k.field(I,"mix");M.mix=null==aa?1:r.__cast(aa,K);d.ikConstraints.push(M)}var ba=k.field(c,"transform");if(null!=ba)for(var Z=0,O=k.field(c,"transform");Z<O.length;){var P=
O[Z];++Z;var $=k.field(P,"name"),Q=new We(null==$?null:A.string($)),da=k.field(P,"bone"),ca=null==da?null:A.string(da);Q.bone=d.findBone(ca);if(null==Q.bone)throw new o(new H("Bone not found: "+ca));var ea=k.field(P,"target"),pa=null==ea?null:A.string(ea);Q.target=d.findBone(pa);if(null==Q.target)throw new o(new H("Target bone not found: "+pa));var ia=k.field(P,"rotation");Q.offsetRotation=null==ia?0:r.__cast(ia,K);var ga=k.field(P,"x");Q.offsetX=(null==ga?0:r.__cast(ga,K))*this.scale;var ka=k.field(P,
"y");Q.offsetY=(null==ka?0:r.__cast(ka,K))*this.scale;var ha=k.field(P,"scaleX");Q.offsetScaleX=(null==ha?0:r.__cast(ha,K))*this.scale;var oa=k.field(P,"scaleY");Q.offsetScaleY=(null==oa?0:r.__cast(oa,K))*this.scale;var ua=k.field(P,"shearY");Q.offsetShearY=(null==ua?0:r.__cast(ua,K))*this.scale;var va=k.field(P,"rotateMix");Q.rotateMix=null==va?1:r.__cast(va,K);var sa=k.field(P,"translateMix");Q.translateMix=null==sa?1:r.__cast(sa,K);var la=k.field(P,"scaleMix");Q.scaleMix=null==la?1:r.__cast(la,
K);var ja=k.field(P,"shearMix");Q.shearMix=null==ja?1:r.__cast(ja,K);d.transformConstraints.push(Q)}for(var ba=null,qa=0,ya=k.field(c,"slots");qa<ya.length;){var fa=ya[qa];++qa;var Ha=k.field(fa,"bone"),Ba=null==Ha?null:A.string(Ha),Fa=d.findBone(Ba);if(null==Fa)throw new o("Slot bone not found: "+Ba);var Ga=k.field(fa,"name"),ma=new Xe(null==Ga?null:A.string(Ga),Fa),La=k.field(fa,"color"),ta=null==La?null:A.string(La);null!=ta&&(ma.r=T.toColor(ta,0),ma.g=T.toColor(ta,1),ma.b=T.toColor(ta,2),ma.a=
T.toColor(ta,3));var na=k.field(fa,"attachment");ma.attachmentName=null==na?null:A.string(na);var Da=k.field(fa,"blend");ma.blendMode=null==Da?"normal":A.string(Da);d.slots.push(ma)}var Ea=k.field(c,"skins");if(0<Ea.length)for(var wa=0;wa<Ea.length;){var db=Ea[wa];++wa;for(var Sa=k.field(db,"name"),bb=null==Sa?null:A.string(Sa),Oa=k.field(db,"attachments"),xa=new zd(bb),za=0,Qa=k.fields(Oa);za<Qa.length;){var Ja=Qa[za];++za;for(var Xa=d.findSlotIndex(Ja),Ta=k.field(Oa,Ja),Ka=0,Ua=k.fields(Ta);Ka<
Ua.length;){var Na=Ua[Ka];++Ka;var Wa=k.field(Ta,Na),ab=this.readAttachment(xa,Na,Wa);null!=ab&&xa.addAttachment(Xa,Na,ab)}}d.skins.push(xa);"default"==xa.get_name()&&(d.defaultSkin=xa)}else for(var Va=k.field(c,"skins"),Pa=0,cb=k.fields(Va);Pa<cb.length;){var rb=cb[Pa];++Pa;for(var Aa=k.field(Va,rb),Ia=new zd(rb),Ya=0,$a=k.fields(Aa);Ya<$a.length;){var Ma=$a[Ya];++Ya;for(var hb=d.findSlotIndex(Ma),fb=k.field(Aa,Ma),ra=0,gb=k.fields(fb);ra<gb.length;){var Za=gb[ra];++ra;var nb=k.field(fb,Za),ob=this.readAttachment(Ia,
Za,nb);null!=ob&&Ia.addAttachment(hb,Za,ob)}}d.skins.push(Ia);"default"==Ia.get_name()&&(d.defaultSkin=Ia)}var xb=k.field(c,"events");if(null!=xb)for(var eb=0,kb=k.fields(xb);eb<kb.length;){var ub=kb[eb];++eb;var ib=k.field(xb,ub),Ca=new Qe(ub),vb=k.field(ib,"int");Ca.intValue=null==vb?0:r.__cast(vb,sc);var pb=k.field(ib,"float");Ca.floatValue=null==pb?0:r.__cast(pb,K);var wb=k.field(ib,"string");Ca.stringValue=null==wb?null:A.string(wb);d.events.push(Ca)}for(var jb=k.field(c,"animations"),lb=0,sb=
k.fields(jb);lb<sb.length;){var Ra=sb[lb];++lb;var mb=k.field(jb,Ra);this.readAnimation(Ra,mb,d)}return d},readAttachment:function(a,b,c){var d=k.field(c,"name");null!=d&&(b=A.string(d));var d=k.field(c,"type"),f=null==d?"region":A.string(d);"skinnedmesh"==f&&(f="weightedmesh");new Ye(0,f);var d=k.field(c,"path"),e=null==d?b:A.string(d),d=this.scale;switch(f){case "boundingbox":a=this.attachmentLoader.newBoundingBoxAttachment(a,b);b=a.vertices;e=0;for(c=k.field(c,"vertices");e<c.length;)f=c[e],++e,
b[b.length]=f*d;return a;case "mesh":a=this.attachmentLoader.newMeshAttachment(a,b,e);if(null==a)break;a.path=e;a.vertices=T.getFloatArray(c,"vertices",d);a.triangles=T.getUIntArray(c,"triangles");a.regionUVs=T.getFloatArray(c,"uvs",1);a.updateUVs();b=k.field(c,"color");b=null==b?null:A.string(b);null!=b&&""!=b&&(a.r=T.toColor(b,0),a.g=T.toColor(b,1),a.b=T.toColor(b,2),a.a=T.toColor(b,3));b=k.field(c,"hull");a.hullLength=2*(null==b?0:r.__cast(b,sc));Object.prototype.hasOwnProperty.call(c,"edges")&&
(a.edges=T.getIntArray(c,"edges"));b=k.field(c,"width");a.width=(null==b?0:r.__cast(b,K))*d;c=k.field(c,"height");a.height=(null==c?0:r.__cast(c,K))*d;return a;case "region":a=this.attachmentLoader.newRegionAttachment(a,b,e);if(null==a)break;a.path=e;b=k.field(c,"x");a.x=(null==b?0:r.__cast(b,K))*d;b=k.field(c,"y");a.y=(null==b?0:r.__cast(b,K))*d;b=k.field(c,"scaleX");a.scaleX=null==b?1:r.__cast(b,K);b=k.field(c,"scaleY");a.scaleY=null==b?1:r.__cast(b,K);b=k.field(c,"rotation");a.rotation=null==b?
0:r.__cast(b,K);b=k.field(c,"width");a.width=(null==b?0:r.__cast(b,K))*d;b=k.field(c,"height");a.height=(null==b?0:r.__cast(b,K))*d;d=k.field(c,"color");b=null==d?null:A.string(d);null!=b&&""!=b&&(a.r=T.toColor(b,0),a.g=T.toColor(b,1),a.b=T.toColor(b,2),a.a=T.toColor(b,3));a.updateOffset();return a;case "weightedmesh":a=this.attachmentLoader.newWeightedMeshAttachment(a,b,e);if(null==a)break;a.path=e;for(var e=T.getFloatArray(c,"uvs",1),b=T.getFloatArray(c,"vertices",1),f=[],g=[],h=0,m=b.length;h<
m;){var i=Math.floor(b[h++]);g[g.length]=i;for(i=h+4*i;h<i;)g[g.length]=Math.floor(b[h]),f[f.length]=b[h+1]*d,f[f.length]=b[h+2]*d,f[f.length]=b[h+3],h+=4}a.bones=g;a.weights=f;a.triangles=T.getUIntArray(c,"triangles");a.regionUVs=e;a.updateUVs();b=k.field(c,"color");b=null==b?null:A.string(b);null!=b&&""!=b&&(a.r=T.toColor(b,0),a.g=T.toColor(b,1),a.b=T.toColor(b,2),a.a=T.toColor(b,3));b=k.field(c,"hull");a.hullLength=2*(null==b?0:r.__cast(b,sc));Object.prototype.hasOwnProperty.call(c,"edges")&&(a.edges=
T.getIntArray(c,"edges"));b=k.field(c,"width");a.width=(null==b?0:r.__cast(b,K))*d;c=k.field(c,"height");a.height=(null==c?0:r.__cast(c,K))*d;return a}return null},readAnimation:function(a,b,c){for(var d=[],f=0,e,g,h,m,i=k.field(b,"slots"),j=0,n=k.fields(i);j<n.length;){var p=n[j];++j;e=k.field(i,p);g=c.findSlotIndex(p);for(var q=0,s=k.fields(e);q<s.length;){var t=s[q];++q;h=k.field(e,t);if("color"==t){var u=new Ad(h.length);u.slotIndex=g;for(var v=m=0;v<h.length;){var w=h[v];++v;var x=k.field(w,
"color"),y=null==x?null:A.string(x),z=T.toColor(y,0),B=T.toColor(y,1),C=T.toColor(y,2),D=T.toColor(y,3),E=k.field(w,"time");u.setFrame(m,null==E?0:r.__cast(E,K),z,B,C,D);T.readCurve(u,m,w);++m}d[d.length]=u;f=Math.max(f,u.frames[5*u.get_frameCount()-5])}else if("attachment"==t){var F=new Bd(h.length);F.slotIndex=g;for(var G=m=0;G<h.length;){var I=h[G];++G;var J=k.field(I,"time"),L=k.field(I,"name");F.setFrame(m++,null==J?0:r.__cast(J,K),null==L?null:A.string(L))}d[d.length]=F;f=Math.max(f,F.frames[F.get_frameCount()-
1])}else throw new o(new H("Invalid timeline type for a slot: "+t+" ("+p+")"));}}for(var M=k.field(b,"bones"),N=0,R=k.fields(M);N<R.length;){var Q=R[N];++N;var P=c.findBoneIndex(Q);if(-1==P)throw new o(new H("Bone not found: "+Q));for(var W=k.field(M,Q),U=0,X=k.fields(W);U<X.length;){var S=X[U];++U;h=k.field(W,S);if("rotate"==S){var V=new Cd(h.length);V.boneIndex=P;for(var Y=m=0;Y<h.length;){var Z=h[Y];++Y;var aa=k.field(Z,"time"),ba=k.field(Z,"angle");V.setFrame(m,null==aa?0:r.__cast(aa,K),null==
ba?0:r.__cast(ba,K));T.readCurve(V,m,Z);++m}d[d.length]=V;f=Math.max(f,V.frames[2*V.get_frameCount()-2])}else if("translate"==S||"scale"==S||"shear"==S){var O,$=1;if("scale"==S){O=new Dd(h.length);O.boneIndex=P;for(var da=m=0;da<h.length;){var ca=h[da];++da;var ea=k.field(ca,"x"),ia=(null==ea?1:r.__cast(ea,K))*$,ga=k.field(ca,"y"),ma=(null==ga?1:r.__cast(ga,K))*$,ka=k.field(ca,"time");O.setFrame(m,null==ka?0:r.__cast(ka,K),ia,ma);T.readCurve(O,m,ca);++m}}else if("shear"==S){O=new Ed(h.length);O.boneIndex=
P;for(var ha=m=0;ha<h.length;){var fa=h[ha];++ha;var oa=k.field(fa,"x"),ua=(null==oa?0:r.__cast(oa,K))*$,qa=k.field(fa,"y"),va=(null==qa?0:r.__cast(qa,K))*$,sa=k.field(fa,"time");O.setFrame(m,null==sa?0:r.__cast(sa,K),ua,va);T.readCurve(O,m,fa);++m}}else{O=new xb(h.length);$=this.scale;O.boneIndex=P;for(var la=m=0;la<h.length;){var ja=h[la];++la;var ta=k.field(ja,"x"),ya=(null==ta?0:r.__cast(ta,K))*$,xa=k.field(ja,"y"),Ha=(null==xa?0:r.__cast(xa,K))*$,Ba=k.field(ja,"time");O.setFrame(m,null==Ba?0:
r.__cast(Ba,K),ya,Ha);T.readCurve(O,m,ja);++m}}d[d.length]=O;f=Math.max(f,O.frames[3*O.get_frameCount()-3])}else throw new o(new H("Invalid timeline type for a bone: "+S+" ("+Q+")"));}}for(var Ea=k.field(b,"ik"),wa=0,Fa=k.fields(Ea);wa<Fa.length;){var Ga=Fa[wa];++wa;var La=c.findIkConstraint(Ga);h=k.field(Ea,Ga);var na=new Fd(h.length);na.ikConstraintIndex=c.ikConstraints.indexOf(La);for(var Da=m=0;Da<h.length;){var za=h[Da];++Da;var Ia=k.field(za,"mix"),Sa=null==Ia?1:r.__cast(Ia,K),Ka,Na=k.field(za,
"bendPositive");Ka=null==Na||r.__cast(Na,md)?1:-1;var Oa=k.field(za,"time");na.setFrame(m,null==Oa?0:r.__cast(Oa,K),Sa,Ka);T.readCurve(na,m,za);++m}d[d.length]=na;f=Math.max(f,na.frames[3*na.get_frameCount()-3])}for(var Qa=k.field(b,"ffd"),Ja=0,Ta=k.fields(Qa);Ja<Ta.length;){var Ua=Ta[Ja];++Ja;var bb=c.findSkin(Ua);e=k.field(Qa,Ua);for(var Pa=0,Xa=k.fields(e);Pa<Xa.length;){var Ya=Xa[Pa];++Pa;g=c.findSlotIndex(Ya);for(var ab=k.field(e,Ya),Va=0,cb=k.fields(ab);Va<cb.length;){var Wa=cb[Va];++Va;h=k.field(ab,
Wa);var Aa=new Gd(h.length),ra=bb.getAttachment(g,Wa);if(null==ra)throw new o(new H("FFD attachment not found: "+Wa));Aa.slotIndex=g;Aa.attachment=ra;var Za;Za=r.__instanceof(ra,rb)?r.__cast(ra,rb).vertices.length:Math.floor(2*(r.__cast(ra,ac).weights.length/3));for(var $a=m=0;$a<h.length;){var Ma=h[$a];++$a;var Ca;if(Object.prototype.hasOwnProperty.call(Ma,"vertices")){var eb=k.field(Ma,"vertices");Ca=pa.allocFloat(Za);var fb=k.field(Ma,"offset"),gb=null==fb?0:r.__cast(fb,sc),hb=eb.length;if(1==
this.scale)for(var ib=0,ob=hb;ib<ob;){var kb=ib++;Ca[kb+gb]=eb[kb]}else for(var lb=0,ub=hb;lb<ub;){var nb=lb++;Ca[nb+gb]=eb[nb]*this.scale}if(r.__instanceof(ra,rb))for(var vb=r.__cast(ra,rb).vertices,pb=0,wb=Za;pb<wb;){var jb=pb++;Ca[jb]+=vb[jb]}}else Ca=r.__instanceof(ra,rb)?r.__cast(ra,rb).vertices:[];var sb=k.field(Ma,"time");Aa.setFrame(m,null==sb?0:r.__cast(sb,K),Ca);T.readCurve(Aa,m,Ma);++m}d[d.length]=Aa;f=Math.max(f,Aa.frames[Aa.get_frameCount()-1])}}}var Ra=k.field(b,"drawOrder");null==Ra&&
(Ra=k.field(b,"draworder"));if(null!=Ra&&0<Ra.length){for(var mb=new Hd(Ra.length),Bb=c.slots.length,Cb=m=0;Cb<Ra.length;){var Db=Ra[Cb];++Cb;var qb=null;if(Object.prototype.hasOwnProperty.call(Db,"offsets")){for(var qb=[],Fb=Bb-1;0<=Fb;)qb[Fb]=-1,--Fb;for(var Mb=k.field(Db,"offsets"),Gb=[],tb=0,Hb=0,Jb=0;Jb<Mb.length;){var Kb=Mb[Jb];++Jb;var Ob=k.field(Kb,"slot");g=c.findSlotIndex(null==Ob?null:A.string(Ob));if(-1==g){var Pb=k.field(Kb,"slot");throw new o(new H("Slot not found: "+(null==Pb?null:
A.string(Pb))));}for(;tb!=g;)Gb[Hb++]=tb++;var Qb=k.field(Kb,"offset");qb[tb+(null==Qb?0:r.__cast(Qb,sc))]=tb++}for(;tb<Bb;)Gb[Hb++]=tb++;for(var Eb=Bb-1;0<=Eb;)-1==qb[Eb]&&(qb[Eb]=Gb[--Hb]),--Eb}var Rb=k.field(Db,"time");mb.setFrame(m++,null==Rb?0:r.__cast(Rb,K),qb)}d[d.length]=mb;f=Math.max(f,mb.frames[mb.get_frameCount()-1])}var zb=k.field(b,"events");if(null!=zb&&0<zb.length){for(var Ib=new Id(zb.length),Nb=m=0;Nb<zb.length;){var yb=zb[Nb];++Nb;var Sb=k.field(yb,"name"),Ab=c.findEvent(null==Sb?
null:A.string(Sb));if(null==Ab){var Tb=k.field(yb,"name");throw new o(new H("Event not found: "+(null==Tb?null:A.string(Tb))));}var Ub=k.field(yb,"time"),Lb=new Pe(null==Ub?0:r.__cast(Ub,K),Ab),Yb=Ab.intValue,Vb=k.field(yb,"Int");Lb.intValue=null==Vb?Yb:r.__cast(Vb,sc);var Zb=Ab.floatValue,Wb=k.field(yb,"float");Lb.floatValue=null==Wb?Zb:r.__cast(Wb,K);var $b=Ab.stringValue,Xb=k.field(yb,"string");Lb.stringValue=null==Xb?$b:A.string(Xb);Ib.setFrame(m++,Lb)}d[d.length]=Ib;f=Math.max(f,Ib.frames[Math.floor(Ib.get_frameCount()-
1)])}c.animations[c.animations.length]=new db(a,d,f)},__class__:T};var zd=function(a){this._attachments=[];if(null==a)throw new o(new H("name cannot be null."));this._name=a};g["workinman.display.spine.Skin"]=zd;zd.__name__=["workinman","display","spine","Skin"];zd.prototype={dispose:function(){this._attachments=null},addAttachment:function(a,b,c){if(null==c)throw new o(new H("attachment cannot be null."));null==this.get_attachments()[a]&&(this.get_attachments()[a]=new aa);a=this.get_attachments()[a];
null!=v[b]?a.setReserved(b,c):a.h[b]=c},getAttachment:function(a,b){if(a>=this.get_attachments().length)return null;var c=this.get_attachments()[a];return null!=c?null!=v[b]?c.getReserved(b):c.h[b]:null},get_attachments:function(){return this._attachments},get_name:function(){return this._name},attachAll:function(a,b){for(var c=0,d=0,f=a.slots;d<f.length;){var e=f[d];++d;var g=e.get_attachment();if(null!=g&&c<b.get_attachments().length){var h=b.get_attachments()[c];if(null!=h)for(var m=h.keys();m.hasNext();){var i=
m.next(),j=null!=v[i]?h.getReserved(i):h.h[i];if(g==j){g=this.getAttachment(c,i);null!=g&&e.set_attachment(g);break}}}++c}},__class__:zd,__properties__:{get_name:"get_name",get_attachments:"get_attachments"}};var Se=function(a,b){this.attachmentVertices=[];if(null==a)throw new o(new H("data cannot be null."));if(null==b)throw new o(new H("bone cannot be null."));this._data=a;this._bone=b;this.setToSetupPose()};g["workinman.display.spine.Slot"]=Se;Se.__name__=["workinman","display","spine","Slot"];
Se.prototype={dispose:function(){this._data.dispose();this.attachmentVertices=this._attachment=this._bone=this._data=null},get_data:function(){return this._data},get_bone:function(){return this._bone},get_skeleton:function(){return this._bone.get_skeleton()},get_attachment:function(){return this._attachment},set_attachment:function(a){if(this._attachment==a)return this._attachment;this._attachment=a;this._attachmentTime=this._bone.get_skeleton().time;this.attachmentVertices=[];return this._attachment},
setToSetupPose:function(){var a=this._bone.get_skeleton().get_data().slots.indexOf(this.get_data());this.r=this._data.r;this.g=this._data.g;this.b=this._data.b;this.a=this._data.a;null==this._data.attachmentName?this.set_attachment(null):(this._attachment=null,this.set_attachment(this._bone.get_skeleton().getAttachmentForSlotIndex(a,this.get_data().attachmentName)))},__class__:Se,__properties__:{set_attachment:"set_attachment",get_attachment:"get_attachment",get_skeleton:"get_skeleton",get_bone:"get_bone",
get_data:"get_data"}};var Xe=function(a,b){this.r=this.g=this.b=this.a=1;if(null==a)throw new o(new H("name cannot be null."));if(null==b)throw new o(new H("boneData cannot be null."));this._name=a;this._boneData=b};g["workinman.display.spine.SlotData"]=Xe;Xe.__name__=["workinman","display","spine","SlotData"];Xe.prototype={dispose:function(){this._boneData=null},get_name:function(){return this._name},get_boneData:function(){return this._boneData},__class__:Xe,__properties__:{get_boneData:"get_boneData",
get_name:"get_name"}};var W=function(a,b,c,d){null==d&&(d=!1);null==c&&(c="");null==b&&(b="");U.call(this,a);var f=a.library;""!=b&&(f=b);b=d?null:new Ze(n.getFile(f+".atlas").toString(),new Jd(f.substring(0,f.lastIndexOf("/")+1),n.getPackForAsset(f)));b=new T(new jb(b));c=""==c?a.library:c;c=b.readSkeletonData(n.getFile(c+".json").toString(),c);b=new $e(c);this.state=new af(b);this._renderer=new Kd(c,a.debug);this._skeleton=this._renderer.skeleton;this._skeleton.updateWorldTransform();this.eventAnimationComplete=
Qa._new();this._animationsSpine=new aa;a=0;for(c=c.animations;a<c.length;)b=c[a],++a,f=this._animationsSpine,d=b.get_name(),null!=v[d]?f.setReserved(d,b):f.h[d]=b;this.state.onStart.add(i(this,this._onAnimationStart));this.state.onComplete.add(i(this,this._onAnimationCompleted));this.state.onEvent.add(i(this,this._onAnimationEvent));this.addChild(this._renderer);this._bounds=new Ue;this._boundsRegion=new bf(this._renderer)};g["workinman.display.spine.SpineElement"]=W;W.__name__=["workinman","display",
"spine","SpineElement"];W.__super__=U;W.prototype=x(U.prototype,{dispose:function(){this.state.onStart.remove(i(this,this._onAnimationStart));this.state.onComplete.remove(i(this,this._onAnimationCompleted));this.state.onEvent.remove(i(this,this._onAnimationEvent));this._bounds.dispose();this._bounds=null;this._boundsRegion.dispose();this._boundsRegion=null;this.state.dispose();this.state=null;this.eventAnimationComplete.dispose();this._renderer=this._animationsSpine=this._skeleton=this.eventAnimationComplete=
null;U.prototype.dispose.call(this)},get_currentAnimation:function(){return this._currentAnimation},get_animationsSpine:function(){return this._animationsSpine},get_hitName:function(){return this._hitName},runUpdate:function(a){U.prototype.runUpdate.call(this,a);this.state.update(a);this.state.apply(this._skeleton);this._skeleton.updateWorldTransform()},getFrames:function(a){null==a&&(a=0);a=this.state.getCurrent(a);return null!=a?Math.floor(a.animation.duration*W.FPS):0},getFrame:function(a){null==
a&&(a=0);a=this.state.getCurrent(a);return null!=a?Math.floor(a.animation.currentTime*W.FPS):0},setFrame:function(a,b){null==b&&(b=0);var c=this.state.getCurrent(b);null!=c&&(c.timeScale=0,c.time=Zb.clamp(a/W.FPS,0,c.animation.duration))},setTimeScale:function(a,b){null==b&&(b=0);var c=this.state.getCurrent(b);null!=c&&(c.timeScale=a)},startAnimation:function(a){null==a&&(a=0);a=this.state.getCurrent(a);null!=a&&(a.timeScale=1)},stopAnimation:function(a){null==a&&(a=0);a=this.state.getCurrent(a);
null!=a&&(a.timeScale=0)},mixAnimation:function(a,b,c){this.state.get_data().setMixByName(a,b,c)},hasAnimation:function(a){var b=this._animationsSpine;return null!=v[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},animate:function(a,b,c,d,f){null==f&&(f=!1);null==d&&(d=0);null==c&&(c=1);null==b&&(b=0);this._doAnimate(a,b,!1,0,c,d,f);return this},queueAnimation:function(a,b,c,d,f,e){null==e&&(e=0);null==f&&(f=!1);null==d&&(d=0);null==c&&(c=1);null==b&&(b=0);this._doAnimate(a,b,!0,e,c,d,f);return this},
_doAnimate:function(a,b,c,d,f,e,g){null==g&&(g=!1);null==e&&(e=0);null==f&&(f=1);g&&this._skeleton.setToSetupPose();if(this.hasAnimation(a)&&(c=c?this.state.addAnimationByName(e,a,0==b,d):this.state.setAnimationByName(e,a,0==b),c.timeScale=f,0<b))for(d=1;d<b;)d++,c=this.state.addAnimationByName(e,a,!1,0),c.timeScale=f},clearQueue:function(){null!=this.state&&this.state.clearTracks()},setSkin:function(a,b){null==b&&(b=!1);this._skeleton.set_skinName(a);b&&this._skeleton.setSlotsToSetupPose()},setAttachment:function(a,
b){this._skeleton.setAttachment(a,b)},getAttachment:function(a){a=this._skeleton.findSlot(a);return null==a||null==a.get_attachment()?"":a.get_attachment().name},hit:function(a,b,c){null==c&&(c="");this._hitName="";this._bounds.update(this._skeleton,!0);return this._bounds.aabbContainsPoint(a,b)&&(a=this._bounds.containsPoint(a,b),null!=a&&(""==c||c==a.name))?(this._hitName=a.name,!0):!1},hitRegion:function(a,b,c){null==c&&(c="");this._hitName="";this._boundsRegion.update(this._skeleton,!0,this.scaleX,
this.scaleY);return this._boundsRegion.aabbContainsPoint(a,b)&&(a=this._boundsRegion.containsPoint(a,b),null!=a&&(""==c||c==a.name))?(this._hitName=a.name,!0):!1},addElementToSlot:function(a,b){var c;if(null!=this._skeleton.findSlot(a)){c=this._renderer.get_sprites();var d=this._skeleton.findSlot(a).get_attachment();c=null==c.h[d.__id__]}else c=!0;c||(c=this._renderer.get_sprites(),d=this._skeleton.findSlot(a).get_attachment(),c.h[d.__id__].addChild(b))},_onAnimationStart:function(a){this._currentAnimation=
this.state.getCurrent(a).animation.get_name()},_onAnimationCompleted:function(){this.eventAnimationComplete.dispatch()},_onAnimationEvent:function(){},__class__:W,__properties__:x(U.prototype.__properties__,{get_hitName:"get_hitName",get_animationsSpine:"get_animationsSpine",get_currentAnimation:"get_currentAnimation"})});var yd=function(a,b){if(null==a)throw new o(new H("data cannot be null."));if(null==b)throw new o(new H("skeleton cannot be null."));this._data=a;this.translateMix=a.translateMix;
this.rotateMix=a.rotateMix;this.scaleMix=a.scaleMix;this.shearMix=a.shearMix;this.offsetRotation=a.offsetRotation;this.offsetX=a.offsetX;this.offsetY=a.offsetY;this.offsetScaleX=a.offsetScaleX;this.offsetScaleY=a.offsetScaleY;this.offsetShearY=a.offsetShearY;this.bone=b.findBone(a.bone.name);this.target=b.findBone(a.target.name)};g["workinman.display.spine.TransformConstraint"]=yd;yd.__name__=["workinman","display","spine","TransformConstraint"];yd.__interfaces__=[vc];yd.prototype={dispose:function(){this._data.dispose();
this.target=this.bone=this._data=null},update:function(){if(0<this.rotateMix){var a=this.bone.get_a(),b=this.bone.get_b(),c=this.bone.get_c(),d=this.bone.get_d(),f=Math.atan2(this.target.get_c(),this.target.get_a())-Math.atan2(c,a)+this.offsetRotation*cb.degRad;f>Math.PI?f-=2*Math.PI:f<-Math.PI&&(f+=2*Math.PI);var f=f*this.rotateMix,e=Math.cos(f),f=Math.sin(f);this.bone.set_a(e*a-f*c);this.bone.set_b(e*b-f*d);this.bone.set_c(f*a+e*c);this.bone.set_d(f*b+e*d)}0<this.scaleMix&&(a=Math.sqrt(this.bone.get_a()*
this.bone.get_a()+this.bone.get_c()*this.bone.get_c()),b=Math.sqrt(this.target.get_a()*this.target.get_a()+this.target.get_c()*this.target.get_c()),a=0<a?(a+(b-a+this.offsetScaleX)*this.scaleMix)/a:0,b=this.bone,b.set_a(b.get_a()*a),b=this.bone,b.set_c(b.get_c()*a),a=Math.sqrt(this.bone.get_b()*this.bone.get_b()+this.bone.get_d()*this.bone.get_d()),b=Math.sqrt(this.target.get_b()*this.target.get_b()+this.target.get_d()*this.target.get_d()),a=0<a?(a+(b-a+this.offsetScaleY)*this.scaleMix)/a:0,b=this.bone,
b.set_b(b.get_b()*a),b=this.bone,b.set_d(b.get_d()*a));0<this.shearMix&&(b=this.bone.get_b(),c=this.bone.get_d(),d=Math.atan2(c,b),a=Math.atan2(this.target.get_d(),this.target.get_b())-Math.atan2(this.target.get_c(),this.target.get_a())-(d-Math.atan2(this.bone.get_c(),this.bone.get_a())),a>Math.PI?a-=2*Math.PI:a<-Math.PI&&(a+=2*Math.PI),a=d+(a+this.offsetShearY*cb.degRad)*this.shearMix,b=Math.sqrt(b*b+c*c),this.bone.set_b(Math.cos(a)*b),this.bone.set_d(Math.sin(a)*b));a=this.translateMix;0<a&&(b=
pa.allocFloat(2),b[0]=this.offsetX,b[1]=this.offsetY,this.target.localToWorld(b),c=this.bone,c.set_worldX(c.get_worldX()+(b[0]-this.bone.get_worldX())*a),c=this.bone,c.set_worldY(c.get_worldY()+(b[1]-this.bone.get_worldY())*a))},get_data:function(){return this._data},__class__:yd,__properties__:{get_data:"get_data"}};var We=function(a){if(null==a)throw new o(new H("name cannot be null."));this._name=a};g["workinman.display.spine.TransformConstraintData"]=We;We.__name__=["workinman","display","spine",
"TransformConstraintData"];We.prototype={dispose:function(){this.target=this.bone=null},__class__:We};var db=function(a,b,c){if(null==a)throw new o(new H("name cannot be null."));if(null==b)throw new o(new H("timelines cannot be null."));this._name=a;this._timelines=b;this.duration=c};g["workinman.display.spine.animation.Animation"]=db;db.__name__=["workinman","display","spine","animation","Animation"];db.binarySearch=function(a,b,c){var d=0,f=Math.floor(a.length/c-2);if(0==f)return c;for(var e=f>>>
1;;){a[(e+1)*c]<=b?d=e+1:f=e;if(d==f)return(d+1)*c;e=d+f>>>1}};db.binarySearch1=function(a,b){var c=0,d=a.length-2;if(0==d)return 1;for(var f=d>>>1;;){a[f+1]<=b?c=f+1:d=f;if(c==d)return c+1;f=c+d>>>1}};db.prototype={get_timelines:function(){return this._timelines},apply:function(a,b,c,d,f){if(null==a)throw new o(new H("skeleton cannot be null."));d&&0!=this.duration&&(c%=this.duration,0<b&&(b%=this.duration));for(var d=0,e=this.get_timelines().length;d<e;){var g=d++;this.get_timelines()[g].apply(a,
b,c,f,1)}this.currentTime=c},mix:function(a,b,c,d,f,e){if(null==a)throw new o(new H("skeleton cannot be null."));d&&0!=this.duration&&(c%=this.duration,0<b&&(b%=this.duration));for(var d=0,g=this.get_timelines().length;d<g;){var h=d++;this.get_timelines()[h].apply(a,b,c,f,e)}},get_name:function(){return this._name},__class__:db,__properties__:{get_name:"get_name",get_timelines:"get_timelines"}};var af=function(a){this.timeScale=1;if(null==a)throw new o(new H("data cannot be null."));this._data=a;
this._tracks=[];this._events=[];this.onStart=new Xb;this.onEnd=new Xb;this.onComplete=new Xb;this.onEvent=new Xb};g["workinman.display.spine.animation.AnimationState"]=af;af.__name__=["workinman","display","spine","animation","AnimationState"];af.prototype={dispose:function(){this._data.dispose();this._data=null;for(var a=0,b=this._tracks;a<b.length;){var c=b[a];++a;null!=c&&c.dispose()}this._tracks=null;a=0;for(b=this._events;a<b.length;)c=b[a],++a,c.dispose();this._events=null;this.onStart.dispose();
this.onStart=null;this.onEnd.dispose();this.onEnd=null;this.onComplete.dispose();this.onComplete=null;this.onEvent.dispose();this.onEvent=null},get_data:function(){return this._data},update:function(a){for(var a=a*this.timeScale,b=0,c=this._tracks.length;b<c;){var d=b++,f=this._tracks[d];if(null!=f){f.time+=a*f.timeScale;if(null!=f.previous){var e=a*f.previous.timeScale;f.previous.time+=e;f.mixTime+=e}var e=f.next,g=f.lastTime;0>f.timeScale&&(g=Math.abs(g));null!=e?(e.time=g-e.delay,0<=e.time&&this.setCurrent(d,
e)):!f.loop&&g>=f.endTime&&this.clearTrack(d)}}},apply:function(a){for(var b=0,c=this._tracks.length;b<c;){var d=b++,f=this._tracks[d];if(null!=f){this._events=[];var e=f.time,g=f.lastTime,h=f.endTime,m=f.loop;!m&&e>h&&(e=h);if(0>f.timeScale){for(;0>e;)e+=f.animation.duration;for(;0>g;)g+=f.animation.duration}var i=f.previous;if(null==i)1==f.mix?f.animation.apply(a,f.lastTime,e,m,this._events):f.animation.mix(a,f.lastTime,e,m,this._events,f.mix);else{var j=i.time;!i.loop&&j>i.endTime&&(j=i.endTime);
i.animation.apply(a,j,j,i.loop,null);i=f.mixTime/f.mixDuration*f.mix;1<=i&&(i=1,f.previous=null);f.animation.mix(a,f.lastTime,e,m,this._events,i)}i=0;for(j=this._events;i<j.length;){var k=j[i];++i;if(null!=f.onEvent)f.onEvent(d,k);this.onEvent.invoke(d,k)}if(m?g%h>e%h:g<h&&e>=h){e=Math.floor(e/h);if(null!=f.onComplete)f.onComplete(d,e);this.onComplete.invoke(d,e)}f.lastTime=f.time}}},clearTracks:function(){for(var a=0,b=this._tracks.length;a<b;)this.clearTrack(a++);this._tracks=[]},clearTrack:function(a){if(!(a>=
this._tracks.length)){var b=this._tracks[a];if(null!=b){if(null!=b.onEnd)b.onEnd(a);this.onEnd.invoke(a);this._tracks[a]=null}}},expandToIndex:function(a){if(a<this._tracks.length)return this._tracks[a];for(;a>=this._tracks.length;)this._tracks[this._tracks.length]=null;return null},setCurrent:function(a,b){var c=this.expandToIndex(a);if(null!=c){var d=c.previous;c.previous=null;if(null!=c.onEnd)c.onEnd(a);this.onEnd.invoke(a);b.mixDuration=this._data.getMix(c.animation,b.animation);0<b.mixDuration&&
(b.mixTime=0,b.previous=null!=d&&0.5>c.mixTime/c.mixDuration?d:c)}this._tracks[a]=b;if(null!=b.onStart)b.onStart(a);this.onStart.invoke(a)},setAnimationByName:function(a,b,c){var d=this._data.get_skeletonData().findAnimation(b);if(null==d)throw new o(new H("Animation not found: "+b));return this.setAnimation(a,d,c)},setAnimation:function(a,b,c){var d=new Ld;d.animation=b;d.loop=c;d.endTime=b.duration;this.setCurrent(a,d);return d},addAnimationByName:function(a,b,c,d){var f=this._data.get_skeletonData().findAnimation(b);
if(null==f)throw new o(new H("Animation not found: "+b));return this.addAnimation(a,f,c,d)},addAnimation:function(a,b,c,d){var f=new Ld;f.animation=b;f.loop=c;f.endTime=b.duration;c=this.expandToIndex(a);if(null!=c){for(;null!=c.next;)c=c.next;c.next=f}else this._tracks[a]=f;0>=d&&(d=null!=c?d+(c.endTime-this._data.getMix(c.animation,b)):0);f.delay=d;return f},getCurrent:function(a){return a>=this._tracks.length?null:this._tracks[a]},__class__:af,__properties__:{get_data:"get_data"}};var $e=function(a){this.defaultMix=
0;this._skeletonData=a;this.animationToMixTime=new aa};g["workinman.display.spine.animation.AnimationStateData"]=$e;$e.__name__=["workinman","display","spine","animation","AnimationStateData"];$e.prototype={dispose:function(){this._skeletonData=this.animationToMixTime=null},get_skeletonData:function(){return this._skeletonData},setMixByName:function(a,b,c){var d=this._skeletonData.findAnimation(a);if(null==d)throw new o(new H("Animation not found: "+a));a=this._skeletonData.findAnimation(b);if(null==
a)throw new o(new H("Animation not found: "+b));this.setMix(d,a,c)},setMix:function(a,b,c){if(null==a)throw new o(new H("from cannot be null."));if(null==b)throw new o(new H("to cannot be null."));var d=this.animationToMixTime,a=a.get_name()+":"+b.get_name();null!=v[a]?d.setReserved(a,c):d.h[a]=c},getMix:function(a,b){var c=this.animationToMixTime,d=a.get_name()+":"+b.get_name(),c=null!=v[d]?c.getReserved(d):c.h[d];return null==c?this.defaultMix:c},__class__:$e,__properties__:{get_skeletonData:"get_skeletonData"}};
var bc=function(){};g["workinman.display.spine.animation.Timeline"]=bc;bc.__name__=["workinman","display","spine","animation","Timeline"];bc.prototype={__class__:bc};var Bd=function(a){this.frames=pa.allocFloat(a);this.attachmentNames=pa.allocString(a)};g["workinman.display.spine.animation.AttachmentTimeline"]=Bd;Bd.__name__=["workinman","display","spine","animation","AttachmentTimeline"];Bd.__interfaces__=[bc];Bd.prototype={get_frameCount:function(){return this.frames.length},setFrame:function(a,
b,c){this.frames[a]=b;this.attachmentNames[a]=c},apply:function(a,b,c){var d=this.frames;c<d[0]?b>c&&this.apply(a,b,Infinity,null,0):(b>c&&(b=-1),c=c>=d[d.length-1]?d.length-1:db.binarySearch1(d,c)-1,d[c]<b||(b=this.attachmentNames[c],a.slots[this.slotIndex].set_attachment(null==b?null:a.getAttachmentForSlotIndex(this.slotIndex,b))))},__class__:Bd,__properties__:{get_frameCount:"get_frameCount"}};var qa=function(a){this.curves=pa.allocFloat(19*(a-1))};g["workinman.display.spine.animation.CurveTimeline"]=
qa;qa.__name__=["workinman","display","spine","animation","CurveTimeline"];qa.__interfaces__=[bc];qa.prototype={apply:function(){},get_frameCount:function(){return Math.floor(this.curves.length/19+1)},setStepped:function(a){this.curves[Math.floor(19*a)]=1},setCurve:function(a,b,c,d,f){var e=0.1*0.1,g=0.1*e,h=3*0.1,m=3*e,i=6*e,e=6*g,j=2*-b+d,k=2*-c+f,d=3*(b-d)+1,f=3*(c-f)+1,b=b*h+j*m+d*g,c=c*h+k*m+f*g,g=j*i+d*e,i=k*i+f*e,k=d*e,e=f*e,a=19*a,d=this.curves;d[a++]=2;f=b;h=c;for(m=a+19-1;a<m;)d[a]=f,d[a+
1]=h,b+=g,c+=i,g+=k,i+=e,f+=b,h+=c,a+=2},getCurvePercent:function(a,b){var c=this.curves,d=19*a,f=c[d];if(0==f)return b;if(1==f)return 0;++d;for(var f=0,e=d,g=d+19-1;d<g;){f=c[d];if(f>=b)return d==e?g=e=0:(e=c[d-2],g=c[d-1]),g+(c[d+1]-g)*(b-e)/(f-e);d+=2}c=c[d-1];return c+(1-c)*(b-f)/(1-f)},__class__:qa,__properties__:{get_frameCount:"get_frameCount"}};var Ad=function(a){qa.call(this,a);this.frames=pa.allocFloat(a)};g["workinman.display.spine.animation.ColorTimeline"]=Ad;Ad.__name__=["workinman",
"display","spine","animation","ColorTimeline"];Ad.__super__=qa;Ad.prototype=x(qa.prototype,{setFrame:function(a,b,c,d,f,e){a*=5;this.frames[a]=b;this.frames[a+1]=c;this.frames[a+2]=d;this.frames[a+3]=f;this.frames[a+4]=e},apply:function(a,b,c,d,f){if(!(c<this.frames[0])){var e,g;if(c>=this.frames[this.frames.length-5])b=this.frames.length-1,c=this.frames[b-3],e=this.frames[b-2],g=this.frames[b-1],b=this.frames[b];else{var b=db.binarySearch(this.frames,c,5),h=this.frames[b-4];e=this.frames[b-3];g=
this.frames[b-2];var d=this.frames[b-1],m=this.frames[b],m=1-(c-m)/(this.frames[b+-5]-m),m=this.getCurvePercent(Math.floor(b/5-1),0>m?0:1<m?1:m),c=h+(this.frames[b+1]-h)*m;e+=(this.frames[b+2]-e)*m;g+=(this.frames[b+3]-g)*m;b=d+(this.frames[b+4]-d)*m}a=a.slots[this.slotIndex];1>f?(a.r+=(c-a.r)*f,a.g+=(e-a.g)*f,a.b+=(g-a.b)*f,a.a+=(b-a.a)*f):(a.r=c,a.g=e,a.b=g,a.a=b)}},__class__:Ad});var Hd=function(a){this.frames=pa.allocFloat(a);this.drawOrders=pa.allocIntArray(a)};g["workinman.display.spine.animation.DrawOrderTimeline"]=
Hd;Hd.__name__=["workinman","display","spine","animation","DrawOrderTimeline"];Hd.__interfaces__=[bc];Hd.prototype={get_frameCount:function(){return this.frames.length},setFrame:function(a,b,c){this.frames[a]=b;this.drawOrders[a]=c},apply:function(a,b,c){if(!(c<this.frames[0])){var c=c>=this.frames[this.frames.length-1]?this.frames.length-1:db.binarySearch1(this.frames,c)-1,b=a.drawOrder,a=a.slots,d=this.drawOrders[c],c=0;if(null==d)for(d=0;d<a.length;){var f=a[d];++d;b[c++]=f}else for(f=0;f<d.length;){var e=
d[f];++f;b[c++]=a[e]}}},__class__:Hd,__properties__:{get_frameCount:"get_frameCount"}};var Id=function(a){this.frames=pa.allocFloat(a);this.events=[];for(var b=0;b<a;)b++,this.events.push(null)};g["workinman.display.spine.animation.EventTimeline"]=Id;Id.__name__=["workinman","display","spine","animation","EventTimeline"];Id.__interfaces__=[bc];Id.prototype={get_frameCount:function(){return this.frames.length},setFrame:function(a,b){this.frames[a]=b.time;this.events[a]=b},apply:function(a,b,c,d,f){if(null!=
d){if(b>c)this.apply(a,b,Infinity,d,f),b=-1;else if(b>=this.frames[this.get_frameCount()-1])return;if(!(c<this.frames[0])){if(b<this.frames[0])a=0;else{a=db.binarySearch1(this.frames,b);for(b=this.frames[a];0<a&&!(this.frames[a-1]!=b);)--a}for(;a<this.get_frameCount()&&c>=this.frames[a];)d[d.length]=this.events[a],++a}}},__class__:Id,__properties__:{get_frameCount:"get_frameCount"}};var Gd=function(a){qa.call(this,a);this.frames=pa.allocFloat(a);this.frameVertices=pa.allocFloatArray(a)};g["workinman.display.spine.animation.FfdTimeline"]=
Gd;Gd.__name__=["workinman","display","spine","animation","FfdTimeline"];Gd.__super__=qa;Gd.prototype=x(qa.prototype,{setFrame:function(a,b,c){this.frames[a]=b;this.frameVertices[a]=c},apply:function(a,b,c,d,f){b=a.slots[this.slotIndex];if(b.get_attachment()==this.attachment&&(d=this.frames,!(c<d[0]))){var e=this.frameVertices,a=e[0].length,b=b.attachmentVertices;b.length!=a&&(f=1);if(c>=d[d.length-1])if(c=e[d.length-1],1>f)for(d=0;d<a;)e=d++,b[e]+=(c[e]-b[e])*f;else for(f=0;f<a;)d=f++,b[d]=c[d];
else{var g=db.binarySearch1(d,c),h=d[g],c=1-(c-h)/(d[g-1]-h),c=this.getCurvePercent(g-1,0>c?0:1<c?1:c),d=e[g-1],e=e[g];if(1>f)for(h=0;h<a;){var m=h++,g=d[m];b[m]+=(g+(e[m]-g)*c-b[m])*f}else for(f=0;f<a;)h=f++,g=d[h],b[h]=g+(e[h]-g)*c}}},__class__:Gd});var Fd=function(a){qa.call(this,a);this.frames=pa.allocFloat(a)};g["workinman.display.spine.animation.IkConstraintTimeline"]=Fd;Fd.__name__=["workinman","display","spine","animation","IkConstraintTimeline"];Fd.__super__=qa;Fd.prototype=x(qa.prototype,
{setFrame:function(a,b,c,d){a*=3;this.frames[a]=b;this.frames[a+1]=c;this.frames[a+2]=d},apply:function(a,b,c,d,f){if(!(c<this.frames[0]))if(a=a.ikConstraints[this.ikConstraintIndex],c>=this.frames[this.frames.length-3])a.mix+=(this.frames[this.frames.length-2]-a.mix)*f,a.bendDirection=Math.floor(this.frames[this.frames.length-1]);else{var b=db.binarySearch(this.frames,c,3),d=this.frames[b+-2],e=this.frames[b],c=1-(c-e)/(this.frames[b+-3]-e),c=this.getCurvePercent(Math.floor(b/3-1),0>c?0:1<c?1:c);
a.mix+=(d+(this.frames[b+1]-d)*c-a.mix)*f;a.bendDirection=Math.floor(this.frames[b+-1])}},__class__:Fd});var Xb=function(){this.listeners=[]};g["workinman.display.spine.animation.Listeners"]=Xb;Xb.__name__=["workinman","display","spine","animation","Listeners"];Xb.prototype={dispose:function(){this.listeners=null},add:function(a){if(null==a)throw new o(new H("listener cannot be null."));this.listeners[this.listeners.length]=a},remove:function(a){if(null==a)throw new o(new H("listener cannot be null."));
this.listeners.splice(this.listeners.indexOf(a),1)},invoke:function(a,b){for(var c=0,d=this.listeners;c<d.length;){var f=d[c];++c;f(a,b)}},__class__:Xb};var Cd=function(a){qa.call(this,a);this.frames=pa.allocFloat(2*a)};g["workinman.display.spine.animation.RotateTimeline"]=Cd;Cd.__name__=["workinman","display","spine","animation","RotateTimeline"];Cd.__super__=qa;Cd.prototype=x(qa.prototype,{setFrame:function(a,b,c){a*=2;this.frames[a]=b;this.frames[a+1]=c},apply:function(a,b,c,d,f){if(!(c<this.frames[0])){a=
a.bones[this.boneIndex];if(c>=this.frames[this.frames.length-2])d=a.get_data().rotation+this.frames[this.frames.length-1]-a.rotation;else{for(var d=db.binarySearch(this.frames,c,2),b=this.frames[d-1],e=this.frames[d],c=1-(c-e)/(this.frames[d+-2]-e),c=this.getCurvePercent(Math.floor(d/2-1),0>c?0:1<c?1:c),d=this.frames[d+1]-b;180<d;)d-=360;for(;-180>d;)d+=360;d=a.get_data().rotation+(b+d*c)-a.rotation}for(;180<d;)d-=360;for(;-180>d;)d+=360;a.rotation+=d*f}},__class__:Cd});var xb=function(a){this.FRAME_Y=
2;this.FRAME_X=1;this.PREV_FRAME_TIME=-3;qa.call(this,a);this.frames=pa.allocFloat(a)};g["workinman.display.spine.animation.TranslateTimeline"]=xb;xb.__name__=["workinman","display","spine","animation","TranslateTimeline"];xb.__super__=qa;xb.prototype=x(qa.prototype,{setFrame:function(a,b,c,d){a*=3;this.frames[a]=b;this.frames[a+1]=c;this.frames[a+2]=d},apply:function(a,b,c,d,f){if(!(c<this.frames[0]))if(a=a.bones[this.boneIndex],c>=this.frames[this.frames.length-3])a.x+=(a.get_data().x+this.frames[this.frames.length-
2]-a.x)*f,a.y+=(a.get_data().y+this.frames[this.frames.length-1]-a.y)*f;else{var b=db.binarySearch(this.frames,c,3),d=this.frames[b-2],e=this.frames[b-1],g=this.frames[b],c=1-(c-g)/(this.frames[b+this.PREV_FRAME_TIME]-g),c=this.getCurvePercent(Math.floor(b/3-1),0>c?0:1<c?1:c);a.x+=(a.get_data().x+d+(this.frames[b+this.FRAME_X]-d)*c-a.x)*f;a.y+=(a.get_data().y+e+(this.frames[b+this.FRAME_Y]-e)*c-a.y)*f}},__class__:xb});var Dd=function(a){xb.call(this,a)};g["workinman.display.spine.animation.ScaleTimeline"]=
Dd;Dd.__name__=["workinman","display","spine","animation","ScaleTimeline"];Dd.__super__=xb;Dd.prototype=x(xb.prototype,{apply:function(a,b,c,d,f){if(!(c<this.frames[0]))if(a=a.bones[this.boneIndex],c>=this.frames[this.frames.length-3])a.scaleX+=(a.get_data().scaleX*this.frames[this.frames.length-2]-a.scaleX)*f,a.scaleY+=(a.get_data().scaleY*this.frames[this.frames.length-1]-a.scaleY)*f;else{var b=db.binarySearch(this.frames,c,3),d=this.frames[b-2],e=this.frames[b-1],g=this.frames[b],c=1-(c-g)/(this.frames[b+
this.PREV_FRAME_TIME]-g),c=this.getCurvePercent(Math.floor(b/3-1),0>c?0:1<c?1:c);a.scaleX+=(a.get_data().scaleX*(d+(this.frames[b+this.FRAME_X]-d)*c)-a.scaleX)*f;a.scaleY+=(a.get_data().scaleY*(e+(this.frames[b+this.FRAME_Y]-e)*c)-a.scaleY)*f}},__class__:Dd});var Ed=function(a){xb.call(this,a)};g["workinman.display.spine.animation.ShearTimeline"]=Ed;Ed.__name__=["workinman","display","spine","animation","ShearTimeline"];Ed.__super__=xb;Ed.prototype=x(xb.prototype,{apply:function(a,b,c,d,f){if(!(c<
this.frames[0]))if(a=a.bones[this.boneIndex],c>=this.frames[this.frames.length-3])a.shearX+=(a.get_data().shearX+this.frames[this.frames.length-2]-a.shearX)*f,a.shearY+=(a.get_data().shearY+this.frames[this.frames.length-1]-a.shearY)*f;else{var b=db.binarySearch(this.frames,c,3),d=this.frames[b-2],e=this.frames[b-1],g=this.frames[b],c=Zb.clamp(1-(c-g)/(this.frames[b+this.PREV_FRAME_TIME]-g),0,1),c=this.getCurvePercent(Math.floor(b/3-1),c);a.shearX+=(a.get_data().shearX+(d+(this.frames[b+this.FRAME_X]-
d)*c)-a.shearX)*f;a.shearY+=(a.get_data().shearY+(e+(this.frames[b+this.FRAME_Y]-e)*c)-a.shearY)*f}},__class__:Ed});var Ld=function(){this.timeScale=this.mix=1;this.lastTime=-1;this.time=0};g["workinman.display.spine.animation.TrackEntry"]=Ld;Ld.__name__=["workinman","display","spine","animation","TrackEntry"];Ld.prototype={dispose:function(){this.onEvent=this.onComplete=this.onEnd=this.onStart=this.animation=this.previous=this.next=null},__class__:Ld};var Ze=function(a,b){this.regions=[];this.pages=
[];""!=a&&this.load(a,b)};g["workinman.display.spine.atlas.Atlas"]=Ze;Ze.__name__=["workinman","display","spine","atlas","Atlas"];Ze.prototype={load:function(a,b){if(null==b)throw new o(new H("textureLoader cannot be null."));this.textureLoader=b;for(var c=new cf(a),d=pa.allocString(4),f=null;;){var e=c.readLine();if(null==e)break;e=c.trim(e);if(0==e.length)f=null;else if(null==f){f=new df;f.name=e;2==c.readTuple(d)&&(f.width=A.parseInt(d[0]),f.height=A.parseInt(d[1]),c.readTuple(d));f.format=d[0];
c.readTuple(d);f.minFilter=d[0];f.magFilter=d[1];var g=c.readValue();f.uWrap="clampToEdge";f.vWrap="clampToEdge";"x"==g?f.uWrap="repeat":"y"==g?f.vWrap="repeat":"xy"==g&&(f.uWrap=f.vWrap="repeat");b.loadPage(f,e);this.pages.push(f)}else{g=new wc;g.name=e;g.page=f;g.rotate="true"==c.readValue();c.readTuple(d);var e=A.parseInt(d[0]),h=A.parseInt(d[1]);c.readTuple(d);var m=A.parseInt(d[0]),i=A.parseInt(d[1]);g.u=e/f.width;g.v=h/f.height;g.rotate?(g.u2=(e+i)/f.width,g.v2=(h+m)/f.height):(g.u2=(e+m)/f.width,
g.v2=(h+i)/f.height);g.x=e;g.y=h;g.width=Math.floor(Math.abs(m));g.height=Math.floor(Math.abs(i));4==c.readTuple(d)&&(g.splits=[A.parseInt(d[0]),A.parseInt(d[1]),A.parseInt(d[2]),A.parseInt(d[3])],4==c.readTuple(d)&&(g.pads=[A.parseInt(d[0]),A.parseInt(d[1]),A.parseInt(d[2]),A.parseInt(d[3])],c.readTuple(d)));g.originalWidth=A.parseInt(d[0]);g.originalHeight=A.parseInt(d[1]);c.readTuple(d);g.offsetX=A.parseInt(d[0]);g.offsetY=A.parseInt(d[1]);g.index=A.parseInt(c.readValue());b.loadRegion(g);this.regions.push(g)}}},
findRegion:function(a){for(var b=0,c=this.regions.length;b<c;){var d=b++;if(this.regions[d].name==a)return this.regions[d]}return null},__class__:Ze};var cf=function(a){this.index=0;this.lines=(new fb("[ \t]*((\r\n)|\r|\n)[ \t]*","g")).split(a)};g["workinman.display.spine.atlas.Reader"]=cf;cf.__name__=["workinman","display","spine","atlas","Reader"];cf.prototype={trim:function(a){return Q.trim(a)},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var a=
this.readLine(),b=a.indexOf(":");if(-1==b)throw new o(new H("Invalid line: "+a));return this.trim(a.substring(b+1))},readTuple:function(a){var b=this.readLine(),c=b.indexOf(":");if(-1==c)throw new o(new H("Invalid line: "+b));for(var d=0,c=c+1;3>d;){var f=b.indexOf(",",c);if(-1==f)break;a[d]=this.trim(C.substr(b,c,f-c));c=f+1;++d}a[d]=this.trim(b.substring(c));return d+1},__class__:cf};var df=function(){};g["workinman.display.spine.atlas.AtlasPage"]=df;df.__name__=["workinman","display","spine","atlas",
"AtlasPage"];df.prototype={__class__:df};var wc=function(){};g["workinman.display.spine.atlas.AtlasRegion"]=wc;wc.__name__=["workinman","display","spine","atlas","AtlasRegion"];wc.prototype={__class__:wc};var ef=function(){};g["workinman.display.spine.atlas.TextureLoader"]=ef;ef.__name__=["workinman","display","spine","atlas","TextureLoader"];ef.prototype={__class__:ef};var ff=function(){};g["workinman.display.spine.attachments.AttachmentLoader"]=ff;ff.__name__=["workinman","display","spine","attachments",
"AttachmentLoader"];ff.prototype={__class__:ff};var jb=function(a){this.atlas=a};g["workinman.display.spine.attachments.AtlasAttachmentLoader"]=jb;jb.__name__=["workinman","display","spine","attachments","AtlasAttachmentLoader"];jb.__interfaces__=[ff];jb.nextPOT=function(a){--a;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;return(a|a>>16)+1};jb.prototype={newRegionAttachment:function(a,b,c){if(null==this.atlas)return null;a=this.atlas.findRegion(c);if(null==a)throw new o(new H("Region not found in atlas: "+c+" (region attachment: "+
b+")"));b=new Fa(b);b.rendererObject=a;var c=a.page.width/jb.nextPOT(a.page.width),d=a.page.height/jb.nextPOT(a.page.height);b.setUVs(a.u*c,a.v*d,a.u2*c,a.v2*d,a.rotate);b.regionOffsetX=a.offsetX;b.regionOffsetY=a.offsetY;b.regionWidth=a.width;b.regionHeight=a.height;b.regionOriginalWidth=a.originalWidth;b.regionOriginalHeight=a.originalHeight;return b},newMeshAttachment:function(a,b,c){if(null==this.atlas)return null;a=this.atlas.findRegion(c);if(null==a)throw new o(new H("Region not found in atlas: "+
c+" (mesh attachment: "+b+")"));b=new rb(b);b.rendererObject=a;return b},newWeightedMeshAttachment:function(a,b,c){if(null==this.atlas)return null;a=this.atlas.findRegion(c);if(null==a)throw new o(new H("Region not found in atlas: "+c+" (weighted mesh attachment: "+b+")"));b=new ac(b);b.rendererObject=a;var c=a.page.width/jb.nextPOT(a.page.width),d=a.page.height/jb.nextPOT(a.page.height);b.regionU=a.u*c;b.regionV=a.v*d;b.regionU2=a.u2*c;b.regionV2=a.v2*d;b.regionRotate=a.rotate;b.regionOffsetX=a.offsetX;
b.regionOffsetY=a.offsetY;b.regionWidth=a.width;b.regionHeight=a.height;b.regionOriginalWidth=a.originalWidth;b.regionOriginalHeight=a.originalHeight;return b},newBoundingBoxAttachment:function(a,b){return new Rb(b)},__class__:jb};var ya=function(a){if(null==a)throw new o(new H("name cannot be null."));this.name=a};g["workinman.display.spine.attachments.Attachment"]=ya;ya.__name__=["workinman","display","spine","attachments","Attachment"];ya.prototype={dispose:function(){},__class__:ya};var Ye=function(a,
b){this.ordinal=a;this.name=b};g["workinman.display.spine.attachments.AttachmentType"]=Ye;Ye.__name__=["workinman","display","spine","attachments","AttachmentType"];Ye.prototype={__class__:Ye};var Rb=function(a){ya.call(this,a);this.vertices=[]};g["workinman.display.spine.attachments.BoundingBoxAttachment"]=Rb;Rb.__name__=["workinman","display","spine","attachments","BoundingBoxAttachment"];Rb.__super__=ya;Rb.prototype=x(ya.prototype,{dispose:function(){ya.prototype.dispose.call(this);this.vertices=
null},computeWorldVertices:function(a,b,c,d){for(;0<d.length;)d.pop();for(var a=a+c.get_worldX(),b=b+c.get_worldY(),f=c.get_a(),e=c.get_b(),g=c.get_c(),c=c.get_d(),h=this.vertices,m=0,i=h.length;m<i;){var j=m+1,k=h[m],n=h[j];d[m]=k*f+n*e+a;d[j]=k*g+n*c+b;m+=2}},__class__:Rb});var rb=function(a){this.r=this.g=this.b=this.a=1;ya.call(this,a)};g["workinman.display.spine.attachments.MeshAttachment"]=rb;rb.__name__=["workinman","display","spine","attachments","MeshAttachment"];rb.__super__=ya;rb.prototype=
x(ya.prototype,{dispose:function(){ya.prototype.dispose.call(this);this.region=this.worldVertices=this.rendererObject=this.triangles=this.regionUVs=this.uvs=this.vertices=null},updateUVs:function(){null==this.region&&(this.region=this.rendererObject);var a,b=this.regionUVs.length;if(null==this.uvs||this.uvs.length!=b)this.uvs=[];var c,d,f,e;null==this.region?(c=d=0,f=e=1):(c=this.region.u,d=this.region.v,f=this.region.u2-c,e=this.region.v2-d);var g=this.regionUVs;if(r.__instanceof(this.region,wc)&&
r.__cast(this.region,wc).rotate)for(a=0;a<b;)this.uvs[a]=c+g[a+1]*f,this.uvs[a+1]=d+e-g[a]*e,a+=2;else for(a=0;a<b;)this.uvs[a]=c+g[a]*f,this.uvs[a+1]=d+g[a+1]*e,a+=2},updateWorldVertices:function(a){var b=a.get_skeleton(),c=a.get_bone(),d=b.x+c.get_worldX(),b=b.y+c.get_worldY(),f=c.get_a(),e=c.get_b(),g=c.get_c(),c=c.get_d(),h=this.vertices,i=h.length;a.attachmentVertices.length==i&&(h=a.attachmentVertices);for(var a=[],j=0,k=0;k<i;){var n=h[j],o=h[j+1];a[k]=n*f+o*e+d;a[k+1]=n*g+o*c+b;j+=2;k+=2}return a},
__class__:rb});var Fa=function(a){this.uvs=[];this.offset=[];this.scaleX=this.scaleY=this.r=this.g=this.b=this.a=1;ya.call(this,a);this.offset=pa.allocFloat(8);this.uvs=pa.allocFloat(8)};g["workinman.display.spine.attachments.RegionAttachment"]=Fa;Fa.__name__=["workinman","display","spine","attachments","RegionAttachment"];Fa.__super__=ya;Fa.prototype=x(ya.prototype,{dispose:function(){ya.prototype.dispose.call(this);this.rendererObject=null},setUVs:function(a,b,c,d,f){f?(this.uvs[2]=a,this.uvs[3]=
d,this.uvs[4]=a,this.uvs[5]=b,this.uvs[6]=c,this.uvs[7]=b,this.uvs[0]=c,this.uvs[1]=d):(this.uvs[0]=a,this.uvs[1]=d,this.uvs[2]=a,this.uvs[3]=b,this.uvs[4]=c,this.uvs[5]=b,this.uvs[6]=c,this.uvs[7]=d)},updateOffset:function(){var a=this.width/this.regionOriginalWidth*this.scaleX,b=this.height/this.regionOriginalHeight*this.scaleY,c=-this.width/2*this.scaleX+this.regionOffsetX*a,d=-this.height/2*this.scaleY+this.regionOffsetY*b,f=c+this.regionWidth*a,b=d+this.regionHeight*b,a=this.rotation*Math.PI/
180,e=Math.cos(a),g=Math.sin(a),a=c*e+this.x,c=c*g,h=d*e+this.y,d=d*g,i=f*e+this.x,f=f*g,e=b*e+this.y,b=b*g;this.offset[0]=a-d;this.offset[1]=h+c;this.offset[2]=a-b;this.offset[3]=e+c;this.offset[4]=i-b;this.offset[5]=e+f;this.offset[6]=i-d;this.offset[7]=h+f},computeWorldVertices:function(a,b,c,d){var a=a+c.get_worldX(),b=b+c.get_worldY(),e=c.get_a(),g=c.get_b(),h=c.get_c(),c=c.get_d(),i=this.offset[0],m=this.offset[1],j=this.offset[2],k=this.offset[3],n=this.offset[4],o=this.offset[5],p=this.offset[6],
q=this.offset[7];d[0]=i*e+m*g+a;d[1]=i*h+m*c+b;d[2]=j*e+k*g+a;d[3]=j*h+k*c+b;d[4]=n*e+o*g+a;d[5]=n*h+o*c+b;d[6]=p*e+q*g+a;d[7]=p*h+q*c+b},__class__:Fa});var ac=function(a){this.r=this.g=this.b=this.a=1;ya.call(this,a)};g["workinman.display.spine.attachments.WeightedMeshAttachment"]=ac;ac.__name__=["workinman","display","spine","attachments","WeightedMeshAttachment"];ac.__super__=ya;ac.prototype=x(ya.prototype,{dispose:function(){ya.prototype.dispose.call(this);this.rendererObject=this.triangles=this.regionUVs=
this.uvs=this.weights=this.bones=null},updateUVs:function(){var a=this.regionU2-this.regionU,b=this.regionV2-this.regionV,c,d=this.regionUVs.length;if(null==this.uvs||this.uvs.length!=d)this.uvs=[];if(this.regionRotate)for(c=0;c<d;)this.uvs[c]=this.regionU+this.regionUVs[c+1]*a,this.uvs[c+1]=this.regionV+b-this.regionUVs[c]*b,c+=2;else for(c=0;c<d;)this.uvs[c]=this.regionU+this.regionUVs[c]*a,this.uvs[c+1]=this.regionV+this.regionUVs[c+1]*b,c+=2},computeWorldVertices:function(a,b,c,d){var e=c.get_skeleton().bones,
g=this.weights,h=this.bones,i=0,m=0,j=0,k=0,n=h.length,o,p,q,r,s,t;if(0==c.attachmentVertices.length)for(;m<n;){p=o=0;for(c=h[m++]+m;m<c;)q=e[h[m]],r=g[j],s=g[j+1],t=g[j+2],o+=(r*q.get_a()+s*q.get_b()+q.get_worldX())*t,p+=(r*q.get_c()+s*q.get_d()+q.get_worldY())*t,++m,j+=3;d[i]=o+a;d[i+1]=p+b;i+=2}else for(var u=c.attachmentVertices;m<n;){p=o=0;for(c=h[m++]+m;m<c;)q=e[h[m]],r=g[j]+u[k],s=g[j+1]+u[k+1],t=g[j+2],o+=(r*q.get_a()+s*q.get_b()+q.get_worldX())*t,p+=(r*q.get_c()+s*q.get_d()+q.get_worldY())*
t,++m,j+=3,k+=2;d[i]=o+a;d[i+1]=p+b;i+=2}},__class__:ac});var Jd=function(a,b){this.prefix=a;this.pack=b};g["workinman.display.spine.platform.flambe.FlambeTextureLoader"]=Jd;Jd.__name__="workinman,display,spine,platform,flambe,FlambeTextureLoader".split(",");Jd.__interfaces__=[ef];Jd.prototype={loadPage:function(a,b){var c=this.pack.getTexture(this.prefix+ja.removeFileExtension(b));a.rendererObject=c;a.width=c.get_width();a.height=c.get_height()},loadRegion:function(){},__class__:Jd};var Md=function(a,
b,c){this._w=this._h=0;L.call(this,{originX:0,originY:0});this.meshAttachment=a;this.region=a.rendererObject;this.atlas=this.region.page.rendererObject;this.slot=b;this._flagRenderBoxes=c;a=this.region.rotate?this.region.width:this.region.height;this._w=this.region.rotate?this.region.height:this.region.width;this._h=a};g["workinman.display.spine.platform.flambe.MeshSprite"]=Md;Md.__name__="workinman,display,spine,platform,flambe,MeshSprite".split(",");Md.__super__=L;Md.prototype=x(L.prototype,{dispose:function(){L.prototype.dispose.call(this);
this.slot=this.atlas=this.region=this.meshAttachment=null},_draw:function(a){for(var b=this.meshAttachment.uvs,c=this.meshAttachment.triangles,d=this.worldVertices,e=0;e<c.length;){var g=2*c[e],h=d[g],i=d[g+1],m=b[g]*this.region.page.width,j=b[g+1]*this.region.page.height,g=2*c[e+1],k=d[g],n=d[g+1],o=b[g]*this.region.page.width,p=b[g+1]*this.region.page.height,g=2*c[e+2],q=d[g],r=d[g+1],s=b[g]*this.region.page.width,g=b[g+1]*this.region.page.height;a.canvasCtx.save();a.canvasCtx.beginPath();a.canvasCtx.moveTo(h,
i);a.canvasCtx.lineTo(k,n);a.canvasCtx.lineTo(q,r);a.canvasCtx.closePath();this._flagRenderBoxes&&(a.canvasCtx.strokeStyle="#00FF00",a.canvasCtx.stroke());a.canvasCtx.clip();var t=m*p+j*s+o*g-p*s-j*o-m*g;a.canvasCtx.transform((h*p+j*q+k*g-p*q-j*k-h*g)/t,(i*p+j*r+n*g-p*r-j*n-i*g)/t,(m*k+h*s+o*q-k*s-h*o-m*q)/t,(m*n+i*s+o*r-n*s-i*o-m*r)/t,(m*p*q+j*k*s+h*o*g-h*p*s-j*o*q-m*k*g)/t,(m*p*r+j*n*s+i*o*g-i*p*s-j*o*r-m*n*g)/t);a.canvasCtx.drawImage(this.atlas.root.image,0,0);a.canvasCtx.restore();e+=3}},get_width:function(){return this.region.width},
get_height:function(){return this.region.height},__class__:Md});var Nd=function(a,b){this._w=this._h=0;L.call(this,{originX:0,originY:0});this.regionAttachment=a;this.region=a.rendererObject;this.atlas=this.region.page.rendererObject;this.slot=b;var c=this.region.rotate?this.region.height:this.region.width,d=this.region.rotate?this.region.width:this.region.height;this._w=c;this._h=d;this.rotation=-a.rotation;this.scaleX=a.scaleX*(a.width/this.region.originalWidth);this.scaleY=a.scaleY*(a.height/this.region.originalHeight);
this.region.rotate&&(this.scaleY=a.scaleX*(a.width/this.region.originalWidth),this.scaleX=a.scaleY*(a.height/this.region.originalHeight));var e=-a.rotation*Math.PI/180,g=Math.cos(e),e=Math.sin(e),h=-a.width/2*Math.abs(a.scaleX),i=-a.height/2*Math.abs(a.scaleY),j=this.region.offsetX*this.scaleX,k=(this.region.originalHeight-this.region.height-this.region.offsetY)*this.scaleY;0>a.scaleX&&(h=this.region.rotate?h-d*(a.width/this.region.originalWidth):a.width/2*Math.abs(a.scaleX));0>a.scaleY&&(i=this.region.rotate?
i+c*(a.height/this.region.originalHeight):a.height/2*Math.abs(a.scaleY));this.region.rotate&&(this.rotation+=90,h+=d*(a.width*Math.abs(a.scaleX)/this.region.originalWidth));this.set_x(a.x+h*g-i*e+j*g-k*e);this.set_y(-a.y+h*e+i*g+j*e+k*g)};g["workinman.display.spine.platform.flambe.RegionSprite"]=Nd;Nd.__name__="workinman,display,spine,platform,flambe,RegionSprite".split(",");Nd.__super__=L;Nd.prototype=x(L.prototype,{dispose:function(){L.prototype.dispose.call(this);this.slot=this.atlas=this.region=
this.regionAttachment=null},_draw:function(a){a.ctx.drawSubTexture(this.atlas,0,0,this.region.x,this.region.y,this._w,this._h)},get_width:function(){return this.region.originalWidth},get_height:function(){return this.region.originalHeight},__class__:Nd});var cc=function(a,b){null==b&&(b=!1);this.colorRegionBox=65280;this.colorBoundingBox=16711680;L.call(this,null);this._holder=new L(null);Eb.yDown=!0;this.skeleton=new Te(a);this.skeleton.updateWorldTransform();this._sprites=new Na;this._regions=new Na;
this._meshes=new Na;this._weightedMeshes=new Na;this._flagRenderBoxes=b;this.drawSprites(!0);this.addChild(this._holder)};g["workinman.display.spine.platform.flambe.SkeletonSprite"]=cc;cc.__name__="workinman,display,spine,platform,flambe,SkeletonSprite".split(",");cc.__super__=L;cc.prototype=x(L.prototype,{dispose:function(){null!=this._holder&&this.removeChild(this._holder);L.prototype.dispose.call(this);null!=this.skeleton&&this.skeleton.dispose();this.skeleton=null;null!=this._holder&&this._holder.dispose();
this._weightedMeshes=this._meshes=this._regions=this._sprites=this._holder=null},get_regions:function(){return this._regions},get_sprites:function(){return this._sprites},_draw:function(){this.drawSprites(!1)},drawSprites:function(a){for(var b=this._sprites.iterator();b.hasNext();)b.next().visible=!1;b=this.skeleton.drawOrder;a&&(b=this.skeleton.slots);for(var a=0,c=b.length;a<c;){var d=a++,d=b[d];if(null!=d.get_attachment())if(r.__instanceof(d.get_attachment(),Fa)){var e=r.__cast(d.get_attachment(),
Fa);if(null!=e){var g=this._sprites.h[e.__id__];if(null==g){var h=new Nd(e,d),i=g=new dc;i.addChild(h);this._flagRenderBoxes&&this._renderBoxes(d,e,i);this._sprites.set(e,g);this._regions.set(e,h);this._holder.addChild(i)}this._holder.addChild(this._sprites.h[e.__id__]);h=d.get_bone();g.visible=!0;g.a=h.get_a();g.b=h.get_b();g.c=h.get_c();g.d=h.get_d();g.e=h.get_worldX();g.f=h.get_worldY();g.alpha=this.skeleton.a*d.a*e.a;g=this.skeleton.g*d.g*e.g;h=this.skeleton.b*d.b*e.b;d="0x"+this.toHexColor(Math.floor(255*
this.skeleton.r*d.r*e.r))+this.toHexColor(Math.floor(255*g))+this.toHexColor(Math.floor(255*h));this._regions.h[e.__id__].color=A.parseInt(d)}}else r.__instanceof(d.get_attachment(),rb)?(e=r.__cast(d.get_attachment(),rb),null!=e&&(g=this._sprites.h[e.__id__],null==g&&(h=new Md(e,d,this._flagRenderBoxes),i=g=new dc,i.addChild(h),this._sprites.set(e,g),this._meshes.set(e,h),this._holder.addChild(i)),this._holder.addChild(this._sprites.h[e.__id__]),h=e.updateWorldVertices(d,!0),this._meshes.h[e.__id__].worldVertices=
h,g.visible=!0,g.alpha=this.skeleton.a*d.a*e.a)):r.__instanceof(d.get_attachment(),ac)&&(e=r.__cast(d.get_attachment(),ac),null!=e&&(g=this._sprites.h[e.__id__],null==g&&(h=new Od(e,d),i=g=new dc,i.addChild(h),this._sprites.set(e,g),this._weightedMeshes.set(e,h),this._holder.addChild(i)),h=pa.allocFloat(e.uvs.length),e.computeWorldVertices(this.skeleton.x,this.skeleton.y,d,h),this._weightedMeshes.h[e.__id__].worldVertices=h,this._holder.addChild(this._sprites.h[e.__id__]),g.visible=!0,g.alpha=this.skeleton.a*
d.a*e.a))}},_renderBoxes:function(a,b,c){for(var d,e=new $b,g=this.skeleton.flipX?-1:1,h=this.skeleton.flipY?-1:1,g=a.get_bone().get_worldRotationX()*g*h,g=g*-Math.PI/180,h=0,i=this.skeleton.slots.length;h<i;){var j=h++,k=this.skeleton.slots[j];if(null!=this.skeleton.get_data().defaultSkin.get_attachments()[j]){j=this.skeleton.get_data().defaultSkin.get_attachments()[j];for(j=new La(j,j.arrayKeys());j.hasNext();){var n=j.next(),o;try{o=r.__cast(n,Rb)}catch(p){o=null}if(null!=o&&o.name==b.name){var n=
0,q=o.vertices.length;e.vertices.splice(o.vertices.length,e.vertices.length-o.vertices.length);for(o.computeWorldVertices(this.skeleton.x,this.skeleton.y,k.get_bone(),e.vertices);n<q;){var s=n;d=n+2;n==q-2&&(d=0);var t=e.vertices[s]-k.get_bone().get_worldX(),s=e.vertices[s+1]-k.get_bone().get_worldY(),u=e.vertices[d]-k.get_bone().get_worldX();d=e.vertices[d+1]-k.get_bone().get_worldY();var v=t,w=s,t=Math.cos(g)*v-Math.sin(g)*w,s=Math.sin(g)*v+Math.cos(g)*w,v=u,w=d,u=Math.cos(g)*v-Math.sin(g)*w;d=
Math.sin(g)*v+Math.cos(g)*w;v=Math.abs(Math.sqrt((t-u)*(t-u)+(s-d)*(s-d)));u=180*Math.atan2(d-s,u-t)/Math.PI-90;d=new ib({color:this.colorBoundingBox,sizeX:5,sizeY:Math.floor(v)});d.set_x(t);d.set_y(s);d.rotation=u;c.addChild(d);n+=2}}}}}e=new $b;b.computeWorldVertices(this.skeleton.x,this.skeleton.y,a.get_bone(),e.vertices);b=0;for(o=e.vertices.length;b<o;)i=b,j=b+2,b==o-2&&(j=0),h=e.vertices[i]-a.get_bone().get_worldX(),i=e.vertices[i+1]-a.get_bone().get_worldY(),k=e.vertices[j]-a.get_bone().get_worldX(),
j=e.vertices[j+1]-a.get_bone().get_worldY(),n=h,q=i,h=Math.cos(g)*n-Math.sin(g)*q,i=Math.sin(g)*n+Math.cos(g)*q,n=k,q=j,k=Math.cos(g)*n-Math.sin(g)*q,j=Math.sin(g)*n+Math.cos(g)*q,0>a.get_bone().get_worldScaleX()&&(i*=-1,j*=-1),n=Math.abs(Math.sqrt((h-k)*(h-k)+(i-j)*(i-j))),k=180*Math.atan2(j-i,k-h)/Math.PI-90,j=new ib({color:this.colorRegionBox,sizeX:2,sizeY:Math.floor(n)}),j.set_x(h),j.set_y(i),j.rotation=k,c.addChild(j),b+=2},toHexColor:function(a){a=Math.max(0,Math.min(a,255));return"0123456789ABCDEF".charAt(Math.floor((a-
a%16)/16))+"0123456789ABCDEF".charAt(Math.floor(a%16))},__class__:cc,__properties__:x(L.prototype.__properties__,{get_sprites:"get_sprites",get_regions:"get_regions"})});var Kd=function(a,b){null==b&&(b=!1);cc.call(this,a,b)};g["workinman.display.spine.platform.flambe.SkeletonAnimation"]=Kd;Kd.__name__="workinman,display,spine,platform,flambe,SkeletonAnimation".split(",");Kd.__super__=cc;Kd.prototype=x(cc.prototype,{__class__:Kd});var bf=function(a){this.regions=[];this.polygonPool=[];this.polygons=
[];this._renderer=a};g["workinman.display.spine.platform.flambe.SkeletonRegions"]=bf;bf.__name__="workinman,display,spine,platform,flambe,SkeletonRegions".split(",");bf.prototype={dispose:function(){this._renderer=this.regions=null;for(var a=0,b=this.polygons;a<b.length;){var c=b[a];++a;null!=c&&c.dispose()}this.polygons=null;a=0;for(b=this.polygonPool;a<b.length;)c=b[a],++a,null!=c&&c.dispose();this.polygonPool=null},update:function(a,b,c,d){for(var e=a.x,g=a.y,h=0,i=this.polygons;h<i.length;){var j=
i[h];++h;this.polygonPool.push(j)}this.polygons=[];this.regions=[];a=a.drawOrder;h=0;for(i=a.length;h<i;)if(j=h++,j=a[j],null!=j.get_attachment()&&r.__instanceof(j.get_attachment(),Fa)){var k=r.__cast(j.get_attachment(),Fa),k=this._renderer.get_regions().h[k.__id__];if(!1!=this._renderer.get_sprites().h[k.regionAttachment.__id__].visible&&j.get_attachment()==k.regionAttachment){this.regions.push(k.regionAttachment);j=0<this.polygonPool.length?this.polygonPool.pop():new $b;this.polygons.push(j);k.regionAttachment.computeWorldVertices(e,
g,k.slot.get_bone(),j.vertices);for(var k=0,n=j.vertices.length;k<n;)j.vertices[k]*=c,k+=2;k=1;for(n=j.vertices.length;k<n;)j.vertices[k]*=d,k+=2}}this.regions.reverse();this.polygons.reverse();b&&this.aabbCompute()},aabbCompute:function(){for(var a=2147483647,b=2147483647,c=-2147483648,d=-2147483648,e=0,g=this.polygons.length;e<g;){for(var h=this.polygons[e].vertices,i=0,j=h.length;i<j;)var k=h[i],n=h[i+1],a=Math.min(a,k),b=Math.min(b,n),c=Math.max(c,k),d=Math.max(d,n),i=i+2;++e}this.minX=a;this.minY=
b;this.maxX=c;this.maxY=d},aabbContainsPoint:function(a,b){return a>=this.minX&&a<=this.maxX&&b>=this.minY?b<=this.maxY:!1},containsPoint:function(a,b){for(var c=0,d=this.polygons.length;c<d;){if(this.polygons[c].containsPoint(a,b))return this.regions[c];++c}return null},__class__:bf};var Od=function(a,b){this._w=this._h=0;L.call(this,{originX:0,originY:0});this.meshAttachment=a;this.region=a.rendererObject;this.atlas=this.region.page.rendererObject;this.slot=b;var c=this.region.rotate?this.region.width:
this.region.height;this._w=this.region.rotate?this.region.height:this.region.width;this._h=c};g["workinman.display.spine.platform.flambe.WeightedMeshSprite"]=Od;Od.__name__="workinman,display,spine,platform,flambe,WeightedMeshSprite".split(",");Od.__super__=L;Od.prototype=x(L.prototype,{dispose:function(){L.prototype.dispose.call(this);this.slot=this.atlas=this.region=this.meshAttachment=null},_draw:function(a){for(var b=this.meshAttachment.uvs,c=this.meshAttachment.triangles,d=this.worldVertices,
e=0;e<c.length;){var g=2*c[e],h=d[g],i=d[g+1],j=b[g]*this.region.page.width,k=b[g+1]*this.region.page.height,g=2*c[e+1],n=d[g],o=d[g+1],p=b[g]*this.region.page.width,q=b[g+1]*this.region.page.height,g=2*c[e+2],r=d[g],s=d[g+1],t=b[g]*this.region.page.width,g=b[g+1]*this.region.page.height;a.canvasCtx.save();a.canvasCtx.beginPath();a.canvasCtx.moveTo(h,i);a.canvasCtx.lineTo(n,o);a.canvasCtx.lineTo(r,s);a.canvasCtx.closePath();a.canvasCtx.stroke();a.canvasCtx.clip();var u=j*q+k*t+p*g-q*t-k*p-j*g;a.canvasCtx.transform((h*
q+k*r+n*g-q*r-k*n-h*g)/u,(i*q+k*s+o*g-q*s-k*o-i*g)/u,(j*n+h*t+p*r-n*t-h*p-j*r)/u,(j*o+i*t+p*s-o*t-i*p-j*s)/u,(j*q*r+k*n*t+h*p*g-h*q*t-k*p*r-j*n*g)/u,(j*q*s+k*o*t+i*p*g-i*q*t-k*p*s-j*o*g)/u);a.canvasCtx.drawImage(this.atlas.root.image,0,0);a.canvasCtx.restore();e+=3}},get_width:function(){return this.region.width},get_height:function(){return this.region.height},__class__:Od});var dc=function(){L.call(this,null);this.a=this.b=this.c=this.d=this.e=this.f=0;this.a=1;this.d=-1};g["workinman.display.spine.platform.flambe.WrapperSprite"]=
dc;dc.__name__="workinman,display,spine,platform,flambe,WrapperSprite".split(",");dc.__super__=L;dc.prototype=x(L.prototype,{render:function(a){if(!1!=this.visible){this._matrix.set(this.a,this.c,-this.b,-this.d,this.e,this.f);null!=this.parent&&Za.multiply(this.parent.get_viewMatrix(),this._matrix,this._viewMatrix);a.ctx.save();1>this.alpha&&a.ctx.multiplyAlpha(this.alpha);a.ctx.transform(this._matrix.m00,this._matrix.m10,this._matrix.m01,this._matrix.m11,this._matrix.m02,this._matrix.m12);a.ctx.save();
a.ctx.translate(-this.get_width()*this.originX+this.get_offsetX(),-this.get_height()*this.originY+this.get_offsetY());this._draw(a);a.ctx.restore();for(var b=0,c=this.children.length;b<c;)this.children[b++].render(a,null);a.ctx.restore()}},__class__:dc});var zb=g["workinman.input.GAMEPAD_TYPE"]={__ename__:!0,__constructs__:["NONE","XBOX_360"]};zb.NONE=["NONE",0];zb.NONE.toString=h;zb.NONE.__enum__=zb;zb.XBOX_360=["XBOX_360",1];zb.XBOX_360.toString=h;zb.XBOX_360.__enum__=zb;var ec=function(a,b){this.gamepad=
a;this.type=b;this._buttons=new qc;this._addButton(q.A);this._addButton(q.B);this._addButton(q.X);this._addButton(q.Y);this._addButton(q.RB);this._addButton(q.LB);this._addButton(q.RT);this._addButton(q.LT);this._addButton(q.DPAD_UP);this._addButton(q.DPAD_DOWN);this._addButton(q.DPAD_LEFT);this._addButton(q.DPAD_RIGHT);this._addButton(q.LSTICK_UP);this._addButton(q.LSTICK_DOWN);this._addButton(q.LSTICK_LEFT);this._addButton(q.LSTICK_RIGHT);this._addButton(q.RSTICK_UP);this._addButton(q.RSTICK_DOWN);
this._addButton(q.RSTICK_LEFT);this._addButton(q.RSTICK_RIGHT);this._addButton(q.START);this._addButton(q.SELECT);this._addButton(q.LSTICK_BUTTON);this._addButton(q.RSTICK_BUTTON)};g["workinman.input.GamepadBase"]=ec;ec.__name__=["workinman","input","GamepadBase"];ec.prototype={setGamepad:function(a){this.gamepad=a},update:function(){this.leftX=this.leftY=this.rightX=this.rightY=0},_normalizeAxis:function(a){a=Math.floor(100*a)/100;0.15>Math.abs(a)&&(a=0);return a},_addButton:function(a){this._buttons.set(a,
!1)},_testButton:function(a,b){!1==this._buttons.get(a)&&b?(this._buttons.set(a,!0),p.onControllerDown(a)):!0==this._buttons.get(a)&&!1==b&&(this._buttons.set(a,!1),p.onControllerUp(a))},__class__:ec};var ud=function(a){ec.call(this,a,zb.XBOX_360);this.leftX=this.leftY=this.rightX=this.rightY=0};g["workinman.input.GamepadXbox360"]=ud;ud.__name__=["workinman","input","GamepadXbox360"];ud.__super__=ec;ud.prototype=x(ec.prototype,{update:function(){ec.prototype.update.call(this);this.leftX=this._normalizeAxis(this.gamepad.axes[0]);
this.leftY=this._normalizeAxis(this.gamepad.axes[1]);this.rightX=this._normalizeAxis(this.gamepad.axes[2]);this.rightY=this._normalizeAxis(this.gamepad.axes[3]);this._testButton(q.A,r.__cast(this.gamepad.buttons[0],GamepadButton).pressed);this._testButton(q.B,r.__cast(this.gamepad.buttons[1],GamepadButton).pressed);this._testButton(q.X,r.__cast(this.gamepad.buttons[2],GamepadButton).pressed);this._testButton(q.Y,r.__cast(this.gamepad.buttons[3],GamepadButton).pressed);this._testButton(q.LB,r.__cast(this.gamepad.buttons[4],
GamepadButton).pressed);this._testButton(q.RB,r.__cast(this.gamepad.buttons[5],GamepadButton).pressed);this._testButton(q.LT,r.__cast(this.gamepad.buttons[6],GamepadButton).pressed);this._testButton(q.RT,r.__cast(this.gamepad.buttons[7],GamepadButton).pressed);this._testButton(q.SELECT,r.__cast(this.gamepad.buttons[8],GamepadButton).pressed);this._testButton(q.START,r.__cast(this.gamepad.buttons[9],GamepadButton).pressed);this._testButton(q.LSTICK_BUTTON,this.gamepad.buttons[10].pressed);this._testButton(q.RSTICK_BUTTON,
this.gamepad.buttons[11].pressed);this._testButton(q.DPAD_UP,r.__cast(this.gamepad.buttons[12],GamepadButton).pressed);this._testButton(q.DPAD_DOWN,r.__cast(this.gamepad.buttons[13],GamepadButton).pressed);this._testButton(q.DPAD_LEFT,r.__cast(this.gamepad.buttons[14],GamepadButton).pressed);this._testButton(q.DPAD_RIGHT,r.__cast(this.gamepad.buttons[15],GamepadButton).pressed);this._testButton(q.LSTICK_LEFT,0>this.leftX);this._testButton(q.LSTICK_RIGHT,0<this.leftX);this._testButton(q.LSTICK_UP,
0>this.leftY);this._testButton(q.LSTICK_DOWN,0<this.leftY);this._testButton(q.RSTICK_LEFT,0>this.rightX);this._testButton(q.RSTICK_RIGHT,0<this.rightX);this._testButton(q.RSTICK_UP,0>this.rightY);this._testButton(q.RSTICK_DOWN,0<this.rightY)},__class__:ud});var q=g["workinman.input.INPUT_CONTROLLER"]={__ename__:!0,__constructs__:"A,B,X,Y,DPAD_UP,DPAD_DOWN,DPAD_RIGHT,DPAD_LEFT,LB,RB,LT,RT,START,SELECT,LSTICK_UP,LSTICK_DOWN,LSTICK_RIGHT,LSTICK_LEFT,RSTICK_UP,RSTICK_DOWN,RSTICK_RIGHT,RSTICK_LEFT,LSTICK_BUTTON,RSTICK_BUTTON".split(",")};
q.A=["A",0];q.A.toString=h;q.A.__enum__=q;q.B=["B",1];q.B.toString=h;q.B.__enum__=q;q.X=["X",2];q.X.toString=h;q.X.__enum__=q;q.Y=["Y",3];q.Y.toString=h;q.Y.__enum__=q;q.DPAD_UP=["DPAD_UP",4];q.DPAD_UP.toString=h;q.DPAD_UP.__enum__=q;q.DPAD_DOWN=["DPAD_DOWN",5];q.DPAD_DOWN.toString=h;q.DPAD_DOWN.__enum__=q;q.DPAD_RIGHT=["DPAD_RIGHT",6];q.DPAD_RIGHT.toString=h;q.DPAD_RIGHT.__enum__=q;q.DPAD_LEFT=["DPAD_LEFT",7];q.DPAD_LEFT.toString=h;q.DPAD_LEFT.__enum__=q;q.LB=["LB",8];q.LB.toString=h;q.LB.__enum__=
q;q.RB=["RB",9];q.RB.toString=h;q.RB.__enum__=q;q.LT=["LT",10];q.LT.toString=h;q.LT.__enum__=q;q.RT=["RT",11];q.RT.toString=h;q.RT.__enum__=q;q.START=["START",12];q.START.toString=h;q.START.__enum__=q;q.SELECT=["SELECT",13];q.SELECT.toString=h;q.SELECT.__enum__=q;q.LSTICK_UP=["LSTICK_UP",14];q.LSTICK_UP.toString=h;q.LSTICK_UP.__enum__=q;q.LSTICK_DOWN=["LSTICK_DOWN",15];q.LSTICK_DOWN.toString=h;q.LSTICK_DOWN.__enum__=q;q.LSTICK_RIGHT=["LSTICK_RIGHT",16];q.LSTICK_RIGHT.toString=h;q.LSTICK_RIGHT.__enum__=
q;q.LSTICK_LEFT=["LSTICK_LEFT",17];q.LSTICK_LEFT.toString=h;q.LSTICK_LEFT.__enum__=q;q.RSTICK_UP=["RSTICK_UP",18];q.RSTICK_UP.toString=h;q.RSTICK_UP.__enum__=q;q.RSTICK_DOWN=["RSTICK_DOWN",19];q.RSTICK_DOWN.toString=h;q.RSTICK_DOWN.__enum__=q;q.RSTICK_RIGHT=["RSTICK_RIGHT",20];q.RSTICK_RIGHT.toString=h;q.RSTICK_RIGHT.__enum__=q;q.RSTICK_LEFT=["RSTICK_LEFT",21];q.RSTICK_LEFT.toString=h;q.RSTICK_LEFT.__enum__=q;q.LSTICK_BUTTON=["LSTICK_BUTTON",22];q.LSTICK_BUTTON.toString=h;q.LSTICK_BUTTON.__enum__=
q;q.RSTICK_BUTTON=["RSTICK_BUTTON",23];q.RSTICK_BUTTON.toString=h;q.RSTICK_BUTTON.__enum__=q;var Fe=function(a,b,c,d){this.type=a;this._keys=[];this._virtual=[];this._controller=[];this._fireDelegate=b;this._virtualTestDelegate=c;this._controllerTestDelegate=d;this._pointer=null;this.fresh=this.down=!1};g["workinman.input.InputTracker"]=Fe;Fe.__name__=["workinman","input","InputTracker"];Fe.prototype={setKeys:function(a,b,c){if(null!=a)for(var d=0;d<a.length;){var e=a[d];++d;this._keys.push(e)}if(null!=
b)for(a=0;a<b.length;)d=b[a],++a,this._virtual.push(d);if(null!=c)for(b=0;b<c.length;)a=c[b],++b,this._controller.push(a)},updateStatus:function(){this.fresh=!1;this.down?!1==this._isDown()&&(this.down=!1,this._fireDelegate(this.type,!1)):this._isDown()&&(this.fresh=this.down=!0,this._fireDelegate(this.type,!0))},_isDown:function(){for(var a=0,b=this._keys;a<b.length;){var c=b[a];++a;if(F._platform.getKeyboard().isDown(c))return!0}a=0;for(b=this._virtual;a<b.length;)if(c=b[a],++a,this._virtualTestDelegate(c))return!0;
a=0;for(b=this._controller;a<b.length;)if(c=b[a],++a,this._controllerTestDelegate(c))return!0;return null!=this._pointer&&this._pointer.down?!0:!1},__class__:Fe};var ua=g["workinman.input.PHASE"]={__ename__:!0,__constructs__:["DOWN","MOVED","STOPPED","UP"]};ua.DOWN=["DOWN",0];ua.DOWN.toString=h;ua.DOWN.__enum__=ua;ua.MOVED=["MOVED",1];ua.MOVED.toString=h;ua.MOVED.__enum__=ua;ua.STOPPED=["STOPPED",2];ua.STOPPED.toString=h;ua.STOPPED.__enum__=ua;ua.UP=["UP",3];ua.UP.toString=h;ua.UP.__enum__=ua;var td=
function(a,b){this._success=a;this._result=R.request();this._line1=Va.request();this._line2=Va.request();null!=b&&this._result.toPoint(b)};g["workinman.math.InterceptResult"]=td;td.__name__=["workinman","math","InterceptResult"];td.prototype={set_success:function(a){return this._success=a},set_result:function(a){null==a?this._result.to(0,0):this._result.toPoint(a);return this._result},__class__:td,__properties__:{set_result:"set_result",set_success:"set_success"}};var Zb=function(){};g["workinman.math.WMMath"]=
Zb;Zb.__name__=["workinman","math","WMMath"];Zb.sign=function(a){return 0>a?-1:1};Zb.clamp=function(a,b,c,d){null==d&&(d=!1);d?a>c?a=b:a<b&&(a=c):a>c?a=c:a<b&&(a=b);return a};var za=g["workinman.math.Side"]={__ename__:!0,__constructs__:["TOP","RIGHT","BOTTOM","LEFT"]};za.TOP=["TOP",0];za.TOP.toString=h;za.TOP.__enum__=za;za.RIGHT=["RIGHT",1];za.RIGHT.toString=h;za.RIGHT.__enum__=za;za.BOTTOM=["BOTTOM",2];za.BOTTOM.toString=h;za.BOTTOM.__enum__=za;za.LEFT=["LEFT",3];za.LEFT.toString=h;za.LEFT.__enum__=
za;var eb=function(){};g["workinman.math.WMRectangle"]=eb;eb.__name__=["workinman","math","WMRectangle"];eb.__interfaces__=[uc];eb.request=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);return ga.requestObject(eb).init(a,b,c,d)};eb.fromRectangle=function(a){return eb.request(a.x,a.y,a.width,a.height)};eb.__super__=Oa;eb.prototype=x(Oa.prototype,{create:function(){this._workLine=null},init:function(a,b,c,d){this._x=a;this._y=b;this._width=c;this._height=d;return this},
dispose:function(){null!=this._workLine&&this._workLine.dispose();this._workLine=null;Oa.prototype.dispose.call(this)},_getWorkLine:function(){null==this._workLine&&(this._workLine=Va.request());return this._workLine},get_x:function(){return this._x},set_x:function(a){return this._x=a},get_y:function(){return this._y},set_y:function(a){return this._y=a},get_top:function(){return this._y},set_top:function(a){return this._y=a},get_left:function(){return this._x},set_left:function(a){return this._x=
a},get_width:function(){return this._width},set_width:function(a){return this._width=a},get_height:function(){return this._height},set_height:function(a){return this._height=a},get_bottom:function(){return this._y+this._height},set_bottom:function(a){this._y=a-this._height;return this.get_bottom()},get_right:function(){return this._x+this._width},set_right:function(a){this._x=a-this._width;return this.get_right()},get_centerX:function(){return this._x+this._width/2},set_centerX:function(a){this._x=
a-this._width/2;return this.get_centerX()},get_centerY:function(){return this._y+this._height/2},set_centerY:function(a){this._y=a-this._height/2;return this.get_centerY()},copy:function(){return eb.request(this._x,this._y,this._width,this._height)},contains:function(a,b){return a<this.get_left()||a>this.get_right()||b>this.get_bottom()||b<this.get_top()?!1:!0},toXY:function(a,b){this.set_x(a);this.set_y(b)},toWH:function(a,b){this.set_width(a);this.set_height(b)},toXYWH:function(a,b,c,d){this.toXY(a,
b);this.toWH(c,d)},containsPoint:function(a){return this.contains(a.x,a.y)},intersects:function(a){return this.get_left()<a.get_right()&&this.get_right()>a.get_left()&&this.get_top()<a.get_bottom()?this.get_bottom()>a.get_top():!1},intersection:function(a){var b=eb.request();if(this.intersects(a)){b.set_x(this.get_left()>a.get_left()?this.get_left():a.get_left());b.set_y(this.get_top()>a.get_top()?this.get_top():a.get_top());var c=this.get_right()<a.get_right()?this.get_right():a.get_right(),a=this.get_bottom()<
a.get_bottom()?this.get_bottom():a.get_bottom();b.set_width(c-b.get_x());b.set_height(a-b.get_y())}return b},_setSideLine:function(a){this._getWorkLine();switch(a[1]){case 0:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_right(),this.get_top());break;case 1:this._workLine.toFloats(this.get_right(),this.get_top(),this.get_right(),this.get_bottom());break;case 2:this._workLine.toFloats(this.get_left(),this.get_bottom(),this.get_right(),this.get_bottom());break;case 3:this._workLine.toFloats(this.get_left(),
this.get_top(),this.get_left(),this.get_bottom())}},sideLineIntercept:function(a,b,c){this._setSideLine(b);return this._workLine.testLineSegmentIntercept(a,!1,c)},toString:function(){return"{ WMRectangle x: "+this._x+" y: "+this._y+" width: "+this._width+" height: "+this._height+" }"},__class__:eb,__properties__:x(Oa.prototype.__properties__,{set_centerY:"set_centerY",get_centerY:"get_centerY",set_centerX:"set_centerX",get_centerX:"get_centerX",set_right:"set_right",get_right:"get_right",set_bottom:"set_bottom",
get_bottom:"get_bottom",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_left:"set_left",get_left:"get_left",set_top:"set_top",get_top:"get_top",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"})});var wf=function(){};g["workinman.pooling.CacheManager"]=wf;wf.__name__=["workinman","pooling","CacheManager"];wf.prototype={dispose:function(){for(var a=this._caches,a=new La(a,a.arrayKeys());a.hasNext();)a.next().dispose();this._emptyParams=this._caches=
null},addCache:function(a,b,c,d){null==d&&(d=0);var e=this._caches,b=new gf(b,this._emptyParams,c,d);null!=v[a]?e.setReserved(a,b):e.h[a]=b},processFill:function(a){for(var b=this._caches,b=new La(b,b.arrayKeys());b.hasNext();)if(!1==b.next().fillCache(a))return!1;return!0},__class__:wf};var gf=function(a,b,c,d){this._cache=[];this._initFill=c;this._type=a;this._emptyParams=b;this._totalFill=0;this._maxFill=d};g["workinman.pooling.ElementCache"]=gf;gf.__name__=["workinman","pooling","ElementCache"];
gf.prototype={dispose:function(){for(;0<this._cache.length;)this._cache.pop().destroy();this._emptyParams=this._type=this._cache=null},fillCache:function(a){for(var b;this._cache.length<this._initFill;)if(this._totalFill++,b=ha.createInstance(this._type,this._emptyParams),b.setReturnFunction(i(this,this.returnFunction)),b.dispose(),0<a&&0>=a--)return!1;return!0},returnFunction:function(a){null==this._cache?a.destroy():this._cache.push(a)},__class__:gf};var hf=function(){};g["workinman.pooling.ICacheableElement"]=
hf;hf.__name__=["workinman","pooling","ICacheableElement"];hf.prototype={__class__:hf};var xf=function(){};g["workinman.random.SeededRandom"]=xf;xf.__name__=["workinman","random","SeededRandom"];xf.prototype={set_seed:function(a){0==a&&(a=1);return this.seed=a},_randomInt:function(){return this.set_seed(16807*this.seed%2147483647)&1073741823},random:function(){return this._randomInt()/1073741823},__class__:xf,__properties__:{set_seed:"set_seed"}};var He=function(a){this.data={version:"-1"};this.id=
a};g["workinman.saving.WMSharedObject"]=He;He.__name__=["workinman","saving","WMSharedObject"];He.prototype={dispose:function(){this.id=this.data=null},__class__:He};var wd=function(a,b,c){this.id=a;this._playback=b;this._completeListener=this._playback.get_complete().watch(i(this,this._onCompleteEvent));this._complete=c;this.disposed=this.isComplete=!1;this.set_volume(this._playback.volume._value)};g["workinman.sound.PlaybackDef"]=wd;wd.__name__=["workinman","sound","PlaybackDef"];wd.prototype={set_volume:function(a){if(null==
this._playback)return 0;1<a?a=1:0>a&&(a=0);this._playback.volume.set__(a);return a},_onCompleteEvent:function(a){!1!=a&&(this.isComplete=!0)},dispose:function(){if(!0!=this.disposed&&(this.disposed=!0,this._completeListener.dispose(),this._completeListener=null,this._playback.dispose(),this.id=this._playback=null,null!=this._complete)){var a=this._complete;this._complete=null;a()}},__class__:wd,__properties__:{set_volume:"set_volume"}};var vd=function(a,b,c,d,e){this.id=a;this.call=c;this.delay=d;
this.gain=b;this.localization=e};g["workinman.sound.VOQueue"]=vd;vd.__name__=["workinman","sound","VOQueue"];vd.prototype={copy:function(a){this.id=a.id;this.call=a.call;this.delay=a.delay;this.gain=a.gain;this.localization=a.localization},dispose:function(){this.localization=this.id=this.call=null},__class__:vd};var J=function(){};g["workinman.tween.Ease"]=J;J.__name__=["workinman","tween","Ease"];J.linear=function(a,b,c,d){return c*a/d+b};J.inQuad=function(a,b,c,d){return c*(a/=d)*a+b};J.outQuad=
function(a,b,c,d){return-c*(a/=d)*(a-2)+b};J.inOutQuad=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b};J.outElastic=function(a,b,c,d){if(0==a)return b;if(1==(a/=d))return b+c;var e=0.3*d,g=e/4;return c*Math.pow(2,-10*a)*Math.sin((a*d-g)*2*Math.PI/e)+c+b};J.inBack=function(a,b,c,d){return c*(a/=d)*a*(2.70158*a-1.70158)+b};J.outBounce=function(a,b,c,d){return 0.36363636363636365>(a/=d)?c*7.5625*a*a+b:0.7272727272727273>a?c*(7.5625*(a-=0.5454545454545454)*a+0.75)+b:0.9090909090909091>
a?c*(7.5625*(a-=0.8181818181818182)*a+0.9375)+b:c*(7.5625*(a-=0.9545454545454546)*a+0.984375)+b};J.inBounce=function(a,b,c,d){return c-J.outBounce(d-a,0,c,d)+b};var ob=function(){};g["workinman.tween.TweenUtils"]=ob;ob.__name__=["workinman","tween","TweenUtils"];ob.easeFadeIn=function(a,b,c,d){null==d&&(d=0);null==c&&(c=!0);c&&(a.visible=!0,a.alpha=0);return b.tween({target:a,duration:0.3,overwrite:!0,ease:J.inQuad,delay:d},{alpha:1})};ob.easeFadeOut=function(a,b,c,d){null==d&&(d=0);null==c&&(c=!0);
c&&(a.visible=!0,a.alpha=1);return b.tween({target:a,duration:0.3,overwrite:!0,ease:J.outQuad,delay:d},{alpha:0})};ob.easeBounceIn=function(a,b,c,d){null==d&&(d=0);null==c&&(c=!0);c&&(a.visible=!0,a.set_scale(0.1),a.alpha=0);b.tween({target:a,duration:0.15,overwrite:!0,ease:J.outQuad,delay:d},{scale:1.1,alpha:1});return b.tween({target:a,duration:0.15,ease:J.inQuad},{scale:1})};ob.easeBounceOut=function(a,b,c,d){null==d&&(d=0);null==c&&(c=!1);c&&(a.visible=!0,a.set_scale(1),a.alpha=1);b.tween({target:a,
duration:0.15,overwrite:!0,ease:J.outQuad,delay:d},{scale:1.1});return b.tween({target:a,duration:0.15,ease:J.inQuad},{scale:0.1,alpha:0})};var Je=function(a){this.target=a;this._threads=[]};g["workinman.tween.data.ObjectTracker"]=Je;Je.__name__=["workinman","tween","data","ObjectTracker"];Je.prototype={dispose:function(){if(null!=this.target){this.target=null;for(var a=0,b=this._threads;a<b.length;){var c=b[a];++a;c.dispose()}this._threads=null}},update:function(a){for(var b=this._threads.length;0<
b--;){var c=this._threads[b];c.update(a);if(null==this._threads)break;c.get_isComplete()&&(c.dispose(),this._threads.splice(b,1))}},get_isComplete:function(){return null!=this._threads?1>this._threads.length:!0},stopThread:function(a){for(var b=this._threads.length;0<b--;)if(this._threads[b].id==a){this._threads[b].dispose();this._threads.splice(b,1);break}},queueStep:function(a,b){for(var c=null,d=0,e=this._threads;d<e.length;){var g=e[d];++d;if(g.id==b){c=g;break}}null==c&&(c=new jf(b),this._threads.push(c));
c.queueStep(a)},__class__:Je,__properties__:{get_isComplete:"get_isComplete"}};var kf=function(a,b){this.name=a;this.origin=0;this.dest=b};g["workinman.tween.data.PropertyReference"]=kf;kf.__name__=["workinman","tween","data","PropertyReference"];kf.prototype={dispose:function(){this.name=null},__class__:kf};var jf=function(a){this.id=a;this._tweens=[]};g["workinman.tween.data.ThreadQueue"]=jf;jf.__name__=["workinman","tween","data","ThreadQueue"];jf.prototype={dispose:function(){if(null!=this.id){this.id=
null;for(var a=0,b=this._tweens;a<b.length;){var c=b[a];++a;c.dispose()}this._tweens=null}},get_isComplete:function(){return null!=this._tweens?1>this._tweens.length:!0},update:function(a){if(!this.get_isComplete()){var b=this._tweens[0],a=b.update(a);b.get_isComplete()&&null!=this._tweens&&(b.dispose(),this._tweens.shift(),this.update(a))}},queueStep:function(a){this._tweens.push(a)},__class__:jf,__properties__:{get_isComplete:"get_isComplete"}};var Ie=function(a,b){this._properties=[];for(var c=
0,d=k.fields(b);c<d.length;){var e=d[c];++c;this._properties.push(new kf(e,k.field(b,e)))}this._target=a.target;this._easeFunction=a.ease;this._duration=a.duration;this._postDelay=this._delay=0;this._completionHandler=null;this._progress=0;this._started=!1;null!=a.delay&&(this._delay=a.delay);null!=a.postDelay&&(this._postDelay=a.postDelay);null!=a.complete&&(this._completionHandler=a.complete)};g["workinman.tween.data.TweenStep"]=Ie;Ie.__name__=["workinman","tween","data","TweenStep"];Ie.prototype=
{dispose:function(){if(null!=this._target){this._target=null;for(var a=0,b=this._properties;a<b.length;){var c=b[a];++a;c.dispose()}this._completionHandler=this._easeFunction=this._properties=null}},update:function(a){if(0<this._delay){this._delay-=a;if(0<this._delay)return 0;a=-1*this._delay}if(!1==this._started){this._started=!0;for(var b=0,c=this._properties;b<c.length;){var d=c[b];++b;Object.prototype.hasOwnProperty.call(this._target,d.name)?d.origin=k.field(this._target,d.name):null!=k.getProperty(this._target,
d.name)&&(d.origin=k.getProperty(this._target,d.name))}}if(this._progress<this._duration)if(this._progress+=a,this._progress>=this._duration){a=this._duration-this._progress;this._progress=this._duration;b=0;for(c=this._properties;b<c.length;)d=c[b],++b,k.setProperty(this._target,d.name,d.dest)}else{a=0;for(b=this._properties;a<b.length;)c=b[a],++a,k.setProperty(this._target,c.name,this._easeFunction(this._progress,c.origin,c.dest-c.origin,this._duration));return 0}this._postDelay-=a;if(0>=this._postDelay)null!=
this._completionHandler&&(a=this._completionHandler,this._completionHandler=null,a());else return 0;return-1*this._postDelay},get_isComplete:function(){return this._progress>=this._duration&&0>this._postDelay?null==this._completionHandler:!1},onComplete:function(a){this._completionHandler=a;return this},__class__:Ie,__properties__:{get_isComplete:"get_isComplete"}};var ea=g["workinman.ui._Button.ButtonState"]={__ename__:!0,__constructs__:["_STATE_UP","_STATE_DOWN","_STATE_OVER","_STATE_CLICK"]};ea._STATE_UP=
["_STATE_UP",0];ea._STATE_UP.toString=h;ea._STATE_UP.__enum__=ea;ea._STATE_DOWN=["_STATE_DOWN",1];ea._STATE_DOWN.toString=h;ea._STATE_DOWN.__enum__=ea;ea._STATE_OVER=["_STATE_OVER",2];ea._STATE_OVER.toString=h;ea._STATE_OVER.__enum__=ea;ea._STATE_CLICK=["_STATE_CLICK",3];ea._STATE_CLICK.toString=h;ea._STATE_CLICK.__enum__=ea;var ka=g["workinman.ui.CHANGE_TYPE"]={__ename__:!0,__constructs__:["OPEN_BEGIN","OPEN_COMPLETE","CLOSE_BEGIN","CLOSE_COMPLETE"]};ka.OPEN_BEGIN=["OPEN_BEGIN",0];ka.OPEN_BEGIN.toString=
h;ka.OPEN_BEGIN.__enum__=ka;ka.OPEN_COMPLETE=["OPEN_COMPLETE",1];ka.OPEN_COMPLETE.toString=h;ka.OPEN_COMPLETE.__enum__=ka;ka.CLOSE_BEGIN=["CLOSE_BEGIN",2];ka.CLOSE_BEGIN.toString=h;ka.CLOSE_BEGIN.__enum__=ka;ka.CLOSE_COMPLETE=["CLOSE_COMPLETE",3];ka.CLOSE_COMPLETE.toString=h;ka.CLOSE_COMPLETE.__enum__=ka;var yf=function(){};g["workinman.ui.ChangeActionData"]=yf;yf.__name__=["workinman","ui","ChangeActionData"];yf.prototype={__class__:yf};var Ba=g["workinman.ui.STATE_SCREEN"]={__ename__:!0,__constructs__:["IN",
"OUT","OPENED"]};Ba.IN=["IN",0];Ba.IN.toString=h;Ba.IN.__enum__=Ba;Ba.OUT=["OUT",1];Ba.OUT.toString=h;Ba.OUT.__enum__=Ba;Ba.OPENED=["OPENED",2];Ba.OPENED.toString=h;Ba.OPENED.__enum__=Ba;var Fb=function(a,b){this._root=a;this._screenOpen=[];this._interfaceDelegate=b;Fb.eventFlowDelegate.add(i(this,this._dispatchEventChange))};g["workinman.ui.ScreenManager"]=Fb;Fb.__name__=["workinman","ui","ScreenManager"];Fb.prototype={closeScreen:function(a,b){null==b&&(b=!0);for(var c=this._screenOpen.length;0<
c--;)this._screenOpen[c].classType==a&&(this._screenOpen[c].close(b),this._dispatchEventChange(ka.CLOSE_BEGIN,a))},openScreen:function(a){if(this.isScreenOpen(a)){for(var b=0,c=this._screenOpen;b<c.length;){var d=c[b];++b;if(d.classType==a){this._root.addChild(d.get_root());break}}this._dispatchEventChange(ka.OPEN_BEGIN,a);this._dispatchEventChange(ka.OPEN_COMPLETE,a)}else b=ha.createInstance(a,[this._root]),b.open(!0),this._screenOpen.push(b),this._dispatchEventChange(ka.OPEN_BEGIN,a)},changeScreenTo:function(a,
b){null==b&&(b=!1);w.removeLoader.dispatch();for(var c=this._screenOpen.length;0<c--;)this._screenOpen[c].classType!=a&&this._screenOpen[c].close(b);this.openScreen(a)},update:function(a){for(var b=this._screenOpen.length;0<b--;){var c=this._screenOpen[b];c.update(a);c.doDelete&&(c.dispose(),this._screenOpen.splice(b,1))}},isScreenOpen:function(a){for(var b=0,c=this._screenOpen;b<c.length;){var d=c[b];++b;if(d.classType==a)return!0}return!1},_dispatchEventChange:function(a,b){this._interfaceDelegate(a,
b)},__class__:Fb};var va=g["workinman.ui._SubtitleManager.SUB_STATE"]={__ename__:!0,__constructs__:["OFF","CHANGE_ON","CHANGE_OFF","ON"]};va.OFF=["OFF",0];va.OFF.toString=h;va.OFF.__enum__=va;va.CHANGE_ON=["CHANGE_ON",1];va.CHANGE_ON.toString=h;va.CHANGE_ON.__enum__=va;va.CHANGE_OFF=["CHANGE_OFF",2];va.CHANGE_OFF.toString=h;va.CHANGE_OFF.__enum__=va;va.ON=["ON",3];va.ON.toString=h;va.ON.__enum__=va;var Sd=function(a){this._elementManager=new nd(a,0,0,!1);this._elementManager.addLayer("subtitle_default");
this._image=this._elementManager.addElement(new U({asset:"",y:360,originY:1}));this._text=this._elementManager.addElement(new Da({text:"",y:340,originY:1,align:Ka.Center,wrapWidth:N.STAGE_WIDTH-100}));this._tween=new tc;this._setSubState(va.ON)};g["workinman.ui.SubtitleManager"]=Sd;Sd.__name__=["workinman","ui","SubtitleManager"];Sd.prototype={update:function(a){this._elementManager.update(a);this._tween.update(a);switch(this._subState[1]){case 3:0<this._timer&&(this._timer-=a)}if(0<j.subtitleQueue.length)a=
j.subtitleQueue[0],a!=this._currentText&&O.subtitlesEnabled&&(this._currentText=a,this._setSubtitle(this._currentText));else if(0>=this._timer)switch(this._subState[1]){case 1:case 3:this._setSubState(va.CHANGE_OFF)}},_setSubState:function(a){var b=this;this._subState=a;switch(this._subState[1]){case 0:this._currentText="";this._image.visible=!1;this._image.alpha=0;this._text.visible=!1;this._text.alpha=0;break;case 1:this._image.visible=!0;this._text.visible=!0;this._tween.tween({target:this._image,
duration:0.2,overwrite:!0,ease:J.linear},{alpha:1}).onComplete(function(){b._setSubState(va.ON)});this._tween.tween({target:this._text,duration:0.2,overwrite:!0,ease:J.linear},{alpha:1});break;case 2:this._tween.tween({target:this._image,duration:0.2,overwrite:!0,ease:J.linear},{alpha:0}).onComplete(function(){b._setSubState(va.OFF)}),this._tween.tween({target:this._text,duration:0.2,overwrite:!0,ease:J.linear},{alpha:0})}},_setSubtitle:function(a){this._timer=O.getLocalizeData(a).subtitleTime;this._text.setText(a);
switch(this._subState[1]){case 0:case 2:this._setSubState(va.CHANGE_ON)}},__class__:Sd};var Wa=g["world._World.STATE"]={__ename__:!0,__constructs__:["ALLOCATE","INITIALIZING","GAMEPLAY"]};Wa.ALLOCATE=["ALLOCATE",0];Wa.ALLOCATE.toString=h;Wa.ALLOCATE.__enum__=Wa;Wa.INITIALIZING=["INITIALIZING",1];Wa.INITIALIZING.toString=h;Wa.INITIALIZING.__enum__=Wa;Wa.GAMEPLAY=["GAMEPLAY",2];Wa.GAMEPLAY.toString=h;Wa.GAMEPLAY.__enum__=Wa;var zf=function(){};g["world.World"]=zf;zf.__name__=["world","World"];zf.prototype=
{start:function(){this._setState(Wa.GAMEPLAY)},dispose:function(){this._tween.dispose();this._tween=null;this._elementManager.dispose();this._elementManager=null;this._removeEventListeners();this._cacheManager.dispose();this._state=this._cacheManager=null;this._inputPos.dispose();this._inputPos=null},_setState:function(a){this._state=a;switch(a[1]){case 0:this._initPools();break;case 1:this._initWorld(),this._onGenerationComplete()}},update:function(a){if(!0!=X.getBool("BOOL_PAUSED"))switch(this._state[1]){case 0:this._cacheManager.processFill(10)&&
this._setState(Wa.INITIALIZING);break;case 2:this._tween.update(a),this._elementManager.update(a)}},_removeEventListeners:function(){p.eventInput.remove(i(this,this._onInput));w.pause.remove(i(this,this._onPause))},_onPause:function(a){a?X.setBool("BOOL_PAUSED",!0):X.setBool("BOOL_PAUSED",!1)},_onInput:function(){X.getBool("BOOL_PAUSED")||this._state!=Wa.GAMEPLAY||this._elementManager.camera.getWorldPositionOfScreenPoint(p.pointer.get_currentPos().x,p.pointer.get_currentPos().y,0,this._inputPos)},
_initPools:function(){X.setInt("FLOAT_LOADING_PROGRESS",1);this._cacheManager.addCache("pool_particle",xc,70)},_initWorld:function(){},_onGenerationComplete:function(){w.worldGenerationComplete.dispatch()},__class__:zf};var Ca=function(a,b,c,d){null==d&&(d=!1);this.animating=!1;var e=this;U.call(this,a);this._tween=c;this.setAvatarType(b.bodyType);this._avatar.setAttachment("face_color",I.getSlotAttachment("face_color",b.skinColor));this._avatar.setAttachment("neck",I.getSlotAttachment("neck",b.skinColor));
this._avatar.setAttachment("hair",I.getHairAttachment(b.hairStyle,b.hairColor));this._avatar.setAttachment("hair_back",null);(9==b.hairStyle||13==b.hairStyle||14==b.hairStyle)&&this._avatar.setAttachment("hair_back",I.getHairBackAttachment(b.hairStyle,b.hairColor));this._avatar.setAttachment("eye_color_left",I.getSlotAttachment("eye_color",b.eyeColor));this._avatar.setAttachment("eye_color_right",I.getSlotAttachment("eye_color",b.eyeColor));this._avatar.setAttachment("eyes_shape",I.getSlotAttachment("eyes_shape",
b.eyeShape));this.setOutfit(b.outfitColor,b.outfitType);this.setFacewear(b.facewear,b.outfitColor);d&&this.setReversedBuckle(b.outfitColor,b.outfitType);this._avatar.eventAnimationComplete.add(function(){e.animating=!1})};g["world.elements.AvatarObj"]=Ca;Ca.__name__=["world","elements","AvatarObj"];Ca.__super__=U;Ca.prototype=x(U.prototype,{update:function(a){U.prototype.update.call(this,a)},dispose:function(){U.prototype.dispose.call(this)},setAvatarType:function(a){switch(a){case 0:this._avatar=
this.addChild(new W({library:"spine/avatar_tall_thin"},"spine/avatar_texture_packed"));break;case 1:this._avatar=this.addChild(new W({library:"spine/avatar_short_thin"},"spine/avatar_texture_packed"));break;case 2:this._avatar=this.addChild(new W({library:"spine/avatar_tall_thick"},"spine/avatar_texture_packed"));break;case 3:this._avatar=this.addChild(new W({library:"spine/avatar_short_thick"},"spine/avatar_texture_packed"));break;case 4:this._avatar=this.addChild(new W({library:"spine/avatar_wheelchair"},
"spine/avatar_texture_packed"));break;default:this._avatar=this.addChild(new W({library:"spine/avatar_tall_thin"},"spine/avatar_texture_packed"))}},setOutfit:function(a,b){if(0==b)switch(a){case 0:this._avatar.setSkin("outfit_skirt_1");break;case 1:this._avatar.setSkin("outfit_skirt_2");break;case 2:this._avatar.setSkin("outfit_skirt_3");break;case 3:this._avatar.setSkin("outfit_skirt_4");break;case 4:this._avatar.setSkin("outfit_skirt_5");break;case 5:this._avatar.setSkin("outfit_skirt_6");break;
case 6:this._avatar.setSkin("outfit_skirt_7");break;case 7:this._avatar.setSkin("outfit_skirt_8")}else switch(a){case 0:this._avatar.setSkin("outfit_pants_1");break;case 1:this._avatar.setSkin("outfit_pants_2");break;case 2:this._avatar.setSkin("outfit_pants_3");break;case 3:this._avatar.setSkin("outfit_pants_4");break;case 4:this._avatar.setSkin("outfit_pants_5");break;case 5:this._avatar.setSkin("outfit_pants_6");break;case 6:this._avatar.setSkin("outfit_pants_7");break;case 7:this._avatar.setSkin("outfit_pants_8")}},
setReversedBuckle:function(a,b){if(0==b)switch(a){case 0:this._avatar.setAttachment("logo_flip","logo_skirt_1");break;case 1:this._avatar.setAttachment("logo_flip","logo_skirt_2");break;case 2:this._avatar.setAttachment("logo_flip","logo_skirt_3");break;case 3:this._avatar.setAttachment("logo_flip","logo_skirt_4");break;case 4:this._avatar.setAttachment("logo_flip","logo_skirt_5");break;case 5:this._avatar.setAttachment("logo_flip","logo_skirt_6");break;case 6:this._avatar.setAttachment("logo_flip",
"logo_skirt_7");break;case 7:this._avatar.setAttachment("logo_flip","logo_skirt_8")}else switch(a){case 0:this._avatar.setAttachment("logo_flip","logo_pants_1");break;case 1:this._avatar.setAttachment("logo_flip","logo_pants_2");break;case 2:this._avatar.setAttachment("logo_flip","logo_pants_3");break;case 3:this._avatar.setAttachment("logo_flip","logo_pants_4");break;case 4:this._avatar.setAttachment("logo_flip","logo_pants_5");break;case 5:this._avatar.setAttachment("logo_flip","logo_pants_6");
break;case 6:this._avatar.setAttachment("logo_flip","logo_pants_7");break;case 7:this._avatar.setAttachment("logo_flip","logo_pants_8")}},setFacewear:function(a,b){this._avatar.setAttachment("mask",null);this._avatar.setAttachment("hearingaid",null);this._avatar.setAttachment("glasses_circle",null);this._avatar.setAttachment("glasses_square",null);switch(a){case 0:this._avatar.setAttachment("mask",I.getSlotAttachment("mask",b));break;case 1:this._avatar.setAttachment("glasses_circle",I.getSlotAttachment("glasses_circle",
b));break;case 2:this._avatar.setAttachment("glasses_square",I.getSlotAttachment("glasses_square",b));break;case 3:this._avatar.setAttachment("hearingaid",I.getSlotAttachment("hearingaid",b))}},animate:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this.animating=c;this._avatar.animate(a,b)},queueAnimation:function(a,b){null==b&&(b=0);this._avatar.queueAnimation(a,b)},__class__:Ca});var bb=function(a,b,c,d,e,g,h,k){null==k&&(k=!1);null==h&&(h=!1);this.eventTimeout=Qa._new();this._timeoutReached=!1;
this._maxTimeout=60;this._curTimeout=0;this._isAlt=this._hideDefinition=!1;this._popupAudio="";this._clickVolume=0.5;this._closing=this._instructionsShown=!1;var m=this;U.call(this,a);this._screen=b;this._tween=e;this._clear=g;this._popupAudio=d;this._isAlt=h;this._hideDefinition=k;this._homeButton=this.addChild(new E({asset:"btn_home",x:-N.STAGE_CENTER_X+50,y:-310,tween:e,clear:g,scale:0.5}));this._homeButton.eventClick.add(i(this,this._openExitMenu));h||(this._helpButton=this.addChild(new E({asset:"btn_help",
x:N.STAGE_CENTER_X-50,y:-310,tween:e,clear:g,scale:0.5})),this._helpButton.eventClick.add(function(){j.playSound("sofia_click",m._clickVolume);ba.LogEvent("Clicked Help_web",{event_label:"survey"});m._instructionsShown?m.hideInstructions():m._introInstructions()}));k||this._addInstruction(c);this._canvasCover=this.addChild(new ib({color:0,sizeX:N.STAGE_WIDTH,sizeY:720,alpha:0}));this._canvasCover.inputEnabled=!1;this._canvasCover.addChild(new E({tween:e,clear:g})).setCustomHitBox(N.STAGE_WIDTH,720).eventClick.add(i(this,
this._closeExitMenu));this._homeConfirm=this.addChild(new s({asset:"quit_popup",y:-600}));this._homeConfirm.addChild(new E({asset:"btn_check",x:-100,y:160,tween:e,clear:g})).eventClick.add(i(this,this._returnToSplash));this._homeConfirm.addChild(new E({asset:"btn_x",x:100,y:160,tween:e,clear:g})).eventClick.add(function(){j.playSound("sofia_click",m._clickVolume);m._closeExitMenu()});this._homeConfirm.inputEnabled=!1};g["world.elements.MenuOptions"]=bb;bb.__name__=["world","elements","MenuOptions"];
bb.__super__=U;bb.prototype=x(U.prototype,{_showAnyPopup:function(){return this._isAlt?!this._hideDefinition:!1},update:function(a){this._curTimeout>=this._maxTimeout&&!this._timeoutReached&&(this._timeoutReached=!0,this._returnToSplash());U.prototype.update.call(this,a)},resetCountdown:function(){this._curTimeout=0},dispose:function(){this._clear=this._tween=null;S.stop("hide_timer"+this._screen);this._popup=this._homeConfirm=this._canvasCoverClick=this._canvasCover=this._helpButton=this._homeButton=
null;U.prototype.dispose.call(this)},_returnToSplash:function(){!1==this._closing&&(this._closing=!0,j.playSound("sofia_click",this._clickVolume),ba.LogEvent("Completion_web",{event_label:"reset"}),w.addLoader.dispatch(),w.flow.dispatch("ATTRACT_PLAY"))},_openExitMenu:function(){var a=this;j.playSound("sofia_click",this._clickVolume);this._tween.tween({target:this._homeConfirm,duration:0.4,ease:J.outQuad,complete:function(){a._homeConfirm.inputEnabled=!0}},{y:-60});this._tween.tween({target:this._canvasCover,
duration:0.4,ease:J.outQuad,complete:function(){a._canvasCover.inputEnabled=!0}},{alpha:0.75})},_closeExitMenu:function(){this._canvasCover.inputEnabled=!1;this._homeConfirm.inputEnabled=!1;this._tween.tween({target:this._homeConfirm,duration:0.4,ease:J.outQuad},{y:-600});this._tween.tween({target:this._canvasCover,duration:0.4,ease:J.outQuad},{alpha:0})},_addInstruction:function(a){var b=this;this._popup=this.addChild(new s({asset:a,x:0,y:this._showAnyPopup()?440:-440}));this._showAnyPopup()&&this._popup.addChild(new Da({text:"cutscene.instruction",
x:0,y:0}));this._popup.addChild(new E({tween:this._tween,clear:this._clear})).setCustomHitBox(500,150).eventDown.add(function(){b.hideInstructions()});this._introInstructions()},_introInstructions:function(){var a=this;this._instructionsShown||(j.playVO(this._popupAudio,""),this._instructionsShown=!0,this._tween.tween({target:this._popup,duration:0.4,ease:J.outQuad},{y:this._showAnyPopup()?280:-280}),S.start(function(){a._tween.tween({target:a._popup,duration:0.4,ease:J.outQuad},{y:a._showAnyPopup()?
440:-440});a._instructionsShown=!1},6,"hide_timer"+this._screen))},hideInstructions:function(){j.stopVO();S.stop("hide_timer"+this._screen);this._instructionsShown=!1;this._tween.tween({target:this._popup,duration:0.4,ease:J.outQuad},{y:this._showAnyPopup()?440:-440})},updateInstructions:function(){var a=this;this._popup.setAsset("popup_panel_short");this._popup.addChild(new Da({text:"park.instruction",x:0,y:0}));this._instructionsShown=!0;this._tween.tween({target:this._popup,duration:0.4,ease:J.outQuad},
{y:this._showAnyPopup()?280:-280});S.stop("hide_timer"+this._screen);S.start(function(){a._tween.tween({target:a._popup,duration:0.4,ease:J.outQuad},{y:a._showAnyPopup()?440:-440});a._instructionsShown=!1},6,"hide_timer"+this._screen)},inputRegistered:function(){},__class__:bb});var xc=function(){this._lifetime=this._fadeout=this._fadein=this._fadein_full=this._gravity=0;U.call(this,{})};g["world.elements.Particle"]=xc;xc.__name__=["world","elements","Particle"];xc.__interfaces__=[hf];xc.__super__=
U;xc.prototype=x(U.prototype,{init:function(a){this.setAsset(a.asset);this.pos.x=a.x;this.pos.y=a.y;this.velocity.to(0,0);this.doDelete=!1;this.alpha=1;this._type=a.type;this._lifetime=1;this._gravity=0;this.rotation=360*Math.random();this._fadein_full=this._fadein},update:function(a){U.prototype.update.call(this,a);this.pos.x+=this.velocity.x*a;this.pos.y+=this.velocity.y*a;this.velocity.y+=this._gravity*a;0<=this._fadein?(this._fadein-=a,this.alpha=1-this._fadein/this._fadein_full):(0<this._fadeout&&
this._lifetime<this._fadeout&&(this.alpha=1-(this._fadeout-this._lifetime)/this._fadeout),this._lifetime-=a,0>this._lifetime&&(this.doDelete=!0))},setReturnFunction:function(a){this._returnFunction=a},dispose:function(){this._returnFunction(this)},destroy:function(){U.prototype.dispose.call(this);this._returnFunction=null},__class__:xc});var Cf,Ef=0;g.Math=Math;String.prototype.__class__=g.String=String;String.__name__=["String"];g.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=g.Date=
Date;Date.__name__=["Date"];var sc=g.Int={__name__:["Int"]},Ff=g.Dynamic={__name__:["Dynamic"]},K=g.Float=Number;K.__name__=["Float"];var md=g.Bool=Boolean;md.__ename__=["Bool"];var Gf=g.Class={__name__:["Class"]},Hf={},v={},kd=Af.ArrayBuffer||nb;null==kd.prototype.slice&&(kd.prototype.slice=nb.sliceImpl);var uf=Af.Uint8Array||Bb._new;ra.eventUpdate=Aa._new();t.Element=0;t.PCData=1;t.CData=2;t.Comment=3;t.DocType=4;t.ProcessingInstruction=5;t.Document=6;N.STAGE_WIDTH=1280;N.STAGE_CENTER_X=640;w.flow=
Aa._new();w.resizeCanvas=Aa._new();w.updateDisplay=Aa._new();w.pause=Aa._new();w.initialLoadComplete=Qa._new();w.worldGenerationComplete=Qa._new();w.addLoader=Qa._new();w.removeLoader=Qa._new();w.setCollectedCount=Aa._new();w.setReservedCount=Aa._new();w.selectAllergen=tb._new();w.collectAllergen=tb._new();w.releaseAllergen=Aa._new();w.reserveSlot=tb._new();G._flagIsFirstPlay=!0;G._avatarSettings={skinColor:0,bodyType:0,hairColor:0,hairStyle:0,eyeColor:0,eyeShape:0,outfitType:0,outfitColor:0,facewear:0};
G._selectedAllergens=[null,null,null,null,null];Ra.instance=new Ra;sa.DISPATCHING_SENTINEL=new yb(null,null);F.root=new Qc;F.uncaughtError=new ia;F.hidden=new Sa(!1);F.volume=new Ga(1);F._platform=Ra.instance;F._calledInit=!1;Uc.logger=new Zd(F._platform.createLogHandler("flambe"));la.__meta__={obj:{assets:[{image_hunt_assets:[{bytes:138662,md5:"f9cd7275560de824dbdc58f7e2fdb162",name:"bg.png"},{bytes:2097,md5:"b9d9d45a08d07664b58db14678a5506e",name:"image_hunt_assets.atlas"},{bytes:66578,md5:"d11fa33e8b8817510ce75bdd732e3f62",
name:"image_hunt_assets_0.png"},{bytes:349,md5:"b8b16471034f189985a0a07bbf4458d4",name:"sky.png"},{bytes:2646,md5:"9d95803bc04b0a098114a41cc9ee6531",name:"spine/cigarette.atlas"},{bytes:25079,md5:"d54bbbe73600ffc3d0a3cfa0ccd22796",name:"spine/cigarette.json"},{bytes:14869,md5:"3b06464e945f5487ac8993c054441a65",name:"spine/cigarette.png"},{bytes:581,md5:"b2945feca5c51570be8ea9fdd02c342a",name:"spine/duck.atlas"},{bytes:1351,md5:"d71e1654dbdeb11ed7de7b0128b07e98",name:"spine/duck.json"},{bytes:5666,
md5:"3aa09df00b017cd6dec35af96f3b16ec",name:"spine/duck.png"},{bytes:1857,md5:"6dff663248b56b588823e20317f9e507",name:"spine/park_boy.atlas"},{bytes:22451,md5:"771169fc925647f44f3a9e3ad3d67ccb",name:"spine/park_boy.json"},{bytes:6917,md5:"b8729571da25222676a47bdf5f7a40be",name:"spine/park_boy.png"},{bytes:1302,md5:"db36df7150fde80d0a8b7ca060c35c49",name:"spine/park_car.atlas"},{bytes:60711,md5:"c518fa7e7811f50515f8fba427b53709",name:"spine/park_car.json"},{bytes:8554,md5:"c9df21e5a5f314849aed9e95bd0a59b2",
name:"spine/park_car.png"},{bytes:401,md5:"9b829077c603a5fbe5da5072567d538b",name:"spine/park_clouds.atlas"},{bytes:2163,md5:"cc4d90d5cf06300a6c7ad732fc5f53d9",name:"spine/park_clouds.json"},{bytes:5872,md5:"c871cc374ef29abf61e0f757b00f07df",name:"spine/park_clouds.png"},{bytes:1364,md5:"f5978ac9c419d7c6ee51ae64d7d33e4e",name:"spine/park_cold_air.atlas"},{bytes:37031,md5:"6bb23f1f4ee237bbbf84f1912dba3e5a",name:"spine/park_cold_air.json"},{bytes:68136,md5:"9371389ecefefea3bf40a4800b376878",name:"spine/park_cold_air.png"},
{bytes:726,md5:"15a0fcc41fb023e63289fde2b4649e2b",name:"spine/park_effect.atlas"},{bytes:5175,md5:"3c9fcc180f8d5eb35a278ffffdb5af27",name:"spine/park_effect.json"},{bytes:10405,md5:"26ebd7544c5473444aa41c1812f2c4e7",name:"spine/park_effect.png"},{bytes:1098,md5:"9e9076d5c32fa70d877c59f9b602b20d",name:"spine/park_fire.atlas"},{bytes:12629,md5:"cef53013bab9845fb7814378ff2c14f0",name:"spine/park_fire.json"},{bytes:5914,md5:"72f4f218b2fc76e1b754ce69b8f66961",name:"spine/park_fire.png"},{bytes:600,md5:"eba2733c3b24b11d5d6fd61d5c7e83c7",
name:"spine/park_flowers.atlas"},{bytes:28291,md5:"bbdd3e6b2bc06551220838a99a4ad1e1",name:"spine/park_flowers.json"},{bytes:2135,md5:"81a8c2395326864304c9907e69cf46ba",name:"spine/park_flowers.png"},{bytes:1256,md5:"43d40d05afda8d49fc40eeb65c71369b",name:"spine/park_ice.atlas"},{bytes:22083,md5:"268176cdb6ed7be5e9f889d6fa8188fc",name:"spine/park_ice.json"},{bytes:65198,md5:"72f6b207ad0d3ecd71f50b470432cbd8",name:"spine/park_ice.png"},{bytes:1338,md5:"c95bc5fe9f36e5dca59f742a79500c52",name:"spine/park_pond.atlas"},
{bytes:26321,md5:"d66747c6126f25fb526307721f1f2826",name:"spine/park_pond.json"},{bytes:19024,md5:"8f51ce0cad235a0cfd0cd5171d8a04a1",name:"spine/park_pond.png"},{bytes:2203,md5:"e733696ba3b38eae58fc16c7e09730e7",name:"spine/park_trees.atlas"},{bytes:9161,md5:"e0bad2e2c94b23476579190eff4dafe7",name:"spine/park_trees.json"},{bytes:41116,md5:"6fab0431a5687d7806857a4bba57d0aa",name:"spine/park_trees.png"},{bytes:1034,md5:"311fc061a20f9269dcfb2e862639e425",name:"spine/park_tree_bird.atlas"},{bytes:15093,
md5:"f1957ec2f5b3692df011cbbc09684c60",name:"spine/park_tree_bird.json"},{bytes:13531,md5:"28cbbaafd8620ff32a33c0415c2abfc0",name:"spine/park_tree_bird.png"},{bytes:394,md5:"969a584b4c48808a0aabc1346f6324b4",name:"spine/park_ufo.atlas"},{bytes:19816,md5:"b4406edc0c64d5ec78b13eb31c29a302",name:"spine/park_ufo.json"},{bytes:4442,md5:"05af633a662547f6c134629db92a5ff5",name:"spine/park_ufo.png"},{bytes:2157,md5:"267973a0bdb7e0102ed61a285c1c1a70",name:"spine/perfume.atlas"},{bytes:15620,md5:"1ee8679dca15bc199fdcc5546d2275e7",
name:"spine/perfume.json"},{bytes:18416,md5:"190b7bd6175c588a51c63f3f629bc563",name:"spine/perfume.png"},{bytes:503,md5:"bd2248b53d6a0b4be53922ea075148d9",name:"spine/pollution.atlas"},{bytes:1131,md5:"23ed2f2b5fdad6f7eaa4665bcbd41b00",name:"spine/pollution.json"},{bytes:10168,md5:"8cf4265f1b2a77296374ecf97e899e3b",name:"spine/pollution.png"},{bytes:1859,md5:"49de7b7a30fab55d3b4295ae85d862c9",name:"spine/vegetables.atlas"},{bytes:28537,md5:"e5b3b5ce4508c3a0571609ace9da5b73",name:"spine/vegetables.json"},
{bytes:19138,md5:"220b84b96f65361fa3fe83bc556a7e6a",name:"spine/vegetables.png"}],fonts_en_simple:[{bytes:12112,md5:"2d345a4998daf44f2c65e54855b86fa4",name:"Basic.fnt"},{bytes:23979,md5:"34914eb3162e396bc567ccc57701db84",name:"Basic.png"}],quiz_audio:[{bytes:38757,md5:"6f8f9ba3283f5f290e67ec4dcebca727",name:"sofia_conclusion_quiz.mp3"},{bytes:16380,md5:"54074fcf7b24b214a602f275dab1b9d0",name:"sofia_conclusion_quiz_notsure.mp3"},{bytes:35055,md5:"7fece69dd7db5e37d95657e7143c1191",name:"sofia_conclusion_quiz_participant.mp3"},
{bytes:31350,md5:"ff5d50b4645f6a5592f6a436014ea486",name:"sofia_conclusion_quiz_scientist.mp3"},{bytes:68806,md5:"1d4545346ecd42251dbb245e3f3600e3",name:"sofia_correct_research_study.mp3"},{bytes:71E3,md5:"3612a529ebcec32b98db7e86adc77724",name:"sofia_experiment_cars.mp3"},{bytes:44134,md5:"3da59fd60c1fa7f80afe5f443eced76e",name:"sofia_experiment_cold.mp3"},{bytes:65991,md5:"2c6759d1260a60fab1270814b17598d3",name:"sofia_experiment_exercise.mp3"},{bytes:40584,md5:"6d11e4ff0d1b50c24b1dfec2a19d2c8d",
name:"sofia_experiment_factory.mp3"},{bytes:37823,md5:"a88a27553220d26f33d2af0186e0e987",name:"sofia_experiment_fire.mp3"},{bytes:46950,md5:"5fb7bb7ebca6d79da4949d3ad237a7b7",name:"sofia_experiment_fire_alt.mp3"},{bytes:38889,md5:"b6d0c39df9c310078c7f7429eee2ae93",name:"sofia_experiment_inhaler.mp3"},{bytes:37927,md5:"ad61dde105bd60ea00424e4bfd26f755",name:"sofia_experiment_perfume.mp3"},{bytes:67449,md5:"92cb2a33632f2252d0c86f80aa4edeae",name:"sofia_question_research_study.mp3"},{bytes:55607,md5:"1b1d7bd76c2fa6661a01455bb56fa75d",
name:"sofia_research_asthma_triggers_01.mp3"},{bytes:26238,md5:"bc37fecb3f91c07ea63f8adfcb1597ef",name:"sofia_research_asthma_triggers_02.mp3"},{bytes:78226,md5:"bc3d87d7ee31af0885091dff6e22d632",name:"sofia_wrong_research_study.mp3"}],endscreen_assets:[{bytes:17113,md5:"0e229a9a4e8a4bf9f9b20a0a26a91d90",name:"button_website.png"},{bytes:172302,md5:"f213e0be1509635b89fa0c6a1664ebbe",name:"endscreen.jpg"}],avatar_builder_assets:[{bytes:80023,md5:"622accd661ffc00252e7031bc0fe71bf",name:"avatar_bg.jpg"},
{bytes:13721,md5:"f0e3b95d5b9aaf7ff84a84563700c482",name:"avatar_builder_assets.atlas"},{bytes:184101,md5:"531e003a413294bcacccb3b91a8aab33",name:"avatar_builder_assets_0.png"},{bytes:194487,md5:"abe9279094cc00c9cc2f9991a53142a3",name:"avatar_builder_assets_1.png"},{bytes:27568,md5:"3b959b9ba075972e58a4be9762a331ba",name:"avatar_popup.png"},{bytes:239082,md5:"1d0dc1cce2ad388558c9f76bfc3542d6",name:"spine/avatar_short_thick.json"},{bytes:237563,md5:"225c6c1ffc501054fadd0b1ad9a30f58",name:"spine/avatar_short_thin.json"},
{bytes:238250,md5:"263d98b5794b3e20ea2e944ceeebfa83",name:"spine/avatar_tall_thick.json"},{bytes:224990,md5:"ca8a92cb60e72c43c2ec86b4979416b5",name:"spine/avatar_tall_thin.json"},{bytes:63511,md5:"fa4d1bd3e2c1c0933c09b8b6599cac77",name:"spine/avatar_texture_packed.atlas"},{bytes:786561,md5:"2237c15d4e4737a1e15034a706b4cfcc",name:"spine/avatar_texture_packed.png"},{bytes:193067,md5:"5cafa63f30bfb61b95b1cc5bec7f55f6",name:"spine/avatar_texture_packed2.png"},{bytes:232648,md5:"c57868f33a49b77cb73342b4b0479954",
name:"spine/avatar_wheelchair.json"},{bytes:38363,md5:"32ea48f7047de6321fd7f53d08cd6098",name:"top_panel.png"}],cutscene_opening_assets:[{bytes:18290,md5:"251e943ac59451cf4efe7e93a9007d8a",name:"btn_next_side.png"},{bytes:730,md5:"823b81944ffc53aa0e94a97449315bc0",name:"btn_next_side_arrow.png"},{bytes:45026,md5:"dd6dd108fd709ea144d78cb4a826170a",name:"popup_panel.png"},{bytes:106086,md5:"843e88a7ea2d6307158fed74189ded9e",name:"story_1.jpg"},{bytes:131922,md5:"108d5d4b5415cf849650ca6facccc309",name:"story_2.jpg"},
{bytes:140768,md5:"a53190998a6527380e9e5103b845a295",name:"story_3.jpg"},{bytes:141429,md5:"3b30bdb599d90c22d930f1120fb0a469",name:"story_4.jpg"},{bytes:168859,md5:"57a5fa6dce1050ea2cd34edd4f3c5c03",name:"story_5.jpg"},{bytes:152932,md5:"54d85bec9137768d2d19d41e5dc0f177",name:"story_5_color.jpg"},{bytes:49985,md5:"7b6b4eaa3609368da090aec664c95ef0",name:"story_popup_lungs.png"},{bytes:54339,md5:"80f282ef4c850747804947cfd0c97488",name:"story_popup_researchstudy.png"},{bytes:124737,md5:"007b83e5b8366affe5d742ba7a55dc92",
name:"story_popup_scientist.png"},{bytes:55700,md5:"1c2c6894ce5424720b4087251f25c3f3",name:"story_popup_treatment.png"}],attract_assets:[{bytes:737,md5:"e95d11e5afd58a91d2a0e9b425429df9",name:"attract_assets.atlas"},{bytes:51069,md5:"50ac8854be6cc9dd9b9b471cbf7d8d7e",name:"attract_assets_0.png"},{bytes:10495,md5:"6953efdf776c76e5a0d46fbc197fd3f1",name:"button_sound_off.png"},{bytes:18014,md5:"890efd5b630d1b9c5d76f3c02ba2c189",name:"button_sound_on.png"},{bytes:17113,md5:"0e229a9a4e8a4bf9f9b20a0a26a91d90",
name:"button_website.png"},{bytes:25451,md5:"6b520fb1faf7d1f1db745c48e261768d",name:"popup_panel_short.png"},{bytes:7993,md5:"27a57d0eb1297b3c2922ab6f418c059a",name:"sofia.atlas"},{bytes:439317,md5:"663023f47cda9e20beb283fbad8c6607",name:"sofia.json"},{bytes:129988,md5:"b7b26c360df8da322c6859ccef720842",name:"sofia.png"},{bytes:1981,md5:"1a11c042fd247c2d7d73686b84440c98",name:"splash.atlas"},{bytes:16150,md5:"25c6b7d65e3b527ea70aa38bcd9fc1c4",name:"splash.json"},{bytes:158202,md5:"41ce6e22cf85a9176ed041156f075193",
name:"splash.png"},{bytes:141107,md5:"5c540a987e3aa39a927b3b10e775b9fa",name:"splash_bg.jpg"},{bytes:627,md5:"a667bd33bfe022d4e22eb531cd092c09",name:"transition.atlas"},{bytes:7156,md5:"889e44459be728a1f4bc40ba19cf432d",name:"transition.json"},{bytes:166734,md5:"7d2bffacbee71e7761f63f787cb20201",name:"transition.png"}],cutscene_opening_audio:[{bytes:103757,md5:"50ed27569d2fb0a9e61891fd404a8be1",name:"sofia_intro_01.mp3"},{bytes:88264,md5:"b4a9eda13b25ed94f5f2b649b9a70923",name:"sofia_intro_02.mp3"},
{bytes:127074,md5:"8732f8d89bb7e2652a4ff854db52b994",name:"sofia_intro_03.mp3"},{bytes:134744,md5:"191df95ef5ac9506ca4060a23be5fe2e",name:"sofia_intro_04.mp3"},{bytes:115200,md5:"14865dc57fcd5f21fb61611bbf8be55e",name:"sofia_intro_05.mp3"},{bytes:50913,md5:"36432e00749fa035856ba19d8b852bb6",name:"sofia_lungs_definition.mp3"},{bytes:97864,md5:"d294e072b90a1af079226d9c803f27e5",name:"sofia_research_study_definition.mp3"},{bytes:103870,md5:"0e945c0e3c03ef8486ac4517f87e83ac",name:"sofia_scientist_definition.mp3"},
{bytes:79137,md5:"a9dfc2d43917388f9aa0e04c2762a664",name:"sofia_treatment_definition.mp3"}],experiment_assets:[{bytes:632,md5:"f65ca0f53209b07b14dc495a4faabd0a",name:"experiment_assets.atlas"},{bytes:184959,md5:"7361b8a64fb811b905594e38533cf34b",name:"experiment_assets_0.png"},{bytes:7061,md5:"4299e3585a95ac46dbc592fc756a8a9e",name:"spine/lab.atlas"},{bytes:21366,md5:"9e9455acca5ca2d80ce809982bff9546",name:"spine/lab.json"},{bytes:256688,md5:"908519587658ed5f3a33fc167fed45a3",name:"spine/lab.png"}],
cutscene_mid_audio:[{bytes:163123,md5:"5fe70c8b75c4c21e2208808d81948106",name:"sofia_outro_01.mp3"},{bytes:87665,md5:"b7b9000174a5ba68b0de3d0d1f69a732",name:"sofia_survey_definition.mp3"}],cutscene_doctor_start_assets:[{bytes:104118,md5:"aeae678b8a586699fdb6ae3b9d948e03",name:"doctors_office_start.jpg"},{bytes:126185,md5:"49afed02a71e86921805628a149323a3",name:"popup_asthmatriggers.png"}],bootstrap:[{bytes:3216,md5:"b636c7e3890616f01761ff5a0c495d28",name:"border.png"},{bytes:444,md5:"d17ccf4ccd14fa7c9312cdf763ffff04",
name:"config/config.xml"},{bytes:363,md5:"071ac1452e8e803380608c5cecc796bd",name:"outline.png"},{bytes:528,md5:"b70976907b29be057870c1f801b67460",name:"spine/loading.atlas"},{bytes:2162,md5:"a4f92d895c433a6e69178dc1cdf7264d",name:"spine/loading.json"},{bytes:374598,md5:"e0dfd7f064c7af30c4d0ef5d7eb88f7c",name:"spine/loading.png"}],endscreen_audio:[{bytes:97723,md5:"beb59bae398dd22eb2f9dec57e3c2d1d",name:"sofia_thanks_for_playing.mp3"}],cutscene_doctor_end_assets:[{bytes:93498,md5:"488f942414bdb453fe703821b0cb949b",
name:"doctors_office_end.jpg"}],cutscene_doctor_start_audio:[{bytes:86650,md5:"a101190377079b594102cd7235331cbd",name:"sofia_asthma_trigger_definition.mp3"},{bytes:132806,md5:"273c87b4283c13041ebcc03d72841f33",name:"sofia_park_01.mp3"}],experiment_audio:[{bytes:62884,md5:"7caa5ccc9444bac15c9d9722c558927d",name:"sofia_experiment.mp3"},{bytes:56233,md5:"e293045d00f2bb77c1bf15992487ae77",name:"sofia_machine_done.mp3"},{bytes:33951,md5:"8849dd46468ce62be0222ddc65624107",name:"sofia_machine_incorrect.mp3"},
{bytes:57904,md5:"911551c714e4f52e410b374bdb5a72ac",name:"sofia_machine_start.mp3"}],fonts_ru:[{bytes:41600,md5:"36197f837b20da5b06f121954852c2dd",name:"Basic.fnt"},{bytes:214370,md5:"57083f501f856c81a6507f03cf84fadc",name:"Basic.png"},{bytes:13239,md5:"8971b4dcbc413c905334cb110fca8239",name:"translation.xml"}],fonts_la:[{bytes:25359,md5:"c14fdc9a3b634ceed36aa6c617aaa9c5",name:"Basic.fnt"},{bytes:151658,md5:"06d64b1a0507772f8333c15be9c88737",name:"Basic.png"},{bytes:13239,md5:"8971b4dcbc413c905334cb110fca8239",
name:"translation.xml"}],fonts_kr:[{bytes:25359,md5:"c14fdc9a3b634ceed36aa6c617aaa9c5",name:"Basic.fnt"},{bytes:151658,md5:"06d64b1a0507772f8333c15be9c88737",name:"Basic.png"},{bytes:13239,md5:"8971b4dcbc413c905334cb110fca8239",name:"translation.xml"}],fonts_jp:[{bytes:25359,md5:"c14fdc9a3b634ceed36aa6c617aaa9c5",name:"Basic.fnt"},{bytes:151658,md5:"06d64b1a0507772f8333c15be9c88737",name:"Basic.png"},{bytes:13239,md5:"8971b4dcbc413c905334cb110fca8239",name:"translation.xml"}],fonts_en:[{bytes:25344,
md5:"b86985e26e7333cfcd6a0f6f4203a729",name:"Basic.fnt"},{bytes:52375,md5:"eb5650d67d97fd6787115ceaad0bce24",name:"Basic.png"},{bytes:12129,md5:"a895d000194b1473d2e45bef2f430600",name:"cera_bold.fnt"},{bytes:24789,md5:"ef1ab897b8826f16ce85c1afe3de4d10",name:"cera_bold.png"},{bytes:12133,md5:"bf4923ecc4c53f8bbe8444401d023a73",name:"cera_medium.fnt"},{bytes:24633,md5:"241b92778d86c2d35d48512f112a6029",name:"cera_medium.png"},{bytes:46342,md5:"497205c265e2f063b1ef1754f9a07424",name:"Filson_bold_blue.fnt"},
{bytes:29680,md5:"733ba4039f3e23565b8638f137dab9fa",name:"Filson_bold_blue.png"},{bytes:46345,md5:"e79b9abc17ab4250ca7555caebc26156",name:"Filson_bold_stroke.fnt"},{bytes:61671,md5:"d54d5bec3c2b8b4cde264d4cc4a8b88a",name:"Filson_bold_stroke.png"},{bytes:46411,md5:"e8075cdfe4234b88f0594507534015cd",name:"Filson_reg_black.fnt"},{bytes:29491,md5:"4265afeb3f37f1087af61af502f3adce",name:"Filson_reg_black.png"},{bytes:46411,md5:"edad95f7a097e38fd9ab8c23d9659467",name:"Filson_reg_white.fnt"},{bytes:29491,
md5:"d0b3f82d48826e8f2a0207d62bf070ed",name:"Filson_reg_white.png"},{bytes:12132,md5:"cb978656201becd32dfcee9238b7fd0c",name:"pencil_black.fnt"},{bytes:33589,md5:"c1c2d6a86ada0c7e3a5b2fea41a0217e",name:"pencil_black.png"},{bytes:12132,md5:"974e6474f612e9a89e5d5b5f6c7df138",name:"pencil_white.fnt"},{bytes:33589,md5:"aaf19eaf9cbec70159e8b2f1c56b5bc4",name:"pencil_white.png"},{bytes:4904,md5:"1be56accb592a68fc8097c45c270904d",name:"translation.xml"}],fonts_cn:[{bytes:25359,md5:"c14fdc9a3b634ceed36aa6c617aaa9c5",
name:"Basic.fnt"},{bytes:151658,md5:"06d64b1a0507772f8333c15be9c88737",name:"Basic.png"},{bytes:13239,md5:"8971b4dcbc413c905334cb110fca8239",name:"translation.xml"}],avatar_builder_audio:[{bytes:34951,md5:"a0d85e564678945e12c782db79e43cf8",name:"sofia_avatar_builder.mp3"},{bytes:1046431,md5:"289ba352994ed9484d31237c71f68c48",name:"sofia_park_lab_track.mp3"}],cutscene_doctor_end_audio:[{bytes:94103,md5:"e22020d2087cb1ccac64ddba3e23fa27",name:"sofia_conclusion.mp3"}],image_hunt_audio:[{bytes:22752,
md5:"de1d18c47504cfe1e76b785c95958382",name:"sofia_basketball_spin.mp3"},{bytes:25932,md5:"1ac47a7ce2dd60234e7bae29ce492ee7",name:"sofia_blue_bird.mp3"},{bytes:2762,md5:"cd75cce9f74352eb0c06ab838e18b189",name:"sofia_broccoli_boop.mp3"},{bytes:59591,md5:"b2ba3801850651a5888deb12aed0e98a",name:"sofia_car_drive_by.mp3"},{bytes:79222,md5:"7e320c3b64339256c9338b13ca5a9890",name:"sofia_cold_air.mp3"},{bytes:31346,md5:"6cab497808b8b546dcdbef8b85dac895",name:"sofia_cough.mp3"},{bytes:11493,md5:"048b4f68122a0f8779d484a01cac517e",
name:"sofia_duck_quack.mp3"},{bytes:54333,md5:"2e842fc1bf05e5cedd6f7da1898f7b04",name:"sofia_fire.mp3"},{bytes:54145,md5:"ce769de24bab4ede966c6e7ae99f3155",name:"sofia_fish_pond.mp3"},{bytes:82029,md5:"92f9dfa23dd5e3ca868457b2ee3498f9",name:"sofia_park_02.mp3"},{bytes:2831726,md5:"5224ea9cccfc5070e9a737dacf585d92",name:"sofia_park_bg_music.mp3"},{bytes:31157,md5:"2fb99685ae68310767a069e56ea9cb51",name:"sofia_perfume.mp3"},{bytes:30152,md5:"3f1aab593b72e26f6c3744a593db09e1",name:"sofia_running.mp3"},
{bytes:62504,md5:"14d487caeccea4d212656cd1404b95c1",name:"sofia_ufo.mp3"}],cutscene_mid_assets:[{bytes:133895,md5:"53ae9f319f331d10cf0dd081120fae15",name:"story_6.jpg"},{bytes:55259,md5:"472828b3d89888f561237845c3c0a697",name:"story_popup_survey.png"},{bytes:33035,md5:"52aa764a460f9a0914d1c2cad282ebc5",name:"survey_prop.png"}],quiz_assets:[{bytes:45783,md5:"1f7c2998e4f6d9146f5de2112b05f9ed",name:"popup_panel.png"},{bytes:1908,md5:"a9ca21ef7d3a23922cb448f4ec91af23",name:"quiz_assets.atlas"},{bytes:131057,
md5:"2b934eb201c17a3ae1ad06c8e3480539",name:"quiz_assets_0.png"},{bytes:104539,md5:"b01fd59afd8e5c7bbec8129b42815a6f",name:"quiz_assets_1.png"},{bytes:56625,md5:"3a5879a9d5f3a8b9d2eb35489e65e96f",name:"quiz_bg.jpg"},{bytes:18972,md5:"ea3544041c205a132bc047e0492ff8a3",name:"quiz_clipboard.png"},{bytes:53106,md5:"43aef039d30fe77b98d588aac9e4aa1e",name:"quiz_question_1.png"},{bytes:39467,md5:"ec65d418f814184b7ebe463190d3a94b",name:"quiz_question_2.png"},{bytes:48477,md5:"277c3b5fcf546ab60a08be051e27720c",
name:"quiz_question_3.png"},{bytes:38014,md5:"b100b3c2cf8317fde62b2e9058336e77",name:"quiz_question_blank.png"}],attract_audio:[{bytes:1393435,md5:"eb74d2b1d6c4dc994035d2695469ef60",name:"sofia_bg_music.mp3"},{bytes:827368,md5:"1330a6d4c6aa9c078eb82cf0a3370fdd",name:"sofia_bg_music_intro.mp3"},{bytes:5845,md5:"e5d79ebf38e1649988d2cbbf2a2942b2",name:"sofia_click.mp3"},{bytes:7123,md5:"a262ddee87733fc08ce7d420b4457543",name:"sofia_click_confirm.mp3"},{bytes:35575,md5:"4703c331cf1000f48a940caf48363040",
name:"sofia_correct_1.mp3"},{bytes:43935,md5:"2f07ce28f0313deec95ba03562054e4a",name:"sofia_correct_2.mp3"},{bytes:24082,md5:"79928336184bf0dfc4ef1f01e1589375",name:"sofia_incorrect_1.mp3"},{bytes:20930,md5:"90d40ad299775b0ea52ad2bc25c40d92",name:"sofia_incorrect_2.mp3"},{bytes:17572,md5:"1c8755014e888b0a9a6fb9f11c02a38b",name:"sofia_page_turn.mp3"},{bytes:32501,md5:"b2b2756a9897f3171cb15a493ae93774",name:"sofia_title.mp3"}]}]}};la._supportsCrossOrigin=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?
!1:null!=(new XMLHttpRequest).withCredentials;gb.NEWLINE=new Sb(10);da._scratchPoint=new Ob;Ya._sharedEvent=new ee;Ua._sharedEvent=new fe;fa._sharedEvent=new ge;Nb.CANVAS_TEXTURES=!1;Y._mediaRefCount=0;Y._detectBlobSupport=!0;M.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];M.SHOULD_HIDE_MOBILE_BROWSER=window.top==window?(new fb("Mobile(/.*)? Safari","")).match(window.navigator.userAgent):!1;V._detectSupport=!0;ta.DEFAULT_RESOLVER=new jd;ta.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
Na.count=0;sb.escapes=function(){var a=new aa;null!=v.lt?a.setReserved("lt","<"):a.h.lt="<";null!=v.gt?a.setReserved("gt",">"):a.h.gt=">";null!=v.amp?a.setReserved("amp","&"):a.h.amp="&";null!=v.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=v.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);r.__toStr={}.toString;Bb.BYTES_PER_ELEMENT=1;vf.allConfig=["config/config.xml"];u._DEFAULT_LAYER="ui_default";u._LOADER_LAYER="ui_loader";u._BORDER_LAYER="ui_border";u._DEBUG_SHOW_CLICKWALL=!1;E._scratchPoint=
new Ob;E._DEBUG_SHOW_HITBOX=!1;I._faceColorOptions="face_color_1,face_color_2,face_color_3,face_color_4,face_color_5,face_color_6,face_color_7,face_color_8".split(",");I._eyeShapeOptions=["eyes_shape_1","eyes_shape_2","eyes_shape_3"];I._glassesCircleOptions="glasses_circle_1,glasses_circle_2,glasses_circle_3,glasses_circle_4,glasses_circle_5,glasses_circle_6,glasses_circle_7,glasses_circle_8".split(",");I._hearingAidOptions="hearingaid_1,hearingaid_2,hearingaid_3,hearingaid_4,hearingaid_5,hearingaid_6,hearingaid_7,hearingaid_8".split(",");
I._glassesSquareOptions="glasses_square_1,glasses_square_2,glasses_square_3,glasses_square_4,glasses_square_5,glasses_square_6,glasses_square_7,glasses_square_8".split(",");I._capeOptions="cape_1,cape_2,cape_3,cape_4,cape_5,cape_6,cape_7,cape_8".split(",");I._eyeColorOptions="eye_color_1,eye_color_2,eye_color_3,eye_color_4,eye_color_5,eye_color_6,eye_color_7,eye_color_8,eye_color_9,eye_color_10,eye_color_11,eye_color_12".split(",");I._neckOptions="neck_color_1,neck_color_2,neck_color_3,neck_color_4,neck_color_5,neck_color_6,neck_color_7,neck_color_8".split(",");
I._hairOptions="hair_1_color_1,hair_1_color_2,hair_1_color_3,hair_1_color_4,hair_1_color_5,hair_1_color_6,hair_1_color_7,hair_1_color_8,hair_1_color_9,hair_1_color_10,hair_2_color_1,hair_2_color_2,hair_2_color_3,hair_2_color_4,hair_2_color_5,hair_2_color_6,hair_2_color_7,hair_2_color_8,hair_2_color_9,hair_2_color_10,hair_3_color_1,hair_3_color_2,hair_3_color_3,hair_3_color_4,hair_3_color_5,hair_3_color_6,hair_3_color_7,hair_3_color_8,hair_3_color_9,hair_3_color_10,hair_4_color_1,hair_4_color_2,hair_4_color_3,hair_4_color_4,hair_4_color_5,hair_4_color_6,hair_4_color_7,hair_4_color_8,hair_4_color_9,hair_4_color_10,hair_5_color_1,hair_5_color_2,hair_5_color_3,hair_5_color_4,hair_5_color_5,hair_5_color_6,hair_5_color_7,hair_5_color_8,hair_5_color_9,hair_5_color_10,hair_6_color_1,hair_6_color_2,hair_6_color_3,hair_6_color_4,hair_6_color_5,hair_6_color_6,hair_6_color_7,hair_6_color_8,hair_6_color_9,hair_6_color_10,hair_7_color_1,hair_7_color_2,hair_7_color_3,hair_7_color_4,hair_7_color_5,hair_7_color_6,hair_7_color_7,hair_7_color_8,hair_7_color_9,hair_7_color_10,hair_8_color_1,hair_8_color_2,hair_8_color_3,hair_8_color_4,hair_8_color_5,hair_8_color_6,hair_8_color_7,hair_8_color_8,hair_8_color_9,hair_8_color_10,hair_9_color_1,hair_9_color_2,hair_9_color_3,hair_9_color_4,hair_9_color_5,hair_9_color_6,hair_9_color_7,hair_9_color_8,hair_9_color_9,hair_9_color_10,hair_10_color_1,hair_10_color_2,hair_10_color_3,hair_10_color_4,hair_10_color_5,hair_10_color_6,hair_10_color_7,hair_10_color_8,hair_10_color_9,hair_10_color_10,hair_11_color_1,hair_11_color_2,hair_11_color_3,hair_11_color_4,hair_11_color_5,hair_11_color_6,hair_11_color_7,hair_11_color_8,hair_11_color_9,hair_11_color_10,hair_12_color_1,hair_12_color_2,hair_12_color_3,hair_12_color_4,hair_12_color_5,hair_12_color_6,hair_12_color_7,hair_12_color_8,hair_12_color_9,hair_12_color_10,hair_13_color_1,hair_13_color_2,hair_13_color_3,hair_13_color_4,hair_13_color_5,hair_13_color_6,hair_13_color_7,hair_13_color_8,hair_13_color_9,hair_13_color_10,hair_14_color_1,hair_14_color_2,hair_14_color_3,hair_14_color_4,hair_14_color_5,hair_14_color_6,hair_14_color_7,hair_14_color_8,hair_14_color_9,hair_14_color_10,hair_15_color_1,hair_15_color_2,hair_15_color_3,hair_15_color_4,hair_15_color_5,hair_15_color_6,hair_15_color_7,hair_15_color_8,hair_15_color_9,hair_15_color_10,hair_16_color_1,hair_16_color_2,hair_16_color_3,hair_16_color_4,hair_16_color_5,hair_16_color_6,hair_16_color_7,hair_16_color_8,hair_16_color_9,hair_16_color_10,hair_17_color_1,hair_17_color_2,hair_17_color_3,hair_17_color_4,hair_17_color_5,hair_17_color_6,hair_17_color_7,hair_17_color_8,hair_17_color_9,hair_17_color_10,hair_18_color_1,hair_18_color_2,hair_18_color_3,hair_18_color_4,hair_18_color_5,hair_18_color_6,hair_18_color_7,hair_18_color_8,hair_18_color_9,hair_18_color_10,hair_19_color_1,hair_19_color_2,hair_19_color_3,hair_19_color_4,hair_19_color_5,hair_19_color_6,hair_19_color_7,hair_19_color_8,hair_19_color_9,hair_19_color_10,hair_20_color_1,hair_20_color_2,hair_20_color_3,hair_20_color_4,hair_20_color_5,hair_20_color_6,hair_20_color_7,hair_20_color_8,hair_20_color_9,hair_20_color_10".split(",");
I._hairBackOptions="hair_10_color_1_back,hair_10_color_2_back,hair_10_color_3_back,hair_10_color_4_back,hair_10_color_5_back,hair_10_color_6_back,hair_10_color_7_back,hair_10_color_8_back,hair_10_color_9_back,hair_10_color_10_back,hair_14_color_1_back,hair_14_color_2_back,hair_14_color_3_back,hair_14_color_4_back,hair_14_color_5_back,hair_14_color_6_back,hair_14_color_7_back,hair_14_color_8_back,hair_14_color_9_back,hair_14_color_10_back,hair_15_color_1_back,hair_15_color_2_back,hair_15_color_3_back,hair_15_color_4_back,hair_15_color_5_back,hair_15_color_6_back,hair_15_color_7_back,hair_15_color_8_back,hair_15_color_9_back,hair_15_color_10_back".split(",");
I._maskOptions="mask_1,mask_2,mask_3,mask_4,mask_5,mask_6,mask_7,mask_8".split(",");I._eyeColor2Options="eye_color_1,eye_color_2,eye_color_3,eye_color_4,eye_color_5,eye_color_6,eye_color_7,eye_color_8,eye_color_9,eye_color_10,eye_color_11,eye_color_12".split(",");n.eventLoadError=Qa._new();n._assets=new aa;n._packs=new aa;n._spritesheets=new aa;n._flump=new aa;n._customManifests=new aa;n._fontCache=new aa;n._requests=[];n._loadQueue=[];n._manifestsLoaded=0;n._manifestsMax=0;n._flagBaseIsCrossdomain=
!1;n._loadingProgress=0;n._loadingTotal=0;X._values=new aa;X._defaults=new aa;ga._pools=new aa;p.eventInput=tb._new();p.eventMouseWheel=Aa._new();p.eventKey=tb._new();p.leftStick=R.request();p.rightStick=R.request();p.pointer=new sd(-1);p.multiTouch=[];p.enabled=!1;p._inputTrackers=[];p._virtualDown=[];p._controllerDown=[];O._localizedData=new aa;O.region="";vb._seeds=new aa;j.eventVOStatus=Aa._new();j.subtitleQueue=[];j._sound=[];j._voQueue=[];j._tween=new tc;j._musicId="";j._stateVo=xa.STOPPED;
j.duckMusic=!0;j._musicGain=1;S._timers=[];S._uniqueInc=0;S._paused=!1;Db.NEWLINE=new Sb(10);wb._BUTTON_BLANK_PIXELS=40;wb._43_SIZE=960;wb._169_SIZE=1280;wb._43_HALF=480;wb._169_HALF=640;wb._169_RENDER_WIDTH=160;cb.radDeg=180/Math.PI;cb.degRad=Math.PI/180;W.VERSION="3.2.00";W.ATLAS_FILE_TYPE=".atlas";W.FPS=30;Fa.X1=0;Fa.Y1=1;Fa.X2=2;Fa.Y2=3;Fa.X3=4;Fa.Y3=5;Fa.X4=6;Fa.Y4=7;Fb.eventFlowDelegate=tb._new();ra.main()})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?
self:this);
