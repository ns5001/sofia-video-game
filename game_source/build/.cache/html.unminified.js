// Generated by Haxe 3.4.3
(function ($global) { "use strict";
var $hxClasses = {},$estr = function() { return js_Boot.__string_rec(this,''); };
function $extend(from, fields) {
	function Inherit() {} Inherit.prototype = from; var proto = new Inherit();
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
var EReg = function(r,opt) {
	this.r = new RegExp(r,opt.split("u").join(""));
};
$hxClasses["EReg"] = EReg;
EReg.__name__ = ["EReg"];
EReg.prototype = {
	match: function(s) {
		if(this.r.global) {
			this.r.lastIndex = 0;
		}
		this.r.m = this.r.exec(s);
		this.r.s = s;
		return this.r.m != null;
	}
	,matched: function(n) {
		if(this.r.m != null && n >= 0 && n < this.r.m.length) {
			return this.r.m[n];
		} else {
			throw new js__$Boot_HaxeError("EReg::matched");
		}
	}
	,matchedPos: function() {
		if(this.r.m == null) {
			throw new js__$Boot_HaxeError("No string matched");
		}
		return { pos : this.r.m.index, len : this.r.m[0].length};
	}
	,split: function(s) {
		var d = "#__delim__#";
		return s.replace(this.r,d).split(d);
	}
	,__class__: EReg
};
var HxOverrides = function() { };
$hxClasses["HxOverrides"] = HxOverrides;
HxOverrides.__name__ = ["HxOverrides"];
HxOverrides.strDate = function(s) {
	var _g = s.length;
	switch(_g) {
	case 8:
		var k = s.split(":");
		var d = new Date();
		d["setTime"](0);
		d["setUTCHours"](k[0]);
		d["setUTCMinutes"](k[1]);
		d["setUTCSeconds"](k[2]);
		return d;
	case 10:
		var k1 = s.split("-");
		return new Date(k1[0],k1[1] - 1,k1[2],0,0,0);
	case 19:
		var k2 = s.split(" ");
		var y = k2[0].split("-");
		var t = k2[1].split(":");
		return new Date(y[0],y[1] - 1,y[2],t[0],t[1],t[2]);
	default:
		throw new js__$Boot_HaxeError("Invalid date format : " + s);
	}
};
HxOverrides.cca = function(s,index) {
	var x = s.charCodeAt(index);
	if(x != x) {
		return undefined;
	}
	return x;
};
HxOverrides.substr = function(s,pos,len) {
	if(len == null) {
		len = s.length;
	} else if(len < 0) {
		if(pos == 0) {
			len = s.length + len;
		} else {
			return "";
		}
	}
	return s.substr(pos,len);
};
HxOverrides.remove = function(a,obj) {
	var i = a.indexOf(obj);
	if(i == -1) {
		return false;
	}
	a.splice(i,1);
	return true;
};
HxOverrides.iter = function(a) {
	return { cur : 0, arr : a, hasNext : function() {
		return this.cur < this.arr.length;
	}, next : function() {
		return this.arr[this.cur++];
	}};
};
var Lambda = function() { };
$hxClasses["Lambda"] = Lambda;
Lambda.__name__ = ["Lambda"];
Lambda.array = function(it) {
	var a = [];
	var i = $iterator(it)();
	while(i.hasNext()) {
		var i1 = i.next();
		a.push(i1);
	}
	return a;
};
Lambda.count = function(it,pred) {
	var n = 0;
	if(pred == null) {
		var _ = $iterator(it)();
		while(_.hasNext()) {
			var _1 = _.next();
			++n;
		}
	} else {
		var x = $iterator(it)();
		while(x.hasNext()) {
			var x1 = x.next();
			if(pred(x1)) {
				++n;
			}
		}
	}
	return n;
};
var List = function() {
	this.length = 0;
};
$hxClasses["List"] = List;
List.__name__ = ["List"];
List.prototype = {
	add: function(item) {
		var x = new _$List_ListNode(item,null);
		if(this.h == null) {
			this.h = x;
		} else {
			this.q.next = x;
		}
		this.q = x;
		this.length++;
	}
	,iterator: function() {
		return new _$List_ListIterator(this.h);
	}
	,__class__: List
};
var _$List_ListNode = function(item,next) {
	this.item = item;
	this.next = next;
};
$hxClasses["_List.ListNode"] = _$List_ListNode;
_$List_ListNode.__name__ = ["_List","ListNode"];
_$List_ListNode.prototype = {
	__class__: _$List_ListNode
};
var _$List_ListIterator = function(head) {
	this.head = head;
};
$hxClasses["_List.ListIterator"] = _$List_ListIterator;
_$List_ListIterator.__name__ = ["_List","ListIterator"];
_$List_ListIterator.prototype = {
	hasNext: function() {
		return this.head != null;
	}
	,next: function() {
		var val = this.head.item;
		this.head = this.head.next;
		return val;
	}
	,__class__: _$List_ListIterator
};
var workinman_event__$Event1_Event1_$Impl_$ = {};
$hxClasses["workinman.event._Event1.Event1_Impl_"] = workinman_event__$Event1_Event1_$Impl_$;
workinman_event__$Event1_Event1_$Impl_$.__name__ = ["workinman","event","_Event1","Event1_Impl_"];
workinman_event__$Event1_Event1_$Impl_$._new = function() {
	var this1 = new workinman_event__$Event1_Event1Base();
	return this1;
};
var workinman_event__$Event1_Event1Base = function() {
	this._list = [];
};
$hxClasses["workinman.event._Event1.Event1Base"] = workinman_event__$Event1_Event1Base;
workinman_event__$Event1_Event1Base.__name__ = ["workinman","event","_Event1","Event1Base"];
workinman_event__$Event1_Event1Base.prototype = {
	add: function(listener) {
		if(this._list.indexOf(listener) >= 0) {
			return;
		}
		this._list.push(listener);
		return;
	}
	,remove: function(listener) {
		var tI = this._list.length;
		while(tI-- > 0) if(this._list[tI] == listener) {
			HxOverrides.remove(this._list,listener);
			return;
		}
	}
	,dispatch: function(val) {
		var _g = 0;
		var _g1 = this._list;
		while(_g < _g1.length) {
			var l = _g1[_g];
			++_g;
			l(val);
		}
	}
	,__class__: workinman_event__$Event1_Event1Base
};
var Main = function() {
	var _gthis = this;
	this._root = new workinman_display_RootSprite($bind(this,this._onEventUpdate));
	flambe_System.root.add(this._root);
	flambe_System.uncaughtError.connect($bind(this,this.errorHandler));
	workinman_WMInput.prime(this._root);
	workinman_WMInput.setDelegateUnlockWebAudio($bind(this,this._handleWebAudioUnlock));
	app_ConstantsEvent.flow.add($bind(this,this._addFlowEvent));
	this._layerWorld = this._root.addChild(new workinman_display_Sprite(null));
	this._layerUI = this._root.addChild(new workinman_display_Sprite(null));
	this._layerSub = this._root.addChild(new workinman_display_Sprite(null));
	this._timeScale = 1;
	this._flagWebAudioUnlocked = false;
	this._flagGameplayPaused = true;
	this._flagJSEmbedPauseState = false;
	this._flagJSEmbedExists = false;
	app_Services.setPlaybackToggle(function(enabled) {
		if(!enabled) {
			_gthis._pauseGameplay();
		} else {
			_gthis._unpauseGameplay();
		}
	});
	app_SaveData.get_instance().load();
	this._calculateScaleFactor();
	this._flagJSEmbedExists = jsembed != null && jsembed.exists();
	this._ui = new workinman_ui_ScreenManager(this._layerUI,$bind(this,this._onInterfaceChange));
	this._changeActions = [];
	this._flowstack = [];
	this._addEventListeners();
	this._setDefaults();
	app_Services.initServices();
	this._parseConfigXML();
	this._registerInput();
	this._openSplash();
};
$hxClasses["Main"] = Main;
Main.__name__ = ["Main"];
Main.main = function() {
	flambe_System.init();
	if(jsembed != null && jsembed.exists()) {
		if(jsembed.isBaseCrossdomain()) {
			workinman_WMAssets.setCrossdomainBaseUrl(workinman_WMUtils.appendAssetsToUrl(jsembed.baseUrl()));
		} else {
			workinman_WMAssets.set_baseUrl(workinman_WMUtils.trimUrl(jsembed.baseUrl()));
		}
	} else {
		workinman_WMAssets.set_baseUrl("");
	}
	app_Services.initMain();
	workinman_WMAssets.load(Main._onBootstrapLoad,["bootstrap","attract_assets","attract_audio"]);
};
Main._onBootstrapLoad = function() {
	app_Services.onBootstrapFinished();
	Main._main = new Main();
};
Main.prototype = {
	_calculateScaleFactor: function() {
		if(js_Boot.__instanceof(flambe_System._platform.getStage(),flambe_platform_html_HtmlStage) == false) {
			return;
		}
		var devicePixelRatio = window.devicePixelRatio;
		if(devicePixelRatio == null) {
			devicePixelRatio = 1;
		}
		var canvas = window.document.createElement("canvas");
		var ctx = canvas.getContext("2d",null);
		var backingStorePixelRatio = flambe_platform_html_HtmlUtil.loadExtension("backingStorePixelRatio",ctx).value;
		if(backingStorePixelRatio == null) {
			backingStorePixelRatio = 1;
		}
		var tUserAgent = window.navigator.userAgent.toLowerCase();
		var scale = devicePixelRatio / backingStorePixelRatio;
		if(tUserAgent.indexOf("ipad") != -1) {
			scale = 1;
		}
		var tStage = flambe_System._platform.getStage();
		if(scale != tStage.scaleFactor) {
			tStage["scaleFactor"] = scale;
			flambe_platform_html_HtmlUtil.setVendorStyle(Reflect.field(tStage,"_canvas"),"transform-origin","top left");
			flambe_platform_html_HtmlUtil.setVendorStyle(Reflect.field(tStage,"_canvas"),"transform","scale(" + 1 / tStage.scaleFactor + ")");
			tStage.requestResize(tStage.get_width(),tStage.get_height());
		}
		canvas = null;
		ctx = null;
		tStage = null;
	}
	,errorHandler: function(e) {
	}
	,_parseConfigXML: function() {
		var tUnlockCode = "000000";
		var tAllowUnlock = false;
		var tHasAchievements = false;
		var tRegion = "en";
		var _g = 0;
		var _g1 = workinman_WMAssets.allConfig();
		while(_g < _g1.length) {
			var tFast = _g1[_g];
			++_g;
			if(tFast.hasNode.resolve("unlockCode")) {
				tUnlockCode = tFast.node.resolve("unlockCode").get_innerData();
			}
			if(tFast.hasNode.resolve("unlockEnabled")) {
				tAllowUnlock = tFast.node.resolve("unlockEnabled").get_innerData() == "true";
			}
			if(tFast.hasNode.resolve("achievements") && tFast.node.resolve("achievements").att.resolve("enabled").toString() == "true") {
				tHasAchievements = true;
			}
			if(tFast.hasNode.resolve("localization")) {
				tRegion = Std.string(tFast.node.resolve("localization").node.resolve("region").get_innerData());
			}
		}
		workinman_WMLocalize.region = tRegion;
	}
	,_eventInitialLoadComplete: function() {
		this._enableSplash();
		this._sub = new workinman_ui_SubtitleManager(this._layerSub);
	}
	,_openSplash: function() {
		var div = window.document.getElementById("loadingOverlay");
		if(div != null) {
			div.parentNode.removeChild(div);
		}
		this._ui.changeScreenTo(screen_ScreenAttract,false);
	}
	,_setDefaults: function() {
		workinman_WMCloud.setBool("BOOL_PAUSED",false);
		workinman_WMSound.set_muteAll(false);
	}
	,_registerInput: function() {
		workinman_WMInput.registerInput(app_INPUT_$TYPE.MOVE_LEFT,[flambe_input_Key.Left,flambe_input_Key.A]);
		workinman_WMInput.registerInput(app_INPUT_$TYPE.MOVE_RIGHT,[flambe_input_Key.Right,flambe_input_Key.D]);
		workinman_WMInput.registerInput(app_INPUT_$TYPE.MOVE_UP,[flambe_input_Key.Up,flambe_input_Key.W]);
		workinman_WMInput.registerInput(app_INPUT_$TYPE.MOVE_DOWN,[flambe_input_Key.Down,flambe_input_Key.S]);
		workinman_WMInput.registerInput(app_INPUT_$TYPE.ATTACK,[flambe_input_Key.Z],[app_INPUT_$VIRTUAL.ATTACK]);
		workinman_WMInput.registerInput(app_INPUT_$TYPE.JUMP,[flambe_input_Key.Space],[app_INPUT_$VIRTUAL.JUMP]);
		workinman_WMInput.registerInput(app_INPUT_$TYPE.UI_OK,[flambe_input_Key.Space,flambe_input_Key.Enter],null,[workinman_input_INPUT_$CONTROLLER.START,workinman_input_INPUT_$CONTROLLER.A]);
		workinman_WMInput.registerInput(app_INPUT_$TYPE.UI_DENY,[flambe_input_Key.Escape],null,[workinman_input_INPUT_$CONTROLLER.B]);
		workinman_WMInput.registerInput(app_INPUT_$TYPE.UI_MENU,[flambe_input_Key.Escape],null,[workinman_input_INPUT_$CONTROLLER.START]);
		workinman_WMInput.registerInput(app_INPUT_$TYPE.DEBUG_SAVE_PAINTING,[flambe_input_Key.Space]);
		workinman_WMInput.registerInput(app_INPUT_$TYPE.DEBUG_SHOW_PAINTING,[flambe_input_Key.Enter]);
		workinman_WMInput.registerInput(app_INPUT_$TYPE.UI_TAB,[flambe_input_Key.Tab]);
	}
	,_loadPacksAndGotoScreen: function(pScreen,pPacks) {
		var _gthis = this;
		app_ConstantsEvent.addLoader.dispatch();
		workinman_WMAssets.load(function() {
			_gthis._ui.changeScreenTo(pScreen,true);
			_gthis._disposeWorld();
		},pPacks,1.2);
	}
	,_onWorldGenerationComplete: function() {
		workinman_WMTimer.start($bind(this,this._onWorldGenerationCompleteDelay),.3);
	}
	,_onWorldGenerationCompleteDelay: function() {
		this._world.start();
		this._unpauseGameplay();
	}
	,_enableSplash: function() {
		this._playMenuMusic();
		this._enableInput();
	}
	,_onEventUpdate: function(dt) {
		dt = Math.round(dt * 1000) / 1000 * this._timeScale;
		if(dt > 0.066666666666666666) {
			dt = 0.066666666666666666;
		}
		if(this._flagJSEmbedExists && jsembed.isPaused() != this._flagJSEmbedPauseState) {
			this._flagJSEmbedPauseState = jsembed.isPaused();
			if(this._flagJSEmbedPauseState) {
				this._pauseGameplay(false);
			} else if(!this._flagGameplayPaused) {
				this._unpauseGameplay();
			}
		}
		Main.eventUpdate.dispatch(dt);
		app_Services.update(dt);
		this._updateCloud(dt);
		if(this._ui != null) {
			this._ui.update(dt);
		}
		if(this._sub != null) {
			this._sub.update(dt);
		}
		if(this._world != null) {
			this._world.update(dt);
		}
		this._runFlowStack();
	}
	,_updateCloud: function(dt) {
		workinman_WMTimer.update(dt);
		workinman_WMSound.update(dt);
		workinman_WMInput.update(dt);
		workinman_WMAssets.update(dt);
	}
	,_addFlowEvent: function(pId) {
		this._flowstack.push(pId);
	}
	,_runFlowStack: function() {
		while(this._flowstack.length > 0) {
			this._executeFlowStack(this._flowstack[0]);
			this._flowstack.shift();
		}
	}
	,_executeFlowStack: function(pId) {
		switch(pId) {
		case "ATTRACT_PLAY":
			this._handleWebAudioUnlock();
			app_Services.onSplashPlay();
			this._loadPacksAndGotoScreen(screen_ScreenAttract,["attract_audio","attract_assets"]);
			break;
		case "AVATAR_BUILDER":
			this._loadPacksAndGotoScreen(screen_ScreenAvatarBuilder,["avatar_builder_audio","avatar_builder_assets"]);
			break;
		case "CUTSCENE_DOCTOR_END":
			this._loadPacksAndGotoScreen(screen_ScreenCutsceneDoctorEnd,["cutscene_doctor_end_audio","cutscene_doctor_end_assets"]);
			break;
		case "CUTSCENE_DOCTOR_START":
			this._loadPacksAndGotoScreen(screen_ScreenCutsceneDoctorStart,["cutscene_doctor_start_audio","cutscene_doctor_start_assets"]);
			break;
		case "CUTSCENE_MID":
			this._loadPacksAndGotoScreen(screen_ScreenCutsceneMid,["cutscene_mid_audio","cutscene_mid_assets"]);
			break;
		case "CUTSCENE_OPENING":
			this._loadPacksAndGotoScreen(screen_ScreenCutsceneOpening,["cutscene_opening_audio","cutscene_opening_assets"]);
			break;
		case "CUTSCENE_SURVEY":
			this._loadPacksAndGotoScreen(screen_ScreenCutsceneSurvey,["cutscene_opening_audio","cutscene_opening_assets"]);
			break;
		case "DEBUG_CLOSE":
			this._ui.closeScreen(screen_ScreenDebug,true);
			break;
		case "ENDSCREEN":
			this._loadPacksAndGotoScreen(screen_ScreenEndPromotion,["endscreen_assets","endscreen_audio"]);
			break;
		case "EXPERIMENT":
			this._loadPacksAndGotoScreen(screen_ScreenExperiment,["experiment_audio","experiment_assets"]);
			break;
		case "IMAGE_HUNT":
			this._loadPacksAndGotoScreen(screen_ScreenImageHunt,["image_hunt_audio","image_hunt_assets"]);
			break;
		case "QUIZ1":
			this._loadPacksAndGotoScreen(screen_ScreenQuiz1,["quiz_audio","quiz_assets"]);
			break;
		case "QUIZ2":
			this._loadPacksAndGotoScreen(screen_ScreenQuiz2,["quiz_audio","quiz_assets"]);
			break;
		case "QUIZ3":
			this._loadPacksAndGotoScreen(screen_ScreenQuiz3,["quiz_audio","quiz_assets"]);
			break;
		}
	}
	,_pauseGameplay: function(flagChange) {
		if(flagChange == null) {
			flagChange = true;
		}
		if(flagChange) {
			this._flagGameplayPaused = true;
		}
		app_Services.onPauseEvent();
		app_ConstantsEvent.pause.dispatch(true);
	}
	,_unpauseGameplay: function(flagChange) {
		if(flagChange == null) {
			flagChange = true;
		}
		if(flagChange) {
			this._flagGameplayPaused = false;
		}
		app_Services.onResumeEvent();
		app_ConstantsEvent.pause.dispatch(false);
	}
	,_executeInterfaceChange: function(pEventId,pScreenId) {
		var tI = this._changeActions.length;
		var tCA;
		while(tI-- > 0) {
			tCA = this._changeActions[tI];
			if(tCA.screenId == pScreenId && tCA.changeEvent == pEventId) {
				this._changeActions.splice(tI,1);
				tCA.action();
			}
		}
		tCA = null;
	}
	,_addEventListeners: function() {
		app_ConstantsEvent.worldGenerationComplete.add($bind(this,this._onWorldGenerationComplete));
		app_ConstantsEvent.initialLoadComplete.add($bind(this,this._eventInitialLoadComplete));
	}
	,_enableInput: function() {
		workinman_WMInput.enabled = true;
	}
	,_handleWebAudioUnlock: function() {
		if(this._flagWebAudioUnlocked) {
			return;
		}
		this._flagWebAudioUnlocked = true;
	}
	,_onInterfaceChange: function(pFlowId,pScreenId) {
		this._executeInterfaceChange(pFlowId,pScreenId);
	}
	,_disposeWorld: function() {
		if(this._world == null) {
			return;
		}
		this._world.dispose();
		this._world = null;
	}
	,_playMenuMusic: function() {
		workinman_WMSound.playMusic("",0.10);
	}
	,__class__: Main
};
Math.__name__ = ["Math"];
var Reflect = function() { };
$hxClasses["Reflect"] = Reflect;
Reflect.__name__ = ["Reflect"];
Reflect.field = function(o,field) {
	try {
		return o[field];
	} catch( e ) {
		return null;
	}
};
Reflect.getProperty = function(o,field) {
	var tmp;
	if(o == null) {
		return null;
	} else {
		var tmp1;
		if(o.__properties__) {
			tmp = o.__properties__["get_" + field];
			tmp1 = tmp;
		} else {
			tmp1 = false;
		}
		if(tmp1) {
			return o[tmp]();
		} else {
			return o[field];
		}
	}
};
Reflect.setProperty = function(o,field,value) {
	var tmp;
	var tmp1;
	if(o.__properties__) {
		tmp = o.__properties__["set_" + field];
		tmp1 = tmp;
	} else {
		tmp1 = false;
	}
	if(tmp1) {
		o[tmp](value);
	} else {
		o[field] = value;
	}
};
Reflect.fields = function(o) {
	var a = [];
	if(o != null) {
		var hasOwnProperty = Object.prototype.hasOwnProperty;
		for( var f in o ) {
		if(f != "__id__" && f != "hx__closures__" && hasOwnProperty.call(o,f)) {
			a.push(f);
		}
		}
	}
	return a;
};
Reflect.isFunction = function(f) {
	if(typeof(f) == "function") {
		return !(f.__name__ || f.__ename__);
	} else {
		return false;
	}
};
Reflect.compare = function(a,b) {
	if(a == b) {
		return 0;
	} else if(a > b) {
		return 1;
	} else {
		return -1;
	}
};
Reflect.isEnumValue = function(v) {
	if(v != null) {
		return v.__enum__ != null;
	} else {
		return false;
	}
};
var Std = function() { };
$hxClasses["Std"] = Std;
Std.__name__ = ["Std"];
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
Std.parseInt = function(x) {
	var v = parseInt(x,10);
	if(v == 0 && (HxOverrides.cca(x,1) == 120 || HxOverrides.cca(x,1) == 88)) {
		v = parseInt(x);
	}
	if(isNaN(v)) {
		return null;
	}
	return v;
};
var StringBuf = function() {
	this.b = "";
};
$hxClasses["StringBuf"] = StringBuf;
StringBuf.__name__ = ["StringBuf"];
StringBuf.prototype = {
	__class__: StringBuf
};
var StringTools = function() { };
$hxClasses["StringTools"] = StringTools;
StringTools.__name__ = ["StringTools"];
StringTools.startsWith = function(s,start) {
	if(s.length >= start.length) {
		return HxOverrides.substr(s,0,start.length) == start;
	} else {
		return false;
	}
};
StringTools.isSpace = function(s,pos) {
	var c = HxOverrides.cca(s,pos);
	if(!(c > 8 && c < 14)) {
		return c == 32;
	} else {
		return true;
	}
};
StringTools.ltrim = function(s) {
	var l = s.length;
	var r = 0;
	while(r < l && StringTools.isSpace(s,r)) ++r;
	if(r > 0) {
		return HxOverrides.substr(s,r,l - r);
	} else {
		return s;
	}
};
StringTools.rtrim = function(s) {
	var l = s.length;
	var r = 0;
	while(r < l && StringTools.isSpace(s,l - r - 1)) ++r;
	if(r > 0) {
		return HxOverrides.substr(s,0,l - r);
	} else {
		return s;
	}
};
StringTools.trim = function(s) {
	return StringTools.ltrim(StringTools.rtrim(s));
};
StringTools.replace = function(s,sub,by) {
	return s.split(sub).join(by);
};
var Type = function() { };
$hxClasses["Type"] = Type;
Type.__name__ = ["Type"];
Type.getClassName = function(c) {
	var a = c.__name__;
	if(a == null) {
		return null;
	}
	return a.join(".");
};
Type.resolveClass = function(name) {
	var cl = $hxClasses[name];
	if(cl == null || !cl.__name__) {
		return null;
	}
	return cl;
};
Type.resolveEnum = function(name) {
	var e = $hxClasses[name];
	if(e == null || !e.__ename__) {
		return null;
	}
	return e;
};
Type.createInstance = function(cl,args) {
	var _g = args.length;
	switch(_g) {
	case 0:
		return new cl();
	case 1:
		return new cl(args[0]);
	case 2:
		return new cl(args[0],args[1]);
	case 3:
		return new cl(args[0],args[1],args[2]);
	case 4:
		return new cl(args[0],args[1],args[2],args[3]);
	case 5:
		return new cl(args[0],args[1],args[2],args[3],args[4]);
	case 6:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5]);
	case 7:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);
	case 8:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);
	case 9:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);
	case 10:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9]);
	case 11:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10]);
	case 12:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11]);
	case 13:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12]);
	case 14:
		return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8],args[9],args[10],args[11],args[12],args[13]);
	default:
		throw new js__$Boot_HaxeError("Too many arguments");
	}
};
Type.createEmptyInstance = function(cl) {
	function empty() {}; empty.prototype = cl.prototype;
	return new empty();
};
Type.createEnum = function(e,constr,params) {
	var f = Reflect.field(e,constr);
	if(f == null) {
		throw new js__$Boot_HaxeError("No such constructor " + constr);
	}
	if(Reflect.isFunction(f)) {
		if(params == null) {
			throw new js__$Boot_HaxeError("Constructor " + constr + " need parameters");
		}
		return f.apply(e,params);
	}
	if(params != null && params.length != 0) {
		throw new js__$Boot_HaxeError("Constructor " + constr + " does not need parameters");
	}
	return f;
};
var Xml = function(nodeType) {
	this.nodeType = nodeType;
	this.children = [];
	this.attributeMap = new haxe_ds_StringMap();
};
$hxClasses["Xml"] = Xml;
Xml.__name__ = ["Xml"];
Xml.parse = function(str) {
	return haxe_xml_Parser.parse(str);
};
Xml.createElement = function(name) {
	var xml = new Xml(Xml.Element);
	if(xml.nodeType != Xml.Element) {
		throw new js__$Boot_HaxeError("Bad node type, expected Element but found " + xml.nodeType);
	}
	xml.nodeName = name;
	return xml;
};
Xml.createPCData = function(data) {
	var xml = new Xml(Xml.PCData);
	if(xml.nodeType == Xml.Document || xml.nodeType == Xml.Element) {
		throw new js__$Boot_HaxeError("Bad node type, unexpected " + xml.nodeType);
	}
	xml.nodeValue = data;
	return xml;
};
Xml.createCData = function(data) {
	var xml = new Xml(Xml.CData);
	if(xml.nodeType == Xml.Document || xml.nodeType == Xml.Element) {
		throw new js__$Boot_HaxeError("Bad node type, unexpected " + xml.nodeType);
	}
	xml.nodeValue = data;
	return xml;
};
Xml.createComment = function(data) {
	var xml = new Xml(Xml.Comment);
	if(xml.nodeType == Xml.Document || xml.nodeType == Xml.Element) {
		throw new js__$Boot_HaxeError("Bad node type, unexpected " + xml.nodeType);
	}
	xml.nodeValue = data;
	return xml;
};
Xml.createDocType = function(data) {
	var xml = new Xml(Xml.DocType);
	if(xml.nodeType == Xml.Document || xml.nodeType == Xml.Element) {
		throw new js__$Boot_HaxeError("Bad node type, unexpected " + xml.nodeType);
	}
	xml.nodeValue = data;
	return xml;
};
Xml.createProcessingInstruction = function(data) {
	var xml = new Xml(Xml.ProcessingInstruction);
	if(xml.nodeType == Xml.Document || xml.nodeType == Xml.Element) {
		throw new js__$Boot_HaxeError("Bad node type, unexpected " + xml.nodeType);
	}
	xml.nodeValue = data;
	return xml;
};
Xml.createDocument = function() {
	return new Xml(Xml.Document);
};
Xml.prototype = {
	get: function(att) {
		if(this.nodeType != Xml.Element) {
			throw new js__$Boot_HaxeError("Bad node type, expected Element but found " + this.nodeType);
		}
		var _this = this.attributeMap;
		if(__map_reserved[att] != null) {
			return _this.getReserved(att);
		} else {
			return _this.h[att];
		}
	}
	,set: function(att,value) {
		if(this.nodeType != Xml.Element) {
			throw new js__$Boot_HaxeError("Bad node type, expected Element but found " + this.nodeType);
		}
		var _this = this.attributeMap;
		if(__map_reserved[att] != null) {
			_this.setReserved(att,value);
		} else {
			_this.h[att] = value;
		}
	}
	,exists: function(att) {
		if(this.nodeType != Xml.Element) {
			throw new js__$Boot_HaxeError("Bad node type, expected Element but found " + this.nodeType);
		}
		var _this = this.attributeMap;
		if(__map_reserved[att] != null) {
			return _this.existsReserved(att);
		} else {
			return _this.h.hasOwnProperty(att);
		}
	}
	,elementsNamed: function(name) {
		if(this.nodeType != Xml.Document && this.nodeType != Xml.Element) {
			throw new js__$Boot_HaxeError("Bad node type, expected Element or Document but found " + this.nodeType);
		}
		var _g = [];
		var _g1 = 0;
		var _g2 = this.children;
		while(_g1 < _g2.length) {
			var child = _g2[_g1];
			++_g1;
			var tmp;
			if(child.nodeType == Xml.Element) {
				if(child.nodeType != Xml.Element) {
					throw new js__$Boot_HaxeError("Bad node type, expected Element but found " + child.nodeType);
				}
				tmp = child.nodeName == name;
			} else {
				tmp = false;
			}
			if(tmp) {
				_g.push(child);
			}
		}
		var ret = _g;
		return HxOverrides.iter(ret);
	}
	,firstElement: function() {
		if(this.nodeType != Xml.Document && this.nodeType != Xml.Element) {
			throw new js__$Boot_HaxeError("Bad node type, expected Element or Document but found " + this.nodeType);
		}
		var _g = 0;
		var _g1 = this.children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			if(child.nodeType == Xml.Element) {
				return child;
			}
		}
		return null;
	}
	,addChild: function(x) {
		if(this.nodeType != Xml.Document && this.nodeType != Xml.Element) {
			throw new js__$Boot_HaxeError("Bad node type, expected Element or Document but found " + this.nodeType);
		}
		if(x.parent != null) {
			x.parent.removeChild(x);
		}
		this.children.push(x);
		x.parent = this;
	}
	,removeChild: function(x) {
		if(this.nodeType != Xml.Document && this.nodeType != Xml.Element) {
			throw new js__$Boot_HaxeError("Bad node type, expected Element or Document but found " + this.nodeType);
		}
		if(HxOverrides.remove(this.children,x)) {
			x.parent = null;
			return true;
		}
		return false;
	}
	,__class__: Xml
};
var app_ALLERGEN_$TYPE = $hxClasses["app.ALLERGEN_TYPE"] = { __ename__ : true, __constructs__ : ["NONE","BIRD","BROCCOLI","CAR","CIGARETTE","COLD","DUCK","EXERCISE","FIRE","PERFUME","POLLUTION","POND","SPORTS","UFO"] };
app_ALLERGEN_$TYPE.NONE = ["NONE",0];
app_ALLERGEN_$TYPE.NONE.toString = $estr;
app_ALLERGEN_$TYPE.NONE.__enum__ = app_ALLERGEN_$TYPE;
app_ALLERGEN_$TYPE.BIRD = ["BIRD",1];
app_ALLERGEN_$TYPE.BIRD.toString = $estr;
app_ALLERGEN_$TYPE.BIRD.__enum__ = app_ALLERGEN_$TYPE;
app_ALLERGEN_$TYPE.BROCCOLI = ["BROCCOLI",2];
app_ALLERGEN_$TYPE.BROCCOLI.toString = $estr;
app_ALLERGEN_$TYPE.BROCCOLI.__enum__ = app_ALLERGEN_$TYPE;
app_ALLERGEN_$TYPE.CAR = ["CAR",3];
app_ALLERGEN_$TYPE.CAR.toString = $estr;
app_ALLERGEN_$TYPE.CAR.__enum__ = app_ALLERGEN_$TYPE;
app_ALLERGEN_$TYPE.CIGARETTE = ["CIGARETTE",4];
app_ALLERGEN_$TYPE.CIGARETTE.toString = $estr;
app_ALLERGEN_$TYPE.CIGARETTE.__enum__ = app_ALLERGEN_$TYPE;
app_ALLERGEN_$TYPE.COLD = ["COLD",5];
app_ALLERGEN_$TYPE.COLD.toString = $estr;
app_ALLERGEN_$TYPE.COLD.__enum__ = app_ALLERGEN_$TYPE;
app_ALLERGEN_$TYPE.DUCK = ["DUCK",6];
app_ALLERGEN_$TYPE.DUCK.toString = $estr;
app_ALLERGEN_$TYPE.DUCK.__enum__ = app_ALLERGEN_$TYPE;
app_ALLERGEN_$TYPE.EXERCISE = ["EXERCISE",7];
app_ALLERGEN_$TYPE.EXERCISE.toString = $estr;
app_ALLERGEN_$TYPE.EXERCISE.__enum__ = app_ALLERGEN_$TYPE;
app_ALLERGEN_$TYPE.FIRE = ["FIRE",8];
app_ALLERGEN_$TYPE.FIRE.toString = $estr;
app_ALLERGEN_$TYPE.FIRE.__enum__ = app_ALLERGEN_$TYPE;
app_ALLERGEN_$TYPE.PERFUME = ["PERFUME",9];
app_ALLERGEN_$TYPE.PERFUME.toString = $estr;
app_ALLERGEN_$TYPE.PERFUME.__enum__ = app_ALLERGEN_$TYPE;
app_ALLERGEN_$TYPE.POLLUTION = ["POLLUTION",10];
app_ALLERGEN_$TYPE.POLLUTION.toString = $estr;
app_ALLERGEN_$TYPE.POLLUTION.__enum__ = app_ALLERGEN_$TYPE;
app_ALLERGEN_$TYPE.POND = ["POND",11];
app_ALLERGEN_$TYPE.POND.toString = $estr;
app_ALLERGEN_$TYPE.POND.__enum__ = app_ALLERGEN_$TYPE;
app_ALLERGEN_$TYPE.SPORTS = ["SPORTS",12];
app_ALLERGEN_$TYPE.SPORTS.toString = $estr;
app_ALLERGEN_$TYPE.SPORTS.__enum__ = app_ALLERGEN_$TYPE;
app_ALLERGEN_$TYPE.UFO = ["UFO",13];
app_ALLERGEN_$TYPE.UFO.toString = $estr;
app_ALLERGEN_$TYPE.UFO.__enum__ = app_ALLERGEN_$TYPE;
var app_ConstantsApp = function() { };
$hxClasses["app.ConstantsApp"] = app_ConstantsApp;
app_ConstantsApp.__name__ = ["app","ConstantsApp"];
var workinman_event__$Event0_Event0_$Impl_$ = {};
$hxClasses["workinman.event._Event0.Event0_Impl_"] = workinman_event__$Event0_Event0_$Impl_$;
workinman_event__$Event0_Event0_$Impl_$.__name__ = ["workinman","event","_Event0","Event0_Impl_"];
workinman_event__$Event0_Event0_$Impl_$._new = function() {
	var this1 = new workinman_event__$Event0_Event0Base();
	return this1;
};
var workinman_event__$Event0_Event0Base = function() {
	this._list = [];
};
$hxClasses["workinman.event._Event0.Event0Base"] = workinman_event__$Event0_Event0Base;
workinman_event__$Event0_Event0Base.__name__ = ["workinman","event","_Event0","Event0Base"];
workinman_event__$Event0_Event0Base.prototype = {
	add: function(listener) {
		if(this._list.indexOf(listener) >= 0) {
			return;
		}
		this._list.push(listener);
		return;
	}
	,remove: function(listener) {
		var tI = this._list.length;
		while(tI-- > 0) if(this._list[tI] == listener) {
			HxOverrides.remove(this._list,listener);
			return;
		}
	}
	,dispatch: function() {
		var _g = 0;
		var _g1 = this._list;
		while(_g < _g1.length) {
			var l = _g1[_g];
			++_g;
			l();
		}
	}
	,dispose: function() {
		while(this._list.length > 0) this._list.pop();
		this._list = null;
	}
	,__class__: workinman_event__$Event0_Event0Base
};
var workinman_event__$Event2_Event2_$Impl_$ = {};
$hxClasses["workinman.event._Event2.Event2_Impl_"] = workinman_event__$Event2_Event2_$Impl_$;
workinman_event__$Event2_Event2_$Impl_$.__name__ = ["workinman","event","_Event2","Event2_Impl_"];
workinman_event__$Event2_Event2_$Impl_$._new = function() {
	var this1 = new workinman_event__$Event2_Event2Base();
	return this1;
};
var workinman_event__$Event2_Event2Base = function() {
	this._list = [];
};
$hxClasses["workinman.event._Event2.Event2Base"] = workinman_event__$Event2_Event2Base;
workinman_event__$Event2_Event2Base.__name__ = ["workinman","event","_Event2","Event2Base"];
workinman_event__$Event2_Event2Base.prototype = {
	add: function(listener) {
		if(this._list.indexOf(listener) >= 0) {
			return;
		}
		this._list.push(listener);
		return;
	}
	,remove: function(listener) {
		var tI = this._list.length;
		while(tI-- > 0) if(this._list[tI] == listener) {
			HxOverrides.remove(this._list,listener);
			return;
		}
	}
	,dispatch: function(val0,val1) {
		var _g = 0;
		var _g1 = this._list;
		while(_g < _g1.length) {
			var l = _g1[_g];
			++_g;
			l(val0,val1);
		}
	}
	,__class__: workinman_event__$Event2_Event2Base
};
var app_ConstantsEvent = function() { };
$hxClasses["app.ConstantsEvent"] = app_ConstantsEvent;
app_ConstantsEvent.__name__ = ["app","ConstantsEvent"];
var app_GoogleAnalytics = function() { };
$hxClasses["app.GoogleAnalytics"] = app_GoogleAnalytics;
app_GoogleAnalytics.__name__ = ["app","GoogleAnalytics"];
app_GoogleAnalytics.LogEvent = function(pName,pParams) {
	if(pParams != null) {
		gtag("event",pName,pParams);
	} else {
		gtag("event",pName);
	}
};
var app_INPUT_$TYPE = $hxClasses["app.INPUT_TYPE"] = { __ename__ : true, __constructs__ : ["POINTER","POINTER_MOVE","UI_OK","UI_DENY","UI_MENU","MOVE_UP","MOVE_DOWN","MOVE_LEFT","MOVE_RIGHT","JUMP","ATTACK","DEBUG_SHOW_PAINTING","DEBUG_SAVE_PAINTING","UI_TAB"] };
app_INPUT_$TYPE.POINTER = ["POINTER",0];
app_INPUT_$TYPE.POINTER.toString = $estr;
app_INPUT_$TYPE.POINTER.__enum__ = app_INPUT_$TYPE;
app_INPUT_$TYPE.POINTER_MOVE = ["POINTER_MOVE",1];
app_INPUT_$TYPE.POINTER_MOVE.toString = $estr;
app_INPUT_$TYPE.POINTER_MOVE.__enum__ = app_INPUT_$TYPE;
app_INPUT_$TYPE.UI_OK = ["UI_OK",2];
app_INPUT_$TYPE.UI_OK.toString = $estr;
app_INPUT_$TYPE.UI_OK.__enum__ = app_INPUT_$TYPE;
app_INPUT_$TYPE.UI_DENY = ["UI_DENY",3];
app_INPUT_$TYPE.UI_DENY.toString = $estr;
app_INPUT_$TYPE.UI_DENY.__enum__ = app_INPUT_$TYPE;
app_INPUT_$TYPE.UI_MENU = ["UI_MENU",4];
app_INPUT_$TYPE.UI_MENU.toString = $estr;
app_INPUT_$TYPE.UI_MENU.__enum__ = app_INPUT_$TYPE;
app_INPUT_$TYPE.MOVE_UP = ["MOVE_UP",5];
app_INPUT_$TYPE.MOVE_UP.toString = $estr;
app_INPUT_$TYPE.MOVE_UP.__enum__ = app_INPUT_$TYPE;
app_INPUT_$TYPE.MOVE_DOWN = ["MOVE_DOWN",6];
app_INPUT_$TYPE.MOVE_DOWN.toString = $estr;
app_INPUT_$TYPE.MOVE_DOWN.__enum__ = app_INPUT_$TYPE;
app_INPUT_$TYPE.MOVE_LEFT = ["MOVE_LEFT",7];
app_INPUT_$TYPE.MOVE_LEFT.toString = $estr;
app_INPUT_$TYPE.MOVE_LEFT.__enum__ = app_INPUT_$TYPE;
app_INPUT_$TYPE.MOVE_RIGHT = ["MOVE_RIGHT",8];
app_INPUT_$TYPE.MOVE_RIGHT.toString = $estr;
app_INPUT_$TYPE.MOVE_RIGHT.__enum__ = app_INPUT_$TYPE;
app_INPUT_$TYPE.JUMP = ["JUMP",9];
app_INPUT_$TYPE.JUMP.toString = $estr;
app_INPUT_$TYPE.JUMP.__enum__ = app_INPUT_$TYPE;
app_INPUT_$TYPE.ATTACK = ["ATTACK",10];
app_INPUT_$TYPE.ATTACK.toString = $estr;
app_INPUT_$TYPE.ATTACK.__enum__ = app_INPUT_$TYPE;
app_INPUT_$TYPE.DEBUG_SHOW_PAINTING = ["DEBUG_SHOW_PAINTING",11];
app_INPUT_$TYPE.DEBUG_SHOW_PAINTING.toString = $estr;
app_INPUT_$TYPE.DEBUG_SHOW_PAINTING.__enum__ = app_INPUT_$TYPE;
app_INPUT_$TYPE.DEBUG_SAVE_PAINTING = ["DEBUG_SAVE_PAINTING",12];
app_INPUT_$TYPE.DEBUG_SAVE_PAINTING.toString = $estr;
app_INPUT_$TYPE.DEBUG_SAVE_PAINTING.__enum__ = app_INPUT_$TYPE;
app_INPUT_$TYPE.UI_TAB = ["UI_TAB",13];
app_INPUT_$TYPE.UI_TAB.toString = $estr;
app_INPUT_$TYPE.UI_TAB.__enum__ = app_INPUT_$TYPE;
var app_INPUT_$VIRTUAL = $hxClasses["app.INPUT_VIRTUAL"] = { __ename__ : true, __constructs__ : ["JUMP","ATTACK"] };
app_INPUT_$VIRTUAL.JUMP = ["JUMP",0];
app_INPUT_$VIRTUAL.JUMP.toString = $estr;
app_INPUT_$VIRTUAL.JUMP.__enum__ = app_INPUT_$VIRTUAL;
app_INPUT_$VIRTUAL.ATTACK = ["ATTACK",1];
app_INPUT_$VIRTUAL.ATTACK.toString = $estr;
app_INPUT_$VIRTUAL.ATTACK.__enum__ = app_INPUT_$VIRTUAL;
var app_PARTICLE_$TYPE = $hxClasses["app.PARTICLE_TYPE"] = { __ename__ : true, __constructs__ : ["NONE"] };
app_PARTICLE_$TYPE.NONE = ["NONE",0];
app_PARTICLE_$TYPE.NONE.toString = $estr;
app_PARTICLE_$TYPE.NONE.__enum__ = app_PARTICLE_$TYPE;
var app_PlayerData = function() { };
$hxClasses["app.PlayerData"] = app_PlayerData;
app_PlayerData.__name__ = ["app","PlayerData"];
app_PlayerData.__properties__ = {get_selectedAllergens:"get_selectedAllergens",set_avatarSettings:"set_avatarSettings",get_avatarSettings:"get_avatarSettings",set_flagIsFirstPlay:"set_flagIsFirstPlay"};
app_PlayerData.set_flagIsFirstPlay = function(pValue) {
	js_Cookie.set("isFirstPlay",pValue ? "true" : "false",604800);
	return app_PlayerData._flagIsFirstPlay = pValue;
};
app_PlayerData.get_avatarSettings = function() {
	return app_PlayerData._avatarSettings;
};
app_PlayerData.set_avatarSettings = function(pValue) {
	return app_PlayerData._avatarSettings = pValue;
};
app_PlayerData.get_selectedAllergens = function() {
	return app_PlayerData._selectedAllergens;
};
app_PlayerData.loadCookies = function() {
	app_PlayerData.set_flagIsFirstPlay(js_Cookie.get("isFirstPlay") == "true" || js_Cookie.get("isFirstPlay") == null);
};
app_PlayerData.reset = function() {
	app_PlayerData._selectedAllergens = [null,null,null,null,null];
};
app_PlayerData.addAllergen = function(pIndex,pAllergen) {
	app_PlayerData._selectedAllergens[pIndex] = pAllergen;
};
var app_SaveData = function() {
	this._saveData = [];
	var _g1 = 0;
	var _g = 15;
	while(_g1 < _g) {
		var d = _g1++;
		this._saveData.push(new app_PaintSaveData());
	}
};
$hxClasses["app.SaveData"] = app_SaveData;
app_SaveData.__name__ = ["app","SaveData"];
app_SaveData.__properties__ = {get_instance:"get_instance"};
app_SaveData.get_instance = function() {
	if(app_SaveData.__instance == null) {
		app_SaveData.__instance = new app_SaveData();
	}
	return app_SaveData.__instance;
};
app_SaveData.prototype = {
	load: function() {
		var data = workinman_WMSaving.dataLoad("savedPaintData");
		var _g1 = 0;
		var _g = 15;
		while(_g1 < _g) {
			var i = _g1++;
			if(data["paintData_" + (i == null ? "null" : "" + i)] != null) {
				this._saveData[i] = this._buildSaveFromData(i,data);
			}
		}
	}
	,_buildSaveFromData: function(i,data) {
		var save;
		save = new app_PaintSaveData();
		save.importSaveData(i,data);
		return save;
	}
	,__class__: app_SaveData
};
var app_PaintSaveData = function(pPaintData) {
	this.paintData = pPaintData;
};
$hxClasses["app.PaintSaveData"] = app_PaintSaveData;
app_PaintSaveData.__name__ = ["app","PaintSaveData"];
app_PaintSaveData.prototype = {
	importSaveData: function(i,data) {
		var savedPaintDataString = "none";
		savedPaintDataString = data["paintData_" + (i == null ? "null" : "" + i)];
		if(savedPaintDataString != null) {
			this.paintData = this._decodeHex(savedPaintDataString);
		}
	}
	,_decodeHex: function(str) {
		var base = haxe_io_Bytes.ofString("0123456789abcdef");
		return new haxe_crypto_BaseCode(base).decodeBytes(haxe_io_Bytes.ofString(str.toLowerCase()));
	}
	,__class__: app_PaintSaveData
};
var app_Services = function() { };
$hxClasses["app.Services"] = app_Services;
app_Services.__name__ = ["app","Services"];
app_Services.initMain = function() {
};
app_Services.initServices = function() {
};
app_Services.setPlaybackToggle = function(pFunction) {
};
app_Services.onBootstrapFinished = function() {
};
app_Services.onPreloadFinished = function() {
};
app_Services.onInitialFinished = function() {
};
app_Services.onTitleStart = function() {
};
app_Services.onSplashPlay = function() {
};
app_Services.onPauseEvent = function() {
};
app_Services.onResumeEvent = function() {
};
app_Services.update = function(dt) {
};
var flambe_util_Disposable = function() { };
$hxClasses["flambe.util.Disposable"] = flambe_util_Disposable;
flambe_util_Disposable.__name__ = ["flambe","util","Disposable"];
flambe_util_Disposable.prototype = {
	__class__: flambe_util_Disposable
};
var flambe_Component = function() {
	this._flags = 0;
	this.next = null;
	this.owner = null;
};
$hxClasses["flambe.Component"] = flambe_Component;
flambe_Component.__name__ = ["flambe","Component"];
flambe_Component.__interfaces__ = [flambe_util_Disposable];
flambe_Component.prototype = {
	onAdded: function() {
	}
	,onRemoved: function() {
	}
	,onStart: function() {
	}
	,onStop: function() {
	}
	,onUpdate: function(dt) {
	}
	,dispose: function() {
		if(this.owner != null) {
			this.owner.remove(this);
		}
	}
	,get_name: function() {
		return null;
	}
	,__class__: flambe_Component
	,__properties__: {get_name:"get_name"}
};
var flambe_Entity = function() {
	this.firstComponent = null;
	this.next = null;
	this.firstChild = null;
	this.parent = null;
	this._compMap = { };
};
$hxClasses["flambe.Entity"] = flambe_Entity;
flambe_Entity.__name__ = ["flambe","Entity"];
flambe_Entity.__interfaces__ = [flambe_util_Disposable];
flambe_Entity.prototype = {
	add: function(component) {
		if(component.owner != null) {
			component.owner.remove(component);
		}
		var name = component.get_name();
		var prev = this._compMap[name];
		if(prev != null) {
			this.remove(prev);
		}
		this._compMap[name] = component;
		var tail = null;
		var p = this.firstComponent;
		while(p != null) {
			tail = p;
			p = p.next;
		}
		if(tail != null) {
			tail.next = component;
		} else {
			this.firstComponent = component;
		}
		component.owner = this;
		component.next = null;
		component.onAdded();
		return this;
	}
	,remove: function(component) {
		var prev = null;
		var p = this.firstComponent;
		while(p != null) {
			var next = p.next;
			if(p == component) {
				if(prev == null) {
					this.firstComponent = next;
				} else {
					prev.owner = this;
					prev.next = next;
				}
				delete(this._compMap[p.get_name()]);
				if((p._flags & 1) != 0) {
					p.onStop();
					p._flags &= -2;
				}
				p.onRemoved();
				p.owner = null;
				p.next = null;
				return true;
			}
			prev = p;
			p = next;
		}
		return false;
	}
	,addChild: function(entity,append) {
		if(append == null) {
			append = true;
		}
		if(entity.parent != null) {
			entity.parent.removeChild(entity);
		}
		entity.parent = this;
		if(append) {
			var tail = null;
			var p = this.firstChild;
			while(p != null) {
				tail = p;
				p = p.next;
			}
			if(tail != null) {
				tail.next = entity;
			} else {
				this.firstChild = entity;
			}
		} else {
			entity.next = this.firstChild;
			this.firstChild = entity;
		}
		return this;
	}
	,removeChild: function(entity) {
		var prev = null;
		var p = this.firstChild;
		while(p != null) {
			var next = p.next;
			if(p == entity) {
				if(prev == null) {
					this.firstChild = next;
				} else {
					prev.next = next;
				}
				p.parent = null;
				p.next = null;
				return;
			}
			prev = p;
			p = next;
		}
	}
	,disposeChildren: function() {
		while(this.firstChild != null) this.firstChild.dispose();
	}
	,dispose: function() {
		if(this.parent != null) {
			this.parent.removeChild(this);
		}
		while(this.firstComponent != null) this.firstComponent.dispose();
		this.disposeChildren();
	}
	,__class__: flambe_Entity
};
var flambe_util_PackageLog = function() { };
$hxClasses["flambe.util.PackageLog"] = flambe_util_PackageLog;
flambe_util_PackageLog.__name__ = ["flambe","util","PackageLog"];
var flambe_platform_Platform = function() { };
$hxClasses["flambe.platform.Platform"] = flambe_platform_Platform;
flambe_platform_Platform.__name__ = ["flambe","platform","Platform"];
flambe_platform_Platform.prototype = {
	__class__: flambe_platform_Platform
};
var flambe_platform_html_HtmlPlatform = function() {
};
$hxClasses["flambe.platform.html.HtmlPlatform"] = flambe_platform_html_HtmlPlatform;
flambe_platform_html_HtmlPlatform.__name__ = ["flambe","platform","html","HtmlPlatform"];
flambe_platform_html_HtmlPlatform.__interfaces__ = [flambe_platform_Platform];
flambe_platform_html_HtmlPlatform.prototype = {
	init: function() {
		var _gthis = this;
		flambe_platform_html_HtmlUtil.fixAndroidMath();
		var canvas = null;
		try {
			canvas = window.flambe.canvas;
		} catch( error ) {
		}
		canvas.setAttribute("tabindex","0");
		canvas.style.outlineStyle = "none";
		canvas.style.webkitTapHighlightColor = "transparent";
		canvas.setAttribute("moz-opaque","true");
		this._stage = new flambe_platform_html_HtmlStage(canvas);
		this._pointer = new flambe_platform_BasicPointer();
		this._mouse = new flambe_platform_html_HtmlMouse(this._pointer,canvas);
		this._renderer = this.createRenderer(canvas);
		this.mainLoop = new flambe_platform_MainLoop();
		this.musicPlaying = false;
		this._canvas = canvas;
		this._container = canvas.parentElement;
		this._container.style.overflow = "hidden";
		this._container.style.position = "relative";
		this._container.style.msTouchAction = "none";
		var lastTouchTime = 0;
		var onMouse = function(event) {
			if(event.timeStamp - lastTouchTime < 1000) {
				return;
			}
			var bounds = canvas.getBoundingClientRect();
			var x = _gthis.getX(event,bounds);
			var y = _gthis.getY(event,bounds);
			var _g = event.type;
			switch(_g) {
			case "mousedown":
				if(event.target == canvas) {
					event.preventDefault();
					_gthis._mouse.submitDown(x,y,event.button);
					canvas.focus();
				}
				break;
			case "mousemove":
				_gthis._mouse.submitMove(x,y);
				break;
			case "mouseup":
				_gthis._mouse.submitUp(x,y,event.button);
				break;
			case "DOMMouseScroll":case "mousewheel":
				var velocity = event.type == "mousewheel" ? event.wheelDelta / 40 : -event.detail;
				if(_gthis._mouse.submitScroll(x,y,velocity)) {
					event.preventDefault();
				}
				break;
			}
		};
		window.addEventListener("mousedown",onMouse,false);
		window.addEventListener("mousemove",onMouse,false);
		window.addEventListener("mouseup",onMouse,false);
		canvas.addEventListener("mousewheel",onMouse,false);
		canvas.addEventListener("DOMMouseScroll",onMouse,false);
		canvas.addEventListener("contextmenu",function(event1) {
			event1.preventDefault();
		},false);
		var standardTouch = typeof(window.ontouchstart) != "undefined";
		var msTouch = 'msMaxTouchPoints' in window.navigator && (window.navigator.msMaxTouchPoints > 1);
		if(standardTouch || msTouch) {
			var basicTouch = new flambe_platform_BasicTouch(this._pointer,standardTouch ? 4 : window.navigator.msMaxTouchPoints);
			this._touch = basicTouch;
			var onTouch = function(event2) {
				var changedTouches = standardTouch ? event2.changedTouches : [event2];
				var bounds1 = event2.target.getBoundingClientRect();
				lastTouchTime = event2.timeStamp;
				var _g1 = event2.type;
				switch(_g1) {
				case "MSPointerMove":case "pointermove":case "touchmove":
					event2.preventDefault();
					var _g2 = 0;
					while(_g2 < changedTouches.length) {
						var touch = changedTouches[_g2];
						++_g2;
						var x1 = _gthis.getX(touch,bounds1);
						var y1 = _gthis.getY(touch,bounds1);
						var id = (standardTouch ? touch.identifier : touch.pointerId) | 0;
						basicTouch.submitMove(id,x1,y1);
					}
					break;
				case "MSPointerUp":case "pointerup":case "touchcancel":case "touchend":
					var _g3 = 0;
					while(_g3 < changedTouches.length) {
						var touch1 = changedTouches[_g3];
						++_g3;
						var x2 = _gthis.getX(touch1,bounds1);
						var y2 = _gthis.getY(touch1,bounds1);
						var id1 = (standardTouch ? touch1.identifier : touch1.pointerId) | 0;
						basicTouch.submitUp(id1,x2,y2);
					}
					break;
				case "MSPointerDown":case "pointerdown":case "touchstart":
					event2.preventDefault();
					if(flambe_platform_html_HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER) {
						flambe_platform_html_HtmlUtil.hideMobileBrowser();
					}
					var _g4 = 0;
					while(_g4 < changedTouches.length) {
						var touch2 = changedTouches[_g4];
						++_g4;
						var x3 = _gthis.getX(touch2,bounds1);
						var y3 = _gthis.getY(touch2,bounds1);
						var id2 = (standardTouch ? touch2.identifier : touch2.pointerId) | 0;
						basicTouch.submitDown(id2,x3,y3);
					}
					break;
				}
			};
			if(standardTouch) {
				canvas.addEventListener("touchstart",onTouch,false);
				canvas.addEventListener("touchmove",onTouch,false);
				canvas.addEventListener("touchend",onTouch,false);
				canvas.addEventListener("touchcancel",onTouch,false);
			} else {
				canvas.addEventListener("MSPointerDown",onTouch,false);
				canvas.addEventListener("MSPointerMove",onTouch,false);
				canvas.addEventListener("MSPointerUp",onTouch,false);
			}
		} else {
			this._touch = new flambe_platform_DummyTouch();
		}
		var oldErrorHandler = window.onerror;
		window.onerror = function(message,url,line) {
			flambe_System.uncaughtError.emit(message);
			if(oldErrorHandler != null) {
				return oldErrorHandler(message,url,line);
			} else {
				return false;
			}
		};
		var hiddenApi = flambe_platform_html_HtmlUtil.loadExtension("hidden",window.document);
		if(hiddenApi.value != null) {
			var onVisibilityChanged = function(_) {
				flambe_System.hidden.set__(Reflect.field(window.document,hiddenApi.field));
			};
			onVisibilityChanged(null);
			window.document.addEventListener(hiddenApi.prefix + "visibilitychange",onVisibilityChanged,false);
		} else {
			var onPageTransitionChange = function(event3) {
				flambe_System.hidden.set__(event3.type == "pagehide");
			};
			window.addEventListener("pageshow",onPageTransitionChange,false);
			window.addEventListener("pagehide",onPageTransitionChange,false);
		}
		flambe_System.hidden.get_changed().connect(function(hidden,_1) {
			if(!hidden) {
				_gthis._skipFrame = true;
			}
		});
		this._skipFrame = false;
		this._lastUpdate = Date.now();
		var requestAnimationFrame = flambe_platform_html_HtmlUtil.loadExtension("requestAnimationFrame").value;
		if(requestAnimationFrame != null) {
			var performance = window.performance;
			var hasPerfNow = performance != null && flambe_platform_html_HtmlUtil.polyfill("now",performance);
			if(hasPerfNow) {
				this._lastUpdate = performance.now();
			} else {
				var _this = flambe_Log.logger;
			}
			var updateFrame = null;
			updateFrame = function(now) {
				var updateFrame1 = hasPerfNow ? performance.now() : now;
				_gthis.update(updateFrame1);
				requestAnimationFrame(updateFrame,canvas);
			};
			requestAnimationFrame(updateFrame,canvas);
		} else {
			var _this1 = flambe_Log.logger;
			window.setInterval(function() {
				var tmp = Date.now();
				_gthis.update(tmp);
			},16);
		}
		var args_0 = "renderer";
		var args_1 = this._renderer.get_type();
		var _this2 = flambe_Log.logger;
	}
	,loadAssetPack: function(manifest) {
		return new flambe_platform_html_HtmlAssetPackLoader(this,manifest).promise;
	}
	,getStage: function() {
		return this._stage;
	}
	,getLocale: function() {
		var locale = window.navigator.language;
		if(locale == null) {
			locale = window.navigator.userLanguage;
		}
		return locale;
	}
	,createLogHandler: function(tag) {
		return null;
	}
	,update: function(now) {
		var dt = (now - this._lastUpdate) / 1000;
		this._lastUpdate = now;
		if(flambe_System.hidden._value) {
			return;
		}
		if(this._skipFrame) {
			this._skipFrame = false;
			return;
		}
		this.mainLoop.update(dt);
		this.mainLoop.render(this._renderer);
	}
	,getPointer: function() {
		return this._pointer;
	}
	,getMouse: function() {
		return this._mouse;
	}
	,getTouch: function() {
		return this._touch;
	}
	,getKeyboard: function() {
		var _gthis = this;
		if(this._keyboard == null) {
			this._keyboard = new flambe_platform_BasicKeyboard();
			var onKey = function(event) {
				var _g = event.type;
				switch(_g) {
				case "keydown":
					if(_gthis._keyboard.submitDown(event.keyCode)) {
						event.preventDefault();
					}
					break;
				case "keyup":
					_gthis._keyboard.submitUp(event.keyCode);
					break;
				}
			};
			this._canvas.addEventListener("keydown",onKey,false);
			this._canvas.addEventListener("keyup",onKey,false);
		}
		return this._keyboard;
	}
	,getRenderer: function() {
		return this._renderer;
	}
	,getX: function(event,bounds) {
		return (event.clientX - bounds.left) * this._stage.get_width() / bounds.width;
	}
	,getY: function(event,bounds) {
		return (event.clientY - bounds.top) * this._stage.get_height() / bounds.height;
	}
	,createRenderer: function(canvas) {
		return new flambe_platform_html_CanvasRenderer(canvas);
	}
	,__class__: flambe_platform_html_HtmlPlatform
};
var flambe_util_Value = function(value,listener) {
	this._value = value;
	this._changed = listener != null ? new flambe_util_Signal2(listener) : null;
};
$hxClasses["flambe.util.Value"] = flambe_util_Value;
flambe_util_Value.__name__ = ["flambe","util","Value"];
flambe_util_Value.prototype = {
	watch: function(listener) {
		listener(this._value,this._value);
		return this.get_changed().connect(listener);
	}
	,set__: function(newValue) {
		var oldValue = this._value;
		if(newValue != oldValue) {
			this._value = newValue;
			if(this._changed != null) {
				this._changed.emit(newValue,oldValue);
			}
		}
		return newValue;
	}
	,get_changed: function() {
		if(this._changed == null) {
			this._changed = new flambe_util_Signal2();
		}
		return this._changed;
	}
	,__class__: flambe_util_Value
	,__properties__: {get_changed:"get_changed",set__:"set__"}
};
var flambe_util_SignalConnection = function(signal,listener) {
	this._next = null;
	this._signal = signal;
	this._listener = listener;
	this.stayInList = true;
};
$hxClasses["flambe.util.SignalConnection"] = flambe_util_SignalConnection;
flambe_util_SignalConnection.__name__ = ["flambe","util","SignalConnection"];
flambe_util_SignalConnection.__interfaces__ = [flambe_util_Disposable];
flambe_util_SignalConnection.prototype = {
	once: function() {
		this.stayInList = false;
		return this;
	}
	,dispose: function() {
		if(this._signal != null) {
			this._signal.disconnect(this);
			this._signal = null;
		}
	}
	,__class__: flambe_util_SignalConnection
};
var flambe_util_SignalBase = function(listener) {
	this._head = listener != null ? new flambe_util_SignalConnection(this,listener) : null;
	this._deferredTasks = null;
};
$hxClasses["flambe.util.SignalBase"] = flambe_util_SignalBase;
flambe_util_SignalBase.__name__ = ["flambe","util","SignalBase"];
flambe_util_SignalBase.prototype = {
	connectImpl: function(listener,prioritize) {
		var _gthis = this;
		var conn = new flambe_util_SignalConnection(this,listener);
		if(this._head == flambe_util_SignalBase.DISPATCHING_SENTINEL) {
			this.defer(function() {
				_gthis.listAdd(conn,prioritize);
			});
		} else {
			this.listAdd(conn,prioritize);
		}
		return conn;
	}
	,disconnect: function(conn) {
		var _gthis = this;
		if(this._head == flambe_util_SignalBase.DISPATCHING_SENTINEL) {
			this.defer(function() {
				_gthis.listRemove(conn);
			});
		} else {
			this.listRemove(conn);
		}
	}
	,defer: function(fn) {
		var tail = null;
		var p = this._deferredTasks;
		while(p != null) {
			tail = p;
			p = p.next;
		}
		var task = new flambe_util__$SignalBase_Task(fn);
		if(tail != null) {
			tail.next = task;
		} else {
			this._deferredTasks = task;
		}
	}
	,willEmit: function() {
		var condition = this._head != flambe_util_SignalBase.DISPATCHING_SENTINEL;
		var snapshot = this._head;
		this._head = flambe_util_SignalBase.DISPATCHING_SENTINEL;
		return snapshot;
	}
	,didEmit: function(head) {
		this._head = head;
		var snapshot = this._deferredTasks;
		this._deferredTasks = null;
		while(snapshot != null) {
			snapshot.fn();
			snapshot = snapshot.next;
		}
	}
	,listAdd: function(conn,prioritize) {
		if(prioritize) {
			conn._next = this._head;
			this._head = conn;
		} else {
			var tail = null;
			var p = this._head;
			while(p != null) {
				tail = p;
				p = p._next;
			}
			if(tail != null) {
				tail._next = conn;
			} else {
				this._head = conn;
			}
		}
	}
	,listRemove: function(conn) {
		var prev = null;
		var p = this._head;
		while(p != null) {
			if(p == conn) {
				var next = p._next;
				if(prev == null) {
					this._head = next;
				} else {
					prev._next = next;
				}
				return;
			}
			prev = p;
			p = p._next;
		}
	}
	,__class__: flambe_util_SignalBase
};
var flambe_util_Signal2 = function(listener) {
	flambe_util_SignalBase.call(this,listener);
};
$hxClasses["flambe.util.Signal2"] = flambe_util_Signal2;
flambe_util_Signal2.__name__ = ["flambe","util","Signal2"];
flambe_util_Signal2.__super__ = flambe_util_SignalBase;
flambe_util_Signal2.prototype = $extend(flambe_util_SignalBase.prototype,{
	connect: function(listener,prioritize) {
		if(prioritize == null) {
			prioritize = false;
		}
		return this.connectImpl(listener,prioritize);
	}
	,emit: function(arg1,arg2) {
		var _gthis = this;
		if(this._head == flambe_util_SignalBase.DISPATCHING_SENTINEL) {
			this.defer(function() {
				_gthis.emitImpl(arg1,arg2);
			});
		} else {
			this.emitImpl(arg1,arg2);
		}
	}
	,emitImpl: function(arg1,arg2) {
		var head = this.willEmit();
		var p = head;
		while(p != null) {
			p._listener(arg1,arg2);
			if(!p.stayInList) {
				p.dispose();
			}
			p = p._next;
		}
		this.didEmit(head);
	}
	,__class__: flambe_util_Signal2
});
var flambe_util_Signal1 = function(listener) {
	flambe_util_SignalBase.call(this,listener);
};
$hxClasses["flambe.util.Signal1"] = flambe_util_Signal1;
flambe_util_Signal1.__name__ = ["flambe","util","Signal1"];
flambe_util_Signal1.__super__ = flambe_util_SignalBase;
flambe_util_Signal1.prototype = $extend(flambe_util_SignalBase.prototype,{
	connect: function(listener,prioritize) {
		if(prioritize == null) {
			prioritize = false;
		}
		return this.connectImpl(listener,prioritize);
	}
	,emit: function(arg1) {
		var _gthis = this;
		if(this._head == flambe_util_SignalBase.DISPATCHING_SENTINEL) {
			this.defer(function() {
				_gthis.emitImpl(arg1);
			});
		} else {
			this.emitImpl(arg1);
		}
	}
	,emitImpl: function(arg1) {
		var head = this.willEmit();
		var p = head;
		while(p != null) {
			p._listener(arg1);
			if(!p.stayInList) {
				p.dispose();
			}
			p = p._next;
		}
		this.didEmit(head);
	}
	,__class__: flambe_util_Signal1
});
var flambe_animation_AnimatedFloat = function(value,listener) {
	this._behavior = null;
	flambe_util_Value.call(this,value,listener);
};
$hxClasses["flambe.animation.AnimatedFloat"] = flambe_animation_AnimatedFloat;
flambe_animation_AnimatedFloat.__name__ = ["flambe","animation","AnimatedFloat"];
flambe_animation_AnimatedFloat.__super__ = flambe_util_Value;
flambe_animation_AnimatedFloat.prototype = $extend(flambe_util_Value.prototype,{
	set__: function(value) {
		this._behavior = null;
		return flambe_util_Value.prototype.set__.call(this,value);
	}
	,update: function(dt) {
		if(this._behavior != null) {
			flambe_util_Value.prototype.set__.call(this,this._behavior.update(dt));
			if(this._behavior.isComplete()) {
				this._behavior = null;
			}
		}
	}
	,__class__: flambe_animation_AnimatedFloat
});
var flambe_System = function() { };
$hxClasses["flambe.System"] = flambe_System;
flambe_System.__name__ = ["flambe","System"];
flambe_System.init = function() {
	if(!flambe_System._calledInit) {
		flambe_System._platform.init();
		flambe_System._calledInit = true;
	}
};
var flambe_util_Logger = function(handler) {
	this._handler = handler;
};
$hxClasses["flambe.util.Logger"] = flambe_util_Logger;
flambe_util_Logger.__name__ = ["flambe","util","Logger"];
flambe_util_Logger.prototype = {
	__class__: flambe_util_Logger
};
var flambe_Log = function() { };
$hxClasses["flambe.Log"] = flambe_Log;
flambe_Log.__name__ = ["flambe","Log"];
flambe_Log.__super__ = flambe_util_PackageLog;
flambe_Log.prototype = $extend(flambe_util_PackageLog.prototype,{
	__class__: flambe_Log
});
var flambe_SpeedAdjuster = function() {
	this._realDt = 0;
};
$hxClasses["flambe.SpeedAdjuster"] = flambe_SpeedAdjuster;
flambe_SpeedAdjuster.__name__ = ["flambe","SpeedAdjuster"];
flambe_SpeedAdjuster.__super__ = flambe_Component;
flambe_SpeedAdjuster.prototype = $extend(flambe_Component.prototype,{
	get_name: function() {
		return "SpeedAdjuster_3";
	}
	,onUpdate: function(dt) {
		if(this._realDt > 0) {
			dt = this._realDt;
			this._realDt = 0;
		}
		this.scale.update(dt);
	}
	,__class__: flambe_SpeedAdjuster
});
var flambe_animation_Behavior = function() { };
$hxClasses["flambe.animation.Behavior"] = flambe_animation_Behavior;
flambe_animation_Behavior.__name__ = ["flambe","animation","Behavior"];
flambe_animation_Behavior.prototype = {
	__class__: flambe_animation_Behavior
};
var flambe_asset_Asset = function() { };
$hxClasses["flambe.asset.Asset"] = flambe_asset_Asset;
flambe_asset_Asset.__name__ = ["flambe","asset","Asset"];
flambe_asset_Asset.__interfaces__ = [flambe_util_Disposable];
flambe_asset_Asset.prototype = {
	__class__: flambe_asset_Asset
};
var flambe_asset_AssetFormat = $hxClasses["flambe.asset.AssetFormat"] = { __ename__ : true, __constructs__ : ["WEBP","JXR","PNG","JPG","GIF","DDS","PVR","PKM","MP3","M4A","OPUS","OGG","WAV","Data"] };
flambe_asset_AssetFormat.WEBP = ["WEBP",0];
flambe_asset_AssetFormat.WEBP.toString = $estr;
flambe_asset_AssetFormat.WEBP.__enum__ = flambe_asset_AssetFormat;
flambe_asset_AssetFormat.JXR = ["JXR",1];
flambe_asset_AssetFormat.JXR.toString = $estr;
flambe_asset_AssetFormat.JXR.__enum__ = flambe_asset_AssetFormat;
flambe_asset_AssetFormat.PNG = ["PNG",2];
flambe_asset_AssetFormat.PNG.toString = $estr;
flambe_asset_AssetFormat.PNG.__enum__ = flambe_asset_AssetFormat;
flambe_asset_AssetFormat.JPG = ["JPG",3];
flambe_asset_AssetFormat.JPG.toString = $estr;
flambe_asset_AssetFormat.JPG.__enum__ = flambe_asset_AssetFormat;
flambe_asset_AssetFormat.GIF = ["GIF",4];
flambe_asset_AssetFormat.GIF.toString = $estr;
flambe_asset_AssetFormat.GIF.__enum__ = flambe_asset_AssetFormat;
flambe_asset_AssetFormat.DDS = ["DDS",5];
flambe_asset_AssetFormat.DDS.toString = $estr;
flambe_asset_AssetFormat.DDS.__enum__ = flambe_asset_AssetFormat;
flambe_asset_AssetFormat.PVR = ["PVR",6];
flambe_asset_AssetFormat.PVR.toString = $estr;
flambe_asset_AssetFormat.PVR.__enum__ = flambe_asset_AssetFormat;
flambe_asset_AssetFormat.PKM = ["PKM",7];
flambe_asset_AssetFormat.PKM.toString = $estr;
flambe_asset_AssetFormat.PKM.__enum__ = flambe_asset_AssetFormat;
flambe_asset_AssetFormat.MP3 = ["MP3",8];
flambe_asset_AssetFormat.MP3.toString = $estr;
flambe_asset_AssetFormat.MP3.__enum__ = flambe_asset_AssetFormat;
flambe_asset_AssetFormat.M4A = ["M4A",9];
flambe_asset_AssetFormat.M4A.toString = $estr;
flambe_asset_AssetFormat.M4A.__enum__ = flambe_asset_AssetFormat;
flambe_asset_AssetFormat.OPUS = ["OPUS",10];
flambe_asset_AssetFormat.OPUS.toString = $estr;
flambe_asset_AssetFormat.OPUS.__enum__ = flambe_asset_AssetFormat;
flambe_asset_AssetFormat.OGG = ["OGG",11];
flambe_asset_AssetFormat.OGG.toString = $estr;
flambe_asset_AssetFormat.OGG.__enum__ = flambe_asset_AssetFormat;
flambe_asset_AssetFormat.WAV = ["WAV",12];
flambe_asset_AssetFormat.WAV.toString = $estr;
flambe_asset_AssetFormat.WAV.__enum__ = flambe_asset_AssetFormat;
flambe_asset_AssetFormat.Data = ["Data",13];
flambe_asset_AssetFormat.Data.toString = $estr;
flambe_asset_AssetFormat.Data.__enum__ = flambe_asset_AssetFormat;
var flambe_asset_AssetEntry = function(name,url,format,bytes) {
	this.name = name;
	this.url = url;
	this.format = format;
	this.bytes = bytes;
};
$hxClasses["flambe.asset.AssetEntry"] = flambe_asset_AssetEntry;
flambe_asset_AssetEntry.__name__ = ["flambe","asset","AssetEntry"];
flambe_asset_AssetEntry.prototype = {
	__class__: flambe_asset_AssetEntry
};
var flambe_asset_AssetPack = function() { };
$hxClasses["flambe.asset.AssetPack"] = flambe_asset_AssetPack;
flambe_asset_AssetPack.__name__ = ["flambe","asset","AssetPack"];
flambe_asset_AssetPack.__interfaces__ = [flambe_util_Disposable];
flambe_asset_AssetPack.prototype = {
	__class__: flambe_asset_AssetPack
	,__properties__: {get_manifest:"get_manifest"}
};
var flambe_asset_File = function() { };
$hxClasses["flambe.asset.File"] = flambe_asset_File;
flambe_asset_File.__name__ = ["flambe","asset","File"];
flambe_asset_File.__interfaces__ = [flambe_asset_Asset];
flambe_asset_File.prototype = {
	__class__: flambe_asset_File
};
var flambe_asset_Manifest = function() {
	this._remoteBase = null;
	this._localBase = null;
	this._entries = [];
};
$hxClasses["flambe.asset.Manifest"] = flambe_asset_Manifest;
flambe_asset_Manifest.__name__ = ["flambe","asset","Manifest"];
flambe_asset_Manifest.fromAssets = function(packName,required) {
	if(required == null) {
		required = true;
	}
	var packData = Reflect.field(haxe_rtti_Meta.getType(flambe_asset_Manifest).assets[0],packName);
	if(packData == null) {
		if(required) {
			throw new js__$Boot_HaxeError(flambe_util_Strings.withFields("Missing asset pack",["name",packName]));
		}
		return null;
	}
	var manifest = new flambe_asset_Manifest();
	manifest.set_localBase("assets");
	var _g = 0;
	while(_g < packData.length) {
		var asset = packData[_g];
		++_g;
		var name = asset.name;
		var path = packName + "/" + name + "?v=" + Std.string(asset.md5);
		var format = flambe_asset_Manifest.inferFormat(name);
		if(format != flambe_asset_AssetFormat.Data) {
			name = flambe_util_Strings.removeFileExtension(name);
		}
		manifest.add(name,path,asset.bytes,format);
	}
	return manifest;
};
flambe_asset_Manifest.fromAssetsLocalized = function(packName,locale,required) {
	if(required == null) {
		required = true;
	}
	if(locale == null) {
		locale = flambe_System._platform.getLocale();
	}
	if(locale != null) {
		var parts = locale.split("-");
		while(parts.length > 0) {
			var manifest = flambe_asset_Manifest.fromAssets(packName + "_" + parts.join("-"),false);
			if(manifest != null) {
				return manifest;
			}
			parts.pop();
		}
	}
	return flambe_asset_Manifest.fromAssets(packName,required);
};
flambe_asset_Manifest.exists = function(packName) {
	var o = haxe_rtti_Meta.getType(flambe_asset_Manifest).assets[0];
	return Object.prototype.hasOwnProperty.call(o,packName);
};
flambe_asset_Manifest.inferFormat = function(url) {
	var extension = flambe_util_Strings.getUrlExtension(url);
	if(extension != null) {
		var _g = extension.toLowerCase();
		switch(_g) {
		case "dds":
			return flambe_asset_AssetFormat.DDS;
		case "gif":
			return flambe_asset_AssetFormat.GIF;
		case "jpeg":case "jpg":
			return flambe_asset_AssetFormat.JPG;
		case "jxr":case "wdp":
			return flambe_asset_AssetFormat.JXR;
		case "m4a":
			return flambe_asset_AssetFormat.M4A;
		case "mp3":
			return flambe_asset_AssetFormat.MP3;
		case "ogg":
			return flambe_asset_AssetFormat.OGG;
		case "opus":
			return flambe_asset_AssetFormat.OPUS;
		case "pkm":
			return flambe_asset_AssetFormat.PKM;
		case "png":
			return flambe_asset_AssetFormat.PNG;
		case "pvr":
			return flambe_asset_AssetFormat.PVR;
		case "wav":
			return flambe_asset_AssetFormat.WAV;
		case "webp":
			return flambe_asset_AssetFormat.WEBP;
		}
	} else {
		var _this = flambe_Log.logger;
	}
	return flambe_asset_AssetFormat.Data;
};
flambe_asset_Manifest.prototype = {
	add: function(name,url,bytes,format) {
		if(bytes == null) {
			bytes = 0;
		}
		if(format == null) {
			format = flambe_asset_Manifest.inferFormat(url);
		}
		var entry = new flambe_asset_AssetEntry(name,url,format,bytes);
		this._entries.push(entry);
		return entry;
	}
	,iterator: function() {
		return HxOverrides.iter(this._entries);
	}
	,getFullURL: function(entry) {
		var basePath = this.get_remoteBase() != null && flambe_asset_Manifest._supportsCrossOrigin ? this.get_remoteBase() : this.get_localBase();
		if(basePath != null) {
			return flambe_util_Strings.joinPath(basePath,entry.url);
		} else {
			return entry.url;
		}
	}
	,get_localBase: function() {
		return this._localBase;
	}
	,set_localBase: function(localBase) {
		if(localBase != null) {
			var condition = !StringTools.startsWith(localBase,"http://") && !StringTools.startsWith(localBase,"https://");
		}
		return this._localBase = localBase;
	}
	,get_remoteBase: function() {
		return this._remoteBase;
	}
	,set_remoteBase: function(remoteBase) {
		if(remoteBase != null) {
			var condition = StringTools.startsWith(remoteBase,"http://") || StringTools.startsWith(remoteBase,"https://");
		}
		return this._remoteBase = remoteBase;
	}
	,__class__: flambe_asset_Manifest
	,__properties__: {set_remoteBase:"set_remoteBase",get_remoteBase:"get_remoteBase",set_localBase:"set_localBase",get_localBase:"get_localBase"}
};
var flambe_display_BlendMode = $hxClasses["flambe.display.BlendMode"] = { __ename__ : true, __constructs__ : ["Normal","Add","Multiply","Screen","Mask","Copy"] };
flambe_display_BlendMode.Normal = ["Normal",0];
flambe_display_BlendMode.Normal.toString = $estr;
flambe_display_BlendMode.Normal.__enum__ = flambe_display_BlendMode;
flambe_display_BlendMode.Add = ["Add",1];
flambe_display_BlendMode.Add.toString = $estr;
flambe_display_BlendMode.Add.__enum__ = flambe_display_BlendMode;
flambe_display_BlendMode.Multiply = ["Multiply",2];
flambe_display_BlendMode.Multiply.toString = $estr;
flambe_display_BlendMode.Multiply.__enum__ = flambe_display_BlendMode;
flambe_display_BlendMode.Screen = ["Screen",3];
flambe_display_BlendMode.Screen.toString = $estr;
flambe_display_BlendMode.Screen.__enum__ = flambe_display_BlendMode;
flambe_display_BlendMode.Mask = ["Mask",4];
flambe_display_BlendMode.Mask.toString = $estr;
flambe_display_BlendMode.Mask.__enum__ = flambe_display_BlendMode;
flambe_display_BlendMode.Copy = ["Copy",5];
flambe_display_BlendMode.Copy.toString = $estr;
flambe_display_BlendMode.Copy.__enum__ = flambe_display_BlendMode;
var flambe_display_Glyph = function(charCode) {
	this._kernings = null;
	this.xAdvance = 0;
	this.yOffset = 0;
	this.xOffset = 0;
	this.page = null;
	this.height = 0;
	this.width = 0;
	this.y = 0;
	this.x = 0;
	this.charCode = charCode;
};
$hxClasses["flambe.display.Glyph"] = flambe_display_Glyph;
flambe_display_Glyph.__name__ = ["flambe","display","Glyph"];
flambe_display_Glyph.prototype = {
	draw: function(g,destX,destY) {
		if(this.width > 0) {
			g.drawSubTexture(this.page,destX + this.xOffset,destY + this.yOffset,this.x,this.y,this.width,this.height);
		}
	}
	,getKerning: function(nextCharCode) {
		if(this._kernings != null) {
			return this._kernings.h[nextCharCode] | 0;
		} else {
			return 0;
		}
	}
	,setKerning: function(nextCharCode,amount) {
		if(this._kernings == null) {
			this._kernings = new haxe_ds_IntMap();
		}
		this._kernings.h[nextCharCode] = amount;
	}
	,__class__: flambe_display_Glyph
};
var flambe_display_Font = function(pack,name) {
	this.name = name;
	this._pack = pack;
	this._file = pack.getFile(name + ".fnt");
	this.reload();
};
$hxClasses["flambe.display.Font"] = flambe_display_Font;
flambe_display_Font.__name__ = ["flambe","display","Font"];
flambe_display_Font.prototype = {
	layoutText: function(text,align,wrapWidth,letterSpacing,lineSpacing) {
		if(lineSpacing == null) {
			lineSpacing = 0;
		}
		if(letterSpacing == null) {
			letterSpacing = 0;
		}
		if(wrapWidth == null) {
			wrapWidth = 0;
		}
		if(align == null) {
			align = flambe_display_TextAlign.Left;
		}
		return new flambe_display_TextLayout(this,text,align,wrapWidth,letterSpacing,lineSpacing);
	}
	,reload: function() {
		this._glyphs = new haxe_ds_IntMap();
		this._glyphs.h[flambe_display_Font.NEWLINE.charCode] = flambe_display_Font.NEWLINE;
		var parser = new flambe_display__$Font_ConfigParser(this._file.toString());
		var pages = new haxe_ds_IntMap();
		var idx = this.name.lastIndexOf("/");
		var basePath = idx >= 0 ? HxOverrides.substr(this.name,0,idx + 1) : "";
		var keyword = parser.keywords();
		while(keyword.hasNext()) {
			var keyword1 = keyword.next();
			switch(keyword1) {
			case "char":
				var glyph = null;
				var pair = parser.pairs();
				while(pair.hasNext()) {
					var pair1 = pair.next();
					var _g = pair1.key;
					switch(_g) {
					case "height":
						glyph.height = pair1.getInt();
						break;
					case "id":
						glyph = new flambe_display_Glyph(pair1.getInt());
						break;
					case "page":
						var key = pair1.getInt();
						glyph.page = pages.h[key];
						break;
					case "width":
						glyph.width = pair1.getInt();
						break;
					case "x":
						glyph.x = pair1.getInt();
						break;
					case "xadvance":
						glyph.xAdvance = pair1.getInt();
						break;
					case "xoffset":
						glyph.xOffset = pair1.getInt();
						break;
					case "y":
						glyph.y = pair1.getInt();
						break;
					case "yoffset":
						glyph.yOffset = pair1.getInt();
						break;
					}
				}
				this._glyphs.set(glyph.charCode,glyph);
				break;
			case "common":
				var pair2 = parser.pairs();
				while(pair2.hasNext()) {
					var pair3 = pair2.next();
					var _g1 = pair3.key;
					if(_g1 == "lineHeight") {
						this.lineHeight = pair3.getInt();
					}
				}
				break;
			case "info":
				var pair4 = parser.pairs();
				while(pair4.hasNext()) {
					var pair5 = pair4.next();
					var _g2 = pair5.key;
					if(_g2 == "size") {
						this.size = pair5.getInt();
					}
				}
				break;
			case "kerning":
				var first = null;
				var second = 0;
				var amount = 0;
				var pair6 = parser.pairs();
				while(pair6.hasNext()) {
					var pair7 = pair6.next();
					var _g3 = pair7.key;
					switch(_g3) {
					case "amount":
						amount = pair7.getInt();
						break;
					case "first":
						first = this._glyphs.get(pair7.getInt());
						break;
					case "second":
						second = pair7.getInt();
						break;
					}
				}
				if(first != null && amount != 0) {
					first.setKerning(second,amount);
				}
				break;
			case "page":
				var pageId = 0;
				var file = null;
				var pair8 = parser.pairs();
				while(pair8.hasNext()) {
					var pair9 = pair8.next();
					var _g4 = pair9.key;
					switch(_g4) {
					case "file":
						file = pair9.getString();
						break;
					case "id":
						pageId = pair9.getInt();
						break;
					}
				}
				var value = this._pack.getTexture(basePath + flambe_util_Strings.removeFileExtension(file));
				pages.h[pageId] = value;
				break;
			}
		}
	}
	,__class__: flambe_display_Font
};
var flambe_display_TextAlign = $hxClasses["flambe.display.TextAlign"] = { __ename__ : true, __constructs__ : ["Left","Center","Right"] };
flambe_display_TextAlign.Left = ["Left",0];
flambe_display_TextAlign.Left.toString = $estr;
flambe_display_TextAlign.Left.__enum__ = flambe_display_TextAlign;
flambe_display_TextAlign.Center = ["Center",1];
flambe_display_TextAlign.Center.toString = $estr;
flambe_display_TextAlign.Center.__enum__ = flambe_display_TextAlign;
flambe_display_TextAlign.Right = ["Right",2];
flambe_display_TextAlign.Right.toString = $estr;
flambe_display_TextAlign.Right.__enum__ = flambe_display_TextAlign;
var flambe_display_TextLayout = function(font,text,align,wrapWidth,letterSpacing,lineSpacing) {
	this.lines = 0;
	var _gthis = this;
	this._font = font;
	this._glyphs = [];
	this._offsets = [];
	this._lineOffset = Math.round(font.lineHeight + lineSpacing);
	this.bounds = new flambe_math_Rectangle();
	var lineWidths = [];
	var ll = text.length;
	var _g1 = 0;
	var _g = ll;
	while(_g1 < _g) {
		var ii = _g1++;
		var charCode = text.charCodeAt(ii);
		var glyph = font._glyphs.get(charCode);
		if(glyph != null) {
			this._glyphs.push(glyph);
		} else {
			var args_0 = "font";
			var args_1 = font.name;
			var args_2 = "charCode";
			var args_3 = charCode;
			var _this = flambe_Log.logger;
		}
	}
	var lastSpaceIdx = -1;
	var lineWidth = 0.0;
	var lineHeight = 0.0;
	var newline = font._glyphs.get(10);
	var addLine = function() {
		var a = _gthis.bounds.width;
		_gthis.bounds.width = a > lineWidth ? a : lineWidth;
		_gthis.bounds.height += lineHeight;
		lineWidths[_gthis.lines] = lineWidth;
		lineWidth = 0;
		lineHeight = 0;
		++_gthis.lines;
	};
	var ii1 = 0;
	while(ii1 < this._glyphs.length) {
		var glyph1 = this._glyphs[ii1];
		this._offsets[ii1] = Math.round(lineWidth);
		var wordWrap = wrapWidth > 0 && lineWidth + glyph1.width > wrapWidth;
		if(wordWrap || glyph1 == newline) {
			if(wordWrap) {
				if(lastSpaceIdx >= 0) {
					this._glyphs[lastSpaceIdx] = newline;
					lineWidth = this._offsets[lastSpaceIdx];
					ii1 = lastSpaceIdx;
				} else {
					this._glyphs.splice(ii1,0,newline);
				}
			}
			lastSpaceIdx = -1;
			lineHeight = this._lineOffset;
			addLine();
		} else {
			if(glyph1.charCode == 32) {
				lastSpaceIdx = ii1;
			}
			lineWidth += glyph1.xAdvance + letterSpacing;
			var b = glyph1.height + glyph1.yOffset;
			if(lineHeight > b) {
				lineHeight = lineHeight;
			} else {
				lineHeight = b;
			}
			if(ii1 + 1 < this._glyphs.length) {
				var nextGlyph = this._glyphs[ii1 + 1];
				lineWidth += glyph1.getKerning(nextGlyph.charCode);
			}
		}
		++ii1;
	}
	addLine();
	var lineY = 0.0;
	var alignOffset = flambe_display_TextLayout.getAlignOffset(align,lineWidths[0],wrapWidth);
	var top = 1.79769313486231e+308;
	var bottom = -1.79769313486231e+308;
	var line = 0;
	var ii2 = 0;
	var ll1 = this._glyphs.length;
	while(ii2 < ll1) {
		var glyph2 = this._glyphs[ii2];
		if(glyph2.charCode == 10) {
			lineY += this._lineOffset;
			++line;
			alignOffset = flambe_display_TextLayout.getAlignOffset(align,lineWidths[line],wrapWidth);
		}
		this._offsets[ii2] += alignOffset;
		var glyphY = lineY + glyph2.yOffset;
		top = top < glyphY ? top : glyphY;
		var b1 = glyphY + glyph2.height;
		if(bottom > b1) {
			bottom = bottom;
		} else {
			bottom = b1;
		}
		++ii2;
	}
	this.bounds.x = flambe_display_TextLayout.getAlignOffset(align,this.bounds.width,wrapWidth);
	this.bounds.y = top;
	this.bounds.height = bottom - top;
};
$hxClasses["flambe.display.TextLayout"] = flambe_display_TextLayout;
flambe_display_TextLayout.__name__ = ["flambe","display","TextLayout"];
flambe_display_TextLayout.getAlignOffset = function(align,lineWidth,totalWidth) {
	switch(align[1]) {
	case 0:
		return 0;
	case 1:
		return Math.round((totalWidth - lineWidth) / 2);
	case 2:
		return totalWidth - lineWidth;
	}
};
flambe_display_TextLayout.prototype = {
	draw: function(g) {
		var y = 0.0;
		var ii = 0;
		var ll = this._glyphs.length;
		while(ii < ll) {
			var glyph = this._glyphs[ii];
			if(glyph.charCode == 10) {
				y += this._lineOffset;
			} else {
				var x = this._offsets[ii];
				glyph.draw(g,x,y);
			}
			++ii;
		}
	}
	,__class__: flambe_display_TextLayout
};
var flambe_display__$Font_ConfigParser = function(config) {
	this._configText = config;
	this._keywordPattern = new EReg("([A-Za-z]+)(.*)","");
	this._pairPattern = new EReg("([A-Za-z]+)=(\"[^\"]*\"|[^\\s]+)","");
};
$hxClasses["flambe.display._Font.ConfigParser"] = flambe_display__$Font_ConfigParser;
flambe_display__$Font_ConfigParser.__name__ = ["flambe","display","_Font","ConfigParser"];
flambe_display__$Font_ConfigParser.advance = function(text,expr) {
	var m = expr.matchedPos();
	return HxOverrides.substr(text,m.pos + m.len,text.length);
};
flambe_display__$Font_ConfigParser.prototype = {
	keywords: function() {
		var _gthis = this;
		var text = this._configText;
		return { next : function() {
			text = flambe_display__$Font_ConfigParser.advance(text,_gthis._keywordPattern);
			_gthis._pairText = _gthis._keywordPattern.matched(2);
			return _gthis._keywordPattern.matched(1);
		}, hasNext : function() {
			return _gthis._keywordPattern.match(text);
		}};
	}
	,pairs: function() {
		var _gthis = this;
		var text = this._pairText;
		return { next : function() {
			text = flambe_display__$Font_ConfigParser.advance(text,_gthis._pairPattern);
			return new flambe_display__$Font_ConfigPair(_gthis._pairPattern.matched(1),_gthis._pairPattern.matched(2));
		}, hasNext : function() {
			return _gthis._pairPattern.match(text);
		}};
	}
	,__class__: flambe_display__$Font_ConfigParser
};
var flambe_display__$Font_ConfigPair = function(key,value) {
	this.key = key;
	this._value = value;
};
$hxClasses["flambe.display._Font.ConfigPair"] = flambe_display__$Font_ConfigPair;
flambe_display__$Font_ConfigPair.__name__ = ["flambe","display","_Font","ConfigPair"];
flambe_display__$Font_ConfigPair.prototype = {
	getInt: function() {
		return Std.parseInt(this._value);
	}
	,getString: function() {
		if(this._value.charCodeAt(0) != 34) {
			return null;
		}
		return HxOverrides.substr(this._value,1,this._value.length - 2);
	}
	,__class__: flambe_display__$Font_ConfigPair
};
var flambe_display_Graphics = function() { };
$hxClasses["flambe.display.Graphics"] = flambe_display_Graphics;
flambe_display_Graphics.__name__ = ["flambe","display","Graphics"];
flambe_display_Graphics.prototype = {
	__class__: flambe_display_Graphics
};
var flambe_math_Point = function(x,y) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.x = x;
	this.y = y;
};
$hxClasses["flambe.math.Point"] = flambe_math_Point;
flambe_math_Point.__name__ = ["flambe","math","Point"];
flambe_math_Point.prototype = {
	__class__: flambe_math_Point
};
var flambe_display_Sprite = function() {
	this.scissor = null;
	this.blendMode = null;
	var _gthis = this;
	flambe_Component.call(this);
	this._flags |= 54;
	this._localMatrix = new flambe_math_Matrix();
	var dirtyMatrix = function(_,_1) {
		_gthis._flags |= 24;
	};
	this.x = new flambe_animation_AnimatedFloat(0,dirtyMatrix);
	this.y = new flambe_animation_AnimatedFloat(0,dirtyMatrix);
	this.rotation = new flambe_animation_AnimatedFloat(0,dirtyMatrix);
	this.scaleX = new flambe_animation_AnimatedFloat(1,dirtyMatrix);
	this.scaleY = new flambe_animation_AnimatedFloat(1,dirtyMatrix);
	this.anchorX = new flambe_animation_AnimatedFloat(0,dirtyMatrix);
	this.anchorY = new flambe_animation_AnimatedFloat(0,dirtyMatrix);
	this.alpha = new flambe_animation_AnimatedFloat(1);
};
$hxClasses["flambe.display.Sprite"] = flambe_display_Sprite;
flambe_display_Sprite.__name__ = ["flambe","display","Sprite"];
flambe_display_Sprite.hitTest = function(entity,x,y) {
	var sprite = entity._compMap["Sprite_1"];
	if(sprite != null) {
		if((sprite._flags & 6) != 6) {
			return null;
		}
		if(sprite.getLocalMatrix().inverseTransform(x,y,flambe_display_Sprite._scratchPoint)) {
			x = flambe_display_Sprite._scratchPoint.x;
			y = flambe_display_Sprite._scratchPoint.y;
		}
		var scissor = sprite.scissor;
		if(scissor != null && !scissor.contains(x,y)) {
			return null;
		}
	}
	var result = flambe_display_Sprite.hitTestBackwards(entity.firstChild,x,y);
	if(result != null) {
		return result;
	}
	if(sprite != null && sprite.containsLocal(x,y)) {
		return sprite;
	} else {
		return null;
	}
};
flambe_display_Sprite.render = function(entity,g) {
	var sprite = entity._compMap["Sprite_1"];
	if(sprite != null) {
		var alpha = sprite.alpha._value;
		if((sprite._flags & 2) == 0 || alpha <= 0) {
			return;
		}
		g.save();
		if(alpha < 1) {
			g.multiplyAlpha(alpha);
		}
		if(sprite.blendMode != null) {
			g.setBlendMode(sprite.blendMode);
		}
		var matrix = sprite.getLocalMatrix();
		var m02 = matrix.m02;
		var m12 = matrix.m12;
		if((sprite._flags & 32) != 0) {
			m02 = Math.round(m02);
			m12 = Math.round(m12);
		}
		g.transform(matrix.m00,matrix.m10,matrix.m01,matrix.m11,m02,m12);
		var scissor = sprite.scissor;
		if(scissor != null) {
			g.applyScissor(scissor.x,scissor.y,scissor.width,scissor.height);
		}
		sprite.draw(g);
	}
	var director = entity._compMap["Director_2"];
	if(director != null) {
		var scenes = director.occludedScenes;
		var _g = 0;
		while(_g < scenes.length) {
			var scene = scenes[_g];
			++_g;
			flambe_display_Sprite.render(scene,g);
		}
	}
	var p = entity.firstChild;
	while(p != null) {
		var next = p.next;
		flambe_display_Sprite.render(p,g);
		p = next;
	}
	if(sprite != null) {
		g.restore();
	}
};
flambe_display_Sprite.hitTestBackwards = function(entity,x,y) {
	if(entity != null) {
		var result = flambe_display_Sprite.hitTestBackwards(entity.next,x,y);
		if(result != null) {
			return result;
		} else {
			return flambe_display_Sprite.hitTest(entity,x,y);
		}
	}
	return null;
};
flambe_display_Sprite.__super__ = flambe_Component;
flambe_display_Sprite.prototype = $extend(flambe_Component.prototype,{
	get_name: function() {
		return "Sprite_1";
	}
	,getNaturalWidth: function() {
		return 0;
	}
	,getNaturalHeight: function() {
		return 0;
	}
	,containsLocal: function(localX,localY) {
		if(localX >= 0 && localX < this.getNaturalWidth() && localY >= 0) {
			return localY < this.getNaturalHeight();
		} else {
			return false;
		}
	}
	,getLocalMatrix: function() {
		if((this._flags & 8) != 0) {
			this._flags &= -9;
			this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,this.rotation._value * 3.141592653589793 / 180);
			this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value);
		}
		return this._localMatrix;
	}
	,onAdded: function() {
		if((this._flags & 64) != 0) {
			this.connectHover();
		}
	}
	,onRemoved: function() {
		if(this._hoverConnection != null) {
			this._hoverConnection.dispose();
			this._hoverConnection = null;
		}
	}
	,onUpdate: function(dt) {
		this.x.update(dt);
		this.y.update(dt);
		this.rotation.update(dt);
		this.scaleX.update(dt);
		this.scaleY.update(dt);
		this.alpha.update(dt);
		this.anchorX.update(dt);
		this.anchorY.update(dt);
	}
	,draw: function(g) {
	}
	,getParentSprite: function() {
		if(this.owner == null) {
			return null;
		}
		var entity = this.owner.parent;
		while(entity != null) {
			var sprite = entity._compMap["Sprite_1"];
			if(sprite != null) {
				return sprite;
			}
			entity = entity.parent;
		}
		return null;
	}
	,connectHover: function() {
		var _gthis = this;
		if(this._hoverConnection != null) {
			return;
		}
		this._hoverConnection = flambe_System._platform.getPointer().move.connect(function(event) {
			var hit = event.hit;
			while(hit != null) {
				if(hit == _gthis) {
					return;
				}
				hit = hit.getParentSprite();
			}
			if(_gthis._pointerOut != null && (_gthis._flags & 64) != 0) {
				_gthis._pointerOut.emit(event);
			}
			_gthis._flags &= -65;
			_gthis._hoverConnection.dispose();
			_gthis._hoverConnection = null;
		});
	}
	,onPointerDown: function(event) {
		this.onHover(event);
		if(this._pointerDown != null) {
			this._pointerDown.emit(event);
		}
	}
	,onPointerMove: function(event) {
		this.onHover(event);
		if(this._pointerMove != null) {
			this._pointerMove.emit(event);
		}
	}
	,onHover: function(event) {
		if((this._flags & 64) != 0) {
			return;
		}
		this._flags |= 64;
		if(this._pointerIn != null || this._pointerOut != null) {
			if(this._pointerIn != null) {
				this._pointerIn.emit(event);
			}
			this.connectHover();
		}
	}
	,onPointerUp: function(event) {
		var _g = event.source;
		if(_g[1] == 1) {
			var point = _g[2];
			if(this._pointerOut != null && (this._flags & 64) != 0) {
				this._pointerOut.emit(event);
			}
			this._flags &= -65;
			if(this._hoverConnection != null) {
				this._hoverConnection.dispose();
				this._hoverConnection = null;
			}
		}
		if(this._pointerUp != null) {
			this._pointerUp.emit(event);
		}
	}
	,__class__: flambe_display_Sprite
});
var flambe_display_Orientation = $hxClasses["flambe.display.Orientation"] = { __ename__ : true, __constructs__ : ["Portrait","Landscape"] };
flambe_display_Orientation.Portrait = ["Portrait",0];
flambe_display_Orientation.Portrait.toString = $estr;
flambe_display_Orientation.Portrait.__enum__ = flambe_display_Orientation;
flambe_display_Orientation.Landscape = ["Landscape",1];
flambe_display_Orientation.Landscape.toString = $estr;
flambe_display_Orientation.Landscape.__enum__ = flambe_display_Orientation;
var flambe_display_Texture = function() { };
$hxClasses["flambe.display.Texture"] = flambe_display_Texture;
flambe_display_Texture.__name__ = ["flambe","display","Texture"];
flambe_display_Texture.__interfaces__ = [flambe_asset_Asset];
flambe_display_Texture.prototype = {
	__class__: flambe_display_Texture
	,__properties__: {get_graphics:"get_graphics",get_height:"get_height",get_width:"get_width"}
};
var flambe_display_SubTexture = function() { };
$hxClasses["flambe.display.SubTexture"] = flambe_display_SubTexture;
flambe_display_SubTexture.__name__ = ["flambe","display","SubTexture"];
flambe_display_SubTexture.__interfaces__ = [flambe_display_Texture];
var flambe_input_Key = $hxClasses["flambe.input.Key"] = { __ename__ : true, __constructs__ : ["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","Number0","Number1","Number2","Number3","Number4","Number5","Number6","Number7","Number8","Number9","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadDecimal","NumpadDivide","NumpadEnter","NumpadMultiply","NumpadSubtract","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","Left","Up","Right","Down","Alt","Backquote","Backslash","Backspace","CapsLock","Comma","Command","Control","Delete","End","Enter","Equals","Escape","Home","Insert","LeftBracket","Minus","PageDown","PageUp","Period","Quote","RightBracket","Semicolon","Shift","Slash","Space","Tab","Menu","Search","Unknown"] };
flambe_input_Key.A = ["A",0];
flambe_input_Key.A.toString = $estr;
flambe_input_Key.A.__enum__ = flambe_input_Key;
flambe_input_Key.B = ["B",1];
flambe_input_Key.B.toString = $estr;
flambe_input_Key.B.__enum__ = flambe_input_Key;
flambe_input_Key.C = ["C",2];
flambe_input_Key.C.toString = $estr;
flambe_input_Key.C.__enum__ = flambe_input_Key;
flambe_input_Key.D = ["D",3];
flambe_input_Key.D.toString = $estr;
flambe_input_Key.D.__enum__ = flambe_input_Key;
flambe_input_Key.E = ["E",4];
flambe_input_Key.E.toString = $estr;
flambe_input_Key.E.__enum__ = flambe_input_Key;
flambe_input_Key.F = ["F",5];
flambe_input_Key.F.toString = $estr;
flambe_input_Key.F.__enum__ = flambe_input_Key;
flambe_input_Key.G = ["G",6];
flambe_input_Key.G.toString = $estr;
flambe_input_Key.G.__enum__ = flambe_input_Key;
flambe_input_Key.H = ["H",7];
flambe_input_Key.H.toString = $estr;
flambe_input_Key.H.__enum__ = flambe_input_Key;
flambe_input_Key.I = ["I",8];
flambe_input_Key.I.toString = $estr;
flambe_input_Key.I.__enum__ = flambe_input_Key;
flambe_input_Key.J = ["J",9];
flambe_input_Key.J.toString = $estr;
flambe_input_Key.J.__enum__ = flambe_input_Key;
flambe_input_Key.K = ["K",10];
flambe_input_Key.K.toString = $estr;
flambe_input_Key.K.__enum__ = flambe_input_Key;
flambe_input_Key.L = ["L",11];
flambe_input_Key.L.toString = $estr;
flambe_input_Key.L.__enum__ = flambe_input_Key;
flambe_input_Key.M = ["M",12];
flambe_input_Key.M.toString = $estr;
flambe_input_Key.M.__enum__ = flambe_input_Key;
flambe_input_Key.N = ["N",13];
flambe_input_Key.N.toString = $estr;
flambe_input_Key.N.__enum__ = flambe_input_Key;
flambe_input_Key.O = ["O",14];
flambe_input_Key.O.toString = $estr;
flambe_input_Key.O.__enum__ = flambe_input_Key;
flambe_input_Key.P = ["P",15];
flambe_input_Key.P.toString = $estr;
flambe_input_Key.P.__enum__ = flambe_input_Key;
flambe_input_Key.Q = ["Q",16];
flambe_input_Key.Q.toString = $estr;
flambe_input_Key.Q.__enum__ = flambe_input_Key;
flambe_input_Key.R = ["R",17];
flambe_input_Key.R.toString = $estr;
flambe_input_Key.R.__enum__ = flambe_input_Key;
flambe_input_Key.S = ["S",18];
flambe_input_Key.S.toString = $estr;
flambe_input_Key.S.__enum__ = flambe_input_Key;
flambe_input_Key.T = ["T",19];
flambe_input_Key.T.toString = $estr;
flambe_input_Key.T.__enum__ = flambe_input_Key;
flambe_input_Key.U = ["U",20];
flambe_input_Key.U.toString = $estr;
flambe_input_Key.U.__enum__ = flambe_input_Key;
flambe_input_Key.V = ["V",21];
flambe_input_Key.V.toString = $estr;
flambe_input_Key.V.__enum__ = flambe_input_Key;
flambe_input_Key.W = ["W",22];
flambe_input_Key.W.toString = $estr;
flambe_input_Key.W.__enum__ = flambe_input_Key;
flambe_input_Key.X = ["X",23];
flambe_input_Key.X.toString = $estr;
flambe_input_Key.X.__enum__ = flambe_input_Key;
flambe_input_Key.Y = ["Y",24];
flambe_input_Key.Y.toString = $estr;
flambe_input_Key.Y.__enum__ = flambe_input_Key;
flambe_input_Key.Z = ["Z",25];
flambe_input_Key.Z.toString = $estr;
flambe_input_Key.Z.__enum__ = flambe_input_Key;
flambe_input_Key.Number0 = ["Number0",26];
flambe_input_Key.Number0.toString = $estr;
flambe_input_Key.Number0.__enum__ = flambe_input_Key;
flambe_input_Key.Number1 = ["Number1",27];
flambe_input_Key.Number1.toString = $estr;
flambe_input_Key.Number1.__enum__ = flambe_input_Key;
flambe_input_Key.Number2 = ["Number2",28];
flambe_input_Key.Number2.toString = $estr;
flambe_input_Key.Number2.__enum__ = flambe_input_Key;
flambe_input_Key.Number3 = ["Number3",29];
flambe_input_Key.Number3.toString = $estr;
flambe_input_Key.Number3.__enum__ = flambe_input_Key;
flambe_input_Key.Number4 = ["Number4",30];
flambe_input_Key.Number4.toString = $estr;
flambe_input_Key.Number4.__enum__ = flambe_input_Key;
flambe_input_Key.Number5 = ["Number5",31];
flambe_input_Key.Number5.toString = $estr;
flambe_input_Key.Number5.__enum__ = flambe_input_Key;
flambe_input_Key.Number6 = ["Number6",32];
flambe_input_Key.Number6.toString = $estr;
flambe_input_Key.Number6.__enum__ = flambe_input_Key;
flambe_input_Key.Number7 = ["Number7",33];
flambe_input_Key.Number7.toString = $estr;
flambe_input_Key.Number7.__enum__ = flambe_input_Key;
flambe_input_Key.Number8 = ["Number8",34];
flambe_input_Key.Number8.toString = $estr;
flambe_input_Key.Number8.__enum__ = flambe_input_Key;
flambe_input_Key.Number9 = ["Number9",35];
flambe_input_Key.Number9.toString = $estr;
flambe_input_Key.Number9.__enum__ = flambe_input_Key;
flambe_input_Key.Numpad0 = ["Numpad0",36];
flambe_input_Key.Numpad0.toString = $estr;
flambe_input_Key.Numpad0.__enum__ = flambe_input_Key;
flambe_input_Key.Numpad1 = ["Numpad1",37];
flambe_input_Key.Numpad1.toString = $estr;
flambe_input_Key.Numpad1.__enum__ = flambe_input_Key;
flambe_input_Key.Numpad2 = ["Numpad2",38];
flambe_input_Key.Numpad2.toString = $estr;
flambe_input_Key.Numpad2.__enum__ = flambe_input_Key;
flambe_input_Key.Numpad3 = ["Numpad3",39];
flambe_input_Key.Numpad3.toString = $estr;
flambe_input_Key.Numpad3.__enum__ = flambe_input_Key;
flambe_input_Key.Numpad4 = ["Numpad4",40];
flambe_input_Key.Numpad4.toString = $estr;
flambe_input_Key.Numpad4.__enum__ = flambe_input_Key;
flambe_input_Key.Numpad5 = ["Numpad5",41];
flambe_input_Key.Numpad5.toString = $estr;
flambe_input_Key.Numpad5.__enum__ = flambe_input_Key;
flambe_input_Key.Numpad6 = ["Numpad6",42];
flambe_input_Key.Numpad6.toString = $estr;
flambe_input_Key.Numpad6.__enum__ = flambe_input_Key;
flambe_input_Key.Numpad7 = ["Numpad7",43];
flambe_input_Key.Numpad7.toString = $estr;
flambe_input_Key.Numpad7.__enum__ = flambe_input_Key;
flambe_input_Key.Numpad8 = ["Numpad8",44];
flambe_input_Key.Numpad8.toString = $estr;
flambe_input_Key.Numpad8.__enum__ = flambe_input_Key;
flambe_input_Key.Numpad9 = ["Numpad9",45];
flambe_input_Key.Numpad9.toString = $estr;
flambe_input_Key.Numpad9.__enum__ = flambe_input_Key;
flambe_input_Key.NumpadAdd = ["NumpadAdd",46];
flambe_input_Key.NumpadAdd.toString = $estr;
flambe_input_Key.NumpadAdd.__enum__ = flambe_input_Key;
flambe_input_Key.NumpadDecimal = ["NumpadDecimal",47];
flambe_input_Key.NumpadDecimal.toString = $estr;
flambe_input_Key.NumpadDecimal.__enum__ = flambe_input_Key;
flambe_input_Key.NumpadDivide = ["NumpadDivide",48];
flambe_input_Key.NumpadDivide.toString = $estr;
flambe_input_Key.NumpadDivide.__enum__ = flambe_input_Key;
flambe_input_Key.NumpadEnter = ["NumpadEnter",49];
flambe_input_Key.NumpadEnter.toString = $estr;
flambe_input_Key.NumpadEnter.__enum__ = flambe_input_Key;
flambe_input_Key.NumpadMultiply = ["NumpadMultiply",50];
flambe_input_Key.NumpadMultiply.toString = $estr;
flambe_input_Key.NumpadMultiply.__enum__ = flambe_input_Key;
flambe_input_Key.NumpadSubtract = ["NumpadSubtract",51];
flambe_input_Key.NumpadSubtract.toString = $estr;
flambe_input_Key.NumpadSubtract.__enum__ = flambe_input_Key;
flambe_input_Key.F1 = ["F1",52];
flambe_input_Key.F1.toString = $estr;
flambe_input_Key.F1.__enum__ = flambe_input_Key;
flambe_input_Key.F2 = ["F2",53];
flambe_input_Key.F2.toString = $estr;
flambe_input_Key.F2.__enum__ = flambe_input_Key;
flambe_input_Key.F3 = ["F3",54];
flambe_input_Key.F3.toString = $estr;
flambe_input_Key.F3.__enum__ = flambe_input_Key;
flambe_input_Key.F4 = ["F4",55];
flambe_input_Key.F4.toString = $estr;
flambe_input_Key.F4.__enum__ = flambe_input_Key;
flambe_input_Key.F5 = ["F5",56];
flambe_input_Key.F5.toString = $estr;
flambe_input_Key.F5.__enum__ = flambe_input_Key;
flambe_input_Key.F6 = ["F6",57];
flambe_input_Key.F6.toString = $estr;
flambe_input_Key.F6.__enum__ = flambe_input_Key;
flambe_input_Key.F7 = ["F7",58];
flambe_input_Key.F7.toString = $estr;
flambe_input_Key.F7.__enum__ = flambe_input_Key;
flambe_input_Key.F8 = ["F8",59];
flambe_input_Key.F8.toString = $estr;
flambe_input_Key.F8.__enum__ = flambe_input_Key;
flambe_input_Key.F9 = ["F9",60];
flambe_input_Key.F9.toString = $estr;
flambe_input_Key.F9.__enum__ = flambe_input_Key;
flambe_input_Key.F10 = ["F10",61];
flambe_input_Key.F10.toString = $estr;
flambe_input_Key.F10.__enum__ = flambe_input_Key;
flambe_input_Key.F11 = ["F11",62];
flambe_input_Key.F11.toString = $estr;
flambe_input_Key.F11.__enum__ = flambe_input_Key;
flambe_input_Key.F12 = ["F12",63];
flambe_input_Key.F12.toString = $estr;
flambe_input_Key.F12.__enum__ = flambe_input_Key;
flambe_input_Key.F13 = ["F13",64];
flambe_input_Key.F13.toString = $estr;
flambe_input_Key.F13.__enum__ = flambe_input_Key;
flambe_input_Key.F14 = ["F14",65];
flambe_input_Key.F14.toString = $estr;
flambe_input_Key.F14.__enum__ = flambe_input_Key;
flambe_input_Key.F15 = ["F15",66];
flambe_input_Key.F15.toString = $estr;
flambe_input_Key.F15.__enum__ = flambe_input_Key;
flambe_input_Key.Left = ["Left",67];
flambe_input_Key.Left.toString = $estr;
flambe_input_Key.Left.__enum__ = flambe_input_Key;
flambe_input_Key.Up = ["Up",68];
flambe_input_Key.Up.toString = $estr;
flambe_input_Key.Up.__enum__ = flambe_input_Key;
flambe_input_Key.Right = ["Right",69];
flambe_input_Key.Right.toString = $estr;
flambe_input_Key.Right.__enum__ = flambe_input_Key;
flambe_input_Key.Down = ["Down",70];
flambe_input_Key.Down.toString = $estr;
flambe_input_Key.Down.__enum__ = flambe_input_Key;
flambe_input_Key.Alt = ["Alt",71];
flambe_input_Key.Alt.toString = $estr;
flambe_input_Key.Alt.__enum__ = flambe_input_Key;
flambe_input_Key.Backquote = ["Backquote",72];
flambe_input_Key.Backquote.toString = $estr;
flambe_input_Key.Backquote.__enum__ = flambe_input_Key;
flambe_input_Key.Backslash = ["Backslash",73];
flambe_input_Key.Backslash.toString = $estr;
flambe_input_Key.Backslash.__enum__ = flambe_input_Key;
flambe_input_Key.Backspace = ["Backspace",74];
flambe_input_Key.Backspace.toString = $estr;
flambe_input_Key.Backspace.__enum__ = flambe_input_Key;
flambe_input_Key.CapsLock = ["CapsLock",75];
flambe_input_Key.CapsLock.toString = $estr;
flambe_input_Key.CapsLock.__enum__ = flambe_input_Key;
flambe_input_Key.Comma = ["Comma",76];
flambe_input_Key.Comma.toString = $estr;
flambe_input_Key.Comma.__enum__ = flambe_input_Key;
flambe_input_Key.Command = ["Command",77];
flambe_input_Key.Command.toString = $estr;
flambe_input_Key.Command.__enum__ = flambe_input_Key;
flambe_input_Key.Control = ["Control",78];
flambe_input_Key.Control.toString = $estr;
flambe_input_Key.Control.__enum__ = flambe_input_Key;
flambe_input_Key.Delete = ["Delete",79];
flambe_input_Key.Delete.toString = $estr;
flambe_input_Key.Delete.__enum__ = flambe_input_Key;
flambe_input_Key.End = ["End",80];
flambe_input_Key.End.toString = $estr;
flambe_input_Key.End.__enum__ = flambe_input_Key;
flambe_input_Key.Enter = ["Enter",81];
flambe_input_Key.Enter.toString = $estr;
flambe_input_Key.Enter.__enum__ = flambe_input_Key;
flambe_input_Key.Equals = ["Equals",82];
flambe_input_Key.Equals.toString = $estr;
flambe_input_Key.Equals.__enum__ = flambe_input_Key;
flambe_input_Key.Escape = ["Escape",83];
flambe_input_Key.Escape.toString = $estr;
flambe_input_Key.Escape.__enum__ = flambe_input_Key;
flambe_input_Key.Home = ["Home",84];
flambe_input_Key.Home.toString = $estr;
flambe_input_Key.Home.__enum__ = flambe_input_Key;
flambe_input_Key.Insert = ["Insert",85];
flambe_input_Key.Insert.toString = $estr;
flambe_input_Key.Insert.__enum__ = flambe_input_Key;
flambe_input_Key.LeftBracket = ["LeftBracket",86];
flambe_input_Key.LeftBracket.toString = $estr;
flambe_input_Key.LeftBracket.__enum__ = flambe_input_Key;
flambe_input_Key.Minus = ["Minus",87];
flambe_input_Key.Minus.toString = $estr;
flambe_input_Key.Minus.__enum__ = flambe_input_Key;
flambe_input_Key.PageDown = ["PageDown",88];
flambe_input_Key.PageDown.toString = $estr;
flambe_input_Key.PageDown.__enum__ = flambe_input_Key;
flambe_input_Key.PageUp = ["PageUp",89];
flambe_input_Key.PageUp.toString = $estr;
flambe_input_Key.PageUp.__enum__ = flambe_input_Key;
flambe_input_Key.Period = ["Period",90];
flambe_input_Key.Period.toString = $estr;
flambe_input_Key.Period.__enum__ = flambe_input_Key;
flambe_input_Key.Quote = ["Quote",91];
flambe_input_Key.Quote.toString = $estr;
flambe_input_Key.Quote.__enum__ = flambe_input_Key;
flambe_input_Key.RightBracket = ["RightBracket",92];
flambe_input_Key.RightBracket.toString = $estr;
flambe_input_Key.RightBracket.__enum__ = flambe_input_Key;
flambe_input_Key.Semicolon = ["Semicolon",93];
flambe_input_Key.Semicolon.toString = $estr;
flambe_input_Key.Semicolon.__enum__ = flambe_input_Key;
flambe_input_Key.Shift = ["Shift",94];
flambe_input_Key.Shift.toString = $estr;
flambe_input_Key.Shift.__enum__ = flambe_input_Key;
flambe_input_Key.Slash = ["Slash",95];
flambe_input_Key.Slash.toString = $estr;
flambe_input_Key.Slash.__enum__ = flambe_input_Key;
flambe_input_Key.Space = ["Space",96];
flambe_input_Key.Space.toString = $estr;
flambe_input_Key.Space.__enum__ = flambe_input_Key;
flambe_input_Key.Tab = ["Tab",97];
flambe_input_Key.Tab.toString = $estr;
flambe_input_Key.Tab.__enum__ = flambe_input_Key;
flambe_input_Key.Menu = ["Menu",98];
flambe_input_Key.Menu.toString = $estr;
flambe_input_Key.Menu.__enum__ = flambe_input_Key;
flambe_input_Key.Search = ["Search",99];
flambe_input_Key.Search.toString = $estr;
flambe_input_Key.Search.__enum__ = flambe_input_Key;
flambe_input_Key.Unknown = function(keyCode) { var $x = ["Unknown",100,keyCode]; $x.__enum__ = flambe_input_Key; $x.toString = $estr; return $x; };
var flambe_input_KeyboardEvent = function() {
	this.init(0,null);
};
$hxClasses["flambe.input.KeyboardEvent"] = flambe_input_KeyboardEvent;
flambe_input_KeyboardEvent.__name__ = ["flambe","input","KeyboardEvent"];
flambe_input_KeyboardEvent.prototype = {
	init: function(id,key) {
		this.id = id;
		this.key = key;
	}
	,__class__: flambe_input_KeyboardEvent
};
var flambe_input_MouseButton = $hxClasses["flambe.input.MouseButton"] = { __ename__ : true, __constructs__ : ["Left","Middle","Right","Unknown"] };
flambe_input_MouseButton.Left = ["Left",0];
flambe_input_MouseButton.Left.toString = $estr;
flambe_input_MouseButton.Left.__enum__ = flambe_input_MouseButton;
flambe_input_MouseButton.Middle = ["Middle",1];
flambe_input_MouseButton.Middle.toString = $estr;
flambe_input_MouseButton.Middle.__enum__ = flambe_input_MouseButton;
flambe_input_MouseButton.Right = ["Right",2];
flambe_input_MouseButton.Right.toString = $estr;
flambe_input_MouseButton.Right.__enum__ = flambe_input_MouseButton;
flambe_input_MouseButton.Unknown = function(buttonCode) { var $x = ["Unknown",3,buttonCode]; $x.__enum__ = flambe_input_MouseButton; $x.toString = $estr; return $x; };
var flambe_input_MouseCursor = $hxClasses["flambe.input.MouseCursor"] = { __ename__ : true, __constructs__ : ["Default","Button","None"] };
flambe_input_MouseCursor.Default = ["Default",0];
flambe_input_MouseCursor.Default.toString = $estr;
flambe_input_MouseCursor.Default.__enum__ = flambe_input_MouseCursor;
flambe_input_MouseCursor.Button = ["Button",1];
flambe_input_MouseCursor.Button.toString = $estr;
flambe_input_MouseCursor.Button.__enum__ = flambe_input_MouseCursor;
flambe_input_MouseCursor.None = ["None",2];
flambe_input_MouseCursor.None.toString = $estr;
flambe_input_MouseCursor.None.__enum__ = flambe_input_MouseCursor;
var flambe_input_MouseEvent = function() {
	this.init(0,0,0,null);
};
$hxClasses["flambe.input.MouseEvent"] = flambe_input_MouseEvent;
flambe_input_MouseEvent.__name__ = ["flambe","input","MouseEvent"];
flambe_input_MouseEvent.prototype = {
	init: function(id,viewX,viewY,button) {
		this.id = id;
		this.viewX = viewX;
		this.viewY = viewY;
		this.button = button;
	}
	,__class__: flambe_input_MouseEvent
};
var flambe_input_EventSource = $hxClasses["flambe.input.EventSource"] = { __ename__ : true, __constructs__ : ["Mouse","Touch"] };
flambe_input_EventSource.Mouse = function(event) { var $x = ["Mouse",0,event]; $x.__enum__ = flambe_input_EventSource; $x.toString = $estr; return $x; };
flambe_input_EventSource.Touch = function(point) { var $x = ["Touch",1,point]; $x.__enum__ = flambe_input_EventSource; $x.toString = $estr; return $x; };
var flambe_input_PointerEvent = function() {
	this.init(0,0,0,null,null);
};
$hxClasses["flambe.input.PointerEvent"] = flambe_input_PointerEvent;
flambe_input_PointerEvent.__name__ = ["flambe","input","PointerEvent"];
flambe_input_PointerEvent.prototype = {
	init: function(id,viewX,viewY,hit,source) {
		this.id = id;
		this.viewX = viewX;
		this.viewY = viewY;
		this.hit = hit;
		this.source = source;
		this._stopped = false;
	}
	,__class__: flambe_input_PointerEvent
};
var flambe_input_TouchPoint = function(id) {
	this.id = id;
	this._source = flambe_input_EventSource.Touch(this);
};
$hxClasses["flambe.input.TouchPoint"] = flambe_input_TouchPoint;
flambe_input_TouchPoint.__name__ = ["flambe","input","TouchPoint"];
flambe_input_TouchPoint.prototype = {
	init: function(viewX,viewY) {
		this.viewX = viewX;
		this.viewY = viewY;
	}
	,__class__: flambe_input_TouchPoint
};
var flambe_math_FMath = function() { };
$hxClasses["flambe.math.FMath"] = flambe_math_FMath;
flambe_math_FMath.__name__ = ["flambe","math","FMath"];
flambe_math_FMath.clamp = function(value,min,max) {
	if(value < min) {
		return min;
	} else if(value > max) {
		return max;
	} else {
		return value;
	}
};
var flambe_math_Matrix = function() {
	this.identity();
};
$hxClasses["flambe.math.Matrix"] = flambe_math_Matrix;
flambe_math_Matrix.__name__ = ["flambe","math","Matrix"];
flambe_math_Matrix.multiply = function(lhs,rhs,result) {
	if(result == null) {
		result = new flambe_math_Matrix();
	}
	var a = lhs.m00 * rhs.m00 + lhs.m01 * rhs.m10;
	var b = lhs.m00 * rhs.m01 + lhs.m01 * rhs.m11;
	var c = lhs.m00 * rhs.m02 + lhs.m01 * rhs.m12 + lhs.m02;
	result.m00 = a;
	result.m01 = b;
	result.m02 = c;
	a = lhs.m10 * rhs.m00 + lhs.m11 * rhs.m10;
	b = lhs.m10 * rhs.m01 + lhs.m11 * rhs.m11;
	c = lhs.m10 * rhs.m02 + lhs.m11 * rhs.m12 + lhs.m12;
	result.m10 = a;
	result.m11 = b;
	result.m12 = c;
	return result;
};
flambe_math_Matrix.prototype = {
	set: function(m00,m10,m01,m11,m02,m12) {
		this.m00 = m00;
		this.m01 = m01;
		this.m02 = m02;
		this.m10 = m10;
		this.m11 = m11;
		this.m12 = m12;
	}
	,identity: function() {
		this.set(1,0,0,1,0,0);
	}
	,compose: function(x,y,scaleX,scaleY,rotation) {
		var sin = Math.sin(rotation);
		var cos = Math.cos(rotation);
		this.set(cos * scaleX,sin * scaleX,-sin * scaleY,cos * scaleY,x,y);
	}
	,translate: function(x,y) {
		this.m02 += this.m00 * x + this.m01 * y;
		this.m12 += this.m11 * y + this.m10 * x;
	}
	,determinant: function() {
		return this.m00 * this.m11 - this.m01 * this.m10;
	}
	,inverseTransform: function(x,y,result) {
		var det = this.determinant();
		if(det == 0) {
			return false;
		}
		x -= this.m02;
		y -= this.m12;
		result.x = (x * this.m11 - y * this.m01) / det;
		result.y = (y * this.m00 - x * this.m10) / det;
		return true;
	}
	,__class__: flambe_math_Matrix
};
var flambe_math_Rectangle = function(x,y,width,height) {
	if(height == null) {
		height = 0;
	}
	if(width == null) {
		width = 0;
	}
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.set(x,y,width,height);
};
$hxClasses["flambe.math.Rectangle"] = flambe_math_Rectangle;
flambe_math_Rectangle.__name__ = ["flambe","math","Rectangle"];
flambe_math_Rectangle.prototype = {
	set: function(x,y,width,height) {
		this.x = x;
		this.y = y;
		this.width = width;
		this.height = height;
	}
	,contains: function(x,y) {
		x -= this.x;
		if(this.width >= 0) {
			if(x < 0 || x > this.width) {
				return false;
			}
		} else if(x > 0 || x < this.width) {
			return false;
		}
		y -= this.y;
		if(this.height >= 0) {
			if(y < 0 || y > this.height) {
				return false;
			}
		} else if(y > 0 || y < this.height) {
			return false;
		}
		return true;
	}
	,__class__: flambe_math_Rectangle
};
var flambe_platform_BasicAsset = function() {
	this._disposed = false;
};
$hxClasses["flambe.platform.BasicAsset"] = flambe_platform_BasicAsset;
flambe_platform_BasicAsset.__name__ = ["flambe","platform","BasicAsset"];
flambe_platform_BasicAsset.__interfaces__ = [flambe_asset_Asset];
flambe_platform_BasicAsset.prototype = {
	dispose: function() {
		if(!this._disposed) {
			this._disposed = true;
			this.onDisposed();
		}
	}
	,onDisposed: function() {
	}
	,__class__: flambe_platform_BasicAsset
};
var flambe_platform_BasicAssetPackLoader = function(platform,manifest) {
	var _gthis = this;
	this.manifest = manifest;
	this._platform = platform;
	this.promise = new flambe_util_Promise();
	this._bytesLoaded = new haxe_ds_StringMap();
	this._pack = new flambe_platform__$BasicAssetPackLoader_BasicAssetPack(manifest,this);
	var entries = Lambda.array(manifest);
	if(entries.length == 0) {
		this.handleSuccess();
	} else {
		var groups = new haxe_ds_StringMap();
		var _g = 0;
		while(_g < entries.length) {
			var entry = entries[_g];
			++_g;
			var key = entry.name;
			var group = __map_reserved[key] != null ? groups.getReserved(key) : groups.h[key];
			if(group == null) {
				group = [];
				var key1 = entry.name;
				if(__map_reserved[key1] != null) {
					groups.setReserved(key1,group);
				} else {
					groups.h[key1] = group;
				}
			}
			group.push(entry);
		}
		this._assetsRemaining = Lambda.count(groups);
		var group1 = new haxe_ds__$StringMap_StringMapIterator(groups,groups.arrayKeys());
		while(group1.hasNext()) {
			var group2 = group1.next();
			var group3 = [group2];
			this.pickBestEntry(group3[0],(function(group4) {
				return function(bestEntry) {
					if(bestEntry != null) {
						var url = manifest.getFullURL(bestEntry);
						try {
							_gthis.loadEntry(url,bestEntry);
						} catch( error ) {
							if (error instanceof js__$Boot_HaxeError) error = error.val;
							_gthis.handleError(bestEntry,"Unexpected error: " + Std.string(error));
						}
						var _g1 = _gthis.promise;
						_g1.set_total(_g1._total + bestEntry.bytes);
					} else {
						var badEntry = group4[0][0];
						if(flambe_platform_BasicAssetPackLoader.isAudio(badEntry.format)) {
							var args_0 = "name";
							var args_1 = badEntry.name;
							var _this = flambe_Log.logger;
							var tmp = flambe_platform_DummySound.getInstance();
							_gthis.handleLoad(badEntry,tmp);
						} else {
							_gthis.handleError(badEntry,"Could not find a supported format to load");
						}
					}
				};
			})(group3));
		}
	}
};
$hxClasses["flambe.platform.BasicAssetPackLoader"] = flambe_platform_BasicAssetPackLoader;
flambe_platform_BasicAssetPackLoader.__name__ = ["flambe","platform","BasicAssetPackLoader"];
flambe_platform_BasicAssetPackLoader.isAudio = function(format) {
	switch(format[1]) {
	case 8:case 9:case 10:case 11:case 12:
		return true;
	default:
		return false;
	}
};
flambe_platform_BasicAssetPackLoader.prototype = {
	onDisposed: function() {
	}
	,pickBestEntry: function(entries,fn) {
		var onFormatsAvailable = function(formats) {
			var _g = 0;
			while(_g < formats.length) {
				var format = formats[_g];
				++_g;
				var _g1 = 0;
				while(_g1 < entries.length) {
					var entry = entries[_g1];
					++_g1;
					if(entry.format == format) {
						fn(entry);
						return;
					}
				}
			}
			fn(null);
		};
		this.getAssetFormats(onFormatsAvailable);
	}
	,loadEntry: function(url,entry) {
	}
	,getAssetFormats: function(fn) {
	}
	,handleLoad: function(entry,asset) {
		if(this._pack.disposed) {
			return;
		}
		this.handleProgress(entry,entry.bytes);
		var map;
		var _g = entry.format;
		switch(_g[1]) {
		case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:
			map = this._pack.textures;
			break;
		case 8:case 9:case 10:case 11:case 12:
			map = this._pack.sounds;
			break;
		case 13:
			map = this._pack.files;
			break;
		}
		var key = entry.name;
		if(__map_reserved[key] != null) {
			map.setReserved(key,asset);
		} else {
			map.h[key] = asset;
		}
		this._assetsRemaining -= 1;
		if(this._assetsRemaining == 0) {
			this.handleSuccess();
		}
	}
	,handleProgress: function(entry,bytesLoaded) {
		var key = entry.name;
		var _this = this._bytesLoaded;
		if(__map_reserved[key] != null) {
			_this.setReserved(key,bytesLoaded);
		} else {
			_this.h[key] = bytesLoaded;
		}
		var bytesTotal = 0;
		var _this1 = this._bytesLoaded;
		var bytes = new haxe_ds__$StringMap_StringMapIterator(_this1,_this1.arrayKeys());
		while(bytes.hasNext()) {
			var bytes1 = bytes.next();
			bytesTotal += bytes1;
		}
		this.promise.set_progress(bytesTotal);
	}
	,handleSuccess: function() {
		this.promise.set_result(this._pack);
	}
	,handleError: function(entry,message) {
		var args_0 = "error";
		var args_1 = message;
		var args_2 = "url";
		var args_3 = entry.url;
		var _this = flambe_Log.logger;
		this.promise.error.emit(flambe_util_Strings.withFields(message,["url",entry.url]));
	}
	,handleTextureError: function(entry) {
		this.handleError(entry,"Failed to create texture. Is the GPU context unavailable?");
	}
	,__class__: flambe_platform_BasicAssetPackLoader
};
var flambe_platform__$BasicAssetPackLoader_BasicAssetPack = function(manifest,loader) {
	this.disposed = false;
	this._manifest = manifest;
	this.loader = loader;
	this.textures = new haxe_ds_StringMap();
	this.sounds = new haxe_ds_StringMap();
	this.files = new haxe_ds_StringMap();
};
$hxClasses["flambe.platform._BasicAssetPackLoader.BasicAssetPack"] = flambe_platform__$BasicAssetPackLoader_BasicAssetPack;
flambe_platform__$BasicAssetPackLoader_BasicAssetPack.__name__ = ["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];
flambe_platform__$BasicAssetPackLoader_BasicAssetPack.__interfaces__ = [flambe_asset_AssetPack];
flambe_platform__$BasicAssetPackLoader_BasicAssetPack.prototype = {
	getTexture: function(name,required) {
		if(required == null) {
			required = true;
		}
		var condition = !this.disposed;
		var _this = this.textures;
		var texture = __map_reserved[name] != null ? _this.getReserved(name) : _this.h[name];
		if(texture == null && required) {
			throw new js__$Boot_HaxeError(flambe_util_Strings.withFields("Missing texture",["name",name]));
		}
		return texture;
	}
	,getSound: function(name,required) {
		if(required == null) {
			required = true;
		}
		var condition = !this.disposed;
		var _this = this.sounds;
		var sound = __map_reserved[name] != null ? _this.getReserved(name) : _this.h[name];
		if(sound == null && required) {
			throw new js__$Boot_HaxeError(flambe_util_Strings.withFields("Missing sound",["name",name]));
		}
		return sound;
	}
	,getFile: function(name,required) {
		if(required == null) {
			required = true;
		}
		var condition = !this.disposed;
		var _this = this.files;
		var file = __map_reserved[name] != null ? _this.getReserved(name) : _this.h[name];
		if(file == null && required) {
			throw new js__$Boot_HaxeError(flambe_util_Strings.withFields("Missing file",["name",name]));
		}
		return file;
	}
	,dispose: function() {
		if(!this.disposed) {
			this.disposed = true;
			var _this = this.textures;
			var texture = new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys());
			while(texture.hasNext()) {
				var texture1 = texture.next();
				texture1.dispose();
			}
			this.textures = null;
			var _this1 = this.sounds;
			var sound = new haxe_ds__$StringMap_StringMapIterator(_this1,_this1.arrayKeys());
			while(sound.hasNext()) {
				var sound1 = sound.next();
				sound1.dispose();
			}
			this.sounds = null;
			var _this2 = this.files;
			var file = new haxe_ds__$StringMap_StringMapIterator(_this2,_this2.arrayKeys());
			while(file.hasNext()) {
				var file1 = file.next();
				file1.dispose();
			}
			this.files = null;
			this.loader.onDisposed();
		}
	}
	,get_manifest: function() {
		return this._manifest;
	}
	,__class__: flambe_platform__$BasicAssetPackLoader_BasicAssetPack
	,__properties__: {get_manifest:"get_manifest"}
};
var flambe_platform_BasicFile = function(content) {
	flambe_platform_BasicAsset.call(this);
	this._content = content;
};
$hxClasses["flambe.platform.BasicFile"] = flambe_platform_BasicFile;
flambe_platform_BasicFile.__name__ = ["flambe","platform","BasicFile"];
flambe_platform_BasicFile.__interfaces__ = [flambe_asset_File];
flambe_platform_BasicFile.__super__ = flambe_platform_BasicAsset;
flambe_platform_BasicFile.prototype = $extend(flambe_platform_BasicAsset.prototype,{
	toString: function() {
		var condition = !this._disposed;
		return this._content;
	}
	,onDisposed: function() {
		this._content = null;
	}
	,__class__: flambe_platform_BasicFile
});
var flambe_subsystem_KeyboardSystem = function() { };
$hxClasses["flambe.subsystem.KeyboardSystem"] = flambe_subsystem_KeyboardSystem;
flambe_subsystem_KeyboardSystem.__name__ = ["flambe","subsystem","KeyboardSystem"];
flambe_subsystem_KeyboardSystem.prototype = {
	__class__: flambe_subsystem_KeyboardSystem
};
var flambe_platform_BasicKeyboard = function() {
	this.down = new flambe_util_Signal1();
	this.up = new flambe_util_Signal1();
	this.backButton = new flambe_util_Signal0();
	this._keyStates = new haxe_ds_IntMap();
};
$hxClasses["flambe.platform.BasicKeyboard"] = flambe_platform_BasicKeyboard;
flambe_platform_BasicKeyboard.__name__ = ["flambe","platform","BasicKeyboard"];
flambe_platform_BasicKeyboard.__interfaces__ = [flambe_subsystem_KeyboardSystem];
flambe_platform_BasicKeyboard.prototype = {
	isDown: function(key) {
		var keyCode = flambe_platform_KeyCodes.toKeyCode(key);
		return this._keyStates.exists(keyCode);
	}
	,submitDown: function(keyCode) {
		if(keyCode == 16777238) {
			if(this.backButton._head != null) {
				this.backButton.emit();
				return true;
			}
			return false;
		}
		if(!this._keyStates.exists(keyCode)) {
			this._keyStates.h[keyCode] = true;
			flambe_platform_BasicKeyboard._sharedEvent.init(flambe_platform_BasicKeyboard._sharedEvent.id + 1,flambe_platform_KeyCodes.toKey(keyCode));
			this.down.emit(flambe_platform_BasicKeyboard._sharedEvent);
		}
		return true;
	}
	,submitUp: function(keyCode) {
		if(this._keyStates.exists(keyCode)) {
			this._keyStates.remove(keyCode);
			flambe_platform_BasicKeyboard._sharedEvent.init(flambe_platform_BasicKeyboard._sharedEvent.id + 1,flambe_platform_KeyCodes.toKey(keyCode));
			this.up.emit(flambe_platform_BasicKeyboard._sharedEvent);
		}
	}
	,__class__: flambe_platform_BasicKeyboard
};
var flambe_subsystem_MouseSystem = function() { };
$hxClasses["flambe.subsystem.MouseSystem"] = flambe_subsystem_MouseSystem;
flambe_subsystem_MouseSystem.__name__ = ["flambe","subsystem","MouseSystem"];
flambe_subsystem_MouseSystem.prototype = {
	__class__: flambe_subsystem_MouseSystem
};
var flambe_platform_BasicMouse = function(pointer) {
	this._pointer = pointer;
	this._source = flambe_input_EventSource.Mouse(flambe_platform_BasicMouse._sharedEvent);
	this.down = new flambe_util_Signal1();
	this.move = new flambe_util_Signal1();
	this.up = new flambe_util_Signal1();
	this.scroll = new flambe_util_Signal1();
	this._x = 0;
	this._y = 0;
	this._cursor = flambe_input_MouseCursor.Default;
	this._buttonStates = new haxe_ds_IntMap();
};
$hxClasses["flambe.platform.BasicMouse"] = flambe_platform_BasicMouse;
flambe_platform_BasicMouse.__name__ = ["flambe","platform","BasicMouse"];
flambe_platform_BasicMouse.__interfaces__ = [flambe_subsystem_MouseSystem];
flambe_platform_BasicMouse.prototype = {
	submitDown: function(viewX,viewY,buttonCode) {
		if(!this._buttonStates.exists(buttonCode)) {
			this._buttonStates.h[buttonCode] = true;
			this.prepare(viewX,viewY,flambe_platform_MouseCodes.toButton(buttonCode));
			this._pointer.submitDown(viewX,viewY,this._source);
			this.down.emit(flambe_platform_BasicMouse._sharedEvent);
		}
	}
	,submitMove: function(viewX,viewY) {
		this.prepare(viewX,viewY,null);
		this._pointer.submitMove(viewX,viewY,this._source);
		this.move.emit(flambe_platform_BasicMouse._sharedEvent);
	}
	,submitUp: function(viewX,viewY,buttonCode) {
		if(this._buttonStates.exists(buttonCode)) {
			this._buttonStates.remove(buttonCode);
			this.prepare(viewX,viewY,flambe_platform_MouseCodes.toButton(buttonCode));
			this._pointer.submitUp(viewX,viewY,this._source);
			this.up.emit(flambe_platform_BasicMouse._sharedEvent);
		}
	}
	,submitScroll: function(viewX,viewY,velocity) {
		this._x = viewX;
		this._y = viewY;
		if(this.scroll._head == null) {
			return false;
		}
		this.scroll.emit(velocity);
		return true;
	}
	,prepare: function(viewX,viewY,button) {
		this._x = viewX;
		this._y = viewY;
		flambe_platform_BasicMouse._sharedEvent.init(flambe_platform_BasicMouse._sharedEvent.id + 1,viewX,viewY,button);
	}
	,__class__: flambe_platform_BasicMouse
};
var flambe_subsystem_PointerSystem = function() { };
$hxClasses["flambe.subsystem.PointerSystem"] = flambe_subsystem_PointerSystem;
flambe_subsystem_PointerSystem.__name__ = ["flambe","subsystem","PointerSystem"];
flambe_subsystem_PointerSystem.prototype = {
	__class__: flambe_subsystem_PointerSystem
	,__properties__: {get_y:"get_y",get_x:"get_x"}
};
var flambe_platform_BasicPointer = function(x,y,isDown) {
	if(isDown == null) {
		isDown = false;
	}
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.down = new flambe_util_Signal1();
	this.move = new flambe_util_Signal1();
	this.up = new flambe_util_Signal1();
	this._x = x;
	this._y = y;
	this._isDown = isDown;
};
$hxClasses["flambe.platform.BasicPointer"] = flambe_platform_BasicPointer;
flambe_platform_BasicPointer.__name__ = ["flambe","platform","BasicPointer"];
flambe_platform_BasicPointer.__interfaces__ = [flambe_subsystem_PointerSystem];
flambe_platform_BasicPointer.prototype = {
	get_x: function() {
		return this._x;
	}
	,get_y: function() {
		return this._y;
	}
	,submitDown: function(viewX,viewY,source) {
		if(this._isDown) {
			return;
		}
		this.submitMove(viewX,viewY,source);
		this._isDown = true;
		var chain = [];
		var hit = flambe_display_Sprite.hitTest(flambe_System.root,viewX,viewY);
		if(hit != null) {
			var entity = hit.owner;
			while(true) {
				var sprite = entity._compMap["Sprite_1"];
				if(sprite != null) {
					chain.push(sprite);
				}
				entity = entity.parent;
				if(!(entity != null)) {
					break;
				}
			}
		}
		this.prepare(viewX,viewY,hit,source);
		var _g = 0;
		while(_g < chain.length) {
			var sprite1 = chain[_g];
			++_g;
			sprite1.onPointerDown(flambe_platform_BasicPointer._sharedEvent);
			if(flambe_platform_BasicPointer._sharedEvent._stopped) {
				return;
			}
		}
		this.down.emit(flambe_platform_BasicPointer._sharedEvent);
	}
	,submitMove: function(viewX,viewY,source) {
		if(viewX == this._x && viewY == this._y) {
			return;
		}
		var chain = [];
		var hit = flambe_display_Sprite.hitTest(flambe_System.root,viewX,viewY);
		if(hit != null) {
			var entity = hit.owner;
			while(true) {
				var sprite = entity._compMap["Sprite_1"];
				if(sprite != null) {
					chain.push(sprite);
				}
				entity = entity.parent;
				if(!(entity != null)) {
					break;
				}
			}
		}
		this.prepare(viewX,viewY,hit,source);
		var _g = 0;
		while(_g < chain.length) {
			var sprite1 = chain[_g];
			++_g;
			sprite1.onPointerMove(flambe_platform_BasicPointer._sharedEvent);
			if(flambe_platform_BasicPointer._sharedEvent._stopped) {
				return;
			}
		}
		this.move.emit(flambe_platform_BasicPointer._sharedEvent);
	}
	,submitUp: function(viewX,viewY,source) {
		if(!this._isDown) {
			return;
		}
		this.submitMove(viewX,viewY,source);
		this._isDown = false;
		var chain = [];
		var hit = flambe_display_Sprite.hitTest(flambe_System.root,viewX,viewY);
		if(hit != null) {
			var entity = hit.owner;
			while(true) {
				var sprite = entity._compMap["Sprite_1"];
				if(sprite != null) {
					chain.push(sprite);
				}
				entity = entity.parent;
				if(!(entity != null)) {
					break;
				}
			}
		}
		this.prepare(viewX,viewY,hit,source);
		var _g = 0;
		while(_g < chain.length) {
			var sprite1 = chain[_g];
			++_g;
			sprite1.onPointerUp(flambe_platform_BasicPointer._sharedEvent);
			if(flambe_platform_BasicPointer._sharedEvent._stopped) {
				return;
			}
		}
		this.up.emit(flambe_platform_BasicPointer._sharedEvent);
	}
	,prepare: function(viewX,viewY,hit,source) {
		this._x = viewX;
		this._y = viewY;
		flambe_platform_BasicPointer._sharedEvent.init(flambe_platform_BasicPointer._sharedEvent.id + 1,viewX,viewY,hit,source);
	}
	,__class__: flambe_platform_BasicPointer
	,__properties__: {get_y:"get_y",get_x:"get_x"}
};
var flambe_platform_BasicTexture = function(root,width,height) {
	this._y = 0;
	this._x = 0;
	this._parent = null;
	this.rootY = 0;
	this.rootX = 0;
	flambe_platform_BasicAsset.call(this);
	this.root = root;
	this._width = width;
	this._height = height;
};
$hxClasses["flambe.platform.BasicTexture"] = flambe_platform_BasicTexture;
flambe_platform_BasicTexture.__name__ = ["flambe","platform","BasicTexture"];
flambe_platform_BasicTexture.__interfaces__ = [flambe_display_SubTexture];
flambe_platform_BasicTexture.__super__ = flambe_platform_BasicAsset;
flambe_platform_BasicTexture.prototype = $extend(flambe_platform_BasicAsset.prototype,{
	subTexture: function(x,y,width,height) {
		var sub = this.root.createTexture(width,height);
		sub._parent = this;
		sub._x = x;
		sub._y = y;
		sub.rootX = this.rootX + x;
		sub.rootY = this.rootY + y;
		return sub;
	}
	,get_graphics: function() {
		return this.root.getGraphics();
	}
	,onDisposed: function() {
		if(this._parent == null) {
			this.root.dispose();
		}
	}
	,get_width: function() {
		return this._width;
	}
	,get_height: function() {
		return this._height;
	}
	,__class__: flambe_platform_BasicTexture
	,__properties__: {get_height:"get_height",get_width:"get_width",get_graphics:"get_graphics"}
});
var flambe_subsystem_TouchSystem = function() { };
$hxClasses["flambe.subsystem.TouchSystem"] = flambe_subsystem_TouchSystem;
flambe_subsystem_TouchSystem.__name__ = ["flambe","subsystem","TouchSystem"];
flambe_subsystem_TouchSystem.prototype = {
	__class__: flambe_subsystem_TouchSystem
	,__properties__: {get_supported:"get_supported"}
};
var flambe_platform_BasicTouch = function(pointer,maxPoints) {
	if(maxPoints == null) {
		maxPoints = 4;
	}
	this._pointer = pointer;
	this._maxPoints = maxPoints;
	this._pointMap = new haxe_ds_IntMap();
	this._points = [];
	this.down = new flambe_util_Signal1();
	this.move = new flambe_util_Signal1();
	this.up = new flambe_util_Signal1();
};
$hxClasses["flambe.platform.BasicTouch"] = flambe_platform_BasicTouch;
flambe_platform_BasicTouch.__name__ = ["flambe","platform","BasicTouch"];
flambe_platform_BasicTouch.__interfaces__ = [flambe_subsystem_TouchSystem];
flambe_platform_BasicTouch.prototype = {
	get_supported: function() {
		return true;
	}
	,submitDown: function(id,viewX,viewY) {
		if(!this._pointMap.h.hasOwnProperty(id)) {
			var point = new flambe_input_TouchPoint(id);
			point.init(viewX,viewY);
			this._pointMap.h[id] = point;
			this._points.push(point);
			if(this._pointerTouch == null) {
				this._pointerTouch = point;
				this._pointer.submitDown(viewX,viewY,point._source);
			}
			this.down.emit(point);
		}
	}
	,submitMove: function(id,viewX,viewY) {
		var point = this._pointMap.h[id];
		if(point != null) {
			point.init(viewX,viewY);
			if(this._pointerTouch == point) {
				this._pointer.submitMove(viewX,viewY,point._source);
			}
			this.move.emit(point);
		}
	}
	,submitUp: function(id,viewX,viewY) {
		var point = this._pointMap.h[id];
		if(point != null) {
			point.init(viewX,viewY);
			this._pointMap.remove(id);
			HxOverrides.remove(this._points,point);
			if(this._pointerTouch == point) {
				this._pointerTouch = null;
				this._pointer.submitUp(viewX,viewY,point._source);
			}
			this.up.emit(point);
		}
	}
	,__class__: flambe_platform_BasicTouch
	,__properties__: {get_supported:"get_supported"}
};
var flambe_sound_Sound = function() { };
$hxClasses["flambe.sound.Sound"] = flambe_sound_Sound;
flambe_sound_Sound.__name__ = ["flambe","sound","Sound"];
flambe_sound_Sound.__interfaces__ = [flambe_asset_Asset];
flambe_sound_Sound.prototype = {
	__class__: flambe_sound_Sound
};
var flambe_platform_DummySound = function() {
	flambe_platform_BasicAsset.call(this);
	this._playback = new flambe_platform_DummyPlayback(this);
};
$hxClasses["flambe.platform.DummySound"] = flambe_platform_DummySound;
flambe_platform_DummySound.__name__ = ["flambe","platform","DummySound"];
flambe_platform_DummySound.__interfaces__ = [flambe_sound_Sound];
flambe_platform_DummySound.getInstance = function() {
	if(flambe_platform_DummySound._instance == null) {
		flambe_platform_DummySound._instance = new flambe_platform_DummySound();
	}
	return flambe_platform_DummySound._instance;
};
flambe_platform_DummySound.__super__ = flambe_platform_BasicAsset;
flambe_platform_DummySound.prototype = $extend(flambe_platform_BasicAsset.prototype,{
	play: function(volume) {
		if(volume == null) {
			volume = 1.0;
		}
		return this._playback;
	}
	,loop: function(volume) {
		if(volume == null) {
			volume = 1.0;
		}
		return this._playback;
	}
	,onDisposed: function() {
	}
	,__class__: flambe_platform_DummySound
});
var flambe_sound_Playback = function() { };
$hxClasses["flambe.sound.Playback"] = flambe_sound_Playback;
flambe_sound_Playback.__name__ = ["flambe","sound","Playback"];
flambe_sound_Playback.__interfaces__ = [flambe_util_Disposable];
flambe_sound_Playback.prototype = {
	__class__: flambe_sound_Playback
	,__properties__: {get_complete:"get_complete"}
};
var flambe_platform_DummyPlayback = function(sound) {
	this._sound = sound;
	this.volume = new flambe_animation_AnimatedFloat(0);
	this._complete = new flambe_util_Value(true);
};
$hxClasses["flambe.platform.DummyPlayback"] = flambe_platform_DummyPlayback;
flambe_platform_DummyPlayback.__name__ = ["flambe","platform","DummyPlayback"];
flambe_platform_DummyPlayback.__interfaces__ = [flambe_sound_Playback];
flambe_platform_DummyPlayback.prototype = {
	get_complete: function() {
		return this._complete;
	}
	,dispose: function() {
	}
	,__class__: flambe_platform_DummyPlayback
	,__properties__: {get_complete:"get_complete"}
};
var flambe_platform_DummyTouch = function() {
	this.down = new flambe_util_Signal1();
	this.move = new flambe_util_Signal1();
	this.up = new flambe_util_Signal1();
};
$hxClasses["flambe.platform.DummyTouch"] = flambe_platform_DummyTouch;
flambe_platform_DummyTouch.__name__ = ["flambe","platform","DummyTouch"];
flambe_platform_DummyTouch.__interfaces__ = [flambe_subsystem_TouchSystem];
flambe_platform_DummyTouch.prototype = {
	get_supported: function() {
		return false;
	}
	,__class__: flambe_platform_DummyTouch
	,__properties__: {get_supported:"get_supported"}
};
var flambe_platform_EventGroup = function() {
	this._entries = [];
};
$hxClasses["flambe.platform.EventGroup"] = flambe_platform_EventGroup;
flambe_platform_EventGroup.__name__ = ["flambe","platform","EventGroup"];
flambe_platform_EventGroup.__interfaces__ = [flambe_util_Disposable];
flambe_platform_EventGroup.prototype = {
	addListener: function(dispatcher,type,listener) {
		dispatcher.addEventListener(type,listener,false);
		this._entries.push(new flambe_platform__$EventGroup_Entry(dispatcher,type,listener));
	}
	,addDisposingListener: function(dispatcher,type,listener) {
		var _gthis = this;
		this.addListener(dispatcher,type,function(event) {
			_gthis.dispose();
			listener(event);
		});
	}
	,dispose: function() {
		var _g = 0;
		var _g1 = this._entries;
		while(_g < _g1.length) {
			var entry = _g1[_g];
			++_g;
			entry.dispatcher.removeEventListener(entry.type,entry.listener,false);
		}
		this._entries = [];
	}
	,__class__: flambe_platform_EventGroup
};
var flambe_platform__$EventGroup_Entry = function(dispatcher,type,listener) {
	this.dispatcher = dispatcher;
	this.type = type;
	this.listener = listener;
};
$hxClasses["flambe.platform._EventGroup.Entry"] = flambe_platform__$EventGroup_Entry;
flambe_platform__$EventGroup_Entry.__name__ = ["flambe","platform","_EventGroup","Entry"];
flambe_platform__$EventGroup_Entry.prototype = {
	__class__: flambe_platform__$EventGroup_Entry
};
var flambe_platform_InternalGraphics = function() { };
$hxClasses["flambe.platform.InternalGraphics"] = flambe_platform_InternalGraphics;
flambe_platform_InternalGraphics.__name__ = ["flambe","platform","InternalGraphics"];
flambe_platform_InternalGraphics.__interfaces__ = [flambe_display_Graphics];
flambe_platform_InternalGraphics.prototype = {
	__class__: flambe_platform_InternalGraphics
};
var flambe_subsystem_RendererSystem = function() { };
$hxClasses["flambe.subsystem.RendererSystem"] = flambe_subsystem_RendererSystem;
flambe_subsystem_RendererSystem.__name__ = ["flambe","subsystem","RendererSystem"];
flambe_subsystem_RendererSystem.prototype = {
	__class__: flambe_subsystem_RendererSystem
	,__properties__: {get_type:"get_type"}
};
var flambe_platform_InternalRenderer = function() { };
$hxClasses["flambe.platform.InternalRenderer"] = flambe_platform_InternalRenderer;
flambe_platform_InternalRenderer.__name__ = ["flambe","platform","InternalRenderer"];
flambe_platform_InternalRenderer.__interfaces__ = [flambe_subsystem_RendererSystem];
flambe_platform_InternalRenderer.prototype = {
	__class__: flambe_platform_InternalRenderer
};
var flambe_platform_KeyCodes = function() { };
$hxClasses["flambe.platform.KeyCodes"] = flambe_platform_KeyCodes;
flambe_platform_KeyCodes.__name__ = ["flambe","platform","KeyCodes"];
flambe_platform_KeyCodes.toKey = function(keyCode) {
	switch(keyCode) {
	case 8:
		return flambe_input_Key.Backspace;
	case 9:
		return flambe_input_Key.Tab;
	case 13:
		return flambe_input_Key.Enter;
	case 15:
		return flambe_input_Key.Command;
	case 16:
		return flambe_input_Key.Shift;
	case 17:
		return flambe_input_Key.Control;
	case 18:
		return flambe_input_Key.Alt;
	case 20:
		return flambe_input_Key.CapsLock;
	case 27:
		return flambe_input_Key.Escape;
	case 32:
		return flambe_input_Key.Space;
	case 33:
		return flambe_input_Key.PageUp;
	case 34:
		return flambe_input_Key.PageDown;
	case 35:
		return flambe_input_Key.End;
	case 36:
		return flambe_input_Key.Home;
	case 37:
		return flambe_input_Key.Left;
	case 38:
		return flambe_input_Key.Up;
	case 39:
		return flambe_input_Key.Right;
	case 40:
		return flambe_input_Key.Down;
	case 45:
		return flambe_input_Key.Insert;
	case 46:
		return flambe_input_Key.Delete;
	case 48:
		return flambe_input_Key.Number0;
	case 49:
		return flambe_input_Key.Number1;
	case 50:
		return flambe_input_Key.Number2;
	case 51:
		return flambe_input_Key.Number3;
	case 52:
		return flambe_input_Key.Number4;
	case 53:
		return flambe_input_Key.Number5;
	case 54:
		return flambe_input_Key.Number6;
	case 55:
		return flambe_input_Key.Number7;
	case 56:
		return flambe_input_Key.Number8;
	case 57:
		return flambe_input_Key.Number9;
	case 65:
		return flambe_input_Key.A;
	case 66:
		return flambe_input_Key.B;
	case 67:
		return flambe_input_Key.C;
	case 68:
		return flambe_input_Key.D;
	case 69:
		return flambe_input_Key.E;
	case 70:
		return flambe_input_Key.F;
	case 71:
		return flambe_input_Key.G;
	case 72:
		return flambe_input_Key.H;
	case 73:
		return flambe_input_Key.I;
	case 74:
		return flambe_input_Key.J;
	case 75:
		return flambe_input_Key.K;
	case 76:
		return flambe_input_Key.L;
	case 77:
		return flambe_input_Key.M;
	case 78:
		return flambe_input_Key.N;
	case 79:
		return flambe_input_Key.O;
	case 80:
		return flambe_input_Key.P;
	case 81:
		return flambe_input_Key.Q;
	case 82:
		return flambe_input_Key.R;
	case 83:
		return flambe_input_Key.S;
	case 84:
		return flambe_input_Key.T;
	case 85:
		return flambe_input_Key.U;
	case 86:
		return flambe_input_Key.V;
	case 87:
		return flambe_input_Key.W;
	case 88:
		return flambe_input_Key.X;
	case 89:
		return flambe_input_Key.Y;
	case 90:
		return flambe_input_Key.Z;
	case 96:
		return flambe_input_Key.Numpad0;
	case 97:
		return flambe_input_Key.Numpad1;
	case 98:
		return flambe_input_Key.Numpad2;
	case 99:
		return flambe_input_Key.Numpad3;
	case 100:
		return flambe_input_Key.Numpad4;
	case 101:
		return flambe_input_Key.Numpad5;
	case 102:
		return flambe_input_Key.Numpad6;
	case 103:
		return flambe_input_Key.Numpad7;
	case 104:
		return flambe_input_Key.Numpad8;
	case 105:
		return flambe_input_Key.Numpad9;
	case 106:
		return flambe_input_Key.NumpadMultiply;
	case 107:
		return flambe_input_Key.NumpadAdd;
	case 108:
		return flambe_input_Key.NumpadEnter;
	case 109:
		return flambe_input_Key.NumpadSubtract;
	case 110:
		return flambe_input_Key.NumpadDecimal;
	case 111:
		return flambe_input_Key.NumpadDivide;
	case 112:
		return flambe_input_Key.F1;
	case 113:
		return flambe_input_Key.F2;
	case 114:
		return flambe_input_Key.F3;
	case 115:
		return flambe_input_Key.F4;
	case 116:
		return flambe_input_Key.F5;
	case 117:
		return flambe_input_Key.F6;
	case 118:
		return flambe_input_Key.F7;
	case 119:
		return flambe_input_Key.F8;
	case 120:
		return flambe_input_Key.F9;
	case 121:
		return flambe_input_Key.F10;
	case 122:
		return flambe_input_Key.F11;
	case 123:
		return flambe_input_Key.F12;
	case 186:
		return flambe_input_Key.Semicolon;
	case 187:
		return flambe_input_Key.Equals;
	case 188:
		return flambe_input_Key.Comma;
	case 189:
		return flambe_input_Key.Minus;
	case 190:
		return flambe_input_Key.Period;
	case 191:
		return flambe_input_Key.Slash;
	case 192:
		return flambe_input_Key.Backquote;
	case 219:
		return flambe_input_Key.LeftBracket;
	case 220:
		return flambe_input_Key.Backslash;
	case 221:
		return flambe_input_Key.RightBracket;
	case 222:
		return flambe_input_Key.Quote;
	case 16777234:
		return flambe_input_Key.Menu;
	case 16777247:
		return flambe_input_Key.Search;
	}
	return flambe_input_Key.Unknown(keyCode);
};
flambe_platform_KeyCodes.toKeyCode = function(key) {
	switch(key[1]) {
	case 0:
		return 65;
	case 1:
		return 66;
	case 2:
		return 67;
	case 3:
		return 68;
	case 4:
		return 69;
	case 5:
		return 70;
	case 6:
		return 71;
	case 7:
		return 72;
	case 8:
		return 73;
	case 9:
		return 74;
	case 10:
		return 75;
	case 11:
		return 76;
	case 12:
		return 77;
	case 13:
		return 78;
	case 14:
		return 79;
	case 15:
		return 80;
	case 16:
		return 81;
	case 17:
		return 82;
	case 18:
		return 83;
	case 19:
		return 84;
	case 20:
		return 85;
	case 21:
		return 86;
	case 22:
		return 87;
	case 23:
		return 88;
	case 24:
		return 89;
	case 25:
		return 90;
	case 26:
		return 48;
	case 27:
		return 49;
	case 28:
		return 50;
	case 29:
		return 51;
	case 30:
		return 52;
	case 31:
		return 53;
	case 32:
		return 54;
	case 33:
		return 55;
	case 34:
		return 56;
	case 35:
		return 57;
	case 36:
		return 96;
	case 37:
		return 97;
	case 38:
		return 98;
	case 39:
		return 99;
	case 40:
		return 100;
	case 41:
		return 101;
	case 42:
		return 102;
	case 43:
		return 103;
	case 44:
		return 104;
	case 45:
		return 105;
	case 46:
		return 107;
	case 47:
		return 110;
	case 48:
		return 111;
	case 49:
		return 108;
	case 50:
		return 106;
	case 51:
		return 109;
	case 52:
		return 112;
	case 53:
		return 113;
	case 54:
		return 114;
	case 55:
		return 115;
	case 56:
		return 116;
	case 57:
		return 117;
	case 58:
		return 118;
	case 59:
		return 119;
	case 60:
		return 120;
	case 61:
		return 121;
	case 62:
		return 122;
	case 63:
		return 123;
	case 64:
		return 124;
	case 65:
		return 125;
	case 66:
		return 126;
	case 67:
		return 37;
	case 68:
		return 38;
	case 69:
		return 39;
	case 70:
		return 40;
	case 71:
		return 18;
	case 72:
		return 192;
	case 73:
		return 220;
	case 74:
		return 8;
	case 75:
		return 20;
	case 76:
		return 188;
	case 77:
		return 15;
	case 78:
		return 17;
	case 79:
		return 46;
	case 80:
		return 35;
	case 81:
		return 13;
	case 82:
		return 187;
	case 83:
		return 27;
	case 84:
		return 36;
	case 85:
		return 45;
	case 86:
		return 219;
	case 87:
		return 189;
	case 88:
		return 34;
	case 89:
		return 33;
	case 90:
		return 190;
	case 91:
		return 222;
	case 92:
		return 221;
	case 93:
		return 186;
	case 94:
		return 16;
	case 95:
		return 191;
	case 96:
		return 32;
	case 97:
		return 9;
	case 98:
		return 16777234;
	case 99:
		return 16777247;
	case 100:
		var keyCode = key[2];
		return keyCode;
	}
};
var flambe_platform_MainLoop = function() {
	this._tickables = [];
};
$hxClasses["flambe.platform.MainLoop"] = flambe_platform_MainLoop;
flambe_platform_MainLoop.__name__ = ["flambe","platform","MainLoop"];
flambe_platform_MainLoop.updateEntity = function(entity,dt) {
	var speed = entity._compMap["SpeedAdjuster_3"];
	if(speed != null) {
		speed._realDt = dt;
		dt *= speed.scale._value;
		if(dt <= 0) {
			speed.onUpdate(dt);
			return;
		}
	}
	var p = entity.firstComponent;
	while(p != null) {
		var next = p.next;
		if((p._flags & 1) == 0) {
			p._flags |= 1;
			p.onStart();
		}
		p.onUpdate(dt);
		p = next;
	}
	var p1 = entity.firstChild;
	while(p1 != null) {
		var next1 = p1.next;
		flambe_platform_MainLoop.updateEntity(p1,dt);
		p1 = next1;
	}
};
flambe_platform_MainLoop.prototype = {
	update: function(dt) {
		if(dt <= 0) {
			var _this = flambe_Log.logger;
			return;
		}
		if(dt > 1) {
			dt = 1;
		}
		var ii = 0;
		while(ii < this._tickables.length) {
			var t = this._tickables[ii];
			if(t == null || t.update(dt)) {
				this._tickables.splice(ii,1);
			} else {
				++ii;
			}
		}
		flambe_System.volume.update(dt);
		flambe_platform_MainLoop.updateEntity(flambe_System.root,dt);
	}
	,render: function(renderer) {
		var graphics = renderer.graphics;
		if(graphics != null) {
			renderer.willRender();
			flambe_display_Sprite.render(flambe_System.root,graphics);
			renderer.didRender();
		}
	}
	,addTickable: function(t) {
		this._tickables.push(t);
	}
	,__class__: flambe_platform_MainLoop
};
var flambe_platform_MouseCodes = function() { };
$hxClasses["flambe.platform.MouseCodes"] = flambe_platform_MouseCodes;
flambe_platform_MouseCodes.__name__ = ["flambe","platform","MouseCodes"];
flambe_platform_MouseCodes.toButton = function(buttonCode) {
	switch(buttonCode) {
	case 0:
		return flambe_input_MouseButton.Left;
	case 1:
		return flambe_input_MouseButton.Middle;
	case 2:
		return flambe_input_MouseButton.Right;
	}
	return flambe_input_MouseButton.Unknown(buttonCode);
};
var flambe_platform_TextureRoot = function() { };
$hxClasses["flambe.platform.TextureRoot"] = flambe_platform_TextureRoot;
flambe_platform_TextureRoot.__name__ = ["flambe","platform","TextureRoot"];
flambe_platform_TextureRoot.prototype = {
	__class__: flambe_platform_TextureRoot
};
var flambe_platform_Tickable = function() { };
$hxClasses["flambe.platform.Tickable"] = flambe_platform_Tickable;
flambe_platform_Tickable.__name__ = ["flambe","platform","Tickable"];
flambe_platform_Tickable.prototype = {
	__class__: flambe_platform_Tickable
};
var flambe_platform_html_CanvasGraphics = function(canvas,alpha) {
	this._firstDraw = false;
	this._canvasCtx = canvas.getContext("2d",{ alpha : alpha});
};
$hxClasses["flambe.platform.html.CanvasGraphics"] = flambe_platform_html_CanvasGraphics;
flambe_platform_html_CanvasGraphics.__name__ = ["flambe","platform","html","CanvasGraphics"];
flambe_platform_html_CanvasGraphics.__interfaces__ = [flambe_platform_InternalGraphics];
flambe_platform_html_CanvasGraphics.prototype = {
	save: function() {
		this._canvasCtx.save();
	}
	,translate: function(x,y) {
		this._canvasCtx.translate(x | 0,y | 0);
	}
	,scale: function(x,y) {
		this._canvasCtx.scale(x,y);
	}
	,rotate: function(rotation) {
		this._canvasCtx.rotate(rotation * 3.141592653589793 / 180);
	}
	,transform: function(m00,m10,m01,m11,m02,m12) {
		this._canvasCtx.transform(m00,m10,m01,m11,m02,m12);
	}
	,restore: function() {
		this._canvasCtx.restore();
	}
	,drawTexture: function(texture,destX,destY) {
		this.drawSubTexture(texture,destX,destY,0,0,texture.get_width(),texture.get_height());
	}
	,drawSubTexture: function(texture,destX,destY,sourceX,sourceY,sourceW,sourceH) {
		if(this._firstDraw) {
			this._firstDraw = false;
			this._canvasCtx.globalCompositeOperation = "copy";
			this.drawSubTexture(texture,destX,destY,sourceX,sourceY,sourceW,sourceH);
			this._canvasCtx.globalCompositeOperation = "source-over";
			return;
		}
		var texture1 = texture;
		var root = texture1.root;
		var condition = !root._disposed;
		this._canvasCtx.drawImage(root.image,texture1.rootX + sourceX | 0,texture1.rootY + sourceY | 0,sourceW | 0,sourceH | 0,destX | 0,destY | 0,sourceW | 0,sourceH | 0);
	}
	,fillRect: function(color,x,y,width,height) {
		if(this._firstDraw) {
			this._firstDraw = false;
			this._canvasCtx.globalCompositeOperation = "copy";
			this.fillRect(color,x,y,width,height);
			this._canvasCtx.globalCompositeOperation = "source-over";
			return;
		}
		var hex = (16777215 & color).toString(16);
		while(hex.length < 6) hex = "0" + Std.string(hex);
		this._canvasCtx.fillStyle = "#" + Std.string(hex);
		this._canvasCtx.fillRect(x | 0,y | 0,width | 0,height | 0);
	}
	,multiplyAlpha: function(factor) {
		this._canvasCtx.globalAlpha *= factor;
	}
	,setAlpha: function(alpha) {
		this._canvasCtx.globalAlpha = alpha;
	}
	,setBlendMode: function(blendMode) {
		var op;
		switch(blendMode[1]) {
		case 0:
			op = "source-over";
			break;
		case 1:
			op = "lighter";
			break;
		case 2:
			op = "multiply";
			break;
		case 3:
			op = "screen";
			break;
		case 4:
			op = "destination-in";
			break;
		case 5:
			op = "copy";
			break;
		}
		this._canvasCtx.globalCompositeOperation = op;
	}
	,applyScissor: function(x,y,width,height) {
		this._canvasCtx.beginPath();
		this._canvasCtx.rect(x | 0,y | 0,width | 0,height | 0);
		this._canvasCtx.clip();
	}
	,willRender: function() {
		this._firstDraw = true;
	}
	,didRender: function() {
	}
	,__class__: flambe_platform_html_CanvasGraphics
};
var flambe_platform_html_CanvasRenderer = function(canvas) {
	this.graphics = new flambe_platform_html_CanvasGraphics(canvas,false);
	this._hasGPU = new flambe_util_Value(true);
};
$hxClasses["flambe.platform.html.CanvasRenderer"] = flambe_platform_html_CanvasRenderer;
flambe_platform_html_CanvasRenderer.__name__ = ["flambe","platform","html","CanvasRenderer"];
flambe_platform_html_CanvasRenderer.__interfaces__ = [flambe_platform_InternalRenderer];
flambe_platform_html_CanvasRenderer.prototype = {
	get_type: function() {
		return flambe_subsystem_RendererType.Canvas;
	}
	,createTextureFromImage: function(image) {
		var root = new flambe_platform_html_CanvasTextureRoot(flambe_platform_html_CanvasRenderer.CANVAS_TEXTURES ? flambe_platform_html_HtmlUtil.createCanvas(image) : image);
		return root.createTexture(root.width,root.height);
	}
	,createTexture: function(width,height) {
		var root = new flambe_platform_html_CanvasTextureRoot(flambe_platform_html_HtmlUtil.createEmptyCanvas(width,height));
		return root.createTexture(width,height);
	}
	,getCompressedTextureFormats: function() {
		return [];
	}
	,createCompressedTexture: function(format,data) {
		return null;
	}
	,willRender: function() {
		this.graphics.willRender();
	}
	,didRender: function() {
		this.graphics.didRender();
	}
	,__class__: flambe_platform_html_CanvasRenderer
	,__properties__: {get_type:"get_type"}
};
var flambe_platform_html_CanvasTexture = function(root,width,height) {
	flambe_platform_BasicTexture.call(this,root,width,height);
};
$hxClasses["flambe.platform.html.CanvasTexture"] = flambe_platform_html_CanvasTexture;
flambe_platform_html_CanvasTexture.__name__ = ["flambe","platform","html","CanvasTexture"];
flambe_platform_html_CanvasTexture.__super__ = flambe_platform_BasicTexture;
flambe_platform_html_CanvasTexture.prototype = $extend(flambe_platform_BasicTexture.prototype,{
	__class__: flambe_platform_html_CanvasTexture
});
var flambe_platform_html_CanvasTextureRoot = function(image) {
	this._graphics = null;
	this.updateCount = 0;
	flambe_platform_BasicAsset.call(this);
	this.image = image;
	this.width = image.width;
	this.height = image.height;
};
$hxClasses["flambe.platform.html.CanvasTextureRoot"] = flambe_platform_html_CanvasTextureRoot;
flambe_platform_html_CanvasTextureRoot.__name__ = ["flambe","platform","html","CanvasTextureRoot"];
flambe_platform_html_CanvasTextureRoot.__interfaces__ = [flambe_platform_TextureRoot];
flambe_platform_html_CanvasTextureRoot.__super__ = flambe_platform_BasicAsset;
flambe_platform_html_CanvasTextureRoot.prototype = $extend(flambe_platform_BasicAsset.prototype,{
	createTexture: function(width,height) {
		return new flambe_platform_html_CanvasTexture(this,width,height);
	}
	,getGraphics: function() {
		var condition = !this._disposed;
		if(this._graphics == null) {
			this.getContext2d();
			this._graphics = new flambe_platform_html__$CanvasTextureRoot_InternalGraphics(this);
		}
		return this._graphics;
	}
	,getContext2d: function() {
		if(!js_Boot.__instanceof(this.image,HTMLCanvasElement)) {
			this.image = flambe_platform_html_HtmlUtil.createCanvas(this.image);
		}
		var canvas = this.image;
		return canvas.getContext("2d",null);
	}
	,onDisposed: function() {
		this.image = null;
		this._graphics = null;
	}
	,__class__: flambe_platform_html_CanvasTextureRoot
});
var flambe_platform_html__$CanvasTextureRoot_InternalGraphics = function(renderTarget) {
	flambe_platform_html_CanvasGraphics.call(this,renderTarget.image,true);
	this._renderTarget = renderTarget;
};
$hxClasses["flambe.platform.html._CanvasTextureRoot.InternalGraphics"] = flambe_platform_html__$CanvasTextureRoot_InternalGraphics;
flambe_platform_html__$CanvasTextureRoot_InternalGraphics.__name__ = ["flambe","platform","html","_CanvasTextureRoot","InternalGraphics"];
flambe_platform_html__$CanvasTextureRoot_InternalGraphics.__super__ = flambe_platform_html_CanvasGraphics;
flambe_platform_html__$CanvasTextureRoot_InternalGraphics.prototype = $extend(flambe_platform_html_CanvasGraphics.prototype,{
	drawTexture: function(texture,x,y) {
		flambe_platform_html_CanvasGraphics.prototype.drawTexture.call(this,texture,x,y);
		++this._renderTarget.updateCount;
	}
	,drawSubTexture: function(texture,destX,destY,sourceX,sourceY,sourceW,sourceH) {
		flambe_platform_html_CanvasGraphics.prototype.drawSubTexture.call(this,texture,destX,destY,sourceX,sourceY,sourceW,sourceH);
		++this._renderTarget.updateCount;
	}
	,fillRect: function(color,x,y,width,height) {
		flambe_platform_html_CanvasGraphics.prototype.fillRect.call(this,color,x,y,width,height);
		++this._renderTarget.updateCount;
	}
	,__class__: flambe_platform_html__$CanvasTextureRoot_InternalGraphics
});
var flambe_platform_html_HtmlAssetPackLoader = function(platform,manifest) {
	flambe_platform_BasicAssetPackLoader.call(this,platform,manifest);
};
$hxClasses["flambe.platform.html.HtmlAssetPackLoader"] = flambe_platform_html_HtmlAssetPackLoader;
flambe_platform_html_HtmlAssetPackLoader.__name__ = ["flambe","platform","html","HtmlAssetPackLoader"];
flambe_platform_html_HtmlAssetPackLoader.detectImageFormats = function(fn) {
	var formats = [flambe_asset_AssetFormat.PNG,flambe_asset_AssetFormat.JPG,flambe_asset_AssetFormat.GIF];
	var formatTests = 2;
	var checkRemaining = function() {
		formatTests -= 1;
		if(formatTests == 0) {
			fn(formats);
		}
	};
	var webp = window.document.createElement("img");
	webp.onload = webp.onerror = function(_) {
		if(webp.width == 1) {
			formats.unshift(flambe_asset_AssetFormat.WEBP);
		}
		checkRemaining();
	};
	webp.src = "data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";
	var jxr = window.document.createElement("img");
	jxr.onload = jxr.onerror = function(_1) {
		if(jxr.width == 1) {
			formats.unshift(flambe_asset_AssetFormat.JXR);
		}
		checkRemaining();
	};
	jxr.src = "data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA==";
};
flambe_platform_html_HtmlAssetPackLoader.detectAudioFormats = function() {
	var audio = window.document.createElement("audio");
	if(audio == null || $bind(audio,audio.canPlayType) == null) {
		var _this = flambe_Log.logger;
		return [];
	}
	var blacklist = new EReg("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b","");
	var userAgent = window.navigator.userAgent;
	if(!flambe_platform_html_WebAudioSound.get_supported() && blacklist.match(userAgent)) {
		var _this1 = flambe_Log.logger;
		return [];
	}
	var types = [{ format : flambe_asset_AssetFormat.M4A, mimeType : "audio/mp4; codecs=mp4a"},{ format : flambe_asset_AssetFormat.MP3, mimeType : "audio/mpeg"},{ format : flambe_asset_AssetFormat.OPUS, mimeType : "audio/ogg; codecs=opus"},{ format : flambe_asset_AssetFormat.OGG, mimeType : "audio/ogg; codecs=vorbis"},{ format : flambe_asset_AssetFormat.WAV, mimeType : "audio/wav"}];
	var result = [];
	var _g = 0;
	while(_g < types.length) {
		var type = types[_g];
		++_g;
		var canPlayType = "";
		try {
			canPlayType = audio.canPlayType(type.mimeType);
		} catch( _ ) {
		}
		if(canPlayType != "") {
			result.push(type.format);
		}
	}
	return result;
};
flambe_platform_html_HtmlAssetPackLoader.supportsBlob = function() {
	if(flambe_platform_html_HtmlAssetPackLoader._detectBlobSupport) {
		flambe_platform_html_HtmlAssetPackLoader._detectBlobSupport = false;
		if(new EReg("\\bSilk\\b","").match(window.navigator.userAgent)) {
			return false;
		}
		if(window.Blob == null) {
			return false;
		}
		var xhr = new XMLHttpRequest();
		xhr.open("GET",".",true);
		if(xhr.responseType != "") {
			return false;
		}
		xhr.responseType = "blob";
		if(xhr.responseType != "blob") {
			return false;
		}
		flambe_platform_html_HtmlAssetPackLoader._URL = flambe_platform_html_HtmlUtil.loadExtension("URL").value;
	}
	if(flambe_platform_html_HtmlAssetPackLoader._URL != null) {
		return flambe_platform_html_HtmlAssetPackLoader._URL.createObjectURL != null;
	} else {
		return false;
	}
};
flambe_platform_html_HtmlAssetPackLoader.__super__ = flambe_platform_BasicAssetPackLoader;
flambe_platform_html_HtmlAssetPackLoader.prototype = $extend(flambe_platform_BasicAssetPackLoader.prototype,{
	loadEntry: function(url,entry) {
		var _gthis = this;
		var _g = entry.format;
		switch(_g[1]) {
		case 0:case 1:case 2:case 3:case 4:
			var image = window.document.createElement("img");
			var events = new flambe_platform_EventGroup();
			events.addDisposingListener(image,"load",function(_) {
				if(flambe_platform_html_HtmlAssetPackLoader.supportsBlob()) {
					flambe_platform_html_HtmlAssetPackLoader._URL.revokeObjectURL(image.src);
				}
				var texture = _gthis._platform.getRenderer().createTextureFromImage(image);
				if(texture != null) {
					_gthis.handleLoad(entry,texture);
				} else {
					_gthis.handleTextureError(entry);
				}
			});
			events.addDisposingListener(image,"error",function(_1) {
				_gthis.handleError(entry,"Failed to load image");
			});
			if(flambe_platform_html_HtmlAssetPackLoader.supportsBlob()) {
				this.download(url,entry,"blob",function(blob) {
					image.src = flambe_platform_html_HtmlAssetPackLoader._URL.createObjectURL(blob);
				});
			} else {
				image.src = url;
			}
			break;
		case 5:case 6:case 7:
			this.download(url,entry,"arraybuffer",function(buffer) {
				var texture1 = _gthis._platform.getRenderer().createCompressedTexture(entry.format,null);
				if(texture1 != null) {
					_gthis.handleLoad(entry,texture1);
				} else {
					_gthis.handleTextureError(entry);
				}
			});
			break;
		case 8:case 9:case 10:case 11:case 12:
			if(flambe_platform_html_WebAudioSound.get_supported()) {
				this.download(url,entry,"arraybuffer",function(buffer1) {
					flambe_platform_html_WebAudioSound.ctx.decodeAudioData(buffer1,function(decoded) {
						_gthis.handleLoad(entry,new flambe_platform_html_WebAudioSound(decoded));
					},function() {
						var _this = flambe_Log.logger;
						var tmp = flambe_platform_DummySound.getInstance();
						_gthis.handleLoad(entry,tmp);
					});
				});
			} else {
				var audio = window.document.createElement("audio");
				audio.preload = "auto";
				var ref = ++flambe_platform_html_HtmlAssetPackLoader._mediaRefCount;
				if(flambe_platform_html_HtmlAssetPackLoader._mediaElements == null) {
					flambe_platform_html_HtmlAssetPackLoader._mediaElements = new haxe_ds_IntMap();
				}
				flambe_platform_html_HtmlAssetPackLoader._mediaElements.set(ref,audio);
				var events1 = new flambe_platform_EventGroup();
				events1.addDisposingListener(audio,"canplaythrough",function(_2) {
					flambe_platform_html_HtmlAssetPackLoader._mediaElements.remove(ref);
					_gthis.handleLoad(entry,new flambe_platform_html_HtmlSound(audio));
				});
				events1.addDisposingListener(audio,"error",function(_3) {
					flambe_platform_html_HtmlAssetPackLoader._mediaElements.remove(ref);
					var code = audio.error.code;
					if(code == 3 || code == 4) {
						var _this1 = flambe_Log.logger;
						var tmp1 = flambe_platform_DummySound.getInstance();
						_gthis.handleLoad(entry,tmp1);
					} else {
						_gthis.handleError(entry,"Failed to load audio: " + audio.error.code);
					}
				});
				events1.addListener(audio,"progress",function(_4) {
					if(audio.buffered.length > 0 && audio.duration > 0) {
						var progress = audio.buffered.end(0) / audio.duration;
						_gthis.handleProgress(entry,progress * entry.bytes | 0);
					}
				});
				audio.src = url;
				audio.load();
			}
			break;
		case 13:
			this.download(url,entry,"text",function(text) {
				_gthis.handleLoad(entry,new flambe_platform_BasicFile(text));
			});
			break;
		}
	}
	,getAssetFormats: function(fn) {
		var _gthis = this;
		if(flambe_platform_html_HtmlAssetPackLoader._supportedFormats == null) {
			flambe_platform_html_HtmlAssetPackLoader._supportedFormats = new flambe_util_Promise();
			flambe_platform_html_HtmlAssetPackLoader.detectImageFormats(function(imageFormats) {
				flambe_platform_html_HtmlAssetPackLoader._supportedFormats.set_result(_gthis._platform.getRenderer().getCompressedTextureFormats().concat(imageFormats).concat(flambe_platform_html_HtmlAssetPackLoader.detectAudioFormats()).concat([flambe_asset_AssetFormat.Data]));
			});
		}
		flambe_platform_html_HtmlAssetPackLoader._supportedFormats.get(fn);
	}
	,download: function(url,entry,responseType,onLoad) {
		var _gthis = this;
		var xhr = null;
		var start = null;
		var intervalId = 0;
		var hasInterval = false;
		var clearRetryInterval = function() {
			if(hasInterval) {
				hasInterval = false;
				window.clearInterval(intervalId);
			}
		};
		var retries = 3;
		var maybeRetry = function() {
			retries -= 1;
			if(retries >= 0) {
				var args_0 = "url";
				var args_1 = entry.url;
				var _this = flambe_Log.logger;
				start();
				return true;
			}
			return false;
		};
		start = function() {
			clearRetryInterval();
			if(xhr != null) {
				xhr.abort();
			}
			xhr = new XMLHttpRequest();
			xhr.open("GET",url,true);
			xhr.responseType = responseType;
			var lastProgress = 0.0;
			xhr.onprogress = function(event) {
				if(!hasInterval) {
					hasInterval = true;
					intervalId = window.setInterval(function() {
						if(xhr.readyState != 4 && Date.now() - lastProgress > 5000) {
							if(!maybeRetry()) {
								clearRetryInterval();
								_gthis.handleError(entry,"Download stalled");
							}
						}
					},1000);
				}
				lastProgress = Date.now();
				_gthis.handleProgress(entry,event.loaded);
			};
			xhr.onerror = function(_) {
				if(xhr.status != 0 || !maybeRetry()) {
					clearRetryInterval();
					_gthis.handleError(entry,"HTTP error " + xhr.status);
				}
			};
			xhr.onload = function(_1) {
				var response = xhr.response;
				if(response == null) {
					response = xhr.responseText;
				}
				clearRetryInterval();
				onLoad(response);
			};
			xhr.send();
		};
		start();
	}
	,__class__: flambe_platform_html_HtmlAssetPackLoader
});
var flambe_platform_html_HtmlMouse = function(pointer,canvas) {
	flambe_platform_BasicMouse.call(this,pointer);
	this._canvas = canvas;
};
$hxClasses["flambe.platform.html.HtmlMouse"] = flambe_platform_html_HtmlMouse;
flambe_platform_html_HtmlMouse.__name__ = ["flambe","platform","html","HtmlMouse"];
flambe_platform_html_HtmlMouse.__super__ = flambe_platform_BasicMouse;
flambe_platform_html_HtmlMouse.prototype = $extend(flambe_platform_BasicMouse.prototype,{
	__class__: flambe_platform_html_HtmlMouse
});
var flambe_platform_html_HtmlSound = function(audioElement) {
	flambe_platform_BasicAsset.call(this);
	this.audioElement = audioElement;
};
$hxClasses["flambe.platform.html.HtmlSound"] = flambe_platform_html_HtmlSound;
flambe_platform_html_HtmlSound.__name__ = ["flambe","platform","html","HtmlSound"];
flambe_platform_html_HtmlSound.__interfaces__ = [flambe_sound_Sound];
flambe_platform_html_HtmlSound.__super__ = flambe_platform_BasicAsset;
flambe_platform_html_HtmlSound.prototype = $extend(flambe_platform_BasicAsset.prototype,{
	play: function(volume) {
		if(volume == null) {
			volume = 1.0;
		}
		var condition = !this._disposed;
		return new flambe_platform_html__$HtmlSound_HtmlPlayback(this,volume,false);
	}
	,loop: function(volume) {
		if(volume == null) {
			volume = 1.0;
		}
		var condition = !this._disposed;
		return new flambe_platform_html__$HtmlSound_HtmlPlayback(this,volume,true);
	}
	,onDisposed: function() {
		this.audioElement = null;
	}
	,__class__: flambe_platform_html_HtmlSound
});
var flambe_platform_html__$HtmlSound_HtmlPlayback = function(sound,volume,loop) {
	var _gthis = this;
	this._sound = sound;
	this._tickableAdded = false;
	this._clonedElement = window.document.createElement("audio");
	this._clonedElement.loop = loop;
	this._clonedElement.src = sound.audioElement.src;
	this.volume = new flambe_animation_AnimatedFloat(volume,function(_,_1) {
		_gthis.updateVolume();
	});
	this.updateVolume();
	this._complete = new flambe_util_Value(false);
	this.playAudio();
	if(flambe_System.hidden._value) {
		this.set_paused(true);
	}
};
$hxClasses["flambe.platform.html._HtmlSound.HtmlPlayback"] = flambe_platform_html__$HtmlSound_HtmlPlayback;
flambe_platform_html__$HtmlSound_HtmlPlayback.__name__ = ["flambe","platform","html","_HtmlSound","HtmlPlayback"];
flambe_platform_html__$HtmlSound_HtmlPlayback.__interfaces__ = [flambe_platform_Tickable,flambe_sound_Playback];
flambe_platform_html__$HtmlSound_HtmlPlayback.prototype = {
	set_paused: function(paused) {
		if(this._clonedElement.paused != paused) {
			if(paused) {
				this._clonedElement.pause();
			} else {
				this.playAudio();
			}
		}
		return paused;
	}
	,get_complete: function() {
		return this._complete;
	}
	,update: function(dt) {
		this.volume.update(dt);
		this._complete.set__(this._clonedElement.ended);
		if(this._complete._value || this._clonedElement.paused) {
			this._tickableAdded = false;
			this._volumeBinding.dispose();
			this._hideBinding.dispose();
			return true;
		}
		return false;
	}
	,dispose: function() {
		this.set_paused(true);
		this._complete.set__(true);
	}
	,playAudio: function() {
		var _gthis = this;
		this._clonedElement.play();
		if(!this._tickableAdded) {
			flambe_platform_html_HtmlPlatform.instance.mainLoop.addTickable(this);
			this._tickableAdded = true;
			this._volumeBinding = flambe_System.volume.get_changed().connect(function(_,_1) {
				_gthis.updateVolume();
			});
			this._hideBinding = flambe_System.hidden.get_changed().connect(function(hidden,_2) {
				if(hidden) {
					_gthis._wasPaused = _gthis._clonedElement.paused;
					_gthis.set_paused(true);
				} else {
					_gthis.set_paused(_gthis._wasPaused);
				}
			});
		}
	}
	,updateVolume: function() {
		this._clonedElement.volume = flambe_System.volume._value * this.volume._value;
	}
	,__class__: flambe_platform_html__$HtmlSound_HtmlPlayback
	,__properties__: {get_complete:"get_complete",set_paused:"set_paused"}
};
var flambe_subsystem_StageSystem = function() { };
$hxClasses["flambe.subsystem.StageSystem"] = flambe_subsystem_StageSystem;
flambe_subsystem_StageSystem.__name__ = ["flambe","subsystem","StageSystem"];
flambe_subsystem_StageSystem.prototype = {
	__class__: flambe_subsystem_StageSystem
	,__properties__: {get_height:"get_height",get_width:"get_width"}
};
var flambe_platform_html_HtmlStage = function(canvas) {
	var _gthis = this;
	this._canvas = canvas;
	this.resize = new flambe_util_Signal0();
	this.scaleFactor = flambe_platform_html_HtmlStage.computeScaleFactor();
	if(this.scaleFactor != 1) {
		var args_0 = "scaleFactor";
		var args_1 = this.scaleFactor;
		var _this = flambe_Log.logger;
		flambe_platform_html_HtmlUtil.setVendorStyle(this._canvas,"transform-origin","top left");
		flambe_platform_html_HtmlUtil.setVendorStyle(this._canvas,"transform","scale(" + 1 / this.scaleFactor + ")");
	}
	if(flambe_platform_html_HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER) {
		window.addEventListener("orientationchange",function(_) {
			flambe_platform_html_HtmlUtil.callLater($bind(_gthis,_gthis.hideMobileBrowser),200);
		},false);
		this.hideMobileBrowser();
	}
	window.addEventListener("resize",$bind(this,this.onWindowResize),false);
	this.onWindowResize(null);
	this.orientation = new flambe_util_Value(null);
	if(window.orientation != null) {
		window.addEventListener("orientationchange",$bind(this,this.onOrientationChange),false);
		this.onOrientationChange(null);
	}
	this.fullscreen = new flambe_util_Value(false);
	flambe_platform_html_HtmlUtil.addVendorListener(window.document,"fullscreenchange",function(_1) {
		_gthis.updateFullscreen();
	},false);
	this.updateFullscreen();
};
$hxClasses["flambe.platform.html.HtmlStage"] = flambe_platform_html_HtmlStage;
flambe_platform_html_HtmlStage.__name__ = ["flambe","platform","html","HtmlStage"];
flambe_platform_html_HtmlStage.__interfaces__ = [flambe_subsystem_StageSystem];
flambe_platform_html_HtmlStage.computeScaleFactor = function() {
	var devicePixelRatio = window.devicePixelRatio;
	if(devicePixelRatio == null) {
		devicePixelRatio = 1;
	}
	var canvas = window.document.createElement("canvas");
	var ctx = canvas.getContext("2d",null);
	var backingStorePixelRatio = flambe_platform_html_HtmlUtil.loadExtension("backingStorePixelRatio",ctx).value;
	if(backingStorePixelRatio == null) {
		backingStorePixelRatio = 1;
	}
	var scale = devicePixelRatio / backingStorePixelRatio;
	var screenWidth = window.screen.width;
	var screenHeight = window.screen.height;
	if(scale * screenWidth > 1136 || scale * screenHeight > 1136) {
		return 1;
	}
	return scale;
};
flambe_platform_html_HtmlStage.prototype = {
	get_width: function() {
		return this._canvas.width;
	}
	,get_height: function() {
		return this._canvas.height;
	}
	,requestResize: function(width,height) {
		if(this.resizeCanvas(width,height)) {
			var container = this._canvas.parentElement;
			container.style.width = width + "px";
			container.style.height = height + "px";
		}
	}
	,onWindowResize: function(_) {
		var container = this._canvas.parentElement;
		var rect = container.getBoundingClientRect();
		this.resizeCanvas(rect.width,rect.height);
	}
	,resizeCanvas: function(width,height) {
		var scaledWidth = this.scaleFactor * width;
		var scaledHeight = this.scaleFactor * height;
		if(this._canvas.width == scaledWidth && this._canvas.height == scaledHeight) {
			return false;
		}
		this._canvas.width = scaledWidth | 0;
		this._canvas.height = scaledHeight | 0;
		this.resize.emit();
		return true;
	}
	,hideMobileBrowser: function() {
		var _gthis = this;
		var mobileAddressBar = 100;
		var htmlStyle = window.document.documentElement.style;
		htmlStyle.height = Std.string(window.innerHeight + mobileAddressBar) + "px";
		htmlStyle.width = Std.string(window.innerWidth) + "px";
		htmlStyle.overflow = "visible";
		flambe_platform_html_HtmlUtil.callLater(function() {
			flambe_platform_html_HtmlUtil.hideMobileBrowser();
			flambe_platform_html_HtmlUtil.callLater(function() {
				htmlStyle.height = Std.string(window.innerHeight) + "px";
				_gthis.onWindowResize(null);
			},100);
		});
	}
	,onOrientationChange: function(_) {
		var value = flambe_platform_html_HtmlUtil.orientation(window.orientation);
		this.orientation.set__(value);
	}
	,updateFullscreen: function() {
		var state = flambe_platform_html_HtmlUtil.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value;
		this.fullscreen.set__(state == true);
	}
	,__class__: flambe_platform_html_HtmlStage
	,__properties__: {get_height:"get_height",get_width:"get_width"}
};
var flambe_platform_html_HtmlUtil = function() { };
$hxClasses["flambe.platform.html.HtmlUtil"] = flambe_platform_html_HtmlUtil;
flambe_platform_html_HtmlUtil.__name__ = ["flambe","platform","html","HtmlUtil"];
flambe_platform_html_HtmlUtil.callLater = function(func,delay) {
	if(delay == null) {
		delay = 0;
	}
	window.setTimeout(func,delay);
};
flambe_platform_html_HtmlUtil.hideMobileBrowser = function() {
	window.scrollTo(1,0);
};
flambe_platform_html_HtmlUtil.loadExtension = function(name,obj) {
	if(obj == null) {
		obj = window;
	}
	var extension = Reflect.field(obj,name);
	if(extension != null) {
		return { prefix : "", field : name, value : extension};
	}
	var capitalized = name.charAt(0).toUpperCase() + HxOverrides.substr(name,1,null);
	var _g = 0;
	var _g1 = flambe_platform_html_HtmlUtil.VENDOR_PREFIXES;
	while(_g < _g1.length) {
		var prefix = _g1[_g];
		++_g;
		var field = prefix + capitalized;
		var extension1 = Reflect.field(obj,field);
		if(extension1 != null) {
			return { prefix : prefix, field : field, value : extension1};
		}
	}
	return { prefix : null, field : null, value : null};
};
flambe_platform_html_HtmlUtil.loadFirstExtension = function(names,obj) {
	var _g = 0;
	while(_g < names.length) {
		var name = names[_g];
		++_g;
		var extension = flambe_platform_html_HtmlUtil.loadExtension(name,obj);
		if(extension.field != null) {
			return extension;
		}
	}
	return { prefix : null, field : null, value : null};
};
flambe_platform_html_HtmlUtil.polyfill = function(name,obj) {
	if(obj == null) {
		obj = window;
	}
	var value = flambe_platform_html_HtmlUtil.loadExtension(name,obj).value;
	if(value == null) {
		return false;
	}
	obj[name] = value;
	return true;
};
flambe_platform_html_HtmlUtil.setVendorStyle = function(element,name,value) {
	var style = element.style;
	var _g = 0;
	var _g1 = flambe_platform_html_HtmlUtil.VENDOR_PREFIXES;
	while(_g < _g1.length) {
		var prefix = _g1[_g];
		++_g;
		style.setProperty("-" + prefix + "-" + name,value);
	}
	style.setProperty(name,value);
};
flambe_platform_html_HtmlUtil.addVendorListener = function(dispatcher,type,listener,useCapture) {
	var _g = 0;
	var _g1 = flambe_platform_html_HtmlUtil.VENDOR_PREFIXES;
	while(_g < _g1.length) {
		var prefix = _g1[_g];
		++_g;
		dispatcher.addEventListener(prefix + type,listener,useCapture);
	}
	dispatcher.addEventListener(type,listener,useCapture);
};
flambe_platform_html_HtmlUtil.orientation = function(angle) {
	switch(angle) {
	case -90:case 90:
		return flambe_display_Orientation.Landscape;
	default:
		return flambe_display_Orientation.Portrait;
	}
};
flambe_platform_html_HtmlUtil.createEmptyCanvas = function(width,height) {
	var canvas = window.document.createElement("canvas");
	canvas.width = width;
	canvas.height = height;
	return canvas;
};
flambe_platform_html_HtmlUtil.createCanvas = function(source) {
	var canvas = flambe_platform_html_HtmlUtil.createEmptyCanvas(source.width,source.height);
	var ctx = canvas.getContext("2d",null);
	ctx.save();
	ctx.globalCompositeOperation = "copy";
	ctx.drawImage(source,0,0);
	ctx.restore();
	return canvas;
};
flambe_platform_html_HtmlUtil.fixAndroidMath = function() {
	if(window.navigator.userAgent.indexOf("Linux; U; Android 4") >= 0) {
		var _this = flambe_Log.logger;
		var sin = Math.sin;
		var cos = Math.cos;
		Math.sin = function(x) {
			if(x == 0) {
				return 0;
			} else {
				return sin(x);
			}
		};
		Math.cos = function(x1) {
			if(x1 == 0) {
				return 1;
			} else {
				return cos(x1);
			}
		};
	}
};
var flambe_platform_html_WebAudioSound = function(buffer) {
	flambe_platform_BasicAsset.call(this);
	this.buffer = buffer;
};
$hxClasses["flambe.platform.html.WebAudioSound"] = flambe_platform_html_WebAudioSound;
flambe_platform_html_WebAudioSound.__name__ = ["flambe","platform","html","WebAudioSound"];
flambe_platform_html_WebAudioSound.__interfaces__ = [flambe_sound_Sound];
flambe_platform_html_WebAudioSound.__properties__ = {get_supported:"get_supported"};
flambe_platform_html_WebAudioSound.get_supported = function() {
	if(flambe_platform_html_WebAudioSound._detectSupport) {
		flambe_platform_html_WebAudioSound._detectSupport = false;
		var AudioContext = flambe_platform_html_HtmlUtil.loadExtension("AudioContext").value;
		if(AudioContext != null) {
			flambe_platform_html_WebAudioSound.ctx = new AudioContext();
			flambe_platform_html_WebAudioSound.gain = flambe_platform_html_WebAudioSound.createGain();
			flambe_platform_html_WebAudioSound.gain.connect(flambe_platform_html_WebAudioSound.ctx.destination);
			flambe_System.volume.watch(function(volume,_) {
				flambe_platform_html_WebAudioSound.gain.gain.value = volume;
			});
		}
	}
	return flambe_platform_html_WebAudioSound.ctx != null;
};
flambe_platform_html_WebAudioSound.createGain = function() {
	if(flambe_platform_html_WebAudioSound.ctx.createGain != null) {
		return flambe_platform_html_WebAudioSound.ctx.createGain();
	} else {
		return flambe_platform_html_WebAudioSound.ctx.createGainNode();
	}
};
flambe_platform_html_WebAudioSound.start = function(node,time) {
	if(node.start != null) {
		node.start(time);
	} else {
		node.noteOn(time);
	}
};
flambe_platform_html_WebAudioSound.__super__ = flambe_platform_BasicAsset;
flambe_platform_html_WebAudioSound.prototype = $extend(flambe_platform_BasicAsset.prototype,{
	play: function(volume) {
		if(volume == null) {
			volume = 1.0;
		}
		var condition = !this._disposed;
		return new flambe_platform_html__$WebAudioSound_WebAudioPlayback(this,volume,false);
	}
	,loop: function(volume) {
		if(volume == null) {
			volume = 1.0;
		}
		var condition = !this._disposed;
		return new flambe_platform_html__$WebAudioSound_WebAudioPlayback(this,volume,true);
	}
	,get_duration: function() {
		var condition = !this._disposed;
		return this.buffer.duration;
	}
	,onDisposed: function() {
		this.buffer = null;
	}
	,__class__: flambe_platform_html_WebAudioSound
	,__properties__: {get_duration:"get_duration"}
});
var flambe_platform_html__$WebAudioSound_WebAudioPlayback = function(sound,volume,loop) {
	var _gthis = this;
	this._sound = sound;
	this._head = flambe_platform_html_WebAudioSound.gain;
	this._complete = new flambe_util_Value(false);
	this._sourceNode = flambe_platform_html_WebAudioSound.ctx.createBufferSource();
	this._sourceNode.buffer = sound.buffer;
	this._sourceNode.loop = loop;
	this._sourceNode.onended = function() {
		_gthis._complete.set__(true);
	};
	flambe_platform_html_WebAudioSound.start(this._sourceNode,0);
	this.playAudio();
	this.volume = new flambe_animation_AnimatedFloat(volume,function(v,_) {
		_gthis.setVolume(v);
	});
	if(volume != 1) {
		this.setVolume(volume);
	}
	if(flambe_System.hidden._value) {
		this.set_paused(true);
	}
};
$hxClasses["flambe.platform.html._WebAudioSound.WebAudioPlayback"] = flambe_platform_html__$WebAudioSound_WebAudioPlayback;
flambe_platform_html__$WebAudioSound_WebAudioPlayback.__name__ = ["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];
flambe_platform_html__$WebAudioSound_WebAudioPlayback.__interfaces__ = [flambe_platform_Tickable,flambe_sound_Playback];
flambe_platform_html__$WebAudioSound_WebAudioPlayback.prototype = {
	set_paused: function(paused) {
		if(paused != this._pausedAt >= 0) {
			if(paused) {
				this._sourceNode.disconnect();
				this._pausedAt = this.get_position();
			} else {
				this.playAudio();
			}
		}
		return paused;
	}
	,get_complete: function() {
		return this._complete;
	}
	,get_position: function() {
		if(this._complete._value) {
			return this._sound.get_duration();
		} else if(this._pausedAt >= 0) {
			return this._pausedAt;
		} else {
			var elapsed = flambe_platform_html_WebAudioSound.ctx.currentTime - this._startedAt;
			return elapsed % this._sound.get_duration();
		}
	}
	,update: function(dt) {
		this.volume.update(dt);
		if(this._sourceNode.playbackState == 3) {
			this._complete.set__(true);
		}
		if(this._complete._value || this._pausedAt >= 0) {
			this._tickableAdded = false;
			this._hideBinding.dispose();
			return true;
		}
		return false;
	}
	,dispose: function() {
		this.set_paused(true);
		this._complete.set__(true);
	}
	,setVolume: function(volume) {
		if(this._gainNode == null) {
			this._gainNode = flambe_platform_html_WebAudioSound.createGain();
			this.insertNode(this._gainNode);
		}
		this._gainNode.gain.value = volume;
	}
	,insertNode: function(head) {
		if(!(this._pausedAt >= 0)) {
			this._sourceNode.disconnect();
			this._sourceNode.connect(head);
		}
		head.connect(this._head);
		this._head = head;
	}
	,playAudio: function() {
		var _gthis = this;
		this._sourceNode.connect(this._head);
		this._startedAt = flambe_platform_html_WebAudioSound.ctx.currentTime;
		this._pausedAt = -1;
		if(!this._tickableAdded) {
			flambe_platform_html_HtmlPlatform.instance.mainLoop.addTickable(this);
			this._tickableAdded = true;
			this._hideBinding = flambe_System.hidden.get_changed().connect(function(hidden,_) {
				if(hidden) {
					_gthis._wasPaused = _gthis._pausedAt >= 0;
					_gthis.set_paused(true);
				} else {
					_gthis.set_paused(_gthis._wasPaused);
				}
			});
		}
	}
	,__class__: flambe_platform_html__$WebAudioSound_WebAudioPlayback
	,__properties__: {get_position:"get_position",get_complete:"get_complete",set_paused:"set_paused"}
};
var flambe_scene_Director = function() {
	this._transitor = null;
};
$hxClasses["flambe.scene.Director"] = flambe_scene_Director;
flambe_scene_Director.__name__ = ["flambe","scene","Director"];
flambe_scene_Director.__super__ = flambe_Component;
flambe_scene_Director.prototype = $extend(flambe_Component.prototype,{
	get_name: function() {
		return "Director_2";
	}
	,onAdded: function() {
		this.owner.addChild(this._root);
	}
	,onRemoved: function() {
		this.completeTransition();
		var _g = 0;
		var _g1 = this.scenes;
		while(_g < _g1.length) {
			var scene = _g1[_g];
			++_g;
			scene.dispose();
		}
		this.scenes = [];
		this.occludedScenes = [];
		this._root.dispose();
	}
	,onUpdate: function(dt) {
		if(this._transitor != null && this._transitor.update(dt)) {
			this.completeTransition();
		}
	}
	,get_topScene: function() {
		var ll = this.scenes.length;
		if(ll > 0) {
			return this.scenes[ll - 1];
		} else {
			return null;
		}
	}
	,show: function(scene) {
		var events = scene._compMap["Scene_4"];
		if(events != null) {
			events.shown.emit();
		}
	}
	,invalidateVisibility: function() {
		var ii = this.scenes.length;
		while(ii > 0) {
			var scene = this.scenes[--ii];
			var comp = scene._compMap["Scene_4"];
			if(comp == null || comp.opaque) {
				break;
			}
		}
		this.occludedScenes = this.scenes.length > 0 ? this.scenes.slice(ii,this.scenes.length - 1) : [];
		var scene1 = this.get_topScene();
		if(scene1 != null) {
			this.show(scene1);
		}
	}
	,completeTransition: function() {
		if(this._transitor != null) {
			this._transitor.complete();
			this._transitor = null;
			this.invalidateVisibility();
		}
	}
	,__class__: flambe_scene_Director
	,__properties__: $extend(flambe_Component.prototype.__properties__,{get_topScene:"get_topScene"})
});
var flambe_scene__$Director_Transitor = function() { };
$hxClasses["flambe.scene._Director.Transitor"] = flambe_scene__$Director_Transitor;
flambe_scene__$Director_Transitor.__name__ = ["flambe","scene","_Director","Transitor"];
flambe_scene__$Director_Transitor.prototype = {
	update: function(dt) {
		return this._transition.update(dt);
	}
	,complete: function() {
		this._transition.complete();
		this._onComplete();
	}
	,__class__: flambe_scene__$Director_Transitor
};
var flambe_scene_Scene = function() { };
$hxClasses["flambe.scene.Scene"] = flambe_scene_Scene;
flambe_scene_Scene.__name__ = ["flambe","scene","Scene"];
flambe_scene_Scene.__super__ = flambe_Component;
flambe_scene_Scene.prototype = $extend(flambe_Component.prototype,{
	get_name: function() {
		return "Scene_4";
	}
	,__class__: flambe_scene_Scene
});
var flambe_scene_Transition = function() { };
$hxClasses["flambe.scene.Transition"] = flambe_scene_Transition;
flambe_scene_Transition.__name__ = ["flambe","scene","Transition"];
flambe_scene_Transition.prototype = {
	update: function(dt) {
		return true;
	}
	,complete: function() {
	}
	,__class__: flambe_scene_Transition
};
var flambe_subsystem_RendererType = $hxClasses["flambe.subsystem.RendererType"] = { __ename__ : true, __constructs__ : ["Stage3D","WebGL","Canvas"] };
flambe_subsystem_RendererType.Stage3D = ["Stage3D",0];
flambe_subsystem_RendererType.Stage3D.toString = $estr;
flambe_subsystem_RendererType.Stage3D.__enum__ = flambe_subsystem_RendererType;
flambe_subsystem_RendererType.WebGL = ["WebGL",1];
flambe_subsystem_RendererType.WebGL.toString = $estr;
flambe_subsystem_RendererType.WebGL.__enum__ = flambe_subsystem_RendererType;
flambe_subsystem_RendererType.Canvas = ["Canvas",2];
flambe_subsystem_RendererType.Canvas.toString = $estr;
flambe_subsystem_RendererType.Canvas.__enum__ = flambe_subsystem_RendererType;
var flambe_swf_Symbol = function() { };
$hxClasses["flambe.swf.Symbol"] = flambe_swf_Symbol;
flambe_swf_Symbol.__name__ = ["flambe","swf","Symbol"];
var flambe_swf_BitmapSymbol = function(json,atlas) {
	this._name = json.symbol;
	var rect = json.rect;
	this.texture = atlas.subTexture(rect[0],rect[1],rect[2],rect[3]);
	var origin = json.origin;
	if(origin != null) {
		this.anchorX = origin[0];
		this.anchorY = origin[1];
	} else {
		this.anchorX = 0;
		this.anchorY = 0;
	}
};
$hxClasses["flambe.swf.BitmapSymbol"] = flambe_swf_BitmapSymbol;
flambe_swf_BitmapSymbol.__name__ = ["flambe","swf","BitmapSymbol"];
flambe_swf_BitmapSymbol.__interfaces__ = [flambe_swf_Symbol];
flambe_swf_BitmapSymbol.prototype = {
	__class__: flambe_swf_BitmapSymbol
};
var flambe_swf_Flipbook = function() { };
$hxClasses["flambe.swf.Flipbook"] = flambe_swf_Flipbook;
flambe_swf_Flipbook.__name__ = ["flambe","swf","Flipbook"];
flambe_swf_Flipbook.prototype = {
	__class__: flambe_swf_Flipbook
};
var flambe_swf_FlipbookFrame = function() {
	this.label = null;
	this.anchorY = 0;
	this.anchorX = 0;
};
$hxClasses["flambe.swf.FlipbookFrame"] = flambe_swf_FlipbookFrame;
flambe_swf_FlipbookFrame.__name__ = ["flambe","swf","FlipbookFrame"];
flambe_swf_FlipbookFrame.prototype = {
	toSymbol: function() {
		return new flambe_swf__$Flipbook_FrameSymbol(this);
	}
	,__class__: flambe_swf_FlipbookFrame
};
var flambe_swf__$Flipbook_FrameSymbol = function(frame) {
	this._texture = frame.texture;
	this._anchorX = frame.anchorX;
	this._anchorY = frame.anchorY;
};
$hxClasses["flambe.swf._Flipbook.FrameSymbol"] = flambe_swf__$Flipbook_FrameSymbol;
flambe_swf__$Flipbook_FrameSymbol.__name__ = ["flambe","swf","_Flipbook","FrameSymbol"];
flambe_swf__$Flipbook_FrameSymbol.__interfaces__ = [flambe_swf_Symbol];
flambe_swf__$Flipbook_FrameSymbol.prototype = {
	__class__: flambe_swf__$Flipbook_FrameSymbol
};
var flambe_swf_Library = function(pack,baseDir) {
	this._file = pack.getFile(baseDir + "/library.json");
	var json = JSON.parse(this._file.toString());
	this._symbols = new haxe_ds_StringMap();
	this.frameRate = json.frameRate;
	var movies = [];
	var _g = 0;
	var _g1 = json.movies;
	while(_g < _g1.length) {
		var movieObject = _g1[_g];
		++_g;
		var movie = new flambe_swf_MovieSymbol(this,movieObject);
		movies.push(movie);
		var key = movie._name;
		var _this = this._symbols;
		if(__map_reserved[key] != null) {
			_this.setReserved(key,movie);
		} else {
			_this.h[key] = movie;
		}
	}
	var groups = json.textureGroups;
	if(groups[0].scaleFactor != 1 || groups.length > 1) {
		var _this1 = flambe_Log.logger;
	}
	var atlases = groups[0].atlases;
	var _g2 = 0;
	while(_g2 < atlases.length) {
		var atlasObject = atlases[_g2];
		++_g2;
		var atlas = pack.getTexture(baseDir + "/" + flambe_util_Strings.removeFileExtension(atlasObject.file));
		var _g11 = 0;
		var _g21 = atlasObject.textures;
		while(_g11 < _g21.length) {
			var textureObject = _g21[_g11];
			++_g11;
			var bitmap = new flambe_swf_BitmapSymbol(textureObject,atlas);
			var key1 = bitmap._name;
			var _this2 = this._symbols;
			if(__map_reserved[key1] != null) {
				_this2.setReserved(key1,bitmap);
			} else {
				_this2.h[key1] = bitmap;
			}
		}
	}
	var _g3 = 0;
	while(_g3 < movies.length) {
		var movie1 = movies[_g3];
		++_g3;
		var _g12 = 0;
		var _g22 = movie1.layers;
		while(_g12 < _g22.length) {
			var layer = _g22[_g12];
			++_g12;
			var keyframes = layer.keyframes;
			var ll = keyframes.length;
			var _g4 = 0;
			var _g31 = ll;
			while(_g4 < _g31) {
				var ii = _g4++;
				var kf = keyframes[ii];
				if(kf.symbolName != null) {
					var key2 = kf.symbolName;
					var _this3 = this._symbols;
					var symbol = __map_reserved[key2] != null ? _this3.getReserved(key2) : _this3.h[key2];
					kf.symbol = symbol;
				}
				if(kf.tweened && kf.duration == 1 && ii + 1 < ll) {
					var nextKf = keyframes[ii + 1];
					if(!nextKf.visible || nextKf.symbolName == null) {
						kf.visible = false;
					}
				}
			}
		}
	}
};
$hxClasses["flambe.swf.Library"] = flambe_swf_Library;
flambe_swf_Library.__name__ = ["flambe","swf","Library"];
flambe_swf_Library.fromFlipbooks = function(flipbooks) {
	var lib = Type.createEmptyInstance(flambe_swf_Library);
	lib._symbols = new haxe_ds_StringMap();
	lib.frameRate = 60;
	lib._file = null;
	var _g = 0;
	while(_g < flipbooks.length) {
		var flipbook = flipbooks[_g];
		++_g;
		var keyframes = [];
		var _g1 = 0;
		var _g2 = flipbook.frames;
		while(_g1 < _g2.length) {
			var frame = _g2[_g1];
			++_g1;
			keyframes.push({ duration : frame.duration * lib.frameRate, label : frame.label, pivot : [frame.anchorX,frame.anchorY], ref : ""});
		}
		var movie = new flambe_swf_MovieSymbol(lib,{ id : flipbook.name, layers : [{ name : "flipbook", flipbook : true, keyframes : keyframes}]});
		var key = flipbook.name;
		var _this = lib._symbols;
		if(__map_reserved[key] != null) {
			_this.setReserved(key,movie);
		} else {
			_this.h[key] = movie;
		}
		var keyframes1 = movie.layers[0].keyframes;
		var _g21 = 0;
		var _g11 = flipbook.frames.length;
		while(_g21 < _g11) {
			var ii = _g21++;
			var symbol = flipbook.frames[ii].toSymbol();
			keyframes1[ii].symbol = symbol;
		}
	}
	return lib;
};
flambe_swf_Library.prototype = {
	__class__: flambe_swf_Library
};
var flambe_swf_MovieSymbol = function(lib,json) {
	this._name = json.id;
	this.frameRate = lib.frameRate;
	this.frames = 0.0;
	var length = json.layers.length;
	this.layers = new Array(length);
	var _g1 = 0;
	var _g = this.layers.length;
	while(_g1 < _g) {
		var ii = _g1++;
		var layer = new flambe_swf_MovieLayer(json.layers[ii]);
		this.frames = Math.max(layer.frames,this.frames);
		this.layers[ii] = layer;
	}
	this.duration = this.frames / this.frameRate;
};
$hxClasses["flambe.swf.MovieSymbol"] = flambe_swf_MovieSymbol;
flambe_swf_MovieSymbol.__name__ = ["flambe","swf","MovieSymbol"];
flambe_swf_MovieSymbol.__interfaces__ = [flambe_swf_Symbol];
flambe_swf_MovieSymbol.prototype = {
	__class__: flambe_swf_MovieSymbol
};
var flambe_swf_MovieLayer = function(json) {
	this.empty = true;
	this.name = json.name;
	var prevKf = null;
	var length = json.keyframes.length;
	this.keyframes = new Array(length);
	var _g1 = 0;
	var _g = this.keyframes.length;
	while(_g1 < _g) {
		var ii = _g1++;
		prevKf = new flambe_swf_MovieKeyframe(json.keyframes[ii],prevKf);
		this.keyframes[ii] = prevKf;
		this.empty = this.empty && prevKf.symbolName == null;
	}
	this.frames = prevKf != null ? prevKf.index + prevKf.duration : 0;
};
$hxClasses["flambe.swf.MovieLayer"] = flambe_swf_MovieLayer;
flambe_swf_MovieLayer.__name__ = ["flambe","swf","MovieLayer"];
flambe_swf_MovieLayer.prototype = {
	__class__: flambe_swf_MovieLayer
};
var flambe_swf_MovieKeyframe = function(json,prevKf) {
	this.ease = 0;
	this.tweened = true;
	this.visible = true;
	this.alpha = 1;
	this.pivotY = 0;
	this.pivotX = 0;
	this.skewY = 0;
	this.skewX = 0;
	this.scaleY = 1;
	this.scaleX = 1;
	this.y = 0;
	this.x = 0;
	this.symbol = null;
	this.index = prevKf != null ? prevKf.index + prevKf.duration : 0;
	this.duration = json.duration;
	this.label = json.label;
	this.symbolName = json.ref;
	var loc = json.loc;
	if(loc != null) {
		this.x = loc[0];
		this.y = loc[1];
	}
	var scale = json.scale;
	if(scale != null) {
		this.scaleX = scale[0];
		this.scaleY = scale[1];
	}
	var skew = json.skew;
	if(skew != null) {
		this.skewX = skew[0];
		this.skewY = skew[1];
	}
	var pivot = json.pivot;
	if(pivot != null) {
		this.pivotX = pivot[0];
		this.pivotY = pivot[1];
	}
	if(json.alpha != null) {
		this.alpha = json.alpha;
	}
	if(json.visible != null) {
		this.visible = json.visible;
	}
	if(json.tweened != null) {
		this.tweened = json.tweened;
	}
	if(json.ease != null) {
		this.ease = json.ease;
	}
};
$hxClasses["flambe.swf.MovieKeyframe"] = flambe_swf_MovieKeyframe;
flambe_swf_MovieKeyframe.__name__ = ["flambe","swf","MovieKeyframe"];
flambe_swf_MovieKeyframe.prototype = {
	__class__: flambe_swf_MovieKeyframe
};
var flambe_util_LogHandler = function() { };
$hxClasses["flambe.util.LogHandler"] = flambe_util_LogHandler;
flambe_util_LogHandler.__name__ = ["flambe","util","LogHandler"];
var flambe_util_Promise = function() {
	this.success = new flambe_util_Signal1();
	this.error = new flambe_util_Signal1();
	this.progressChanged = new flambe_util_Signal0();
	this.hasResult = false;
	this._progress = 0;
	this._total = 0;
};
$hxClasses["flambe.util.Promise"] = flambe_util_Promise;
flambe_util_Promise.__name__ = ["flambe","util","Promise"];
flambe_util_Promise.prototype = {
	set_result: function(result) {
		if(this.hasResult) {
			throw new js__$Boot_HaxeError("Promise result already assigned");
		}
		this._result = result;
		this.hasResult = true;
		this.success.emit(result);
		return result;
	}
	,get: function(fn) {
		if(this.hasResult) {
			fn(this._result);
			return null;
		}
		return this.success.connect(fn).once();
	}
	,set_progress: function(progress) {
		if(this._progress != progress) {
			this._progress = progress;
			this.progressChanged.emit();
		}
		return progress;
	}
	,set_total: function(total) {
		if(this._total != total) {
			this._total = total;
			this.progressChanged.emit();
		}
		return total;
	}
	,__class__: flambe_util_Promise
	,__properties__: {set_total:"set_total",set_progress:"set_progress",set_result:"set_result"}
};
var flambe_util_Signal0 = function(listener) {
	flambe_util_SignalBase.call(this,listener);
};
$hxClasses["flambe.util.Signal0"] = flambe_util_Signal0;
flambe_util_Signal0.__name__ = ["flambe","util","Signal0"];
flambe_util_Signal0.__super__ = flambe_util_SignalBase;
flambe_util_Signal0.prototype = $extend(flambe_util_SignalBase.prototype,{
	connect: function(listener,prioritize) {
		if(prioritize == null) {
			prioritize = false;
		}
		return this.connectImpl(listener,prioritize);
	}
	,emit: function() {
		var _gthis = this;
		if(this._head == flambe_util_SignalBase.DISPATCHING_SENTINEL) {
			this.defer(function() {
				_gthis.emitImpl();
			});
		} else {
			this.emitImpl();
		}
	}
	,emitImpl: function() {
		var head = this.willEmit();
		var p = head;
		while(p != null) {
			p._listener();
			if(!p.stayInList) {
				p.dispose();
			}
			p = p._next;
		}
		this.didEmit(head);
	}
	,__class__: flambe_util_Signal0
});
var flambe_util__$SignalBase_Task = function(fn) {
	this.next = null;
	this.fn = fn;
};
$hxClasses["flambe.util._SignalBase.Task"] = flambe_util__$SignalBase_Task;
flambe_util__$SignalBase_Task.__name__ = ["flambe","util","_SignalBase","Task"];
flambe_util__$SignalBase_Task.prototype = {
	__class__: flambe_util__$SignalBase_Task
};
var flambe_util_Strings = function() { };
$hxClasses["flambe.util.Strings"] = flambe_util_Strings;
flambe_util_Strings.__name__ = ["flambe","util","Strings"];
flambe_util_Strings.getFileExtension = function(fileName) {
	var dot = fileName.lastIndexOf(".");
	if(dot > 0) {
		return HxOverrides.substr(fileName,dot + 1,null);
	} else {
		return null;
	}
};
flambe_util_Strings.removeFileExtension = function(fileName) {
	var dot = fileName.lastIndexOf(".");
	if(dot > 0) {
		return HxOverrides.substr(fileName,0,dot);
	} else {
		return fileName;
	}
};
flambe_util_Strings.getUrlExtension = function(url) {
	var question = url.lastIndexOf("?");
	if(question >= 0) {
		url = HxOverrides.substr(url,0,question);
	}
	var slash = url.lastIndexOf("/");
	if(slash >= 0) {
		url = HxOverrides.substr(url,slash + 1,null);
	}
	return flambe_util_Strings.getFileExtension(url);
};
flambe_util_Strings.joinPath = function(base,relative) {
	if(base.length > 0 && base.charCodeAt(base.length - 1) != 47) {
		base += "/";
	}
	return base + relative;
};
flambe_util_Strings.withFields = function(message,fields) {
	var ll = fields.length;
	if(ll > 0) {
		message += message.length > 0 ? " [" : "[";
		var ii = 0;
		while(ii < ll) {
			if(ii > 0) {
				message += ", ";
			}
			var name = fields[ii];
			var value = fields[ii + 1];
			if(js_Boot.__instanceof(value,Error)) {
				var stack = value.stack;
				if(stack != null) {
					value = stack;
				}
			}
			message += name + "=" + Std.string(value);
			ii += 2;
		}
		message += "]";
	}
	return message;
};
var haxe_IMap = function() { };
$hxClasses["haxe.IMap"] = haxe_IMap;
haxe_IMap.__name__ = ["haxe","IMap"];
haxe_IMap.prototype = {
	__class__: haxe_IMap
};
var haxe__$Unserializer_DefaultResolver = function() {
};
$hxClasses["haxe._Unserializer.DefaultResolver"] = haxe__$Unserializer_DefaultResolver;
haxe__$Unserializer_DefaultResolver.__name__ = ["haxe","_Unserializer","DefaultResolver"];
haxe__$Unserializer_DefaultResolver.prototype = {
	resolveClass: function(name) {
		return Type.resolveClass(name);
	}
	,resolveEnum: function(name) {
		return Type.resolveEnum(name);
	}
	,__class__: haxe__$Unserializer_DefaultResolver
};
var haxe_Unserializer = function(buf) {
	this.buf = buf;
	this.length = buf.length;
	this.pos = 0;
	this.scache = [];
	this.cache = [];
	var r = haxe_Unserializer.DEFAULT_RESOLVER;
	if(r == null) {
		r = new haxe__$Unserializer_DefaultResolver();
		haxe_Unserializer.DEFAULT_RESOLVER = r;
	}
	this.resolver = r;
};
$hxClasses["haxe.Unserializer"] = haxe_Unserializer;
haxe_Unserializer.__name__ = ["haxe","Unserializer"];
haxe_Unserializer.initCodes = function() {
	var codes = [];
	var _g1 = 0;
	var _g = haxe_Unserializer.BASE64.length;
	while(_g1 < _g) {
		var i = _g1++;
		codes[haxe_Unserializer.BASE64.charCodeAt(i)] = i;
	}
	return codes;
};
haxe_Unserializer.run = function(v) {
	return new haxe_Unserializer(v).unserialize();
};
haxe_Unserializer.prototype = {
	readDigits: function() {
		var k = 0;
		var s = false;
		var fpos = this.pos;
		while(true) {
			var c = this.buf.charCodeAt(this.pos);
			if(c != c) {
				break;
			}
			if(c == 45) {
				if(this.pos != fpos) {
					break;
				}
				s = true;
				this.pos++;
				continue;
			}
			if(c < 48 || c > 57) {
				break;
			}
			k = k * 10 + (c - 48);
			this.pos++;
		}
		if(s) {
			k *= -1;
		}
		return k;
	}
	,readFloat: function() {
		var p1 = this.pos;
		while(true) {
			var c = this.buf.charCodeAt(this.pos);
			if(c != c) {
				break;
			}
			if(c >= 43 && c < 58 || c == 101 || c == 69) {
				this.pos++;
			} else {
				break;
			}
		}
		return parseFloat(HxOverrides.substr(this.buf,p1,this.pos - p1));
	}
	,unserializeObject: function(o) {
		while(true) {
			if(this.pos >= this.length) {
				throw new js__$Boot_HaxeError("Invalid object");
			}
			if(this.buf.charCodeAt(this.pos) == 103) {
				break;
			}
			var k = this.unserialize();
			if(typeof(k) != "string") {
				throw new js__$Boot_HaxeError("Invalid object key");
			}
			var v = this.unserialize();
			o[k] = v;
		}
		this.pos++;
	}
	,unserializeEnum: function(edecl,tag) {
		if(this.buf.charCodeAt(this.pos++) != 58) {
			throw new js__$Boot_HaxeError("Invalid enum format");
		}
		var nargs = this.readDigits();
		if(nargs == 0) {
			return Type.createEnum(edecl,tag);
		}
		var args = [];
		while(nargs-- > 0) args.push(this.unserialize());
		return Type.createEnum(edecl,tag,args);
	}
	,unserialize: function() {
		var _g = this.buf.charCodeAt(this.pos++);
		switch(_g) {
		case 65:
			var name = this.unserialize();
			var cl = this.resolver.resolveClass(name);
			if(cl == null) {
				throw new js__$Boot_HaxeError("Class not found " + name);
			}
			return cl;
		case 66:
			var name1 = this.unserialize();
			var e = this.resolver.resolveEnum(name1);
			if(e == null) {
				throw new js__$Boot_HaxeError("Enum not found " + name1);
			}
			return e;
		case 67:
			var name2 = this.unserialize();
			var cl1 = this.resolver.resolveClass(name2);
			if(cl1 == null) {
				throw new js__$Boot_HaxeError("Class not found " + name2);
			}
			var o = Type.createEmptyInstance(cl1);
			this.cache.push(o);
			o.hxUnserialize(this);
			if(this.buf.charCodeAt(this.pos++) != 103) {
				throw new js__$Boot_HaxeError("Invalid custom data");
			}
			return o;
		case 77:
			var h = new haxe_ds_ObjectMap();
			this.cache.push(h);
			var buf = this.buf;
			while(this.buf.charCodeAt(this.pos) != 104) {
				var s = this.unserialize();
				h.set(s,this.unserialize());
			}
			this.pos++;
			return h;
		case 82:
			var n = this.readDigits();
			if(n < 0 || n >= this.scache.length) {
				throw new js__$Boot_HaxeError("Invalid string reference");
			}
			return this.scache[n];
		case 97:
			var buf1 = this.buf;
			var a = [];
			this.cache.push(a);
			while(true) {
				var c = this.buf.charCodeAt(this.pos);
				if(c == 104) {
					this.pos++;
					break;
				}
				if(c == 117) {
					this.pos++;
					var n1 = this.readDigits();
					a[a.length + n1 - 1] = null;
				} else {
					a.push(this.unserialize());
				}
			}
			return a;
		case 98:
			var h1 = new haxe_ds_StringMap();
			this.cache.push(h1);
			var buf2 = this.buf;
			while(this.buf.charCodeAt(this.pos) != 104) {
				var s1 = this.unserialize();
				var value = this.unserialize();
				if(__map_reserved[s1] != null) {
					h1.setReserved(s1,value);
				} else {
					h1.h[s1] = value;
				}
			}
			this.pos++;
			return h1;
		case 99:
			var name3 = this.unserialize();
			var cl2 = this.resolver.resolveClass(name3);
			if(cl2 == null) {
				throw new js__$Boot_HaxeError("Class not found " + name3);
			}
			var o1 = Type.createEmptyInstance(cl2);
			this.cache.push(o1);
			this.unserializeObject(o1);
			return o1;
		case 100:
			return this.readFloat();
		case 102:
			return false;
		case 105:
			return this.readDigits();
		case 106:
			var name4 = this.unserialize();
			var edecl = this.resolver.resolveEnum(name4);
			if(edecl == null) {
				throw new js__$Boot_HaxeError("Enum not found " + name4);
			}
			this.pos++;
			var index = this.readDigits();
			var tag = edecl.__constructs__.slice()[index];
			if(tag == null) {
				throw new js__$Boot_HaxeError("Unknown enum index " + name4 + "@" + index);
			}
			var e1 = this.unserializeEnum(edecl,tag);
			this.cache.push(e1);
			return e1;
		case 107:
			return NaN;
		case 108:
			var l = new List();
			this.cache.push(l);
			var buf3 = this.buf;
			while(this.buf.charCodeAt(this.pos) != 104) l.add(this.unserialize());
			this.pos++;
			return l;
		case 109:
			return -Infinity;
		case 110:
			return null;
		case 111:
			var o2 = { };
			this.cache.push(o2);
			this.unserializeObject(o2);
			return o2;
		case 112:
			return Infinity;
		case 113:
			var h2 = new haxe_ds_IntMap();
			this.cache.push(h2);
			var buf4 = this.buf;
			var c1 = this.buf.charCodeAt(this.pos++);
			while(c1 == 58) {
				var i = this.readDigits();
				var value1 = this.unserialize();
				h2.h[i] = value1;
				c1 = this.buf.charCodeAt(this.pos++);
			}
			if(c1 != 104) {
				throw new js__$Boot_HaxeError("Invalid IntMap format");
			}
			return h2;
		case 114:
			var n2 = this.readDigits();
			if(n2 < 0 || n2 >= this.cache.length) {
				throw new js__$Boot_HaxeError("Invalid reference");
			}
			return this.cache[n2];
		case 115:
			var len = this.readDigits();
			var buf5 = this.buf;
			if(this.buf.charCodeAt(this.pos++) != 58 || this.length - this.pos < len) {
				throw new js__$Boot_HaxeError("Invalid bytes length");
			}
			var codes = haxe_Unserializer.CODES;
			if(codes == null) {
				codes = haxe_Unserializer.initCodes();
				haxe_Unserializer.CODES = codes;
			}
			var i1 = this.pos;
			var rest = len & 3;
			var size = (len >> 2) * 3 + (rest >= 2 ? rest - 1 : 0);
			var max = i1 + (len - rest);
			var bytes = new haxe_io_Bytes(new ArrayBuffer(size));
			var bpos = 0;
			while(i1 < max) {
				var c11 = codes[buf5.charCodeAt(i1++)];
				var c2 = codes[buf5.charCodeAt(i1++)];
				bytes.b[bpos++] = (c11 << 2 | c2 >> 4) & 255;
				var c3 = codes[buf5.charCodeAt(i1++)];
				bytes.b[bpos++] = (c2 << 4 | c3 >> 2) & 255;
				var c4 = codes[buf5.charCodeAt(i1++)];
				bytes.b[bpos++] = (c3 << 6 | c4) & 255;
			}
			if(rest >= 2) {
				var c12 = codes[buf5.charCodeAt(i1++)];
				var c21 = codes[buf5.charCodeAt(i1++)];
				bytes.b[bpos++] = (c12 << 2 | c21 >> 4) & 255;
				if(rest == 3) {
					var c31 = codes[buf5.charCodeAt(i1++)];
					bytes.b[bpos++] = (c21 << 4 | c31 >> 2) & 255;
				}
			}
			this.pos += len;
			this.cache.push(bytes);
			return bytes;
		case 116:
			return true;
		case 118:
			var d;
			if(this.buf.charCodeAt(this.pos) >= 48 && this.buf.charCodeAt(this.pos) <= 57 && this.buf.charCodeAt(this.pos + 1) >= 48 && this.buf.charCodeAt(this.pos + 1) <= 57 && this.buf.charCodeAt(this.pos + 2) >= 48 && this.buf.charCodeAt(this.pos + 2) <= 57 && this.buf.charCodeAt(this.pos + 3) >= 48 && this.buf.charCodeAt(this.pos + 3) <= 57 && this.buf.charCodeAt(this.pos + 4) == 45) {
				d = HxOverrides.strDate(HxOverrides.substr(this.buf,this.pos,19));
				this.pos += 19;
			} else {
				var t = this.readFloat();
				d = new Date(t);
			}
			this.cache.push(d);
			return d;
		case 119:
			var name5 = this.unserialize();
			var edecl1 = this.resolver.resolveEnum(name5);
			if(edecl1 == null) {
				throw new js__$Boot_HaxeError("Enum not found " + name5);
			}
			var e2 = this.unserializeEnum(edecl1,this.unserialize());
			this.cache.push(e2);
			return e2;
		case 120:
			throw js__$Boot_HaxeError.wrap(this.unserialize());
			break;
		case 121:
			var len1 = this.readDigits();
			if(this.buf.charCodeAt(this.pos++) != 58 || this.length - this.pos < len1) {
				throw new js__$Boot_HaxeError("Invalid string length");
			}
			var s2 = HxOverrides.substr(this.buf,this.pos,len1);
			this.pos += len1;
			s2 = decodeURIComponent(s2.split("+").join(" "));
			this.scache.push(s2);
			return s2;
		case 122:
			return 0;
		default:
		}
		this.pos--;
		throw new js__$Boot_HaxeError("Invalid char " + this.buf.charAt(this.pos) + " at position " + this.pos);
	}
	,__class__: haxe_Unserializer
};
var haxe_io_Bytes = function(data) {
	this.length = data.byteLength;
	this.b = new Uint8Array(data);
	this.b.bufferValue = data;
	data.hxBytes = this;
	data.bytes = this.b;
};
$hxClasses["haxe.io.Bytes"] = haxe_io_Bytes;
haxe_io_Bytes.__name__ = ["haxe","io","Bytes"];
haxe_io_Bytes.alloc = function(length) {
	return new haxe_io_Bytes(new ArrayBuffer(length));
};
haxe_io_Bytes.ofString = function(s) {
	var a = [];
	var i = 0;
	while(i < s.length) {
		var c = s.charCodeAt(i++);
		if(55296 <= c && c <= 56319) {
			c = c - 55232 << 10 | s.charCodeAt(i++) & 1023;
		}
		if(c <= 127) {
			a.push(c);
		} else if(c <= 2047) {
			a.push(192 | c >> 6);
			a.push(128 | c & 63);
		} else if(c <= 65535) {
			a.push(224 | c >> 12);
			a.push(128 | c >> 6 & 63);
			a.push(128 | c & 63);
		} else {
			a.push(240 | c >> 18);
			a.push(128 | c >> 12 & 63);
			a.push(128 | c >> 6 & 63);
			a.push(128 | c & 63);
		}
	}
	return new haxe_io_Bytes(new Uint8Array(a).buffer);
};
haxe_io_Bytes.ofData = function(b) {
	var hb = b.hxBytes;
	if(hb != null) {
		return hb;
	}
	return new haxe_io_Bytes(b);
};
haxe_io_Bytes.fastGet = function(b,pos) {
	return b.bytes[pos];
};
haxe_io_Bytes.prototype = {
	__class__: haxe_io_Bytes
};
var haxe_crypto_BaseCode = function(base) {
	var len = base.length;
	var nbits = 1;
	while(len > 1 << nbits) ++nbits;
	if(nbits > 8 || len != 1 << nbits) {
		throw new js__$Boot_HaxeError("BaseCode : base length must be a power of two.");
	}
	this.base = base;
	this.nbits = nbits;
};
$hxClasses["haxe.crypto.BaseCode"] = haxe_crypto_BaseCode;
haxe_crypto_BaseCode.__name__ = ["haxe","crypto","BaseCode"];
haxe_crypto_BaseCode.prototype = {
	initTable: function() {
		var tbl = [];
		var _g = 0;
		while(_g < 256) {
			var i = _g++;
			tbl[i] = -1;
		}
		var _g1 = 0;
		var _g2 = this.base.length;
		while(_g1 < _g2) {
			var i1 = _g1++;
			tbl[this.base.b[i1]] = i1;
		}
		this.tbl = tbl;
	}
	,decodeBytes: function(b) {
		var nbits = this.nbits;
		var base = this.base;
		if(this.tbl == null) {
			this.initTable();
		}
		var tbl = this.tbl;
		var size = b.length * nbits >> 3;
		var out = new haxe_io_Bytes(new ArrayBuffer(size));
		var buf = 0;
		var curbits = 0;
		var pin = 0;
		var pout = 0;
		while(pout < size) {
			while(curbits < 8) {
				curbits += nbits;
				buf <<= nbits;
				var i = tbl[b.b[pin++]];
				if(i == -1) {
					throw new js__$Boot_HaxeError("BaseCode : invalid encoded char");
				}
				buf |= i;
			}
			curbits -= 8;
			out.b[pout++] = buf >> curbits & 255 & 255;
		}
		return out;
	}
	,__class__: haxe_crypto_BaseCode
};
var haxe_ds_BalancedTree = function() {
};
$hxClasses["haxe.ds.BalancedTree"] = haxe_ds_BalancedTree;
haxe_ds_BalancedTree.__name__ = ["haxe","ds","BalancedTree"];
haxe_ds_BalancedTree.prototype = {
	set: function(key,value) {
		this.root = this.setLoop(key,value,this.root);
	}
	,get: function(key) {
		var node = this.root;
		while(node != null) {
			var c = this.compare(key,node.key);
			if(c == 0) {
				return node.value;
			}
			if(c < 0) {
				node = node.left;
			} else {
				node = node.right;
			}
		}
		return null;
	}
	,remove: function(key) {
		try {
			this.root = this.removeLoop(key,this.root);
			return true;
		} catch( e ) {
			if (e instanceof js__$Boot_HaxeError) e = e.val;
			if( js_Boot.__instanceof(e,String) ) {
				return false;
			} else throw(e);
		}
	}
	,exists: function(key) {
		var node = this.root;
		while(node != null) {
			var c = this.compare(key,node.key);
			if(c == 0) {
				return true;
			} else if(c < 0) {
				node = node.left;
			} else {
				node = node.right;
			}
		}
		return false;
	}
	,setLoop: function(k,v,node) {
		if(node == null) {
			return new haxe_ds_TreeNode(null,k,v,null);
		}
		var c = this.compare(k,node.key);
		if(c == 0) {
			return new haxe_ds_TreeNode(node.left,k,v,node.right,node == null ? 0 : node._height);
		} else if(c < 0) {
			var nl = this.setLoop(k,v,node.left);
			return this.balance(nl,node.key,node.value,node.right);
		} else {
			var nr = this.setLoop(k,v,node.right);
			return this.balance(node.left,node.key,node.value,nr);
		}
	}
	,removeLoop: function(k,node) {
		if(node == null) {
			throw new js__$Boot_HaxeError("Not_found");
		}
		var c = this.compare(k,node.key);
		if(c == 0) {
			return this.merge(node.left,node.right);
		} else if(c < 0) {
			return this.balance(this.removeLoop(k,node.left),node.key,node.value,node.right);
		} else {
			return this.balance(node.left,node.key,node.value,this.removeLoop(k,node.right));
		}
	}
	,merge: function(t1,t2) {
		if(t1 == null) {
			return t2;
		}
		if(t2 == null) {
			return t1;
		}
		var t = this.minBinding(t2);
		return this.balance(t1,t.key,t.value,this.removeMinBinding(t2));
	}
	,minBinding: function(t) {
		if(t == null) {
			throw new js__$Boot_HaxeError("Not_found");
		} else if(t.left == null) {
			return t;
		} else {
			return this.minBinding(t.left);
		}
	}
	,removeMinBinding: function(t) {
		if(t.left == null) {
			return t.right;
		} else {
			return this.balance(this.removeMinBinding(t.left),t.key,t.value,t.right);
		}
	}
	,balance: function(l,k,v,r) {
		var hl = l == null ? 0 : l._height;
		var hr = r == null ? 0 : r._height;
		if(hl > hr + 2) {
			var _this = l.left;
			var _this1 = l.right;
			if((_this == null ? 0 : _this._height) >= (_this1 == null ? 0 : _this1._height)) {
				return new haxe_ds_TreeNode(l.left,l.key,l.value,new haxe_ds_TreeNode(l.right,k,v,r));
			} else {
				return new haxe_ds_TreeNode(new haxe_ds_TreeNode(l.left,l.key,l.value,l.right.left),l.right.key,l.right.value,new haxe_ds_TreeNode(l.right.right,k,v,r));
			}
		} else if(hr > hl + 2) {
			var _this2 = r.right;
			var _this3 = r.left;
			if((_this2 == null ? 0 : _this2._height) > (_this3 == null ? 0 : _this3._height)) {
				return new haxe_ds_TreeNode(new haxe_ds_TreeNode(l,k,v,r.left),r.key,r.value,r.right);
			} else {
				return new haxe_ds_TreeNode(new haxe_ds_TreeNode(l,k,v,r.left.left),r.left.key,r.left.value,new haxe_ds_TreeNode(r.left.right,r.key,r.value,r.right));
			}
		} else {
			return new haxe_ds_TreeNode(l,k,v,r,(hl > hr ? hl : hr) + 1);
		}
	}
	,compare: function(k1,k2) {
		return Reflect.compare(k1,k2);
	}
	,__class__: haxe_ds_BalancedTree
};
var haxe_ds_TreeNode = function(l,k,v,r,h) {
	if(h == null) {
		h = -1;
	}
	this.left = l;
	this.key = k;
	this.value = v;
	this.right = r;
	if(h == -1) {
		var tmp;
		var _this = this.left;
		var _this1 = this.right;
		if((_this == null ? 0 : _this._height) > (_this1 == null ? 0 : _this1._height)) {
			var _this2 = this.left;
			if(_this2 == null) {
				tmp = 0;
			} else {
				tmp = _this2._height;
			}
		} else {
			var _this3 = this.right;
			if(_this3 == null) {
				tmp = 0;
			} else {
				tmp = _this3._height;
			}
		}
		this._height = tmp + 1;
	} else {
		this._height = h;
	}
};
$hxClasses["haxe.ds.TreeNode"] = haxe_ds_TreeNode;
haxe_ds_TreeNode.__name__ = ["haxe","ds","TreeNode"];
haxe_ds_TreeNode.prototype = {
	__class__: haxe_ds_TreeNode
};
var haxe_ds_EnumValueMap = function() {
	haxe_ds_BalancedTree.call(this);
};
$hxClasses["haxe.ds.EnumValueMap"] = haxe_ds_EnumValueMap;
haxe_ds_EnumValueMap.__name__ = ["haxe","ds","EnumValueMap"];
haxe_ds_EnumValueMap.__interfaces__ = [haxe_IMap];
haxe_ds_EnumValueMap.__super__ = haxe_ds_BalancedTree;
haxe_ds_EnumValueMap.prototype = $extend(haxe_ds_BalancedTree.prototype,{
	compare: function(k1,k2) {
		var d = k1[1] - k2[1];
		if(d != 0) {
			return d;
		}
		var p1 = k1.slice(2);
		var p2 = k2.slice(2);
		if(p1.length == 0 && p2.length == 0) {
			return 0;
		}
		return this.compareArgs(p1,p2);
	}
	,compareArgs: function(a1,a2) {
		var ld = a1.length - a2.length;
		if(ld != 0) {
			return ld;
		}
		var _g1 = 0;
		var _g = a1.length;
		while(_g1 < _g) {
			var i = _g1++;
			var d = this.compareArg(a1[i],a2[i]);
			if(d != 0) {
				return d;
			}
		}
		return 0;
	}
	,compareArg: function(v1,v2) {
		if(Reflect.isEnumValue(v1) && Reflect.isEnumValue(v2)) {
			return this.compare(v1,v2);
		} else if((v1 instanceof Array) && v1.__enum__ == null && ((v2 instanceof Array) && v2.__enum__ == null)) {
			return this.compareArgs(v1,v2);
		} else {
			return Reflect.compare(v1,v2);
		}
	}
	,__class__: haxe_ds_EnumValueMap
});
var haxe_ds_IntMap = function() {
	this.h = { };
};
$hxClasses["haxe.ds.IntMap"] = haxe_ds_IntMap;
haxe_ds_IntMap.__name__ = ["haxe","ds","IntMap"];
haxe_ds_IntMap.__interfaces__ = [haxe_IMap];
haxe_ds_IntMap.prototype = {
	set: function(key,value) {
		this.h[key] = value;
	}
	,get: function(key) {
		return this.h[key];
	}
	,exists: function(key) {
		return this.h.hasOwnProperty(key);
	}
	,remove: function(key) {
		if(!this.h.hasOwnProperty(key)) {
			return false;
		}
		delete(this.h[key]);
		return true;
	}
	,__class__: haxe_ds_IntMap
};
var haxe_ds_ObjectMap = function() {
	this.h = { __keys__ : { }};
};
$hxClasses["haxe.ds.ObjectMap"] = haxe_ds_ObjectMap;
haxe_ds_ObjectMap.__name__ = ["haxe","ds","ObjectMap"];
haxe_ds_ObjectMap.__interfaces__ = [haxe_IMap];
haxe_ds_ObjectMap.assignId = function(obj) {
	return obj.__id__ = ++haxe_ds_ObjectMap.count;
};
haxe_ds_ObjectMap.getId = function(obj) {
	return obj.__id__;
};
haxe_ds_ObjectMap.prototype = {
	set: function(key,value) {
		var id = key.__id__ || (key.__id__ = ++haxe_ds_ObjectMap.count);
		this.h[id] = value;
		this.h.__keys__[id] = key;
	}
	,get: function(key) {
		return this.h[key.__id__];
	}
	,exists: function(key) {
		return this.h.__keys__[key.__id__] != null;
	}
	,remove: function(key) {
		var id = key.__id__;
		if(this.h.__keys__[id] == null) {
			return false;
		}
		delete(this.h[id]);
		delete(this.h.__keys__[id]);
		return true;
	}
	,keys: function() {
		var a = [];
		for( var key in this.h.__keys__ ) {
		if(this.h.hasOwnProperty(key)) {
			a.push(this.h.__keys__[key]);
		}
		}
		return HxOverrides.iter(a);
	}
	,iterator: function() {
		return { ref : this.h, it : this.keys(), hasNext : function() {
			return this.it.hasNext();
		}, next : function() {
			var i = this.it.next();
			return this.ref[i.__id__];
		}};
	}
	,__class__: haxe_ds_ObjectMap
};
var haxe_ds__$StringMap_StringMapIterator = function(map,keys) {
	this.map = map;
	this.keys = keys;
	this.index = 0;
	this.count = keys.length;
};
$hxClasses["haxe.ds._StringMap.StringMapIterator"] = haxe_ds__$StringMap_StringMapIterator;
haxe_ds__$StringMap_StringMapIterator.__name__ = ["haxe","ds","_StringMap","StringMapIterator"];
haxe_ds__$StringMap_StringMapIterator.prototype = {
	hasNext: function() {
		return this.index < this.count;
	}
	,next: function() {
		var _this = this.map;
		var key = this.keys[this.index++];
		if(__map_reserved[key] != null) {
			return _this.getReserved(key);
		} else {
			return _this.h[key];
		}
	}
	,__class__: haxe_ds__$StringMap_StringMapIterator
};
var haxe_ds_StringMap = function() {
	this.h = { };
};
$hxClasses["haxe.ds.StringMap"] = haxe_ds_StringMap;
haxe_ds_StringMap.__name__ = ["haxe","ds","StringMap"];
haxe_ds_StringMap.__interfaces__ = [haxe_IMap];
haxe_ds_StringMap.prototype = {
	set: function(key,value) {
		if(__map_reserved[key] != null) {
			this.setReserved(key,value);
		} else {
			this.h[key] = value;
		}
	}
	,get: function(key) {
		if(__map_reserved[key] != null) {
			return this.getReserved(key);
		}
		return this.h[key];
	}
	,exists: function(key) {
		if(__map_reserved[key] != null) {
			return this.existsReserved(key);
		}
		return this.h.hasOwnProperty(key);
	}
	,setReserved: function(key,value) {
		if(this.rh == null) {
			this.rh = { };
		}
		this.rh["$" + key] = value;
	}
	,getReserved: function(key) {
		if(this.rh == null) {
			return null;
		} else {
			return this.rh["$" + key];
		}
	}
	,existsReserved: function(key) {
		if(this.rh == null) {
			return false;
		}
		return this.rh.hasOwnProperty("$" + key);
	}
	,remove: function(key) {
		if(__map_reserved[key] != null) {
			key = "$" + key;
			if(this.rh == null || !this.rh.hasOwnProperty(key)) {
				return false;
			}
			delete(this.rh[key]);
			return true;
		} else {
			if(!this.h.hasOwnProperty(key)) {
				return false;
			}
			delete(this.h[key]);
			return true;
		}
	}
	,keys: function() {
		return HxOverrides.iter(this.arrayKeys());
	}
	,arrayKeys: function() {
		var out = [];
		for( var key in this.h ) {
		if(this.h.hasOwnProperty(key)) {
			out.push(key);
		}
		}
		if(this.rh != null) {
			for( var key in this.rh ) {
			if(key.charCodeAt(0) == 36) {
				out.push(key.substr(1));
			}
			}
		}
		return out;
	}
	,iterator: function() {
		return new haxe_ds__$StringMap_StringMapIterator(this,this.arrayKeys());
	}
	,__class__: haxe_ds_StringMap
};
var haxe_rtti_Meta = function() { };
$hxClasses["haxe.rtti.Meta"] = haxe_rtti_Meta;
haxe_rtti_Meta.__name__ = ["haxe","rtti","Meta"];
haxe_rtti_Meta.getType = function(t) {
	var meta = haxe_rtti_Meta.getMeta(t);
	if(meta == null || meta.obj == null) {
		return { };
	} else {
		return meta.obj;
	}
};
haxe_rtti_Meta.getMeta = function(t) {
	return t.__meta__;
};
var haxe_xml__$Fast_NodeAccess = function(x) {
	this.__x = x;
};
$hxClasses["haxe.xml._Fast.NodeAccess"] = haxe_xml__$Fast_NodeAccess;
haxe_xml__$Fast_NodeAccess.__name__ = ["haxe","xml","_Fast","NodeAccess"];
haxe_xml__$Fast_NodeAccess.prototype = {
	resolve: function(name) {
		var x = this.__x.elementsNamed(name).next();
		if(x == null) {
			var xname;
			if(this.__x.nodeType == Xml.Document) {
				xname = "Document";
			} else {
				var _this = this.__x;
				if(_this.nodeType != Xml.Element) {
					throw new js__$Boot_HaxeError("Bad node type, expected Element but found " + _this.nodeType);
				}
				xname = _this.nodeName;
			}
			throw new js__$Boot_HaxeError(xname + " is missing element " + name);
		}
		return new haxe_xml_Fast(x);
	}
	,__class__: haxe_xml__$Fast_NodeAccess
};
var haxe_xml__$Fast_AttribAccess = function(x) {
	this.__x = x;
};
$hxClasses["haxe.xml._Fast.AttribAccess"] = haxe_xml__$Fast_AttribAccess;
haxe_xml__$Fast_AttribAccess.__name__ = ["haxe","xml","_Fast","AttribAccess"];
haxe_xml__$Fast_AttribAccess.prototype = {
	resolve: function(name) {
		if(this.__x.nodeType == Xml.Document) {
			throw new js__$Boot_HaxeError("Cannot access document attribute " + name);
		}
		var v = this.__x.get(name);
		if(v == null) {
			var _this = this.__x;
			if(_this.nodeType != Xml.Element) {
				throw new js__$Boot_HaxeError("Bad node type, expected Element but found " + _this.nodeType);
			}
			throw new js__$Boot_HaxeError(_this.nodeName + " is missing attribute " + name);
		}
		return v;
	}
	,__class__: haxe_xml__$Fast_AttribAccess
};
var haxe_xml__$Fast_HasAttribAccess = function(x) {
	this.__x = x;
};
$hxClasses["haxe.xml._Fast.HasAttribAccess"] = haxe_xml__$Fast_HasAttribAccess;
haxe_xml__$Fast_HasAttribAccess.__name__ = ["haxe","xml","_Fast","HasAttribAccess"];
haxe_xml__$Fast_HasAttribAccess.prototype = {
	resolve: function(name) {
		if(this.__x.nodeType == Xml.Document) {
			throw new js__$Boot_HaxeError("Cannot access document attribute " + name);
		}
		return this.__x.exists(name);
	}
	,__class__: haxe_xml__$Fast_HasAttribAccess
};
var haxe_xml__$Fast_HasNodeAccess = function(x) {
	this.__x = x;
};
$hxClasses["haxe.xml._Fast.HasNodeAccess"] = haxe_xml__$Fast_HasNodeAccess;
haxe_xml__$Fast_HasNodeAccess.__name__ = ["haxe","xml","_Fast","HasNodeAccess"];
haxe_xml__$Fast_HasNodeAccess.prototype = {
	resolve: function(name) {
		return this.__x.elementsNamed(name).hasNext();
	}
	,__class__: haxe_xml__$Fast_HasNodeAccess
};
var haxe_xml__$Fast_NodeListAccess = function(x) {
	this.__x = x;
};
$hxClasses["haxe.xml._Fast.NodeListAccess"] = haxe_xml__$Fast_NodeListAccess;
haxe_xml__$Fast_NodeListAccess.__name__ = ["haxe","xml","_Fast","NodeListAccess"];
haxe_xml__$Fast_NodeListAccess.prototype = {
	resolve: function(name) {
		var l = new List();
		var x = this.__x.elementsNamed(name);
		while(x.hasNext()) {
			var x1 = x.next();
			l.add(new haxe_xml_Fast(x1));
		}
		return l;
	}
	,__class__: haxe_xml__$Fast_NodeListAccess
};
var haxe_xml_Fast = function(x) {
	if(x.nodeType != Xml.Document && x.nodeType != Xml.Element) {
		throw new js__$Boot_HaxeError("Invalid nodeType " + x.nodeType);
	}
	this.x = x;
	this.node = new haxe_xml__$Fast_NodeAccess(x);
	this.nodes = new haxe_xml__$Fast_NodeListAccess(x);
	this.att = new haxe_xml__$Fast_AttribAccess(x);
	this.has = new haxe_xml__$Fast_HasAttribAccess(x);
	this.hasNode = new haxe_xml__$Fast_HasNodeAccess(x);
};
$hxClasses["haxe.xml.Fast"] = haxe_xml_Fast;
haxe_xml_Fast.__name__ = ["haxe","xml","Fast"];
haxe_xml_Fast.prototype = {
	get_name: function() {
		if(this.x.nodeType == Xml.Document) {
			return "Document";
		} else {
			var _this = this.x;
			if(_this.nodeType != Xml.Element) {
				throw new js__$Boot_HaxeError("Bad node type, expected Element but found " + _this.nodeType);
			}
			return _this.nodeName;
		}
	}
	,get_innerData: function() {
		var _this = this.x;
		if(_this.nodeType != Xml.Document && _this.nodeType != Xml.Element) {
			throw new js__$Boot_HaxeError("Bad node type, expected Element or Document but found " + _this.nodeType);
		}
		var it = HxOverrides.iter(_this.children);
		if(!it.hasNext()) {
			throw new js__$Boot_HaxeError(this.get_name() + " does not have data");
		}
		var v = it.next();
		if(it.hasNext()) {
			var n = it.next();
			var tmp;
			if(v.nodeType == Xml.PCData && n.nodeType == Xml.CData) {
				if(v.nodeType == Xml.Document || v.nodeType == Xml.Element) {
					throw new js__$Boot_HaxeError("Bad node type, unexpected " + v.nodeType);
				}
				tmp = StringTools.trim(v.nodeValue) == "";
			} else {
				tmp = false;
			}
			if(tmp) {
				if(!it.hasNext()) {
					if(n.nodeType == Xml.Document || n.nodeType == Xml.Element) {
						throw new js__$Boot_HaxeError("Bad node type, unexpected " + n.nodeType);
					}
					return n.nodeValue;
				}
				var n2 = it.next();
				var tmp1;
				var tmp2;
				if(n2.nodeType == Xml.PCData) {
					if(n2.nodeType == Xml.Document || n2.nodeType == Xml.Element) {
						throw new js__$Boot_HaxeError("Bad node type, unexpected " + n2.nodeType);
					}
					tmp2 = StringTools.trim(n2.nodeValue) == "";
				} else {
					tmp2 = false;
				}
				if(tmp2) {
					tmp1 = !it.hasNext();
				} else {
					tmp1 = false;
				}
				if(tmp1) {
					if(n.nodeType == Xml.Document || n.nodeType == Xml.Element) {
						throw new js__$Boot_HaxeError("Bad node type, unexpected " + n.nodeType);
					}
					return n.nodeValue;
				}
			}
			throw new js__$Boot_HaxeError(this.get_name() + " does not only have data");
		}
		if(v.nodeType != Xml.PCData && v.nodeType != Xml.CData) {
			throw new js__$Boot_HaxeError(this.get_name() + " does not have data");
		}
		if(v.nodeType == Xml.Document || v.nodeType == Xml.Element) {
			throw new js__$Boot_HaxeError("Bad node type, unexpected " + v.nodeType);
		}
		return v.nodeValue;
	}
	,__class__: haxe_xml_Fast
	,__properties__: {get_innerData:"get_innerData",get_name:"get_name"}
};
var haxe_xml_XmlParserException = function(message,xml,position) {
	this.xml = xml;
	this.message = message;
	this.position = position;
	this.lineNumber = 1;
	this.positionAtLine = 0;
	var _g1 = 0;
	var _g = position;
	while(_g1 < _g) {
		var i = _g1++;
		var c = xml.charCodeAt(i);
		if(c == 10) {
			this.lineNumber++;
			this.positionAtLine = 0;
		} else if(c != 13) {
			this.positionAtLine++;
		}
	}
};
$hxClasses["haxe.xml.XmlParserException"] = haxe_xml_XmlParserException;
haxe_xml_XmlParserException.__name__ = ["haxe","xml","XmlParserException"];
haxe_xml_XmlParserException.prototype = {
	toString: function() {
		return Type.getClassName(js_Boot.getClass(this)) + ": " + this.message + " at line " + this.lineNumber + " char " + this.positionAtLine;
	}
	,__class__: haxe_xml_XmlParserException
};
var haxe_xml_Parser = function() { };
$hxClasses["haxe.xml.Parser"] = haxe_xml_Parser;
haxe_xml_Parser.__name__ = ["haxe","xml","Parser"];
haxe_xml_Parser.parse = function(str,strict) {
	if(strict == null) {
		strict = false;
	}
	var doc = Xml.createDocument();
	haxe_xml_Parser.doParse(str,strict,0,doc);
	return doc;
};
haxe_xml_Parser.doParse = function(str,strict,p,parent) {
	if(p == null) {
		p = 0;
	}
	var xml = null;
	var state = 1;
	var next = 1;
	var aname = null;
	var start = 0;
	var nsubs = 0;
	var nbrackets = 0;
	var c = str.charCodeAt(p);
	var buf = new StringBuf();
	var escapeNext = 1;
	var attrValQuote = -1;
	while(c == c) {
		switch(state) {
		case 0:
			switch(c) {
			case 9:case 10:case 13:case 32:
				break;
			default:
				state = next;
				continue;
			}
			break;
		case 1:
			if(c == 60) {
				state = 0;
				next = 2;
			} else {
				start = p;
				state = 13;
				continue;
			}
			break;
		case 2:
			switch(c) {
			case 33:
				if(str.charCodeAt(p + 1) == 91) {
					p += 2;
					if(HxOverrides.substr(str,p,6).toUpperCase() != "CDATA[") {
						throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Expected <![CDATA[",str,p));
					}
					p += 5;
					state = 17;
					start = p + 1;
				} else if(str.charCodeAt(p + 1) == 68 || str.charCodeAt(p + 1) == 100) {
					if(HxOverrides.substr(str,p + 2,6).toUpperCase() != "OCTYPE") {
						throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Expected <!DOCTYPE",str,p));
					}
					p += 8;
					state = 16;
					start = p + 1;
				} else if(str.charCodeAt(p + 1) != 45 || str.charCodeAt(p + 2) != 45) {
					throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Expected <!--",str,p));
				} else {
					p += 2;
					state = 15;
					start = p + 1;
				}
				break;
			case 47:
				if(parent == null) {
					throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Expected node name",str,p));
				}
				start = p + 1;
				state = 0;
				next = 10;
				break;
			case 63:
				state = 14;
				start = p;
				break;
			default:
				state = 3;
				start = p;
				continue;
			}
			break;
		case 3:
			if(!(c >= 97 && c <= 122 || c >= 65 && c <= 90 || c >= 48 && c <= 57 || c == 58 || c == 46 || c == 95 || c == 45)) {
				if(p == start) {
					throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Expected node name",str,p));
				}
				xml = Xml.createElement(HxOverrides.substr(str,start,p - start));
				parent.addChild(xml);
				++nsubs;
				state = 0;
				next = 4;
				continue;
			}
			break;
		case 4:
			switch(c) {
			case 47:
				state = 11;
				break;
			case 62:
				state = 9;
				break;
			default:
				state = 5;
				start = p;
				continue;
			}
			break;
		case 5:
			if(!(c >= 97 && c <= 122 || c >= 65 && c <= 90 || c >= 48 && c <= 57 || c == 58 || c == 46 || c == 95 || c == 45)) {
				var tmp;
				if(start == p) {
					throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Expected attribute name",str,p));
				}
				tmp = HxOverrides.substr(str,start,p - start);
				aname = tmp;
				if(xml.exists(aname)) {
					throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Duplicate attribute [" + aname + "]",str,p));
				}
				state = 0;
				next = 6;
				continue;
			}
			break;
		case 6:
			if(c == 61) {
				state = 0;
				next = 7;
			} else {
				throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Expected =",str,p));
			}
			break;
		case 7:
			switch(c) {
			case 34:case 39:
				buf = new StringBuf();
				state = 8;
				start = p + 1;
				attrValQuote = c;
				break;
			default:
				throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Expected \"",str,p));
			}
			break;
		case 8:
			switch(c) {
			case 38:
				var len = p - start;
				buf.b += len == null ? HxOverrides.substr(str,start,null) : HxOverrides.substr(str,start,len);
				state = 18;
				escapeNext = 8;
				start = p + 1;
				break;
			case 60:case 62:
				if(strict) {
					throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Invalid unescaped " + String.fromCharCode(c) + " in attribute value",str,p));
				} else if(c == attrValQuote) {
					var len1 = p - start;
					buf.b += len1 == null ? HxOverrides.substr(str,start,null) : HxOverrides.substr(str,start,len1);
					var val = buf.b;
					buf = new StringBuf();
					xml.set(aname,val);
					state = 0;
					next = 4;
				}
				break;
			default:
				if(c == attrValQuote) {
					var len2 = p - start;
					buf.b += len2 == null ? HxOverrides.substr(str,start,null) : HxOverrides.substr(str,start,len2);
					var val1 = buf.b;
					buf = new StringBuf();
					xml.set(aname,val1);
					state = 0;
					next = 4;
				}
			}
			break;
		case 9:
			p = haxe_xml_Parser.doParse(str,strict,p,xml);
			start = p;
			state = 1;
			break;
		case 10:
			if(!(c >= 97 && c <= 122 || c >= 65 && c <= 90 || c >= 48 && c <= 57 || c == 58 || c == 46 || c == 95 || c == 45)) {
				if(start == p) {
					throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Expected node name",str,p));
				}
				var v = HxOverrides.substr(str,start,p - start);
				if(parent.nodeType != Xml.Element) {
					throw new js__$Boot_HaxeError("Bad node type, expected Element but found " + parent.nodeType);
				}
				if(v != parent.nodeName) {
					if(parent.nodeType != Xml.Element) {
						throw new js__$Boot_HaxeError("Bad node type, expected Element but found " + parent.nodeType);
					}
					throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Expected </" + parent.nodeName + ">",str,p));
				}
				state = 0;
				next = 12;
				continue;
			}
			break;
		case 11:
			if(c == 62) {
				state = 1;
			} else {
				throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Expected >",str,p));
			}
			break;
		case 12:
			if(c == 62) {
				if(nsubs == 0) {
					parent.addChild(Xml.createPCData(""));
				}
				return p;
			} else {
				throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Expected >",str,p));
			}
			break;
		case 13:
			if(c == 60) {
				var len3 = p - start;
				buf.b += len3 == null ? HxOverrides.substr(str,start,null) : HxOverrides.substr(str,start,len3);
				var child = Xml.createPCData(buf.b);
				buf = new StringBuf();
				parent.addChild(child);
				++nsubs;
				state = 0;
				next = 2;
			} else if(c == 38) {
				var len4 = p - start;
				buf.b += len4 == null ? HxOverrides.substr(str,start,null) : HxOverrides.substr(str,start,len4);
				state = 18;
				escapeNext = 13;
				start = p + 1;
			}
			break;
		case 14:
			if(c == 63 && str.charCodeAt(p + 1) == 62) {
				++p;
				var str1 = HxOverrides.substr(str,start + 1,p - start - 2);
				parent.addChild(Xml.createProcessingInstruction(str1));
				++nsubs;
				state = 1;
			}
			break;
		case 15:
			if(c == 45 && str.charCodeAt(p + 1) == 45 && str.charCodeAt(p + 2) == 62) {
				parent.addChild(Xml.createComment(HxOverrides.substr(str,start,p - start)));
				++nsubs;
				p += 2;
				state = 1;
			}
			break;
		case 16:
			if(c == 91) {
				++nbrackets;
			} else if(c == 93) {
				--nbrackets;
			} else if(c == 62 && nbrackets == 0) {
				parent.addChild(Xml.createDocType(HxOverrides.substr(str,start,p - start)));
				++nsubs;
				state = 1;
			}
			break;
		case 17:
			if(c == 93 && str.charCodeAt(p + 1) == 93 && str.charCodeAt(p + 2) == 62) {
				var child1 = Xml.createCData(HxOverrides.substr(str,start,p - start));
				parent.addChild(child1);
				++nsubs;
				p += 2;
				state = 1;
			}
			break;
		case 18:
			if(c == 59) {
				var s = HxOverrides.substr(str,start,p - start);
				if(s.charCodeAt(0) == 35) {
					var c1 = s.charCodeAt(1) == 120 ? Std.parseInt("0" + HxOverrides.substr(s,1,s.length - 1)) : Std.parseInt(HxOverrides.substr(s,1,s.length - 1));
					buf.b += String.fromCharCode(c1);
				} else {
					var _this = haxe_xml_Parser.escapes;
					if(!(__map_reserved[s] != null ? _this.existsReserved(s) : _this.h.hasOwnProperty(s))) {
						if(strict) {
							throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Undefined entity: " + s,str,p));
						}
						buf.b += Std.string("&" + s + ";");
					} else {
						var _this1 = haxe_xml_Parser.escapes;
						var x = __map_reserved[s] != null ? _this1.getReserved(s) : _this1.h[s];
						buf.b += Std.string(x);
					}
				}
				start = p + 1;
				state = escapeNext;
			} else if(!(c >= 97 && c <= 122 || c >= 65 && c <= 90 || c >= 48 && c <= 57 || c == 58 || c == 46 || c == 95 || c == 45) && c != 35) {
				if(strict) {
					throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Invalid character in entity: " + String.fromCharCode(c),str,p));
				}
				buf.b += "&";
				var len5 = p - start;
				buf.b += len5 == null ? HxOverrides.substr(str,start,null) : HxOverrides.substr(str,start,len5);
				start = p--;
				state = escapeNext;
			}
			break;
		}
		c = str.charCodeAt(++p);
	}
	if(state == 1) {
		start = p;
		state = 13;
	}
	if(state == 13) {
		if(p != start || nsubs == 0) {
			var len6 = p - start;
			buf.b += len6 == null ? HxOverrides.substr(str,start,null) : HxOverrides.substr(str,start,len6);
			parent.addChild(Xml.createPCData(buf.b));
			++nsubs;
		}
		return p;
	}
	if(!strict && state == 18 && escapeNext == 13) {
		buf.b += "&";
		var len7 = p - start;
		buf.b += len7 == null ? HxOverrides.substr(str,start,null) : HxOverrides.substr(str,start,len7);
		parent.addChild(Xml.createPCData(buf.b));
		++nsubs;
		return p;
	}
	throw new js__$Boot_HaxeError(new haxe_xml_XmlParserException("Unexpected end",str,p));
};
var js__$Boot_HaxeError = function(val) {
	Error.call(this);
	this.val = val;
	this.message = String(val);
	if(Error.captureStackTrace) {
		Error.captureStackTrace(this,js__$Boot_HaxeError);
	}
};
$hxClasses["js._Boot.HaxeError"] = js__$Boot_HaxeError;
js__$Boot_HaxeError.__name__ = ["js","_Boot","HaxeError"];
js__$Boot_HaxeError.wrap = function(val) {
	if((val instanceof Error)) {
		return val;
	} else {
		return new js__$Boot_HaxeError(val);
	}
};
js__$Boot_HaxeError.__super__ = Error;
js__$Boot_HaxeError.prototype = $extend(Error.prototype,{
	__class__: js__$Boot_HaxeError
});
var js_Boot = function() { };
$hxClasses["js.Boot"] = js_Boot;
js_Boot.__name__ = ["js","Boot"];
js_Boot.getClass = function(o) {
	if((o instanceof Array) && o.__enum__ == null) {
		return Array;
	} else {
		var cl = o.__class__;
		if(cl != null) {
			return cl;
		}
		var name = js_Boot.__nativeClassName(o);
		if(name != null) {
			return js_Boot.__resolveNativeClass(name);
		}
		return null;
	}
};
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o instanceof Array) {
			if(o.__enum__) {
				if(o.length == 2) {
					return o[0];
				}
				var str = o[0] + "(";
				s += "\t";
				var _g1 = 2;
				var _g = o.length;
				while(_g1 < _g) {
					var i = _g1++;
					if(i != 2) {
						str += "," + js_Boot.__string_rec(o[i],s);
					} else {
						str += js_Boot.__string_rec(o[i],s);
					}
				}
				return str + ")";
			}
			var l = o.length;
			var i1;
			var str1 = "[";
			s += "\t";
			var _g11 = 0;
			var _g2 = l;
			while(_g11 < _g2) {
				var i2 = _g11++;
				str1 += (i2 > 0 ? "," : "") + js_Boot.__string_rec(o[i2],s);
			}
			str1 += "]";
			return str1;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( e ) {
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var k = null;
		var str2 = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		for( var k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str2.length != 2) {
			str2 += ", \n";
		}
		str2 += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str2 += "\n" + s + "}";
		return str2;
	case "string":
		return o;
	default:
		return String(o);
	}
};
js_Boot.__interfLoop = function(cc,cl) {
	if(cc == null) {
		return false;
	}
	if(cc == cl) {
		return true;
	}
	var intf = cc.__interfaces__;
	if(intf != null) {
		var _g1 = 0;
		var _g = intf.length;
		while(_g1 < _g) {
			var i = _g1++;
			var i1 = intf[i];
			if(i1 == cl || js_Boot.__interfLoop(i1,cl)) {
				return true;
			}
		}
	}
	return js_Boot.__interfLoop(cc.__super__,cl);
};
js_Boot.__instanceof = function(o,cl) {
	if(cl == null) {
		return false;
	}
	switch(cl) {
	case Array:
		if((o instanceof Array)) {
			return o.__enum__ == null;
		} else {
			return false;
		}
		break;
	case Bool:
		return typeof(o) == "boolean";
	case Dynamic:
		return true;
	case Float:
		return typeof(o) == "number";
	case Int:
		if(typeof(o) == "number") {
			return (o|0) === o;
		} else {
			return false;
		}
		break;
	case String:
		return typeof(o) == "string";
	default:
		if(o != null) {
			if(typeof(cl) == "function") {
				if(o instanceof cl) {
					return true;
				}
				if(js_Boot.__interfLoop(js_Boot.getClass(o),cl)) {
					return true;
				}
			} else if(typeof(cl) == "object" && js_Boot.__isNativeObj(cl)) {
				if(o instanceof cl) {
					return true;
				}
			}
		} else {
			return false;
		}
		if(cl == Class ? o.__name__ != null : false) {
			return true;
		}
		if(cl == Enum ? o.__ename__ != null : false) {
			return true;
		}
		return o.__enum__ == cl;
	}
};
js_Boot.__cast = function(o,t) {
	if(js_Boot.__instanceof(o,t)) {
		return o;
	} else {
		throw new js__$Boot_HaxeError("Cannot cast " + Std.string(o) + " to " + Std.string(t));
	}
};
js_Boot.__nativeClassName = function(o) {
	var name = js_Boot.__toStr.call(o).slice(8,-1);
	if(name == "Object" || name == "Function" || name == "Math" || name == "JSON") {
		return null;
	}
	return name;
};
js_Boot.__isNativeObj = function(o) {
	return js_Boot.__nativeClassName(o) != null;
};
js_Boot.__resolveNativeClass = function(name) {
	return $global[name];
};
var js_Cookie = function() { };
$hxClasses["js.Cookie"] = js_Cookie;
js_Cookie.__name__ = ["js","Cookie"];
js_Cookie.set = function(name,value,expireDelay,path,domain) {
	var s = name + "=" + encodeURIComponent(value);
	if(expireDelay != null) {
		var t = new Date().getTime() + expireDelay * 1000;
		var d = new Date(t);
		s += ";expires=" + d.toGMTString();
	}
	if(path != null) {
		s += ";path=" + path;
	}
	if(domain != null) {
		s += ";domain=" + domain;
	}
	window.document.cookie = s;
};
js_Cookie.all = function() {
	var h = new haxe_ds_StringMap();
	var a = window.document.cookie.split(";");
	var _g = 0;
	while(_g < a.length) {
		var e = a[_g];
		++_g;
		e = StringTools.ltrim(e);
		var t = e.split("=");
		if(t.length < 2) {
			continue;
		}
		var key = t[0];
		var value = decodeURIComponent(t[1].split("+").join(" "));
		if(__map_reserved[key] != null) {
			h.setReserved(key,value);
		} else {
			h.h[key] = value;
		}
	}
	return h;
};
js_Cookie.get = function(name) {
	var _this = js_Cookie.all();
	if(__map_reserved[name] != null) {
		return _this.getReserved(name);
	} else {
		return _this.h[name];
	}
};
var js_html_compat_ArrayBuffer = function(a) {
	if((a instanceof Array) && a.__enum__ == null) {
		this.a = a;
		this.byteLength = a.length;
	} else {
		var len = a;
		this.a = [];
		var _g1 = 0;
		var _g = len;
		while(_g1 < _g) {
			var i = _g1++;
			this.a[i] = 0;
		}
		this.byteLength = len;
	}
};
$hxClasses["js.html.compat.ArrayBuffer"] = js_html_compat_ArrayBuffer;
js_html_compat_ArrayBuffer.__name__ = ["js","html","compat","ArrayBuffer"];
js_html_compat_ArrayBuffer.sliceImpl = function(begin,end) {
	var u = new Uint8Array(this,begin,end == null ? null : end - begin);
	var result = new ArrayBuffer(u.byteLength);
	var resultArray = new Uint8Array(result);
	resultArray.set(u);
	return result;
};
js_html_compat_ArrayBuffer.prototype = {
	slice: function(begin,end) {
		return new js_html_compat_ArrayBuffer(this.a.slice(begin,end));
	}
	,__class__: js_html_compat_ArrayBuffer
};
var js_html_compat_Uint8Array = function() { };
$hxClasses["js.html.compat.Uint8Array"] = js_html_compat_Uint8Array;
js_html_compat_Uint8Array.__name__ = ["js","html","compat","Uint8Array"];
js_html_compat_Uint8Array._new = function(arg1,offset,length) {
	var arr;
	if(typeof(arg1) == "number") {
		arr = [];
		var _g1 = 0;
		var _g = arg1;
		while(_g1 < _g) {
			var i = _g1++;
			arr[i] = 0;
		}
		arr.byteLength = arr.length;
		arr.byteOffset = 0;
		arr.buffer = new js_html_compat_ArrayBuffer(arr);
	} else if(js_Boot.__instanceof(arg1,js_html_compat_ArrayBuffer)) {
		var buffer = arg1;
		if(offset == null) {
			offset = 0;
		}
		if(length == null) {
			length = buffer.byteLength - offset;
		}
		if(offset == 0) {
			arr = buffer.a;
		} else {
			arr = buffer.a.slice(offset,offset + length);
		}
		arr.byteLength = arr.length;
		arr.byteOffset = offset;
		arr.buffer = buffer;
	} else if((arg1 instanceof Array) && arg1.__enum__ == null) {
		arr = arg1.slice();
		arr.byteLength = arr.length;
		arr.byteOffset = 0;
		arr.buffer = new js_html_compat_ArrayBuffer(arr);
	} else {
		throw new js__$Boot_HaxeError("TODO " + Std.string(arg1));
	}
	arr.subarray = js_html_compat_Uint8Array._subarray;
	arr.set = js_html_compat_Uint8Array._set;
	return arr;
};
js_html_compat_Uint8Array._set = function(arg,offset) {
	if(js_Boot.__instanceof(arg.buffer,js_html_compat_ArrayBuffer)) {
		var a = arg;
		if(arg.byteLength + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g1 = 0;
		var _g = arg.byteLength;
		while(_g1 < _g) {
			var i = _g1++;
			this[i + offset] = a[i];
		}
	} else if((arg instanceof Array) && arg.__enum__ == null) {
		var a1 = arg;
		if(a1.length + offset > this.byteLength) {
			throw new js__$Boot_HaxeError("set() outside of range");
		}
		var _g11 = 0;
		var _g2 = a1.length;
		while(_g11 < _g2) {
			var i1 = _g11++;
			this[i1 + offset] = a1[i1];
		}
	} else {
		throw new js__$Boot_HaxeError("TODO");
	}
};
js_html_compat_Uint8Array._subarray = function(start,end) {
	var a = js_html_compat_Uint8Array._new(this.slice(start,end));
	a.byteOffset = start;
	return a;
};
var manifest_Xml = function() { };
$hxClasses["manifest.Xml"] = manifest_Xml;
manifest_Xml.__name__ = ["manifest","Xml"];
var workinman_ui_ScreenBase = function(pRoot) {
	this._highlightIndex = -1;
	this.classType = js_Boot.getClass(this);
	this._elementManager = new workinman_display_ElementManager(pRoot,app_ConstantsApp.STAGE_CENTER_X,360,true);
	if(this._useClickWall()) {
		this._clickWall = this._elementManager.root.addChild(new workinman_display_FillSprite({ color : 16711680, sizeX : app_ConstantsApp.STAGE_WIDTH, sizeY : 720, alpha : 0}));
	}
	this._elementManager.addLayer("ui_default",true);
	this._elementManager.addLayer("ui_loader");
	this._elementManager.addLayer("ui_border");
	this._tween = new workinman_tween_Tweener();
	this._buildScreen();
	this._onEventResizeCanvas();
	this.doDelete = false;
	this._addEventListeners();
};
$hxClasses["workinman.ui.ScreenBase"] = workinman_ui_ScreenBase;
workinman_ui_ScreenBase.__name__ = ["workinman","ui","ScreenBase"];
workinman_ui_ScreenBase.prototype = {
	dispose: function() {
		this._removeEventListeners();
		this._clickWall = null;
		if(this._elementManager != null) {
			this._elementManager.dispose();
			this._elementManager = null;
		}
		if(this._tween != null) {
			this._tween.dispose();
			this._tween = null;
		}
		this._state = null;
		this.classType = null;
	}
	,_buildScreen: function() {
		this._border = this._elementManager.addElement(new workinman_display_ImageSprite({ asset : "border", scaleY : 0.5, scaleX : 0.5135, alpha : 0}),"ui_border");
		this._border.inputEnabled = false;
		this._addLoader();
	}
	,_addEventListeners: function() {
		app_ConstantsEvent.resizeCanvas.add($bind(this,this._handleResizeCanvas));
		app_ConstantsEvent.addLoader.add($bind(this,this._addLoader));
		app_ConstantsEvent.removeLoader.add($bind(this,this._removeLoader));
		workinman_WMInput.eventInput.add($bind(this,this._handleInput));
	}
	,_removeEventListeners: function() {
		app_ConstantsEvent.resizeCanvas.remove($bind(this,this._handleResizeCanvas));
		app_ConstantsEvent.addLoader.remove($bind(this,this._addLoader));
		app_ConstantsEvent.removeLoader.remove($bind(this,this._removeLoader));
		workinman_WMInput.eventInput.remove($bind(this,this._handleInput));
	}
	,get_root: function() {
		return this._elementManager.root;
	}
	,_addLoader: function() {
		if(this._loadWidget == null) {
			this._loadWidget = this._elementManager.addElement(new screen_display_DisplayLoadingProgress({ tween : this._tween, y : 0}),"ui_loader");
		}
		if(this._loadWidget.get_active() == false) {
			this._loadWidget.tweenIn(true);
		}
		this._loadWidget.inputEnabled = false;
	}
	,_removeLoader: function() {
		if(this._loadWidget == null || this._loadWidget.get_active() == false) {
			return;
		}
		this._loadWidget.tweenOut();
	}
	,_useClickWall: function() {
		return true;
	}
	,_setState: function(pState) {
		if(this._state == pState) {
			return;
		}
		this._state = pState;
		var _g = this._state;
		switch(_g[1]) {
		case 0:
			this._setInState();
			break;
		case 1:
			break;
		case 2:
			this._setOpenedState();
			break;
		}
	}
	,_setInState: function() {
		this._finishInState();
	}
	,_finishInState: function() {
		this._setState(workinman_ui_STATE_$SCREEN.OPENED);
		workinman_ui_ScreenManager.eventFlowDelegate.dispatch(workinman_ui_CHANGE_$TYPE.OPEN_COMPLETE,this.classType);
		app_ConstantsEvent.removeLoader.dispatch();
	}
	,_setCloseState: function() {
		this._finishCloseState();
	}
	,_finishCloseState: function() {
		this.doDelete = true;
		workinman_ui_ScreenManager.eventFlowDelegate.dispatch(workinman_ui_CHANGE_$TYPE.CLOSE_COMPLETE,this.classType);
	}
	,_setOpenedState: function() {
	}
	,update: function(dt) {
		this._tween.update(dt);
		this._elementManager.update(dt);
	}
	,_handleInput: function(pType,pDown) {
		if(this._clearInput() == false) {
			return;
		}
		this._onInput(pType,pDown);
		this._checkButtonHighlight(pType,pDown);
	}
	,_checkButtonHighlight: function(pType,pDown) {
		switch(pType[1]) {
		case 0:
			if(pDown) {
				if(this._highlightedButton != null) {
					this._highlightedButton.setHighlight(false);
				}
			}
			break;
		case 2:
			if(pDown) {
				if(this._highlightedButton != null) {
					this._highlightedButton.forceClick();
				}
			}
			break;
		case 7:
			if(pDown) {
				if(this._highlightedButton != null) {
					this._highlightedButton.setHighlight(false);
				}
				var buttonList = this._elementManager.getAllButtons();
				if(buttonList.length == 0) {
					return;
				}
				var reverse = true;
				var start = this._highlightIndex;
				while(true) {
					this._highlightIndex += reverse ? -1 : 1;
					if(this._highlightIndex >= buttonList.length) {
						this._highlightIndex = 0;
					}
					if(this._highlightIndex < 0) {
						this._highlightIndex = buttonList.length - 1;
					}
					if(!(this._highlightIndex != start && !buttonList[this._highlightIndex].isSelectable())) {
						break;
					}
				}
				this._highlightedButton = buttonList[this._highlightIndex];
				this._highlightedButton.setHighlight(true);
			}
			break;
		case 8:
			if(pDown) {
				if(this._highlightedButton != null) {
					this._highlightedButton.setHighlight(false);
				}
				var buttonList1 = this._elementManager.getAllButtons();
				if(buttonList1.length == 0) {
					return;
				}
				var reverse1 = false;
				var start1 = this._highlightIndex;
				while(true) {
					this._highlightIndex += reverse1 ? -1 : 1;
					if(this._highlightIndex >= buttonList1.length) {
						this._highlightIndex = 0;
					}
					if(this._highlightIndex < 0) {
						this._highlightIndex = buttonList1.length - 1;
					}
					if(!(this._highlightIndex != start1 && !buttonList1[this._highlightIndex].isSelectable())) {
						break;
					}
				}
				this._highlightedButton = buttonList1[this._highlightIndex];
				this._highlightedButton.setHighlight(true);
			}
			break;
		case 13:
			if(pDown) {
				if(this._highlightedButton != null) {
					this._highlightedButton.setHighlight(false);
				}
				var buttonList2 = this._elementManager.getAllButtons();
				if(buttonList2.length == 0) {
					return;
				}
				var reverse2 = flambe_System._platform.getKeyboard().isDown(flambe_input_Key.Shift);
				var start2 = this._highlightIndex;
				while(true) {
					this._highlightIndex += reverse2 ? -1 : 1;
					if(this._highlightIndex >= buttonList2.length) {
						this._highlightIndex = 0;
					}
					if(this._highlightIndex < 0) {
						this._highlightIndex = buttonList2.length - 1;
					}
					if(!(this._highlightIndex != start2 && !buttonList2[this._highlightIndex].isSelectable())) {
						break;
					}
				}
				this._highlightedButton = buttonList2[this._highlightIndex];
				this._highlightedButton.setHighlight(true);
			}
			break;
		default:
		}
	}
	,_onInput: function(pType,pDown) {
	}
	,open: function(pPlayIntro) {
		if(pPlayIntro == null) {
			pPlayIntro = true;
		}
		if(pPlayIntro) {
			this._setState(workinman_ui_STATE_$SCREEN.IN);
			return;
		}
		this._finishInState();
	}
	,close: function(pPlayOutro) {
		if(pPlayOutro == null) {
			pPlayOutro = true;
		}
		if(this._state == workinman_ui_STATE_$SCREEN.OUT) {
			return;
		}
		this._setState(workinman_ui_STATE_$SCREEN.OUT);
		if(pPlayOutro) {
			this._setCloseState();
			return;
		}
		this._finishCloseState();
	}
	,_handleResizeCanvas: function(pScale) {
		if(this._clickWall != null) {
			this._clickWall.sizeX = Math.floor(app_ConstantsApp.STAGE_WIDTH);
			this._clickWall.sizeY = 720;
		}
		this._onEventResizeCanvas();
	}
	,_onEventResizeCanvas: function() {
		var tBorderTexture = workinman_WMAssets.getTexture(this._border.get_asset());
		var tmp = app_ConstantsApp.STAGE_WIDTH;
		var tmp1 = tBorderTexture.get_width();
		this._border.scaleX = tmp / tmp1;
		var tmp2 = tBorderTexture.get_height();
		this._border.scaleY = 720 / tmp2;
	}
	,_clearInput: function() {
		if(this._state != workinman_ui_STATE_$SCREEN.OPENED) {
			return false;
		}
		return true;
	}
	,_clearButtonInput: function() {
		if(this._state != workinman_ui_STATE_$SCREEN.OPENED) {
			return false;
		}
		return true;
	}
	,__class__: workinman_ui_ScreenBase
	,__properties__: {get_root:"get_root"}
};
var screen_ScreenAttract = function(pRoot) {
	workinman_ui_ScreenBase.call(this,pRoot);
};
$hxClasses["screen.ScreenAttract"] = screen_ScreenAttract;
screen_ScreenAttract.__name__ = ["screen","ScreenAttract"];
screen_ScreenAttract.__super__ = workinman_ui_ScreenBase;
screen_ScreenAttract.prototype = $extend(workinman_ui_ScreenBase.prototype,{
	_buildScreen: function() {
		workinman_ui_ScreenBase.prototype._buildScreen.call(this);
		workinman_WMSound.stopMusic();
		this._closing = false;
		this._beginPreload();
		app_PlayerData.loadCookies();
		this._tray = this._elementManager.addElement(new workinman_display_ImageSprite({ }));
		this._tray.addChild(new workinman_display_ImageSprite({ asset : "splash_bg", scale : .5}));
		this._background = this._tray.addChild(new workinman_display_spine_SpineElement({ library : "splash", scale : .5, alpha : 0}));
		this._background.animate("animation");
		this._sofia = this._background.addChild(new workinman_display_spine_SpineElement({ library : "sofia", x : 500, y : 400, scale : .7, scaleX : -.7}));
		this._sofia.animate("splash");
		this._clickTray = this._tray.addChild(new workinman_ui_Button({ asset : "splash_bg", x : 0, y : 0, tween : this._tween, clear : $bind(this,this._clearButtonInput), scale : 1, alpha : 0}));
		this._clickTray.eventClick.add($bind(this,this._onEventClickPlay));
		this._onEventResizeCanvas();
	}
	,dispose: function() {
		this._loadWidget = null;
		this._tray = null;
		this._clickTray = null;
		this._bg = null;
		this._sofia = null;
		this._background = null;
		workinman_ui_ScreenBase.prototype.dispose.call(this);
	}
	,_beginPreload: function() {
		var tPacks = ["preload","fonts_" + workinman_WMLocalize.region];
		workinman_WMAssets.load($bind(this,this._onPreloadFinished),tPacks,0);
	}
	,_onPreloadFinished: function() {
		app_Services.onPreloadFinished();
		workinman_WMLocalize.parseLocalization();
		this._addPreload();
		this._beginInitialLoad();
	}
	,_beginInitialLoad: function() {
		var tPacks = ["initial_universal","initial_audio_required"];
		workinman_WMAssets.load($bind(this,this._eventLoadCompleteInitial),tPacks,1.2);
	}
	,_eventLoadCompleteInitial: function() {
		this._addClickTray();
		this._tray.alpha = 1;
		this._background.alpha = 1;
		app_ConstantsEvent.removeLoader.dispatch();
		this._tray.addChild(new screen_button_ButtonSoundToggle({ assetUp : "button_sound_on", assetUpOff : "button_sound_off", tween : this._tween, clear : $bind(this,this._clearButtonInput), x : app_ConstantsApp.STAGE_CENTER_X - 50, y : -310., scale : 0.5}));
		app_Services.onInitialFinished();
		app_Services.onTitleStart();
		app_ConstantsEvent.initialLoadComplete.dispatch();
	}
	,_addPreload: function() {
		app_ConstantsEvent.addLoader.dispatch();
	}
	,_addClickTray: function() {
		if(this._clickTray != null) {
			return;
		}
		workinman_tween_TweenUtils.easeBounceIn(this._clickTray,this._tween);
	}
	,update: function(dt) {
		workinman_ui_ScreenBase.prototype.update.call(this,dt);
	}
	,_setCloseState: function() {
		workinman_tween_TweenUtils.easeBounceOut(this._tray,this._tween).onComplete($bind(this,this._finishCloseState));
	}
	,_onEventClickPlay: function() {
		if(this._closing == false) {
			this._closing = true;
			workinman_WMSound.playMusic("sofia_bg_music",0.3);
			app_ConstantsEvent.addLoader.dispatch();
			app_ConstantsEvent.flow.dispatch("AVATAR_BUILDER");
		}
	}
	,_onEventResizeCanvas: function() {
		workinman_ui_ScreenBase.prototype._onEventResizeCanvas.call(this);
		this._tray.scaleX = app_ConstantsApp.STAGE_WIDTH / 1280;
	}
	,__class__: screen_ScreenAttract
});
var screen_ScreenAvatarBuilder = function(pRoot) {
	this._clickVolume = .5;
	this._selectedFacewear = 0;
	this._selectedOutfitColor = 0;
	this._selectedOutfitType = 0;
	this._selectedEyeShape = 0;
	this._selectedEyeColor = 0;
	this._wasAltColor = false;
	this._selectedHairStyle = 0;
	this._selectedHairColor = 0;
	this._selectedBodyType = 0;
	this._selectedSkinColor = 0;
	this._accesoryButtons = [null,null,null,null];
	this._outfitColorButtons = [null,null,null,null,null,null,null,null];
	this._outfitButtons = [null,null];
	this._eyeStyleButtons = [null,null,null];
	this._eyeColorButtons = [null,null,null,null,null,null,null,null,null,null,null,null];
	this._hairStyleButtons = [null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];
	this._hairColorButtons = [null,null,null,null,null,null,null,null,null,null];
	this._hairStyleContainers = [null,null];
	this._arrowButtons = [null,null];
	this._bodyTypeButtons = [null,null,null,null,null];
	this._skinColorButtons = [null,null,null,null,null,null,null,null];
	this._customizationBodies = [null,null,null,null];
	this._customizationTabButtons = [null,null,null,null];
	workinman_ui_ScreenBase.call(this,pRoot);
};
$hxClasses["screen.ScreenAvatarBuilder"] = screen_ScreenAvatarBuilder;
screen_ScreenAvatarBuilder.__name__ = ["screen","ScreenAvatarBuilder"];
screen_ScreenAvatarBuilder.__super__ = workinman_ui_ScreenBase;
screen_ScreenAvatarBuilder.prototype = $extend(workinman_ui_ScreenBase.prototype,{
	_buildScreen: function() {
		workinman_ui_ScreenBase.prototype._buildScreen.call(this);
		workinman_WMSound.stopMusic();
		workinman_WMSound.playMusic("sofia_park_lab_track",0.3);
		this._closing = false;
		this._tray = this._elementManager.addElement(new workinman_display_ImageSprite({ }));
		this._tray.addChild(new workinman_display_ImageSprite({ asset : "avatar_bg", scale : 1, alpha : 1}));
		this._acceptButton = this._tray.addChild(new workinman_ui_Button({ asset : "btn_check", x : app_ConstantsApp.STAGE_WIDTH / 2 - 75, y : 285., tween : this._tween, clear : $bind(this,this._clearButtonInput), scale : 1, alpha : 1}));
		this._acceptButton.eventClick.add($bind(this,this._onEventClickPlay));
		this._createHeaderTabs();
		this._createBodyButtons();
		this._createHairButtons();
		this._createEyeButtons();
		this._createOutfitButtons();
		this._initializeAvatar();
		this._menuOptions = this._tray.addChild(new world_elements_MenuOptions({ },"4: Avatar Builder","avatar_popup","sofia_avatar_builder",this._tween,$bind(this,this._clearButtonInput)));
		app_GoogleAnalytics.LogEvent("Progress_web",{ "event_label" : "4: Avatar Builder"});
		workinman_WMInput.eventInput.add($bind(this,this._generalInput));
	}
	,update: function(dt) {
		workinman_ui_ScreenBase.prototype.update.call(this,dt);
	}
	,dispose: function() {
		workinman_WMTimer.stop("hide_timer");
		this._menuOptions = null;
		this._tray = null;
		this._acceptButton = null;
		this._avatar = null;
		this._customizationBacking = null;
		this._bodyTray = null;
		this._hairTray = null;
		this._eyesTray = null;
		this._glassesTray = null;
		this._customizationTabButtons = [];
		this._customizationBodies = [];
		this._skinColorButtons = [];
		this._bodyTypeButtons = [];
		this._arrowButtons = [];
		this._hairStyleContainers = [];
		this._hairColorButtons = [];
		this._hairStyleButtons = [];
		this._eyeColorButtons = [];
		this._eyeStyleButtons = [];
		this._outfitButtons = [];
		this._outfitColorButtons = [];
		this._accesoryButtons = [];
		workinman_WMInput.eventInput.remove($bind(this,this._generalInput));
		workinman_ui_ScreenBase.prototype.dispose.call(this);
	}
	,_generalInput: function(pType,pDown) {
		if(pType[1] == 0) {
			if(pDown) {
				this._menuOptions.resetCountdown();
			}
		}
	}
	,_onEventClickPlay: function() {
		if(this._closing == false) {
			workinman_WMSound.stopVO();
			workinman_WMSound.stopMusic();
			workinman_WMSound.playSound("sofia_click_confirm");
			workinman_WMSound.playMusic("sofia_bg_music",0.3);
			app_PlayerData.set_avatarSettings({ skinColor : this._selectedSkinColor, bodyType : this._selectedBodyType, hairColor : this._selectedHairColor, hairStyle : this._selectedHairStyle, eyeColor : this._selectedEyeColor, eyeShape : this._selectedEyeShape, outfitType : this._selectedOutfitType, outfitColor : this._selectedOutfitColor, facewear : this._selectedFacewear});
			this._closing = true;
			app_ConstantsEvent.addLoader.dispatch();
			app_ConstantsEvent.flow.dispatch("CUTSCENE_OPENING");
		}
	}
	,_createHeaderTabs: function() {
		var _gthis = this;
		this._customizationBacking = this._tray.addChild(new workinman_display_ImageSprite({ asset : "top_panel", x : 216, y : -224}));
		this._customizationTabButtons[0] = this._customizationBacking.addChild(new screen_button_ButtonMenu({ asset : "btn_body", alt : "btn_body_highlight", x : -261, y : -16, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectHeaderTab(0);
		}));
		this._customizationTabButtons[1] = this._customizationBacking.addChild(new screen_button_ButtonMenu({ asset : "btn_hair", alt : "btn_hair_highlight", x : -91, y : 0, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectHeaderTab(1);
		}));
		this._customizationTabButtons[2] = this._customizationBacking.addChild(new screen_button_ButtonMenu({ asset : "btn_eyes", alt : "btn_eyes_highlight", x : 64, y : 1, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectHeaderTab(2);
		}));
		this._customizationTabButtons[3] = this._customizationBacking.addChild(new screen_button_ButtonMenu({ asset : "btn_accessories", alt : "btn_accessories_highlight", x : 240, y : 1, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectHeaderTab(3);
		}));
		var tmp = this._tray.addChild(new workinman_display_ImageSprite({ x : 215, y : 0, alpha : 0}));
		this._bodyTray = this._customizationBodies[0] = tmp;
		var tmp1 = this._tray.addChild(new workinman_display_ImageSprite({ x : 215, y : 0, alpha : 0}));
		this._hairTray = this._customizationBodies[1] = tmp1;
		var tmp2 = this._tray.addChild(new workinman_display_ImageSprite({ x : 215, y : 0, alpha : 0}));
		this._eyesTray = this._customizationBodies[2] = tmp2;
		var tmp3 = this._tray.addChild(new workinman_display_ImageSprite({ x : 215, y : 0, alpha : 0}));
		this._glassesTray = this._customizationBodies[3] = tmp3;
		this._selectHeaderTab(0,false);
	}
	,_selectHeaderTab: function(pIndex,pPlaySFX) {
		if(pPlaySFX == null) {
			pPlaySFX = true;
		}
		if(pPlaySFX) {
			workinman_WMSound.playSound("sofia_click",this._clickVolume);
		}
		var _g1 = 0;
		var _g = this._customizationTabButtons.length;
		while(_g1 < _g) {
			var i = _g1++;
			if(i != pIndex) {
				this._customizationTabButtons[i].deselect();
				this._customizationBodies[i].alpha = 0;
				this._customizationBodies[i].inputEnabled = false;
			}
		}
		this._customizationTabButtons[pIndex].select();
		this._customizationBodies[pIndex].alpha = 1;
		this._customizationBodies[pIndex].inputEnabled = true;
	}
	,_createBodyButtons: function() {
		var _gthis = this;
		this._skinColorButtons[0] = this._bodyTray.addChild(new screen_button_ButtonMenu({ asset : "btn_body_color_1", highlight : "btn_body_color_highlight", x : -151, y : -38, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(0,_gthis._skinColorButtons);
			_gthis._selectSkinColor(0);
		}));
		this._skinColorButtons[1] = this._bodyTray.addChild(new screen_button_ButtonMenu({ asset : "btn_body_color_2", highlight : "btn_body_color_highlight", x : -46, y : -38, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(1,_gthis._skinColorButtons);
			_gthis._selectSkinColor(1);
		}));
		this._skinColorButtons[2] = this._bodyTray.addChild(new screen_button_ButtonMenu({ asset : "btn_body_color_3", highlight : "btn_body_color_highlight", x : 63, y : -38, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(2,_gthis._skinColorButtons);
			_gthis._selectSkinColor(2);
		}));
		this._skinColorButtons[3] = this._bodyTray.addChild(new screen_button_ButtonMenu({ asset : "btn_body_color_4", highlight : "btn_body_color_highlight", x : 167, y : -38, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(3,_gthis._skinColorButtons);
			_gthis._selectSkinColor(3);
		}));
		this._skinColorButtons[4] = this._bodyTray.addChild(new screen_button_ButtonMenu({ asset : "btn_body_color_5", highlight : "btn_body_color_highlight", x : -197, y : 72, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(4,_gthis._skinColorButtons);
			_gthis._selectSkinColor(4);
		}));
		this._skinColorButtons[5] = this._bodyTray.addChild(new screen_button_ButtonMenu({ asset : "btn_body_color_6", highlight : "btn_body_color_highlight", x : -90, y : 72, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(5,_gthis._skinColorButtons);
			_gthis._selectSkinColor(5);
		}));
		this._skinColorButtons[6] = this._bodyTray.addChild(new screen_button_ButtonMenu({ asset : "btn_body_color_7", highlight : "btn_body_color_highlight", x : 19, y : 72, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(6,_gthis._skinColorButtons);
			_gthis._selectSkinColor(6);
		}));
		this._skinColorButtons[7] = this._bodyTray.addChild(new screen_button_ButtonMenu({ asset : "btn_body_color_8", highlight : "btn_body_color_highlight", x : 126, y : 72, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(7,_gthis._skinColorButtons);
			_gthis._selectSkinColor(7);
		}));
		this._bodyTypeButtons[0] = this._bodyTray.addChild(new screen_button_ButtonMenu({ asset : "btn_body_shape_1", highlight : "btn_body_shape_1_highlight", x : -282, y : 234, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(0,_gthis._bodyTypeButtons);
			_gthis._selectBodyType(0);
		}));
		this._bodyTypeButtons[1] = this._bodyTray.addChild(new screen_button_ButtonMenu({ asset : "btn_body_shape_2", highlight : "btn_body_shape_2_highlight", x : -156, y : 234, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(1,_gthis._bodyTypeButtons);
			_gthis._selectBodyType(1);
		}));
		this._bodyTypeButtons[2] = this._bodyTray.addChild(new screen_button_ButtonMenu({ asset : "btn_body_shape_3", highlight : "btn_body_shape_1_highlight", x : -30, y : 234, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(2,_gthis._bodyTypeButtons);
			_gthis._selectBodyType(2);
		}));
		this._bodyTypeButtons[3] = this._bodyTray.addChild(new screen_button_ButtonMenu({ asset : "btn_body_shape_4", highlight : "btn_body_shape_2_highlight", x : 96, y : 234, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(3,_gthis._bodyTypeButtons);
			_gthis._selectBodyType(3);
		}));
		this._bodyTypeButtons[4] = this._bodyTray.addChild(new screen_button_ButtonMenu({ asset : "btn_body_shape_5", highlight : "btn_body_shape_1_highlight", x : 224, y : 234, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(4,_gthis._bodyTypeButtons);
			_gthis._selectBodyType(4);
		}));
		this._selectButtonFromGroup(0,this._skinColorButtons);
		this._selectButtonFromGroup(0,this._bodyTypeButtons);
	}
	,_selectSkinColor: function(pIndex,pPlaySFX) {
		if(pPlaySFX == null) {
			pPlaySFX = true;
		}
		this._selectedSkinColor = pIndex;
		if(pPlaySFX) {
			workinman_WMSound.playSound("sofia_click",this._clickVolume);
		}
		this._avatar.setAttachment("face_color",screen_data_AvatarSlotData.getSlotAttachment("face_color",this._selectedSkinColor));
		this._avatar.setAttachment("neck",screen_data_AvatarSlotData.getSlotAttachment("neck",this._selectedSkinColor));
	}
	,_selectBodyType: function(pIndex,pPlaySFX) {
		if(pPlaySFX == null) {
			pPlaySFX = true;
		}
		this._selectedBodyType = pIndex;
		if(pPlaySFX) {
			workinman_WMSound.playSound("sofia_click",this._clickVolume);
		}
		if(this._avatar != null) {
			this._tray.removeChild(this._avatar);
			this._avatar.dispose();
			this._avatar = null;
		}
		switch(pIndex) {
		case 0:
			this._avatar = this._tray.addChild(new workinman_display_spine_SpineElement({ library : "spine/avatar_tall_thin", scale : .5, x : -400, y : 300, alpha : 1},"spine/avatar_texture_packed"));
			break;
		case 1:
			this._avatar = this._tray.addChild(new workinman_display_spine_SpineElement({ library : "spine/avatar_short_thin", scale : .5, x : -400, y : 300, alpha : 1},"spine/avatar_texture_packed"));
			break;
		case 2:
			this._avatar = this._tray.addChild(new workinman_display_spine_SpineElement({ library : "spine/avatar_tall_thick", scale : .5, x : -400, y : 300, alpha : 1},"spine/avatar_texture_packed"));
			break;
		case 3:
			this._avatar = this._tray.addChild(new workinman_display_spine_SpineElement({ library : "spine/avatar_short_thick", scale : .5, x : -400, y : 300, alpha : 1},"spine/avatar_texture_packed"));
			break;
		case 4:
			this._avatar = this._tray.addChild(new workinman_display_spine_SpineElement({ library : "spine/avatar_wheelchair", scale : .5, x : -400, y : 300, alpha : 1},"spine/avatar_texture_packed"));
			break;
		default:
			this._avatar = this._tray.addChild(new workinman_display_spine_SpineElement({ library : "spine/avatar_tall_thin", scale : .5, x : -400, y : 300, alpha : 1},"spine/avatar_texture_packed"));
		}
		this._selectSkinColor(this._selectedSkinColor,false);
		this._selectHairColor(this._selectedHairColor,false);
		this._selectEyeColor(this._selectedEyeColor,false);
		this._selectEyeShape(this._selectedEyeShape,false);
		this._selectOutfitType(this._selectedOutfitType,false);
		this._avatar.animate("idle");
	}
	,_createHairButtons: function() {
		var _gthis = this;
		this._hairStyleContainers[0] = this._hairTray.addChild(new workinman_display_ImageSprite({ x : 0, y : 0, alpha : 1}));
		this._hairStyleContainers[1] = this._hairTray.addChild(new workinman_display_ImageSprite({ x : 0, y : 0, alpha : 0}));
		this._hairStyleContainers[1].inputEnabled = false;
		this._hairColorButtons[0] = this._hairTray.addChild(new screen_button_ButtonMenu({ asset : "btn_hair_color_1", highlight : "btn_hair_color_hjighlight", x : -335, y : -47, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(0,_gthis._hairColorButtons);
			_gthis._selectHairColor(0);
		}));
		this._hairColorButtons[1] = this._hairTray.addChild(new screen_button_ButtonMenu({ asset : "btn_hair_color_2", highlight : "btn_hair_color_hjighlight", x : -261, y : -47, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(1,_gthis._hairColorButtons);
			_gthis._selectHairColor(1);
		}));
		this._hairColorButtons[2] = this._hairTray.addChild(new screen_button_ButtonMenu({ asset : "btn_hair_color_3", highlight : "btn_hair_color_hjighlight", x : -188, y : -47, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(2,_gthis._hairColorButtons);
			_gthis._selectHairColor(2);
		}));
		this._hairColorButtons[3] = this._hairTray.addChild(new screen_button_ButtonMenu({ asset : "btn_hair_color_4", highlight : "btn_hair_color_hjighlight", x : -113, y : -47, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(3,_gthis._hairColorButtons);
			_gthis._selectHairColor(3);
		}));
		this._hairColorButtons[4] = this._hairTray.addChild(new screen_button_ButtonMenu({ asset : "btn_hair_color_5", highlight : "btn_hair_color_hjighlight", x : -38, y : -47, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(4,_gthis._hairColorButtons);
			_gthis._selectHairColor(4);
		}));
		this._hairColorButtons[5] = this._hairTray.addChild(new screen_button_ButtonMenu({ asset : "btn_hair_color_6", highlight : "btn_hair_color_hjighlight", x : 37, y : -47, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(5,_gthis._hairColorButtons);
			_gthis._selectHairColor(5);
		}));
		this._hairColorButtons[6] = this._hairTray.addChild(new screen_button_ButtonMenu({ asset : "btn_hair_color_7", highlight : "btn_hair_color_hjighlight", x : 112, y : -47, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(6,_gthis._hairColorButtons);
			_gthis._selectHairColor(6);
		}));
		this._hairColorButtons[7] = this._hairTray.addChild(new screen_button_ButtonMenu({ asset : "btn_hair_color_8", highlight : "btn_hair_color_hjighlight", x : 187, y : -47, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(7,_gthis._hairColorButtons);
			_gthis._selectHairColor(7);
		}));
		this._hairColorButtons[8] = this._hairTray.addChild(new screen_button_ButtonMenu({ asset : "btn_hair_color_9", highlight : "btn_hair_color_hjighlight", x : 262, y : -47, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(8,_gthis._hairColorButtons);
			_gthis._selectHairColor(8);
		}));
		this._hairColorButtons[9] = this._hairTray.addChild(new screen_button_ButtonMenu({ asset : "btn_hair_color_10", highlight : "btn_hair_color_hjighlight", x : 337, y : -47, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(9,_gthis._hairColorButtons);
			_gthis._selectHairColor(9);
		}));
		this._arrowButtons[0] = this._hairTray.addChild(new workinman_ui_Button({ asset : "btn_arrow_left", x : -350, y : 143, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._arrowButtons[0].eventDown.add($bind(this,this._arrowClick));
		this._arrowButtons[1] = this._hairTray.addChild(new workinman_ui_Button({ asset : "btn_arrow_right", x : 335, y : 143, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._arrowButtons[1].eventDown.add($bind(this,this._arrowClick));
		this._hairStyleButtons[0] = this._hairStyleContainers[0].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_1", highlight : "btn_hair_style_highlight", x : -251, y : 80, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(0,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(0);
		}));
		this._hairStyleButtons[1] = this._hairStyleContainers[0].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_2", highlight : "btn_hair_style_highlight", x : -129, y : 80, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(1,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(1);
		}));
		this._hairStyleButtons[2] = this._hairStyleContainers[0].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_3", highlight : "btn_hair_style_highlight", x : -7, y : 80, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(2,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(2);
		}));
		this._hairStyleButtons[3] = this._hairStyleContainers[0].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_4", highlight : "btn_hair_style_highlight", x : 115, y : 80, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(3,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(3);
		}));
		this._hairStyleButtons[4] = this._hairStyleContainers[0].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_5", highlight : "btn_hair_style_highlight", x : 237, y : 80, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(4,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(4);
		}));
		this._hairStyleButtons[5] = this._hairStyleContainers[0].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_6", highlight : "btn_hair_style_highlight", x : -251, y : 206, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(5,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(5);
		}));
		this._hairStyleButtons[6] = this._hairStyleContainers[0].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_7", highlight : "btn_hair_style_highlight", x : -129, y : 206, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(6,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(6);
		}));
		this._hairStyleButtons[7] = this._hairStyleContainers[0].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_8", highlight : "btn_hair_style_highlight", x : -7, y : 206, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(7,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(7);
		}));
		this._hairStyleButtons[8] = this._hairStyleContainers[0].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_9", highlight : "btn_hair_style_highlight", x : 115, y : 206, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(8,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(8);
		}));
		this._hairStyleButtons[9] = this._hairStyleContainers[0].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_10", highlight : "btn_hair_style_highlight", x : 237, y : 206, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(9,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(9);
		}));
		this._hairStyleButtons[10] = this._hairStyleContainers[1].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_11", highlight : "btn_hair_style_highlight", x : -251, y : 80, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(10,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(10);
		}));
		this._hairStyleButtons[11] = this._hairStyleContainers[1].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_12", highlight : "btn_hair_style_highlight", x : -129, y : 80, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(11,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(11);
		}));
		this._hairStyleButtons[12] = this._hairStyleContainers[1].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_13", highlight : "btn_hair_style_highlight", x : -7, y : 80, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(12,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(12);
		}));
		this._hairStyleButtons[13] = this._hairStyleContainers[1].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_14", highlight : "btn_hair_style_highlight", x : 115, y : 80, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(13,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(13);
		}));
		this._hairStyleButtons[14] = this._hairStyleContainers[1].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_15", highlight : "btn_hair_style_highlight", x : 237, y : 80, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(14,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(14);
		}));
		this._hairStyleButtons[15] = this._hairStyleContainers[1].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_16", highlight : "btn_hair_style_highlight", x : -251, y : 206, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(15,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(15);
		}));
		this._hairStyleButtons[16] = this._hairStyleContainers[1].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_17", highlight : "btn_hair_style_highlight", x : -129, y : 206, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(16,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(16);
		}));
		this._hairStyleButtons[17] = this._hairStyleContainers[1].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_18", highlight : "btn_hair_style_highlight", x : -7, y : 206, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(17,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(17);
		}));
		this._hairStyleButtons[18] = this._hairStyleContainers[1].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_19", highlight : "btn_hair_style_highlight", x : 115, y : 206, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(18,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(18);
		}));
		this._hairStyleButtons[19] = this._hairStyleContainers[1].addChild(new screen_button_ButtonMenu({ asset : "btn_hair_style_20", highlight : "btn_hair_style_highlight", x : 237, y : 206, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(19,_gthis._hairStyleButtons);
			_gthis._selectHairStyle(19);
		}));
		this._selectButtonFromGroup(0,this._hairColorButtons);
		this._selectButtonFromGroup(0,this._hairStyleButtons);
	}
	,_selectHairColor: function(pIndex,pPlaySFX) {
		if(pPlaySFX == null) {
			pPlaySFX = true;
		}
		this._selectedHairColor = pIndex;
		if(pPlaySFX) {
			workinman_WMSound.playSound("sofia_click",this._clickVolume);
		}
		this._selectHairStyle(this._selectedHairStyle,false);
	}
	,_selectHairStyle: function(pIndex,pPlaySFX) {
		if(pPlaySFX == null) {
			pPlaySFX = true;
		}
		this._selectedHairStyle = pIndex;
		if(pPlaySFX) {
			workinman_WMSound.playSound("sofia_click",this._clickVolume);
		}
		this._avatar.setAttachment("hair",screen_data_AvatarSlotData.getHairAttachment(this._selectedHairStyle,this._selectedHairColor));
		this._avatar.setAttachment("hair_back",null);
		if(this._selectedHairStyle == 9 || this._selectedHairStyle == 13 || this._selectedHairStyle == 14) {
			this._avatar.setAttachment("hair_back",screen_data_AvatarSlotData.getHairBackAttachment(this._selectedHairStyle,this._selectedHairColor));
		}
		if(this._wasAltColor && (this._selectedHairStyle != 10 && this._selectedHairStyle != 15) || !this._wasAltColor && (this._selectedHairStyle == 10 || this._selectedHairStyle == 15)) {
			this._setCustomHairColorOptions(this._selectedHairStyle == 10 || this._selectedHairStyle == 15);
		}
	}
	,_arrowClick: function() {
		workinman_WMSound.playSound("sofia_click",this._clickVolume);
		if(this._hairStyleContainers[0].alpha == 1) {
			this._hairStyleContainers[0].alpha = 0;
			this._hairStyleContainers[0].inputEnabled = false;
			this._hairStyleContainers[1].alpha = 1;
			this._hairStyleContainers[1].inputEnabled = true;
		} else {
			this._hairStyleContainers[0].alpha = 1;
			this._hairStyleContainers[0].inputEnabled = true;
			this._hairStyleContainers[1].alpha = 0;
			this._hairStyleContainers[1].inputEnabled = false;
		}
	}
	,_setCustomHairColorOptions: function(pIsAltColorStyle) {
		this._hairColorButtons[0].setButtonAsset(pIsAltColorStyle ? "btn_hair_color_11" : "btn_hair_color_1");
		this._hairColorButtons[1].setButtonAsset(pIsAltColorStyle ? "btn_hair_color_12" : "btn_hair_color_2");
		this._hairColorButtons[2].setButtonAsset(pIsAltColorStyle ? "btn_hair_color_13" : "btn_hair_color_3");
		this._hairColorButtons[3].setButtonAsset(pIsAltColorStyle ? "btn_hair_color_14" : "btn_hair_color_4");
		this._hairColorButtons[4].setButtonAsset(pIsAltColorStyle ? "btn_hair_color_15" : "btn_hair_color_5");
		this._hairColorButtons[5].setButtonAsset(pIsAltColorStyle ? "btn_hair_color_16" : "btn_hair_color_6");
		this._hairColorButtons[6].setButtonAsset(pIsAltColorStyle ? "btn_hair_color_17" : "btn_hair_color_7");
		this._hairColorButtons[7].setButtonAsset(pIsAltColorStyle ? "btn_hair_color_18" : "btn_hair_color_8");
		this._hairColorButtons[8].setButtonAsset(pIsAltColorStyle ? "btn_hair_color_19" : "btn_hair_color_9");
		this._hairColorButtons[9].setButtonAsset(pIsAltColorStyle ? "btn_hair_color_20" : "btn_hair_color_10");
		this._wasAltColor = pIsAltColorStyle;
	}
	,_createEyeButtons: function() {
		var _gthis = this;
		this._eyeColorButtons[0] = this._eyesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_eye_color_1", highlight : "btn_eye_color_highlight", x : -257, y : -37, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(0,_gthis._eyeColorButtons);
			_gthis._selectEyeColor(0);
		}));
		this._eyeColorButtons[1] = this._eyesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_eye_color_2", highlight : "btn_eye_color_highlight", x : -150, y : -37, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(1,_gthis._eyeColorButtons);
			_gthis._selectEyeColor(1);
		}));
		this._eyeColorButtons[2] = this._eyesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_eye_color_3", highlight : "btn_eye_color_highlight", x : -43, y : -37, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(2,_gthis._eyeColorButtons);
			_gthis._selectEyeColor(2);
		}));
		this._eyeColorButtons[3] = this._eyesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_eye_color_4", highlight : "btn_eye_color_highlight", x : 64, y : -37, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(3,_gthis._eyeColorButtons);
			_gthis._selectEyeColor(3);
		}));
		this._eyeColorButtons[4] = this._eyesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_eye_color_5", highlight : "btn_eye_color_highlight", x : 171, y : -37, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(4,_gthis._eyeColorButtons);
			_gthis._selectEyeColor(4);
		}));
		this._eyeColorButtons[5] = this._eyesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_eye_color_6", highlight : "btn_eye_color_highlight", x : 278, y : -37, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(5,_gthis._eyeColorButtons);
			_gthis._selectEyeColor(5);
		}));
		this._eyeColorButtons[6] = this._eyesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_eye_color_7", highlight : "btn_eye_color_highlight", x : -303, y : 72, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(6,_gthis._eyeColorButtons);
			_gthis._selectEyeColor(6);
		}));
		this._eyeColorButtons[7] = this._eyesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_eye_color_8", highlight : "btn_eye_color_highlight", x : -196, y : 72, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(7,_gthis._eyeColorButtons);
			_gthis._selectEyeColor(7);
		}));
		this._eyeColorButtons[8] = this._eyesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_eye_color_9", highlight : "btn_eye_color_highlight", x : -80, y : 72, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(8,_gthis._eyeColorButtons);
			_gthis._selectEyeColor(8);
		}));
		this._eyeColorButtons[9] = this._eyesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_eye_color_10", highlight : "btn_eye_color_highlight", x : 18, y : 72, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(9,_gthis._eyeColorButtons);
			_gthis._selectEyeColor(9);
		}));
		this._eyeColorButtons[10] = this._eyesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_eye_color_11", highlight : "btn_eye_color_highlight", x : 125, y : 72, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(10,_gthis._eyeColorButtons);
			_gthis._selectEyeColor(10);
		}));
		this._eyeColorButtons[11] = this._eyesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_eye_color_12", highlight : "btn_eye_color_highlight", x : 232, y : 72, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(11,_gthis._eyeColorButtons);
			_gthis._selectEyeColor(11);
		}));
		this._eyeStyleButtons[0] = this._eyesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_eye_shape_1", highlight : "btn_eye_shape_highlight", x : -170, y : 236, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(0,_gthis._eyeStyleButtons);
			_gthis._selectEyeShape(0);
		}));
		this._eyeStyleButtons[1] = this._eyesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_eye_shape_2", highlight : "btn_eye_shape_highlight", x : -5, y : 236, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(1,_gthis._eyeStyleButtons);
			_gthis._selectEyeShape(1);
		}));
		this._eyeStyleButtons[2] = this._eyesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_eye_shape_3", highlight : "btn_eye_shape_highlight", x : 160, y : 236, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(2,_gthis._eyeStyleButtons);
			_gthis._selectEyeShape(2);
		}));
		this._selectButtonFromGroup(0,this._eyeColorButtons);
		this._selectButtonFromGroup(0,this._eyeStyleButtons);
	}
	,_selectEyeColor: function(pIndex,pPlaySFX) {
		if(pPlaySFX == null) {
			pPlaySFX = true;
		}
		this._selectedEyeColor = pIndex;
		if(pPlaySFX) {
			workinman_WMSound.playSound("sofia_click",this._clickVolume);
		}
		this._avatar.setAttachment("eye_color_left",screen_data_AvatarSlotData.getSlotAttachment("eye_color",this._selectedEyeColor));
		this._avatar.setAttachment("eye_color_right",screen_data_AvatarSlotData.getSlotAttachment("eye_color",this._selectedEyeColor));
	}
	,_selectEyeShape: function(pIndex,pPlaySFX) {
		if(pPlaySFX == null) {
			pPlaySFX = true;
		}
		this._selectedEyeShape = pIndex;
		if(pPlaySFX) {
			workinman_WMSound.playSound("sofia_click",this._clickVolume);
		}
		this._avatar.setAttachment("eyes_shape",screen_data_AvatarSlotData.getSlotAttachment("eyes_shape",this._selectedEyeShape));
	}
	,_createOutfitButtons: function() {
		var _gthis = this;
		this._outfitButtons[0] = this._glassesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_outfit_skirt", highlight : "btn_outfit_skirt_highlight", x : -73, y : -25, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(0,_gthis._outfitButtons);
			_gthis._selectOutfitType(0);
		}));
		this._outfitButtons[1] = this._glassesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_outfit_pants", highlight : "btn_outfit_pants_highlight", x : 40, y : -25, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(1,_gthis._outfitButtons);
			_gthis._selectOutfitType(1);
		}));
		this._outfitColorButtons[0] = this._glassesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_outfit_color_blue", highlight : "btn_outfit_color_highlight", x : -313, y : 114, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(0,_gthis._outfitColorButtons);
			_gthis._selectOutfitColor(0);
		}));
		this._outfitColorButtons[1] = this._glassesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_outfit_color_purple", highlight : "btn_outfit_color_highlight", x : -225, y : 114, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(1,_gthis._outfitColorButtons);
			_gthis._selectOutfitColor(1);
		}));
		this._outfitColorButtons[2] = this._glassesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_outfit_color_red", highlight : "btn_outfit_color_highlight", x : -137, y : 114, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(2,_gthis._outfitColorButtons);
			_gthis._selectOutfitColor(2);
		}));
		this._outfitColorButtons[3] = this._glassesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_outfit_color_orange", highlight : "btn_outfit_color_highlight", x : -53, y : 114, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(3,_gthis._outfitColorButtons);
			_gthis._selectOutfitColor(3);
		}));
		this._outfitColorButtons[4] = this._glassesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_outfit_color_yellow", highlight : "btn_outfit_color_highlight", x : 31, y : 114, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(4,_gthis._outfitColorButtons);
			_gthis._selectOutfitColor(4);
		}));
		this._outfitColorButtons[5] = this._glassesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_outfit_color_green", highlight : "btn_outfit_color_highlight", x : 115, y : 114, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(5,_gthis._outfitColorButtons);
			_gthis._selectOutfitColor(5);
		}));
		this._outfitColorButtons[6] = this._glassesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_outfit_color_pink", highlight : "btn_outfit_color_highlight", x : 202, y : 114, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(6,_gthis._outfitColorButtons);
			_gthis._selectOutfitColor(6);
		}));
		this._outfitColorButtons[7] = this._glassesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_outfit_color_black", highlight : "btn_outfit_color_highlight", x : 286, y : 114, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(7,_gthis._outfitColorButtons);
			_gthis._selectOutfitColor(7);
		}));
		this._accesoryButtons[0] = this._glassesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_accessory_1", highlight : "btn_accessory_highlight", x : -258, y : 260, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(0,_gthis._accesoryButtons);
			_gthis._selectFacewear(0);
		}));
		this._accesoryButtons[1] = this._glassesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_accessory_3", highlight : "btn_accessory_highlight", x : -100, y : 260, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(1,_gthis._accesoryButtons);
			_gthis._selectFacewear(1);
		}));
		this._accesoryButtons[2] = this._glassesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_accessory_2", highlight : "btn_accessory_highlight", x : 58, y : 260, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(2,_gthis._accesoryButtons);
			_gthis._selectFacewear(2);
		}));
		this._accesoryButtons[3] = this._glassesTray.addChild(new screen_button_ButtonMenu({ asset : "btn_accessory_4", highlight : "btn_accessory_highlight", x : 216, y : 260, tween : this._tween, clear : $bind(this,this._clearButtonInput)},function() {
			_gthis._selectButtonFromGroup(3,_gthis._accesoryButtons);
			_gthis._selectFacewear(3);
		}));
		this._selectButtonFromGroup(0,this._outfitButtons);
		this._selectButtonFromGroup(0,this._outfitColorButtons);
		this._selectButtonFromGroup(0,this._accesoryButtons);
	}
	,_selectOutfitType: function(pIndex,pPlaySFX) {
		if(pPlaySFX == null) {
			pPlaySFX = true;
		}
		this._selectedOutfitType = pIndex;
		if(pPlaySFX) {
			workinman_WMSound.playSound("sofia_click",this._clickVolume);
		}
		this._selectOutfitColor(this._selectedOutfitColor,false);
		this._selectFacewear(this._selectedFacewear,false);
	}
	,_selectOutfitColor: function(pIndex,pPlaySFX) {
		if(pPlaySFX == null) {
			pPlaySFX = true;
		}
		this._selectedOutfitColor = pIndex;
		if(pPlaySFX) {
			workinman_WMSound.playSound("sofia_click",this._clickVolume);
		}
		if(this._selectedOutfitType == 0) {
			switch(pIndex) {
			case 0:
				this._avatar.setSkin("outfit_skirt_1");
				break;
			case 1:
				this._avatar.setSkin("outfit_skirt_2");
				break;
			case 2:
				this._avatar.setSkin("outfit_skirt_3");
				break;
			case 3:
				this._avatar.setSkin("outfit_skirt_4");
				break;
			case 4:
				this._avatar.setSkin("outfit_skirt_5");
				break;
			case 5:
				this._avatar.setSkin("outfit_skirt_6");
				break;
			case 6:
				this._avatar.setSkin("outfit_skirt_7");
				break;
			case 7:
				this._avatar.setSkin("outfit_skirt_8");
				break;
			}
		} else {
			switch(pIndex) {
			case 0:
				this._avatar.setSkin("outfit_pants_1");
				break;
			case 1:
				this._avatar.setSkin("outfit_pants_2");
				break;
			case 2:
				this._avatar.setSkin("outfit_pants_3");
				break;
			case 3:
				this._avatar.setSkin("outfit_pants_4");
				break;
			case 4:
				this._avatar.setSkin("outfit_pants_5");
				break;
			case 5:
				this._avatar.setSkin("outfit_pants_6");
				break;
			case 6:
				this._avatar.setSkin("outfit_pants_7");
				break;
			case 7:
				this._avatar.setSkin("outfit_pants_8");
				break;
			}
		}
		this._selectFacewear(this._selectedFacewear,false);
	}
	,_selectFacewear: function(pIndex,pPlaySFX) {
		if(pPlaySFX == null) {
			pPlaySFX = true;
		}
		this._selectedFacewear = pIndex;
		if(pPlaySFX) {
			workinman_WMSound.playSound("sofia_click",this._clickVolume);
		}
		this._avatar.setAttachment("mask",null);
		this._avatar.setAttachment("hearingaid",null);
		this._avatar.setAttachment("glasses_circle",null);
		this._avatar.setAttachment("glasses_square",null);
		var _g = this._selectedFacewear;
		switch(_g) {
		case 0:
			this._avatar.setAttachment("mask",screen_data_AvatarSlotData.getSlotAttachment("mask",this._selectedOutfitColor));
			break;
		case 1:
			this._avatar.setAttachment("glasses_circle",screen_data_AvatarSlotData.getSlotAttachment("glasses_circle",this._selectedOutfitColor));
			break;
		case 2:
			this._avatar.setAttachment("glasses_square",screen_data_AvatarSlotData.getSlotAttachment("glasses_square",this._selectedOutfitColor));
			break;
		case 3:
			this._avatar.setAttachment("hearingaid",screen_data_AvatarSlotData.getSlotAttachment("hearingaid",this._selectedOutfitColor));
			break;
		}
	}
	,_selectButtonFromGroup: function(pIndex,groupArray) {
		var _g1 = 0;
		var _g = groupArray.length;
		while(_g1 < _g) {
			var i = _g1++;
			if(i != pIndex) {
				groupArray[i].deselect();
			}
		}
		groupArray[pIndex].select();
	}
	,_initializeAvatar: function() {
		this._selectBodyType(0,false);
		this._avatar.setAttachment("hair_back",null);
		this._avatar.setAttachment("glasses_circle",null);
		this._avatar.setAttachment("glasses_square",null);
		this._avatar.setAttachment("hearingaid",null);
		this._avatar.setAttachment("mask",null);
	}
	,__class__: screen_ScreenAvatarBuilder
});
var screen_ScreenCutsceneDoctorEnd = function(pRoot) {
	workinman_ui_ScreenBase.call(this,pRoot);
};
$hxClasses["screen.ScreenCutsceneDoctorEnd"] = screen_ScreenCutsceneDoctorEnd;
screen_ScreenCutsceneDoctorEnd.__name__ = ["screen","ScreenCutsceneDoctorEnd"];
screen_ScreenCutsceneDoctorEnd.__super__ = workinman_ui_ScreenBase;
screen_ScreenCutsceneDoctorEnd.prototype = $extend(workinman_ui_ScreenBase.prototype,{
	_buildScreen: function() {
		workinman_ui_ScreenBase.prototype._buildScreen.call(this);
		this._closing = false;
		this._tray = this._elementManager.addElement(new workinman_display_ImageSprite({ }));
		this._tray.addChild(new workinman_display_ImageSprite({ asset : "doctors_office_end", scale : 1}));
		var _this = this._tray;
		var pChild = app_PlayerData.get_avatarSettings();
		this._avatar = _this.addChild(new world_elements_AvatarObj({ x : 40, y : 175, scale : .35},pChild,this._tween));
		this._avatar.animate("idle");
		this._sofia = this._tray.addChild(new workinman_display_spine_SpineElement({ library : "sofia", scale : .35, x : 330, y : 175}));
		this._sofia.animate("doctors_office_end");
		this._nextButton = this._tray.addChild(new workinman_display_ImageSprite({ asset : "btn_next_side", x : app_ConstantsApp.STAGE_CENTER_X - 44, y : 0, scale : .5}));
		this._nextButtonHitbox = this._nextButton.addChild(new workinman_ui_Button({ asset : "btn_next_side_arrow", tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._nextButtonHitbox.setCustomHitBox(200,1440);
		this._nextButtonHitbox.eventClick.add($bind(this,this._onEventClickPlay));
		this._menuOptions = this._tray.addChild(new world_elements_MenuOptions({ },"","avatar_popup","",this._tween,$bind(this,this._clearButtonInput),true,true));
		workinman_WMSound.playVO("sofia_conclusion","");
		workinman_WMInput.eventInput.add($bind(this,this._generalInput));
		app_GoogleAnalytics.LogEvent("Progress_web",{ "event_label" : "10: Cutscene #5"});
	}
	,update: function(dt) {
		workinman_ui_ScreenBase.prototype.update.call(this,dt);
	}
	,dispose: function() {
		this._tray = null;
		this._nextButton = null;
		this._nextButtonHitbox = null;
		this._sofia = null;
		workinman_WMInput.eventInput.remove($bind(this,this._generalInput));
		workinman_ui_ScreenBase.prototype.dispose.call(this);
	}
	,_generalInput: function(pType,pDown) {
		if(pType[1] == 0) {
			if(pDown) {
				this._menuOptions.resetCountdown();
			}
		}
	}
	,_onEventClickPlay: function() {
		if(this._closing == false) {
			this._closing = true;
			workinman_WMSound.stopVO();
			app_ConstantsEvent.addLoader.dispatch();
			app_ConstantsEvent.flow.dispatch("QUIZ3");
		}
	}
	,__class__: screen_ScreenCutsceneDoctorEnd
});
var screen_ScreenCutsceneDoctorStart = function(pRoot) {
	this._instructionIn = false;
	workinman_ui_ScreenBase.call(this,pRoot);
};
$hxClasses["screen.ScreenCutsceneDoctorStart"] = screen_ScreenCutsceneDoctorStart;
screen_ScreenCutsceneDoctorStart.__name__ = ["screen","ScreenCutsceneDoctorStart"];
screen_ScreenCutsceneDoctorStart.__super__ = workinman_ui_ScreenBase;
screen_ScreenCutsceneDoctorStart.prototype = $extend(workinman_ui_ScreenBase.prototype,{
	_buildScreen: function() {
		var _gthis = this;
		workinman_ui_ScreenBase.prototype._buildScreen.call(this);
		this._closing = false;
		this._tray = this._elementManager.addElement(new workinman_display_ImageSprite({ }));
		this._tray.addChild(new workinman_display_ImageSprite({ asset : "doctors_office_start", scale : 1}));
		var _this = this._tray;
		var pChild = app_PlayerData.get_avatarSettings();
		this._avatar = _this.addChild(new world_elements_AvatarObj({ x : 80, y : 161, scale : .35},pChild,this._tween));
		this._avatar.animate("wave",1);
		this._avatar.queueAnimation("write_in",1);
		this._avatar.queueAnimation("write_idle");
		this._sofia = this._tray.addChild(new workinman_display_spine_SpineElement({ library : "sofia", scale : .35, x : 390, y : 150}));
		this._sofia.animate("doctors_office_start");
		this._definitionBar = this._tray.addChild(new workinman_display_ImageSprite({ asset : "popup_asthmatriggers", y : 447., scale : 1}));
		this._clickTray = this._tray.addChild(new workinman_ui_Button({ tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._clickTray.setCustomHitBox(app_ConstantsApp.STAGE_WIDTH,720);
		this._clickTray.eventClick.add($bind(this,this._clearDefinition));
		this._nextButton = this._tray.addChild(new workinman_display_ImageSprite({ asset : "btn_next_side", x : app_ConstantsApp.STAGE_CENTER_X - 44, y : 0, scale : .5}));
		this._nextButtonHitbox = this._nextButton.addChild(new workinman_ui_Button({ asset : "btn_next_side_arrow", tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._nextButtonHitbox.setCustomHitBox(200,1440);
		this._nextButtonHitbox.eventClick.add($bind(this,this._onEventClickPlay));
		this._clickableTextContainer1 = this._tray.addChild(new workinman_ui_Button({ x : -305, y : 5, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._clickableTextContainer1.setCustomHitBox(375,80);
		this._clickableTextContainer1.eventDown.add(function() {
			if(!_gthis._instructionIn) {
				_gthis._clickDefinition();
			} else {
				_gthis._clearDefinition();
			}
		});
		this._menuOptions = this._tray.addChild(new world_elements_MenuOptions({ },"","avatar_popup","",this._tween,$bind(this,this._clearButtonInput),true,true));
		workinman_WMSound.playVO("sofia_park_01","");
		workinman_WMInput.eventInput.add($bind(this,this._generalInput));
		app_GoogleAnalytics.LogEvent("Progress_web",{ "event_label" : "5: Cutscene #3"});
	}
	,update: function(dt) {
		workinman_ui_ScreenBase.prototype.update.call(this,dt);
	}
	,dispose: function() {
		this._tray = null;
		this._clickTray = null;
		this._clickableTextContainer1 = null;
		this._definitionBar = null;
		this._sofia = null;
		this._nextButton = null;
		this._nextButtonHitbox = null;
		workinman_WMInput.eventInput.remove($bind(this,this._generalInput));
		workinman_ui_ScreenBase.prototype.dispose.call(this);
	}
	,_generalInput: function(pType,pDown) {
		if(pType[1] == 0) {
			if(pDown) {
				this._menuOptions.resetCountdown();
			}
		}
	}
	,_onEventClickPlay: function() {
		if(this._closing == false) {
			this._closing = true;
			workinman_WMSound.stopVO();
			app_ConstantsEvent.addLoader.dispatch();
			app_ConstantsEvent.flow.dispatch("IMAGE_HUNT");
		}
	}
	,_clickDefinition: function() {
		workinman_WMSound.stopVO();
		workinman_WMSound.playSound("sofia_click");
		this._instructionIn = true;
		this._tween.tween({ target : this._definitionBar, duration : .4, delay : 0, ease : workinman_tween_Ease.outQuad},{ y : 273.});
		workinman_WMSound.playVO("sofia_asthma_trigger_definition","");
		app_GoogleAnalytics.LogEvent("Clicked Definition_web",{ "event_label" : "asthma triggers"});
	}
	,_clearDefinition: function() {
		if(!this._instructionIn) {
			return;
		}
		workinman_WMSound.stopVO();
		this._instructionIn = false;
		this._tween.tween({ target : this._definitionBar, duration : .2, delay : 0, ease : workinman_tween_Ease.outQuad},{ y : 447.});
	}
	,__class__: screen_ScreenCutsceneDoctorStart
});
var screen_ScreenCutsceneMid = function(pRoot) {
	this._instructionIn = false;
	this._pageIndex = 0;
	workinman_ui_ScreenBase.call(this,pRoot);
};
$hxClasses["screen.ScreenCutsceneMid"] = screen_ScreenCutsceneMid;
screen_ScreenCutsceneMid.__name__ = ["screen","ScreenCutsceneMid"];
screen_ScreenCutsceneMid.__super__ = workinman_ui_ScreenBase;
screen_ScreenCutsceneMid.prototype = $extend(workinman_ui_ScreenBase.prototype,{
	_buildScreen: function() {
		var _gthis = this;
		workinman_ui_ScreenBase.prototype._buildScreen.call(this);
		this._closing = false;
		this._tray = this._elementManager.addElement(new workinman_display_ImageSprite({ }));
		this._storyPage = this._tray.addChild(new workinman_display_ImageSprite({ asset : "story_6"}));
		var _this = this._tray;
		var pChild = app_PlayerData.get_avatarSettings();
		this._avatar = _this.addChild(new world_elements_AvatarObj({ x : -100, y : 160, scale : .32, scaleX : -.32},pChild,this._tween,true));
		this._avatar.animate("write_idle");
		this._tray.addChild(new workinman_display_ImageSprite({ asset : "survey_prop", x : -200, y : 90}));
		this._sofia = this._tray.addChild(new workinman_display_spine_SpineElement({ library : "sofia", scale : .32, x : -430, y : 188}));
		this._sofia.animate("park_idle");
		this._definitionBar = this._tray.addChild(new workinman_display_ImageSprite({ asset : "story_popup_survey", y : 447., scale : 1}));
		this._clickTray = this._tray.addChild(new workinman_ui_Button({ tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._clickTray.setCustomHitBox(app_ConstantsApp.STAGE_WIDTH,720);
		this._clickTray.eventClick.add($bind(this,this._clearDefinition));
		this._nextButton = this._tray.addChild(new workinman_display_ImageSprite({ asset : "btn_next_side", x : app_ConstantsApp.STAGE_CENTER_X - 44, y : 0, scale : .5}));
		this._nextButtonHitbox = this._nextButton.addChild(new workinman_ui_Button({ asset : "btn_next_side_arrow", tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._nextButtonHitbox.setCustomHitBox(200,1440);
		this._nextButtonHitbox.eventClick.add($bind(this,this._clickNextButton));
		this._clickableTextContainer1 = this._tray.addChild(new workinman_ui_Button({ x : 150, y : -152, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._clickableTextContainer1.setCustomHitBox(160,55);
		this._clickableTextContainer1.eventDown.add(function() {
			if(!_gthis._instructionIn) {
				_gthis._clickDefinition();
			} else {
				_gthis._clearDefinition();
			}
		});
		this._menuOptions = this._tray.addChild(new world_elements_MenuOptions({ },"","avatar_popup","",this._tween,$bind(this,this._clearButtonInput),true,true));
		workinman_WMSound.playVO("sofia_outro_01","");
		workinman_WMInput.eventInput.add($bind(this,this._generalInput));
		app_GoogleAnalytics.LogEvent("Progress_web",{ "event_label" : "7: Cutscene #4"});
	}
	,update: function(dt) {
		workinman_ui_ScreenBase.prototype.update.call(this,dt);
	}
	,dispose: function() {
		workinman_ui_ScreenBase.prototype.dispose.call(this);
		this._tray = null;
		this._clickTray = null;
		this._menuOptions = null;
		this._storyPage = null;
		this._nextButton = null;
		this._nextButtonHitbox = null;
		this._clickableTextContainer1 = null;
		this._definitionBar = null;
		workinman_WMInput.eventInput.remove($bind(this,this._generalInput));
		this._sofia = null;
	}
	,_generalInput: function(pType,pDown) {
		if(pType[1] == 0) {
			if(pDown) {
				this._menuOptions.resetCountdown();
			}
		}
	}
	,_onEventAdvanceScreen: function() {
		if(this._closing == false) {
			this._closing = true;
			workinman_WMSound.stopVO();
			app_ConstantsEvent.addLoader.dispatch();
			app_ConstantsEvent.flow.dispatch("EXPERIMENT");
		}
	}
	,_clickNextButton: function() {
		this._pageIndex++;
		var _g = this._pageIndex;
		if(_g == 1) {
			this._onEventAdvanceScreen();
		}
	}
	,_clickDefinition: function() {
		workinman_WMSound.stopVO();
		workinman_WMSound.playSound("sofia_click");
		this._instructionIn = true;
		this._tween.tween({ target : this._definitionBar, duration : .4, delay : 0, ease : workinman_tween_Ease.outQuad},{ y : 273.});
		workinman_WMSound.playVO("sofia_survey_definition","");
		app_GoogleAnalytics.LogEvent("Clicked Definition_web",{ "event_label" : "survey"});
	}
	,_clearDefinition: function() {
		if(!this._instructionIn) {
			return;
		}
		workinman_WMSound.stopVO();
		this._instructionIn = false;
		this._tween.tween({ target : this._definitionBar, duration : .2, delay : 0, ease : workinman_tween_Ease.outQuad},{ y : 447.});
	}
	,__class__: screen_ScreenCutsceneMid
});
var screen_ScreenCutsceneOpening = function(pRoot) {
	this._definitionWord = "";
	this._definitionVO = "";
	this._instructionIn = false;
	this._pageIndex = 0;
	workinman_ui_ScreenBase.call(this,pRoot);
};
$hxClasses["screen.ScreenCutsceneOpening"] = screen_ScreenCutsceneOpening;
screen_ScreenCutsceneOpening.__name__ = ["screen","ScreenCutsceneOpening"];
screen_ScreenCutsceneOpening.__super__ = workinman_ui_ScreenBase;
screen_ScreenCutsceneOpening.prototype = $extend(workinman_ui_ScreenBase.prototype,{
	_buildScreen: function() {
		var _gthis = this;
		workinman_ui_ScreenBase.prototype._buildScreen.call(this);
		this._closing = false;
		this._tray = this._elementManager.addElement(new workinman_display_ImageSprite({ }));
		this._storyPage = this._tray.addChild(new workinman_display_ImageSprite({ asset : "story_1", scale : 1}));
		this._storyPageColor = this._tray.addChild(new workinman_display_ImageSprite({ asset : "story_5_color", scale : 1, alpha : 0}));
		this._definitionBar = this._tray.addChild(new workinman_display_ImageSprite({ asset : "story_popup_lungs", y : 447., scale : 1}));
		this._clickTray = this._tray.addChild(new workinman_ui_Button({ tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._clickTray.setCustomHitBox(app_ConstantsApp.STAGE_WIDTH,720);
		this._clickTray.eventClick.add($bind(this,this._clearDefinition));
		this._nextButton = this._tray.addChild(new workinman_display_ImageSprite({ asset : "btn_next_side", x : app_ConstantsApp.STAGE_CENTER_X - 44, y : 0, scale : .5}));
		this._nextButtonHitbox = this._nextButton.addChild(new workinman_ui_Button({ asset : "btn_next_side_arrow", tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._nextButtonHitbox.setCustomHitBox(200,1440);
		this._nextButtonHitbox.eventClick.add($bind(this,this._clickNextButton));
		this._previousButton = this._tray.addChild(new workinman_display_ImageSprite({ asset : "btn_next_side", x : -app_ConstantsApp.STAGE_CENTER_X + 44, y : 0, scale : .5, scaleX : -.5, alpha : 0}));
		this._previousButtonHitbox = this._previousButton.addChild(new workinman_ui_Button({ asset : "btn_next_side_arrow", tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._previousButtonHitbox.setCustomHitBox(200,1440);
		this._previousButtonHitbox.eventClick.add($bind(this,this._clickPreviousButton));
		this._clickableTextContainer1 = this._tray.addChild(new workinman_ui_Button({ x : 300, y : -185, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._clickableTextContainer1.setCustomHitBox(140,55);
		this._clickableTextContainer1.eventDown.add(function() {
			if(!_gthis._instructionIn) {
				_gthis._clickDefinition();
			} else {
				_gthis._clearDefinition();
			}
		});
		this._menuOptions = this._tray.addChild(new world_elements_MenuOptions({ },"","popup_panel_short","",this._tween,$bind(this,this._clearButtonInput),true));
		workinman_WMInput.eventInput.add($bind(this,this._generalInput));
		this._definitionWord = "lungs";
		this._definitionVO = "sofia_lungs_definition";
		workinman_WMSound.playVO("sofia_intro_01","");
		app_GoogleAnalytics.LogEvent("Progress_web",{ "event_label" : "1: Cutscene #1"});
	}
	,update: function(dt) {
		workinman_ui_ScreenBase.prototype.update.call(this,dt);
	}
	,dispose: function() {
		this._tray = null;
		this._clickTray = null;
		this._clickableTextContainer1 = null;
		this._clickableTextContainer2 = null;
		this._menuOptions = null;
		this._storyPage = null;
		this._storyPageColor = null;
		this._nextButton = null;
		this._nextButtonHitbox = null;
		this._previousButton = null;
		this._previousButtonHitbox = null;
		this._definitionBar = null;
		workinman_WMInput.eventInput.remove($bind(this,this._generalInput));
		workinman_ui_ScreenBase.prototype.dispose.call(this);
	}
	,_generalInput: function(pType,pDown) {
		if(pType[1] == 0) {
			if(pDown) {
				this._menuOptions.resetCountdown();
			}
		}
	}
	,_onEventAdvanceScreen: function() {
		if(this._closing == false) {
			workinman_WMSound.stopVO();
			this._closing = true;
			app_ConstantsEvent.addLoader.dispatch();
			app_ConstantsEvent.flow.dispatch("QUIZ1");
		}
	}
	,_clickNextButton: function() {
		workinman_WMSound.stopVO();
		this._pageIndex++;
		this._clearDefinition();
		var _g = this._pageIndex;
		switch(_g) {
		case 1:
			workinman_WMSound.playSound("sofia_page_turn",.5);
			this._definitionWord = "treatment";
			this._definitionVO = "sofia_treatment_definition";
			this._storyPage.set_asset("story_2");
			this._previousButton.alpha = 1;
			this._definitionBar.setAsset("story_popup_treatment");
			this._clickableTextContainer1.inputEnabled = true;
			this._clickableTextContainer1.set_x(-365);
			this._clickableTextContainer1.set_y(65);
			this._clickableTextContainer1.setCustomHitBox(250,55);
			workinman_WMSound.playVO("sofia_intro_02","");
			break;
		case 2:
			workinman_WMSound.playSound("sofia_page_turn",.5);
			this._definitionWord = "scientist";
			this._definitionVO = "sofia_scientist_definition";
			this._storyPage.set_asset("story_3");
			this._definitionBar.set_scale(.5);
			this._definitionBar.setAsset("story_popup_scientist");
			this._clickableTextContainer1.set_x(-160);
			this._clickableTextContainer1.set_y(-120);
			this._clickableTextContainer1.setCustomHitBox(210,55);
			workinman_WMSound.playVO("sofia_intro_03","");
			break;
		case 3:
			this._onEventAdvanceScreen();
			break;
		}
	}
	,_clickPreviousButton: function() {
		if(this._pageIndex <= 0) {
			return;
		}
		workinman_WMSound.stopVO();
		this._pageIndex--;
		this._clearDefinition();
		var _g = this._pageIndex;
		switch(_g) {
		case 0:
			workinman_WMSound.playSound("sofia_page_turn",.5);
			this._definitionWord = "lungs";
			this._definitionVO = "sofia_lungs_definition";
			this._storyPage.set_asset("story_1");
			this._previousButton.alpha = 0;
			this._definitionBar.set_scale(1);
			this._definitionBar.setAsset("story_popup_lungs");
			this._clickableTextContainer1.inputEnabled = true;
			this._clickableTextContainer1.set_x(300);
			this._clickableTextContainer1.set_y(-185);
			this._clickableTextContainer1.setCustomHitBox(140,55);
			workinman_WMSound.playVO("sofia_intro_01","");
			break;
		case 1:
			workinman_WMSound.playSound("sofia_page_turn",.5);
			this._definitionWord = "treatment";
			this._definitionVO = "sofia_treatment_definition";
			this._storyPage.set_asset("story_2");
			this._definitionBar.set_scale(1);
			this._definitionBar.setAsset("story_popup_treatment");
			this._clickableTextContainer1.inputEnabled = true;
			this._clickableTextContainer1.set_x(-365);
			this._clickableTextContainer1.set_y(65);
			this._clickableTextContainer1.setCustomHitBox(250,55);
			workinman_WMSound.playVO("sofia_intro_02","");
			break;
		}
	}
	,_clickDefinition: function() {
		workinman_WMSound.stopVO();
		workinman_WMSound.playSound("sofia_click");
		this._menuOptions.hideInstructions();
		this._instructionIn = true;
		this._tween.tween({ target : this._definitionBar, duration : .4, delay : 0, ease : workinman_tween_Ease.outQuad},{ y : 273.});
		workinman_WMSound.playVO(this._definitionVO,"");
		app_GoogleAnalytics.LogEvent("Clicked Definition_web",{ "event_label" : this._definitionWord});
	}
	,_clearDefinition: function() {
		if(!this._instructionIn) {
			return;
		}
		workinman_WMSound.stopVO();
		this._instructionIn = false;
		this._tween.tween({ target : this._definitionBar, duration : .2, delay : 0, ease : workinman_tween_Ease.outQuad},{ y : 447.});
	}
	,__class__: screen_ScreenCutsceneOpening
});
var screen_ScreenCutsceneSurvey = function(pRoot) {
	this._instructionIn = false;
	this._pageIndex = 0;
	workinman_ui_ScreenBase.call(this,pRoot);
};
$hxClasses["screen.ScreenCutsceneSurvey"] = screen_ScreenCutsceneSurvey;
screen_ScreenCutsceneSurvey.__name__ = ["screen","ScreenCutsceneSurvey"];
screen_ScreenCutsceneSurvey.__super__ = workinman_ui_ScreenBase;
screen_ScreenCutsceneSurvey.prototype = $extend(workinman_ui_ScreenBase.prototype,{
	_buildScreen: function() {
		var _gthis = this;
		workinman_ui_ScreenBase.prototype._buildScreen.call(this);
		this._closing = false;
		this._tray = this._elementManager.addElement(new workinman_display_ImageSprite({ }));
		this._storyPage = this._tray.addChild(new workinman_display_ImageSprite({ asset : "story_4", scale : 1}));
		this._storyPageColor = this._tray.addChild(new workinman_display_ImageSprite({ asset : "story_5_color", scale : 1, alpha : 0}));
		this._definitionBar = this._tray.addChild(new workinman_display_ImageSprite({ asset : "story_popup_researchstudy", y : 447., scale : 1}));
		this._clickTray = this._tray.addChild(new workinman_ui_Button({ tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._clickTray.setCustomHitBox(app_ConstantsApp.STAGE_WIDTH,720);
		this._clickTray.eventClick.add($bind(this,this._clearDefinition));
		this._nextButton = this._tray.addChild(new workinman_display_ImageSprite({ asset : "btn_next_side", x : app_ConstantsApp.STAGE_CENTER_X - 44, y : 0, scale : .5}));
		this._nextButtonHitbox = this._nextButton.addChild(new workinman_ui_Button({ asset : "btn_next_side_arrow", tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._nextButtonHitbox.setCustomHitBox(200,1440);
		this._nextButtonHitbox.eventClick.add($bind(this,this._clickNextButton));
		this._previousButton = this._tray.addChild(new workinman_display_ImageSprite({ asset : "btn_next_side", x : -app_ConstantsApp.STAGE_CENTER_X + 44, y : 0, scale : .5, scaleX : -.5, alpha : 0}));
		this._previousButtonHitbox = this._previousButton.addChild(new workinman_ui_Button({ asset : "btn_next_side_arrow", tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._previousButtonHitbox.setCustomHitBox(200,1440);
		this._previousButtonHitbox.eventClick.add($bind(this,this._clickPreviousButton));
		this._clickableTextContainer1 = this._tray.addChild(new workinman_ui_Button({ x : 255, y : -127, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._clickableTextContainer1.setCustomHitBox(340,55);
		this._clickableTextContainer1.eventDown.add(function() {
			if(!_gthis._instructionIn) {
				_gthis._clickDefinition();
			} else {
				_gthis._clearDefinition();
			}
		});
		this._menuOptions = this._tray.addChild(new world_elements_MenuOptions({ },"","avatar_popup","",this._tween,$bind(this,this._clearButtonInput),true,true));
		workinman_WMSound.playVO("sofia_intro_04","");
		workinman_WMInput.eventInput.add($bind(this,this._generalInput));
		app_GoogleAnalytics.LogEvent("Progress_web",{ "event_label" : "3: Cutscene #2"});
	}
	,update: function(dt) {
		workinman_ui_ScreenBase.prototype.update.call(this,dt);
	}
	,dispose: function() {
		this._tray = null;
		this._clickTray = null;
		this._clickableTextContainer1 = null;
		this._clickableTextContainer2 = null;
		this._storyPage = null;
		this._storyPageColor = null;
		this._nextButton = null;
		this._nextButtonHitbox = null;
		this._previousButton = null;
		this._previousButtonHitbox = null;
		this._definitionBar = null;
		workinman_WMInput.eventInput.remove($bind(this,this._generalInput));
		workinman_ui_ScreenBase.prototype.dispose.call(this);
	}
	,_generalInput: function(pType,pDown) {
		if(pType[1] == 0) {
			if(pDown) {
				this._menuOptions.resetCountdown();
			}
		}
	}
	,_onEventAdvanceScreen: function() {
		if(this._closing == false) {
			this._closing = true;
			app_ConstantsEvent.addLoader.dispatch();
			app_ConstantsEvent.flow.dispatch("CUTSCENE_DOCTOR_START");
		}
	}
	,_clickNextButton: function() {
		var _gthis = this;
		workinman_WMSound.stopVO();
		this._pageIndex++;
		this._clearDefinition();
		var _g = this._pageIndex;
		switch(_g) {
		case 1:
			workinman_WMSound.playSound("sofia_page_turn",.5);
			this._previousButton.alpha = 1;
			this._previousButton.inputEnabled = false;
			this._storyPage.set_asset("story_5");
			this._tween.tween({ target : this._storyPageColor, duration : 3, delay : 0.5, ease : workinman_tween_Ease.outQuad, complete : function() {
				_gthis._previousButton.inputEnabled = true;
			}},{ alpha : 1});
			this._clickableTextContainer1.inputEnabled = false;
			workinman_WMSound.playVO("sofia_intro_05","");
			break;
		case 2:
			this._onEventAdvanceScreen();
			break;
		}
	}
	,_clickPreviousButton: function() {
		if(this._pageIndex <= 0) {
			return;
		}
		workinman_WMSound.stopVO();
		this._pageIndex--;
		this._clearDefinition();
		var _g = this._pageIndex;
		if(_g == 0) {
			workinman_WMSound.playSound("sofia_page_turn",.5);
			this._previousButton.alpha = 0;
			this._storyPageColor.alpha = 0;
			this._storyPage.set_asset("story_4");
			this._definitionBar.setAsset("story_popup_researchstudy");
			this._clickableTextContainer1.set_x(255);
			this._clickableTextContainer1.set_y(-127);
			this._clickableTextContainer1.setCustomHitBox(340,55);
			this._clickableTextContainer1.inputEnabled = true;
			workinman_WMSound.playVO("sofia_intro_04","");
		}
	}
	,_clickDefinition: function() {
		workinman_WMSound.stopVO();
		workinman_WMSound.playSound("sofia_click");
		this._instructionIn = true;
		this._tween.tween({ target : this._definitionBar, duration : .4, delay : 0, ease : workinman_tween_Ease.outQuad},{ y : 273.});
		workinman_WMSound.playVO("sofia_research_study_definition","");
		app_GoogleAnalytics.LogEvent("Clicked Definition_web",{ "event_label" : "research study"});
	}
	,_clearDefinition: function() {
		if(!this._instructionIn) {
			return;
		}
		workinman_WMSound.stopVO();
		this._instructionIn = false;
		this._tween.tween({ target : this._definitionBar, duration : .2, delay : 0, ease : workinman_tween_Ease.outQuad},{ y : 447.});
	}
	,__class__: screen_ScreenCutsceneSurvey
});
var screen_ScreenDebug = function(pRoot) {
	workinman_ui_ScreenBase.call(this,pRoot);
};
$hxClasses["screen.ScreenDebug"] = screen_ScreenDebug;
screen_ScreenDebug.__name__ = ["screen","ScreenDebug"];
screen_ScreenDebug.__super__ = workinman_ui_ScreenBase;
screen_ScreenDebug.prototype = $extend(workinman_ui_ScreenBase.prototype,{
	_buildScreen: function() {
		workinman_ui_ScreenBase.prototype._buildScreen.call(this);
		this._tray = this._elementManager.addElement(new workinman_display_FillSprite({ color : 0, sizeX : app_ConstantsApp.STAGE_WIDTH, sizeY : 720, alpha : .5}));
		this._tray.alpha = 0;
		this._buildButtons();
	}
	,dispose: function() {
		workinman_ui_ScreenBase.prototype.dispose.call(this);
		this._tray = null;
	}
	,_addButton: function(pText,pX,pY,pCallback) {
		var tButton = this._tray.addChild(new workinman_ui_Button({ tween : this._tween, clear : $bind(this,this._clearButtonInput), assetUp : "btn_home", x : pX - app_ConstantsApp.STAGE_CENTER_X, y : pY - 360}));
		tButton.eventClick.add(pCallback);
		tButton = null;
	}
	,_setInState: function() {
		workinman_tween_TweenUtils.easeBounceIn(this._tray,this._tween).onComplete($bind(this,this._finishInState));
	}
	,_setCloseState: function() {
		workinman_tween_TweenUtils.easeBounceOut(this._tray,this._tween).onComplete($bind(this,this._finishCloseState));
	}
	,_buildButtons: function() {
		this._addButton("X",50,50,$bind(this,this._onCloseClick));
	}
	,_onCloseClick: function() {
		app_ConstantsEvent.flow.dispatch("DEBUG_CLOSE");
	}
	,__class__: screen_ScreenDebug
});
var screen_ScreenEndPromotion = function(pRoot) {
	workinman_ui_ScreenBase.call(this,pRoot);
};
$hxClasses["screen.ScreenEndPromotion"] = screen_ScreenEndPromotion;
screen_ScreenEndPromotion.__name__ = ["screen","ScreenEndPromotion"];
screen_ScreenEndPromotion.__super__ = workinman_ui_ScreenBase;
screen_ScreenEndPromotion.prototype = $extend(workinman_ui_ScreenBase.prototype,{
	_buildScreen: function() {
		workinman_ui_ScreenBase.prototype._buildScreen.call(this);
		this._closing = false;
		this._tray = this._elementManager.addElement(new workinman_display_ImageSprite({ }));
		this._tray.addChild(new workinman_display_ImageSprite({ asset : "endscreen", scale : 1}));
		this._sofia = this._tray.addChild(new workinman_display_spine_SpineElement({ library : "sofia", x : -90, y : 224, scale : .35, scaleX : -.35}));
		this._sofia.animate("splash");
		var _this = this._tray;
		var pChild = app_PlayerData.get_avatarSettings();
		this._avatar = _this.addChild(new world_elements_AvatarObj({ x : -340, y : 230, scale : .35},pChild,this._tween));
		this._avatar.animate("heroic_pose");
		var tX = 404;
		var tY = -185;
		this._clickTray = this._tray.addChild(new workinman_ui_Button({ x : 0, y : 0, tween : this._tween, clear : $bind(this,this._clearButtonInput), scale : 1, alpha : 0}));
		this._clickTray.setCustomHitBox(app_ConstantsApp.STAGE_WIDTH,720);
		this._clickTray.eventClick.add($bind(this,this._onEventClickPlay));
		var _button = this._tray.addChild(new workinman_ui_Button({ asset : "popup_panel_short", x : tX, y : tY, tween : this._tween, clear : $bind(this,this._clearButtonInput), scale : 0.8}));
		_button.addChild(new workinman_display_ImageSprite({ asset : "button_website", x : -250, scale : 1.3})).inputEnabled = false;
		_button.addChild(new workinman_display_Text({ text : "ending.link", x : 30, y : 5}));
		_button.eventClick.add($bind(this,this._onEventClickLink));
		workinman_WMSound.playVO("sofia_thanks_for_playing","");
		app_GoogleAnalytics.LogEvent("Progress_web",{ "event_label" : "12: Endscreen"});
	}
	,update: function(dt) {
		workinman_ui_ScreenBase.prototype.update.call(this,dt);
	}
	,dispose: function() {
		this._tray = null;
		this._clickTray = null;
		this._sofia = null;
		workinman_ui_ScreenBase.prototype.dispose.call(this);
	}
	,_onEventClickPlay: function() {
		if(this._closing == false) {
			workinman_WMSound.stopVO();
			this._closing = true;
			app_GoogleAnalytics.LogEvent("Completion_web",{ "event_label" : "finished"});
			app_ConstantsEvent.addLoader.dispatch();
			app_ConstantsEvent.flow.dispatch("ATTRACT_PLAY");
		}
	}
	,_onEventClickLink: function() {
		if(this._closing == false) {
			app_GoogleAnalytics.LogEvent("Completion_web",{ "event_label" : "link"});
			window.open("https://www.research.buffalo.edu/sofia/","_blank");
		}
	}
	,__class__: screen_ScreenEndPromotion
});
var screen_ScreenExperiment = function(pRoot) {
	this._testingIndex = 0;
	this._curAllergenIndex = -1;
	this._acceptableAllergens = [app_ALLERGEN_$TYPE.CAR,app_ALLERGEN_$TYPE.CIGARETTE,app_ALLERGEN_$TYPE.COLD,app_ALLERGEN_$TYPE.EXERCISE,app_ALLERGEN_$TYPE.FIRE,app_ALLERGEN_$TYPE.PERFUME,app_ALLERGEN_$TYPE.POLLUTION];
	this._coverButtons = [null,null,null,null,null];
	this._allergenCheckmarks = [null,null,null,null,null];
	this._allergenDraggables = [null,null,null,null,null];
	workinman_ui_ScreenBase.call(this,pRoot);
};
$hxClasses["screen.ScreenExperiment"] = screen_ScreenExperiment;
screen_ScreenExperiment.__name__ = ["screen","ScreenExperiment"];
screen_ScreenExperiment.__super__ = workinman_ui_ScreenBase;
screen_ScreenExperiment.prototype = $extend(workinman_ui_ScreenBase.prototype,{
	_buildScreen: function() {
		var _gthis = this;
		workinman_ui_ScreenBase.prototype._buildScreen.call(this);
		this._closing = false;
		workinman_WMSound.stopMusic();
		workinman_WMSound.playMusic("sofia_park_lab_track",0.3);
		this._tray = this._elementManager.addElement(new workinman_display_ImageSprite({ }));
		this._background = this._tray.addChild(new workinman_display_spine_SpineElement({ library : "spine/lab", scale : .5, alpha : 1}));
		this._background.animate("idle",1);
		this._background.setSkin("perfume");
		var _this = this._tray;
		var pChild = app_PlayerData.get_avatarSettings();
		this._avatar = _this.addChild(new world_elements_AvatarObj({ x : 489, y : 328, scale : .35, scaleX : -.35},pChild,this._tween,true));
		this._avatar.animate("write_idle");
		this._sofia = this._tray.addChild(new workinman_display_spine_SpineElement({ library : "sofia", x : 300, y : 330, scale : .35, scaleX : -.35}));
		this._sofia.animate("thinking_idle");
		this._testText = this._tray.addChild(new workinman_display_Text({ text : "experiment.testing", x : 20, y : 158, scale : .8}));
		this._testText.setVariables([""]);
		this._clipboard = this._tray.addChild(new workinman_display_ImageSprite({ asset : "clipboard_full", x : -380, y : 165, rotation : -7}));
		this._allergenDraggables[0] = this._clipboard.addChild(new screen_button_ButtonAllergen({ asset : this._getTargetedAllergen(app_PlayerData.get_selectedAllergens()[0]), x : -129, y : -122, scale : .75, tween : this._tween, clear : $bind(this,this._clearButtonInput)},app_PlayerData.get_selectedAllergens()[0],0));
		this._clipboard.addChild(new workinman_display_Text({ text : "experiment.clipboard_allergen", x : 10, y : -118, scale : 1})).setVariables([this._getAllergenText(app_PlayerData.get_selectedAllergens()[0])]);
		this._allergenCheckmarks[0] = this._clipboard.addChild(new workinman_display_ImageSprite({ asset : "little_question", x : 138, y : -118}));
		this._allergenDraggables[1] = this._clipboard.addChild(new screen_button_ButtonAllergen({ asset : this._getTargetedAllergen(app_PlayerData.get_selectedAllergens()[1]), x : -129, y : -54, scale : .75, tween : this._tween, clear : $bind(this,this._clearButtonInput)},app_PlayerData.get_selectedAllergens()[1],1));
		this._clipboard.addChild(new workinman_display_Text({ text : "experiment.clipboard_allergen", x : 10, y : -51, scale : 1})).setVariables([this._getAllergenText(app_PlayerData.get_selectedAllergens()[1])]);
		this._allergenCheckmarks[1] = this._clipboard.addChild(new workinman_display_ImageSprite({ asset : "little_question", x : 138, y : -52}));
		this._allergenDraggables[2] = this._clipboard.addChild(new screen_button_ButtonAllergen({ asset : this._getTargetedAllergen(app_PlayerData.get_selectedAllergens()[2]), x : -129, y : 15, scale : .75, tween : this._tween, clear : $bind(this,this._clearButtonInput)},app_PlayerData.get_selectedAllergens()[2],2));
		this._clipboard.addChild(new workinman_display_Text({ text : "experiment.clipboard_allergen", x : 10, y : 17, scale : 1})).setVariables([this._getAllergenText(app_PlayerData.get_selectedAllergens()[2])]);
		this._allergenCheckmarks[2] = this._clipboard.addChild(new workinman_display_ImageSprite({ asset : "little_question", x : 138, y : 15}));
		this._allergenDraggables[3] = this._clipboard.addChild(new screen_button_ButtonAllergen({ asset : this._getTargetedAllergen(app_PlayerData.get_selectedAllergens()[3]), x : -129, y : 83, scale : .75, tween : this._tween, clear : $bind(this,this._clearButtonInput)},app_PlayerData.get_selectedAllergens()[3],3));
		this._clipboard.addChild(new workinman_display_Text({ text : "experiment.clipboard_allergen", x : 10, y : 85, scale : 1})).setVariables([this._getAllergenText(app_PlayerData.get_selectedAllergens()[3])]);
		this._allergenCheckmarks[3] = this._clipboard.addChild(new workinman_display_ImageSprite({ asset : "little_question", x : 138, y : 82}));
		this._allergenDraggables[4] = this._clipboard.addChild(new screen_button_ButtonAllergen({ asset : this._getTargetedAllergen(app_PlayerData.get_selectedAllergens()[4]), x : -129, y : 154, scale : .75, tween : this._tween, clear : $bind(this,this._clearButtonInput)},app_PlayerData.get_selectedAllergens()[4],4));
		this._clipboard.addChild(new workinman_display_Text({ text : "experiment.clipboard_allergen", x : 10, y : 153, scale : 1})).setVariables([this._getAllergenText(app_PlayerData.get_selectedAllergens()[4])]);
		this._allergenCheckmarks[4] = this._clipboard.addChild(new workinman_display_ImageSprite({ asset : "little_question", x : 138, y : 153}));
		this._allergenDraggables[0].disable();
		this._allergenDraggables[1].disable();
		this._allergenDraggables[2].disable();
		this._allergenDraggables[3].disable();
		this._allergenDraggables[4].disable();
		this._coverButtons[0] = this._clipboard.addChild(new workinman_ui_Button({ x : 0, y : -125, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._coverButtons[0].setCustomHitBox(340,60);
		this._coverButtons[0].eventDown.add(function() {
			_gthis._clickAllergen(0);
		});
		this._coverButtons[1] = this._clipboard.addChild(new workinman_ui_Button({ x : 0, y : -55, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._coverButtons[1].setCustomHitBox(340,60);
		this._coverButtons[1].eventDown.add(function() {
			_gthis._clickAllergen(1);
		});
		this._coverButtons[2] = this._clipboard.addChild(new workinman_ui_Button({ x : 0, y : 15, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._coverButtons[2].setCustomHitBox(340,60);
		this._coverButtons[2].eventDown.add(function() {
			_gthis._clickAllergen(2);
		});
		this._coverButtons[3] = this._clipboard.addChild(new workinman_ui_Button({ x : 0, y : 85, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._coverButtons[3].setCustomHitBox(340,60);
		this._coverButtons[3].eventDown.add(function() {
			_gthis._clickAllergen(3);
		});
		this._coverButtons[4] = this._clipboard.addChild(new workinman_ui_Button({ x : 0, y : 155, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._coverButtons[4].setCustomHitBox(340,60);
		this._coverButtons[4].eventDown.add(function() {
			_gthis._clickAllergen(4);
		});
		this._clipboardCover = this._tray.addChild(new workinman_display_ImageSprite({ asset : "clipboard_full", x : -380, y : 165, rotation : -7, alpha : 0}));
		this._clipboardCover.inputEnabled = false;
		this._dragger = this._elementManager.addElement(new workinman_display_Element({ }));
		this._dragger.set_scale(1);
		this._dragger.visible = false;
		this._dragger.setAsset("little_x");
		this._inputPos = workinman_math_WMPoint.request(0,0);
		this._menuOptions = this._tray.addChild(new world_elements_MenuOptions({ },"8: Laboratory","lab_popup","sofia_experiment",this._tween,$bind(this,this._clearButtonInput)));
		app_ConstantsEvent.selectAllergen.add($bind(this,this._pickupAllergen));
		workinman_WMInput.eventInput.add($bind(this,this._generalInput));
		app_GoogleAnalytics.LogEvent("Progress_web",{ "event_label" : "8: Laboratory"});
	}
	,update: function(dt) {
		workinman_ui_ScreenBase.prototype.update.call(this,dt);
		this._draggerToCursor();
	}
	,dispose: function() {
		workinman_ui_ScreenBase.prototype.dispose.call(this);
		app_ConstantsEvent.selectAllergen.remove($bind(this,this._pickupAllergen));
		this._inputPos.dispose();
		this._inputPos = null;
		this._dragger = null;
		this._sofia = null;
		this._tray = null;
		this._largeCheck = null;
		this._testText = null;
		this._clipboard = null;
		this._clipboardCover = null;
		this._acceptableAllergens = null;
		this._background = null;
		workinman_WMInput.eventInput.remove($bind(this,this._generalInput));
		workinman_WMTimer.stop("hide_timer");
	}
	,_generalInput: function(pType,pDown) {
		if(pType[1] == 0) {
			if(pDown) {
				this._menuOptions.resetCountdown();
			}
		}
	}
	,_onEventClickPlay: function() {
		if(this._closing == false) {
			this._closing = true;
			app_ConstantsEvent.addLoader.dispatch();
			app_ConstantsEvent.flow.dispatch("QUIZ2");
		}
	}
	,_getTargetedSFX: function(pType) {
		switch(pType[1]) {
		case 1:
			return "sofia_blue_bird";
		case 2:
			return "";
		case 3:
			return "sofia_car_drive_by";
		case 4:
			return "";
		case 5:
			return "sofia_cold_air";
		case 6:
			return "sofia_duck_quack";
		case 7:
			return "sofia_running";
		case 8:
			return "sofia_fire";
		case 9:
			return "sofia_perfume";
		case 10:
			return "";
		case 11:
			return "sofia_fish_pond";
		case 12:
			return "";
		case 13:
			return "sofia_ufo";
		default:
			return "sofia_fire";
		}
	}
	,_getTargetedAllergen: function(pType) {
		switch(pType[1]) {
		case 1:
			return "clipboard_bird";
		case 2:
			return "clipboard_broccoli";
		case 3:
			return "clipboard_car";
		case 4:
			return "clipboard_cigarette";
		case 5:
			return "clipboard_cold_air";
		case 6:
			return "clipboard_duck";
		case 7:
			return "clipboard_exercise";
		case 8:
			return "clipboard_fire";
		case 9:
			return "clipboard_perfume";
		case 10:
			return "clipboard_pollution";
		case 11:
			return "clipboard_goldfish";
		case 12:
			return "clipboard_basketball";
		case 13:
			return "clipboard_ufo";
		default:
			return "clipboard_fire";
		}
	}
	,_getAllergenText: function(pType,pIsPath) {
		if(pIsPath == null) {
			pIsPath = false;
		}
		switch(pType[1]) {
		case 1:
			return "bird";
		case 2:
			return "broccoli";
		case 3:
			return "car";
		case 4:
			return "cigarette";
		case 5:
			if(pIsPath) {
				return "cold_air";
			} else {
				return "cold air";
			}
			break;
		case 6:
			return "duck";
		case 7:
			return "exercise";
		case 8:
			return "fire";
		case 9:
			return "perfume";
		case 10:
			return "pollution";
		case 11:
			return "goldfish";
		case 12:
			return "sports";
		case 13:
			return "ufo";
		default:
			return "fire";
		}
	}
	,_pickupAllergen: function(pType,pIndex) {
		this._allergenDraggables[pIndex].visible = false;
		this._dragger.set_asset(this._getTargetedAllergen(pType));
		this._dragger.visible = true;
		this._curAllergenIndex = pIndex;
	}
	,_releaseAllergen: function() {
		this._dragger.visible = false;
		if(this._checkPosition(this._dragger.get_x(),this._dragger.get_y())) {
			this._clipboardCover.inputEnabled = true;
			this._testText.setVariables([this._getAllergenText(app_PlayerData.get_selectedAllergens()[this._curAllergenIndex]).toUpperCase()]);
			this._background.setSkin(this._getAllergenText(app_PlayerData.get_selectedAllergens()[this._curAllergenIndex],true));
			this._background.animate("item_start",1).eventAnimationComplete.add($bind(this,this._testAllergen));
		} else {
			this._allergenDraggables[this._curAllergenIndex].release();
		}
	}
	,_clickAllergen: function(pIndex) {
		this._clipboardCover.inputEnabled = true;
		this._allergenDraggables[pIndex].visible = false;
		this._curAllergenIndex = pIndex;
		this._testText.setVariables([this._getAllergenText(app_PlayerData.get_selectedAllergens()[this._curAllergenIndex]).toUpperCase()]);
		workinman_WMSound.playSound(this._getTargetedSFX(app_PlayerData.get_selectedAllergens()[this._curAllergenIndex]));
		workinman_WMSound.playSound("sofia_machine_start",.5);
		this._background.setSkin(this._getAllergenText(app_PlayerData.get_selectedAllergens()[this._curAllergenIndex],true));
		this._background.animate("item_start",1).eventAnimationComplete.add($bind(this,this._testAllergen));
	}
	,_testAllergen: function() {
		var _gthis = this;
		this._background.eventAnimationComplete.remove($bind(this,this._testAllergen));
		this._background.animate("test",1);
		workinman_WMTimer.start(function() {
			if(_gthis._acceptableAllergens == null) {
				return;
			}
			if(_gthis._acceptableAllergens.indexOf(app_PlayerData.get_selectedAllergens()[_gthis._curAllergenIndex]) != -1) {
				workinman_WMSound.playSound("sofia_machine_done",.5);
				_gthis._background.animate("check",1).eventAnimationComplete.add($bind(_gthis,_gthis._provideFeedback));
				_gthis._allergenCheckmarks[_gthis._curAllergenIndex].set_asset("little_check");
				_gthis._avatar.animate("write_positive",1);
				_gthis._sofia.animate("thinking_positive",1).eventAnimationComplete.add(function() {
					_gthis._sofia.animate("thinking_idle");
				});
			} else {
				workinman_WMSound.playSound("sofia_machine_incorrect",.5);
				_gthis._background.animate("x",1).eventAnimationComplete.add($bind(_gthis,_gthis._provideFeedback));
				_gthis._allergenCheckmarks[_gthis._curAllergenIndex].set_asset("little_x");
				_gthis._avatar.animate("write_negative",1);
				_gthis._sofia.animate("thinking_negative",1).eventAnimationComplete.add(function() {
					_gthis._sofia.animate("thinking_idle");
				});
			}
			_gthis._allergenCheckmarks[_gthis._curAllergenIndex].alpha = 1;
		},2,"testing_delay");
	}
	,_provideFeedback: function() {
		this._background.eventAnimationComplete.remove($bind(this,this._provideFeedback));
		this._background.animate("item_end",1);
		this._allergenDraggables[this._curAllergenIndex].visible = true;
		this._coverButtons[this._curAllergenIndex].disable();
		this._clipboardCover.inputEnabled = false;
		this._testingIndex++;
		if(this._testingIndex >= 5) {
			workinman_WMTimer.start($bind(this,this._advanceGame),.5);
		}
	}
	,_draggerToCursor: function() {
		this._elementManager.camera.getWorldPositionOfScreenPoint(workinman_WMInput.pointer.get_currentPos().x,workinman_WMInput.pointer.get_currentPos().y,0,this._inputPos);
		this._dragger.pos.x = this._inputPos.x;
		this._dragger.pos.y = this._inputPos.y;
	}
	,_onInput: function(pType,pDown) {
		if(pDown == false && this._dragger.visible) {
			this._releaseAllergen();
		}
	}
	,_checkPosition: function(pX,pY) {
		if(pY < -80 || pY > 110) {
			return false;
		}
		if(pX < -75 || pX > 125) {
			return false;
		}
		return true;
	}
	,_advanceGame: function() {
		if(this._closing == false) {
			this._closing = true;
			workinman_WMSound.stopMusic();
			workinman_WMSound.playMusic("sofia_bg_music",0.3);
			app_ConstantsEvent.addLoader.dispatch();
			app_ConstantsEvent.flow.dispatch("QUIZ2");
		}
	}
	,__class__: screen_ScreenExperiment
});
var screen_ScreenImageHunt = function(pRoot) {
	this._randomToSpawn = [0,2,3,9];
	this._hasUpdated = false;
	this._sofiaCollected = false;
	this._sofiaRunnning = false;
	this._reservedCount = 0;
	this._allergensCount = 0;
	this._allergensIndex = 0;
	this._sceneAllergens = [null,null,null,null,null,null,null,null,null,null,null,null];
	this._collectedAllergens = [null,null,null,null,null];
	workinman_ui_ScreenBase.call(this,pRoot);
};
$hxClasses["screen.ScreenImageHunt"] = screen_ScreenImageHunt;
screen_ScreenImageHunt.__name__ = ["screen","ScreenImageHunt"];
screen_ScreenImageHunt.__super__ = workinman_ui_ScreenBase;
screen_ScreenImageHunt.prototype = $extend(workinman_ui_ScreenBase.prototype,{
	_buildScreen: function() {
		var _gthis = this;
		workinman_ui_ScreenBase.prototype._buildScreen.call(this);
		this._closing = false;
		workinman_WMSound.stopMusic();
		workinman_WMSound.playMusic("sofia_park_bg_music",0.3);
		this._tray = this._elementManager.addElement(new workinman_display_ImageSprite({ }));
		this._backgroundTray = this._tray.addChild(new workinman_display_ImageSprite({ }));
		this._backgroundTray.addChild(new workinman_display_ImageSprite({ asset : "sky", x : 0, y : -272.5, scale : 1}));
		this._backgroundTray.addChild(new workinman_display_ImageSprite({ asset : "bg", x : 0, y : 0, scale : .4998}));
		this._backgroundTray.addChild(new workinman_display_ImageSprite({ asset : "bench", x : 163, y : 123}));
		this._backgroundTray.addChild(new workinman_display_ImageSprite({ asset : "pond", x : 425, y : -73})).inputEnabled = false;
		this._backgroundTray.addChild(new workinman_display_spine_SpineElement({ library : "spine/park_trees", x : 0, y : 0, scale : .4998})).animate("scene_trees_all_idle");
		while(this._randomToSpawn.length > 2) {
			var tRandIndex = workinman_WMRandom.randomInt(0,this._randomToSpawn.length);
			var tRandValue = this._randomToSpawn[tRandIndex];
			HxOverrides.remove(this._randomToSpawn,tRandValue);
		}
		this._sceneAllergens[0] = this._backgroundTray.addChild(new screen_button_SpineAllergen({ x : 0, y : 0, scale : .5},845,-150,750,275,"spine/park_pond",app_ALLERGEN_$TYPE.POND,0,"sofia_fish_pond",this._tween,$bind(this,this._clearButtonInput)));
		this._sceneAllergens[0].setAnimations("scene_pond","","",screen_button_PICKUP_$TYPE.ANIMATE_THEN_TRANSITION);
		if(this._randomToSpawn.indexOf(0) == -1) {
			this._sceneAllergens[0].inputEnabled = false;
		}
		this._backgroundTray.addChild(new workinman_display_spine_SpineElement({ library : "spine/park_flowers", x : 0, y : 0, scale : .4998})).animate("scene_flowers");
		this._sceneAllergens[1] = this._backgroundTray.addChild(new screen_button_SpineAllergen({ x : 0, y : 0, scale : .5},-570,-220,300,170,"spine/park_car",app_ALLERGEN_$TYPE.CAR,1,"sofia_car_drive_by",this._tween,$bind(this,this._clearButtonInput)));
		this._sceneAllergens[1].setAnimations("scene_car_idle","scene_car_out","scene_car_in",screen_button_PICKUP_$TYPE.ANIMATE_THEN_IMMEDIATE_AND_HIDE,function() {
			_gthis._playSofiaReaction("park_cough");
		});
		this._sceneAllergens[2] = this._backgroundTray.addChild(new screen_button_SpineAllergen({ x : 0, y : 0, scale : .5},-1120,-400,150,150,"spine/park_tree_bird",app_ALLERGEN_$TYPE.BIRD,2,"sofia_blue_bird",this._tween,$bind(this,this._clearButtonInput)));
		this._sceneAllergens[2].setAnimations("scene_tree_idle","scene_bird_chirp","",screen_button_PICKUP_$TYPE.BIRD);
		if(this._randomToSpawn.indexOf(2) == -1) {
			this._sceneAllergens[2].inputEnabled = false;
			this._sceneAllergens[2].animate("scene_tree_idle2");
		}
		if(this._randomToSpawn.indexOf(3) != -1) {
			this._sceneAllergens[3] = this._backgroundTray.addChild(new screen_button_SpineAllergen({ x : 0, y : 0, scale : .5},680,70,130,130,"spine/duck",app_ALLERGEN_$TYPE.DUCK,3,"sofia_duck_quack",this._tween,$bind(this,this._clearButtonInput)));
			this._sceneAllergens[3].setAnimations("idle","animation","",screen_button_PICKUP_$TYPE.ANIMATE_THEN_TRANSITION_AND_HIDE);
		}
		this._sceneAllergens[4] = this._backgroundTray.addChild(new screen_button_SpineAllergen({ x : 0, y : 0, scale : .5},-375,150,200,600,"spine/cigarette",app_ALLERGEN_$TYPE.CIGARETTE,4,"sofia_cough",this._tween,$bind(this,this._clearButtonInput)));
		this._sceneAllergens[4].setAnimations("idle","animation","",screen_button_PICKUP_$TYPE.ANIMATE_THEN_TRANSITION,function() {
			_gthis._playSofiaReaction("park_cough");
		});
		this._sceneAllergens[5] = this._backgroundTray.addChild(new screen_button_SpineAllergen({ x : 0, y : 0, scale : .5},-940,60,500,500,"spine/vegetables",app_ALLERGEN_$TYPE.BROCCOLI,5,"sofia_broccoli_boop",this._tween,$bind(this,this._clearButtonInput)));
		this._sceneAllergens[5].setAnimations("idle","animation","",screen_button_PICKUP_$TYPE.ANIMATE_THEN_TRANSITION);
		this._sceneAllergens[7] = this._backgroundTray.addChild(new screen_button_SpineAllergen({ x : 0, y : 0, scale : .5},-60,-200,150,170,"spine/park_fire",app_ALLERGEN_$TYPE.FIRE,7,"sofia_fire",this._tween,$bind(this,this._clearButtonInput)));
		this._sceneAllergens[7].setAnimations("scene_fire","","",screen_button_PICKUP_$TYPE.ANIMATE_THEN_TRANSITION_AND_HIDE,function() {
			_gthis._playSofiaReaction("park_cough");
		});
		this._sceneAllergens[8] = this._backgroundTray.addChild(new screen_button_SpineAllergen({ x : 0, y : 0, scale : .5},995,195,260,540,"spine/perfume",app_ALLERGEN_$TYPE.PERFUME,8,"sofia_perfume",this._tween,$bind(this,this._clearButtonInput)));
		this._sceneAllergens[8].setAnimations("idle","animation","",screen_button_PICKUP_$TYPE.ANIMATE_THEN_TRANSITION,function() {
			_gthis._playSofiaReaction("park_sneeze");
		});
		this._sceneAllergens[10] = this._backgroundTray.addChild(new screen_button_SpineAllergen({ x : 0, y : 0, scale : .5},100,-600,230,200,"spine/pollution",app_ALLERGEN_$TYPE.POLLUTION,10,"",this._tween,$bind(this,this._clearButtonInput)));
		this._sceneAllergens[10].setAnimations("idle","animation","",screen_button_PICKUP_$TYPE.ANIMATE_THEN_TRANSITION,function() {
			_gthis._playSofiaReaction("park_cough");
		});
		this._sceneAllergens[11] = this._backgroundTray.addChild(new screen_button_SpineAllergen({ x : 0, y : 0, scale : .5},100,-200,160,200,"spine/park_boy",app_ALLERGEN_$TYPE.SPORTS,11,"sofia_basketball_spin",this._tween,$bind(this,this._clearButtonInput)));
		this._sceneAllergens[11].setAnimations("scene_boy_idle","scene_boy_spin","",screen_button_PICKUP_$TYPE.ANIMATE_THEN_TRANSITION);
		if(this._randomToSpawn.indexOf(9) != -1) {
			this._sceneAllergens[9] = this._backgroundTray.addChild(new screen_button_SpineAllergen({ x : 0, y : 0, scale : .5},-940,-610,200,150,"spine/park_ufo",app_ALLERGEN_$TYPE.UFO,9,"sofia_ufo",this._tween,$bind(this,this._clearButtonInput)));
			this._sceneAllergens[9].setAnimations("scene_ufo_idle","scene_ufo_out","scene_ufo_in",screen_button_PICKUP_$TYPE.ANIMATE_THEN_IMMEDIATE_AND_HIDE);
		}
		var _this = this._backgroundTray;
		var pChild = app_PlayerData.get_avatarSettings();
		this._avatar = _this.addChild(new world_elements_AvatarObj({ x : 112, y : 220, scale : .2},pChild,this._tween));
		this._avatar.animate("write_idle");
		this._avatar.addChild(new workinman_ui_Button({ x : 0, y : -570, tween : this._tween, clear : $bind(this,this._clearButtonInput)})).setCustomHitBox(500,1250).eventDown.add(function() {
			if(_gthis._avatar.animating) {
				return;
			}
			_gthis._avatar.animate("write_tap",1,true);
		});
		this._sofia = this._backgroundTray.addChild(new workinman_display_spine_SpineElement({ library : "sofia", x : 223, y : 224, scale : .2, scaleX : -.2}));
		this._sofia.animate("thinking_idle");
		this._sofia.addChild(new workinman_ui_Button({ x : 0, y : -550, tween : this._tween, clear : $bind(this,this._clearButtonInput)})).setCustomHitBox(400,1250).eventDown.add(function() {
			if(_gthis._sofiaRunnning || _gthis._sofiaCollected || _gthis._reservedCount + _gthis._allergensCount >= 5) {
				return;
			}
			_gthis._playSofiaRun();
		});
		this._sceneAllergens[6] = this._backgroundTray.addChild(new screen_button_SpineAllergen({ x : 0, y : 0, scale : .5},340,-300,200,200,"spine/park_cold_air",app_ALLERGEN_$TYPE.COLD,6,"sofia_cold_air",this._tween,$bind(this,this._clearButtonInput)));
		this._sceneAllergens[6].setAnimations("scene_cold_air_snowflake","scene_cold_air","",screen_button_PICKUP_$TYPE.ANIMATE_THEN_IMMEDIATE_AND_HIDE,function() {
			_gthis._playSofiaReaction("park_shiver");
		});
		this._clipboardTray = this._tray.addChild(new workinman_display_ImageSprite({ asset : "clipboard", x : 0, y : 259.5}));
		var _g = 0;
		while(_g < 5) {
			var i = _g++;
			this._collectedAllergens[i] = this._clipboardTray.addChild(new screen_button_ButtonSlot({ scale : .5, alpha : 1, x : -300 + i * 150, y : 55, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		}
		this._acceptButton = this._tray.addChild(new workinman_ui_Button({ asset : "btn_check_gray", x : app_ConstantsApp.STAGE_WIDTH / 2 - 75, y : 285., tween : this._tween, clear : $bind(this,this._clearButtonInput), scale : 1, alpha : 1}));
		this._acceptButton.eventClick.add($bind(this,this._advanceGame));
		this._acceptButton.inputEnabled = false;
		this._menuOptions = this._tray.addChild(new world_elements_MenuOptions({ },"6: Image Hunt","park_popup","sofia_park_02",this._tween,$bind(this,this._clearButtonInput)));
		workinman_WMInput.eventInput.add($bind(this,this._generalInput));
		app_ConstantsEvent.selectAllergen.add($bind(this,this._collectAllergen));
		app_ConstantsEvent.collectAllergen.add($bind(this,this._immediatelyCollectAllergen));
		app_ConstantsEvent.releaseAllergen.add($bind(this,this._releaseAllergen));
		app_ConstantsEvent.reserveSlot.add($bind(this,this._reserveAllergen));
		app_PlayerData.reset();
		app_GoogleAnalytics.LogEvent("Progress_web",{ "event_label" : "6: Image Hunt"});
	}
	,update: function(dt) {
		workinman_ui_ScreenBase.prototype.update.call(this,dt);
	}
	,dispose: function() {
		workinman_WMTimer.stop("hide_timer");
		app_ConstantsEvent.selectAllergen.remove($bind(this,this._collectAllergen));
		app_ConstantsEvent.collectAllergen.remove($bind(this,this._immediatelyCollectAllergen));
		app_ConstantsEvent.releaseAllergen.remove($bind(this,this._releaseAllergen));
		app_ConstantsEvent.reserveSlot.remove($bind(this,this._reserveAllergen));
		this._tray = null;
		this._clickTray = null;
		this._clipboardTray = null;
		this._backgroundTray = null;
		this._sofia = null;
		this._acceptButton = null;
		workinman_WMInput.eventInput.remove($bind(this,this._generalInput));
		workinman_ui_ScreenBase.prototype.dispose.call(this);
	}
	,_generalInput: function(pType,pDown) {
		if(pType[1] == 0) {
			if(pDown) {
				this._menuOptions.resetCountdown();
			}
		}
	}
	,_collectAllergen: function(pType,pIndex) {
		this._avatar.animate("write_active",1,true);
		var _g = 0;
		while(_g < 5) {
			var i = _g++;
			if(!this._collectedAllergens[i].full) {
				this._allergensIndex = i;
				break;
			}
		}
		this._collectedAllergens[this._allergensIndex].collect(this._getTargetedAllergen(pType),this._getAllergenPositions(pType),pIndex);
		app_PlayerData.addAllergen(this._allergensIndex,pType);
		this._allergensCount++;
		app_ConstantsEvent.setCollectedCount.dispatch(this._allergensCount);
		this._reservedCount--;
		app_ConstantsEvent.setReservedCount.dispatch(this._reservedCount);
		this._enabledAcceptButton();
	}
	,_immediatelyCollectAllergen: function(pType,pIndex) {
		var _g = 0;
		while(_g < 5) {
			var i = _g++;
			if(!this._collectedAllergens[i].full) {
				this._allergensIndex = i;
				break;
			}
		}
		this._collectedAllergens[this._allergensIndex].collectImmediate(this._getTargetedAllergen(pType),pIndex);
		app_PlayerData.addAllergen(this._allergensIndex,pType);
		this._allergensCount++;
		app_ConstantsEvent.setCollectedCount.dispatch(this._allergensCount);
		this._reservedCount--;
		app_ConstantsEvent.setReservedCount.dispatch(this._reservedCount);
		this._enabledAcceptButton();
	}
	,_collectExercise: function() {
		var _g = 0;
		while(_g < 5) {
			var i = _g++;
			if(!this._collectedAllergens[i].full) {
				this._allergensIndex = i;
				break;
			}
		}
		this._collectedAllergens[this._allergensIndex].collectImmediate(this._getTargetedAllergen(app_ALLERGEN_$TYPE.EXERCISE),-1);
		app_PlayerData.addAllergen(this._allergensIndex,app_ALLERGEN_$TYPE.EXERCISE);
		this._allergensCount++;
		app_ConstantsEvent.setCollectedCount.dispatch(this._allergensCount);
		this._reservedCount--;
		app_ConstantsEvent.setReservedCount.dispatch(this._reservedCount);
		this._enabledAcceptButton();
	}
	,_enabledAcceptButton: function() {
		if(this._allergensCount >= 5) {
			this._acceptButton.inputEnabled = true;
			this._acceptButton.setAsset("btn_check");
			if(!this._hasUpdated) {
				this._hasUpdated = true;
				this._menuOptions.updateInstructions();
			}
		}
	}
	,_releaseAllergen: function(pIndex) {
		if(pIndex == -1) {
			this._sofiaCollected = false;
		} else {
			this._sceneAllergens[pIndex].release();
		}
		this._acceptButton.inputEnabled = false;
		this._acceptButton.setAsset("btn_check_gray");
		this._allergensCount--;
		app_ConstantsEvent.setCollectedCount.dispatch(this._allergensCount);
	}
	,_reserveAllergen: function(pType,pIndex) {
		var _g = 0;
		while(_g < 5) {
			var i = _g++;
			if(!this._collectedAllergens[i].full && !this._collectedAllergens[i].reserved) {
				this._collectedAllergens[i].reserved = true;
				this._reservedCount++;
				app_ConstantsEvent.setReservedCount.dispatch(this._reservedCount);
				break;
			}
		}
	}
	,_getTargetedAllergen: function(pType) {
		switch(pType[1]) {
		case 1:
			return "clipboard_bird";
		case 2:
			return "clipboard_broccoli";
		case 3:
			return "clipboard_car";
		case 4:
			return "clipboard_cigarette";
		case 5:
			return "clipboard_cold_air";
		case 6:
			return "clipboard_duck";
		case 7:
			return "clipboard_exercise";
		case 8:
			return "clipboard_fire";
		case 9:
			return "clipboard_perfume";
		case 10:
			return "clipboard_pollution";
		case 11:
			return "clipboard_goldfish";
		case 12:
			return "clipboard_basketball";
		case 13:
			return "clipboard_ufo";
		default:
			return "clipboard_fire";
		}
	}
	,_advanceGame: function() {
		if(this._closing == false) {
			this._closing = true;
			app_GoogleAnalytics.LogEvent("Trigger Selection_web",{ "event_label" : this._getAllergenName(app_PlayerData.get_selectedAllergens()[0])});
			app_GoogleAnalytics.LogEvent("Trigger Selection_web",{ "event_label" : this._getAllergenName(app_PlayerData.get_selectedAllergens()[1])});
			app_GoogleAnalytics.LogEvent("Trigger Selection_web",{ "event_label" : this._getAllergenName(app_PlayerData.get_selectedAllergens()[2])});
			app_GoogleAnalytics.LogEvent("Trigger Selection_web",{ "event_label" : this._getAllergenName(app_PlayerData.get_selectedAllergens()[3])});
			app_GoogleAnalytics.LogEvent("Trigger Selection_web",{ "event_label" : this._getAllergenName(app_PlayerData.get_selectedAllergens()[4])});
			app_ConstantsEvent.addLoader.dispatch();
			app_ConstantsEvent.flow.dispatch("CUTSCENE_MID");
			workinman_WMSound.playSound("sofia_click_confirm");
			workinman_WMSound.stopMusic();
			workinman_WMSound.playMusic("sofia_bg_music",0.3);
		}
	}
	,_getAllergenPositions: function(pType) {
		var position;
		switch(pType[1]) {
		case 1:
			position = { x : -560, y : -200};
			break;
		case 2:
			position = { x : -480, y : 30};
			break;
		case 3:
			position = { x : -285, y : -110};
			break;
		case 4:
			position = { x : -190, y : 75};
			break;
		case 5:
			position = { x : -190, y : 75};
			break;
		case 6:
			position = { x : 338, y : 35};
			break;
		case 7:
			position = { x : 338, y : 35};
			break;
		case 8:
			position = { x : -30, y : -100};
			break;
		case 9:
			position = { x : 495, y : 95};
			break;
		case 10:
			position = { x : 45, y : -300};
			break;
		case 11:
			position = { x : 422, y : -75};
			break;
		case 12:
			position = { x : 50, y : -100};
			break;
		case 13:
			position = { x : -470, y : -305};
			break;
		default:
			position = { x : 0, y : 0};
		}
		position.y -= this._clipboardTray.get_y();
		return position;
	}
	,_getAllergenName: function(pType) {
		switch(pType[1]) {
		case 1:
			return "bird";
		case 2:
			return "broccoli";
		case 3:
			return "car";
		case 4:
			return "cigarette";
		case 5:
			return "cold";
		case 6:
			return "duck";
		case 7:
			return "exercise";
		case 8:
			return "fire";
		case 9:
			return "perfume";
		case 10:
			return "pollution";
		case 11:
			return "pond";
		case 12:
			return "sports";
		case 13:
			return "ufo";
		default:
			return "bird";
		}
	}
	,_playSofiaReaction: function(pAnim) {
		if(pAnim == "" || this._sofiaRunnning) {
			return;
		}
		this._sofia.animate(pAnim,1);
		this._sofia.queueAnimation("thinking_idle");
	}
	,_playSofiaRun: function() {
		var _gthis = this;
		this._sofiaRunnning = true;
		this._reserveAllergen(app_ALLERGEN_$TYPE.EXERCISE,-1);
		workinman_WMSound.playSound("sofia_running");
		this._sofia.clearQueue();
		this._sofia.animate("park_run");
		this._sofia.scaleX = .2;
		this._tween.tween({ target : this._sofia, duration : 2, delay : 0, ease : workinman_tween_Ease.outQuad, complete : function() {
			_gthis._sofia.scaleX = -.2;
			_gthis._tween.tween({ target : _gthis._sofia, duration : 2, delay : 0, ease : workinman_tween_Ease.outQuad, complete : function() {
				_gthis._sofia.animate("park_run_into_idle",1);
				_gthis._sofia.queueAnimation("park_breathing",1);
				_gthis._sofia.queueAnimation("park_idle");
				workinman_WMTimer.start(function() {
					_gthis._sofiaRunnning = false;
					_gthis._sofiaCollected = true;
					_gthis._collectExercise();
				},2);
			}},{ x : 223});
		}},{ x : 800});
	}
	,__class__: screen_ScreenImageHunt
});
var screen_ScreenQuiz1 = function(pRoot) {
	this._firstAnswer = "";
	this._instructionIn = false;
	workinman_ui_ScreenBase.call(this,pRoot);
};
$hxClasses["screen.ScreenQuiz1"] = screen_ScreenQuiz1;
screen_ScreenQuiz1.__name__ = ["screen","ScreenQuiz1"];
screen_ScreenQuiz1.__super__ = workinman_ui_ScreenBase;
screen_ScreenQuiz1.prototype = $extend(workinman_ui_ScreenBase.prototype,{
	_buildScreen: function() {
		var _gthis = this;
		workinman_ui_ScreenBase.prototype._buildScreen.call(this);
		this._closing = false;
		this._tray = this._elementManager.addElement(new workinman_display_ImageSprite({ }));
		this._backgroundTray = this._tray.addChild(new workinman_display_ImageSprite({ }));
		this._backgroundTray.addChild(new workinman_display_ImageSprite({ asset : "quiz_bg", x : 0, y : 0, scale : 1}));
		this._menuOptions = this._tray.addChild(new world_elements_MenuOptions({ },"","popup_panel_short","",this._tween,$bind(this,this._clearButtonInput),true,true));
		this._definitionBar = this._backgroundTray.addChild(new workinman_display_ImageSprite({ asset : "popup_panel", y : 447., scale : 1}));
		this._definitionText = this._definitionBar.addChild(new workinman_display_Text({ text : "quiz1.research_study", x : 0, y : 10}));
		this._clickTray = this._backgroundTray.addChild(new workinman_ui_Button({ tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._clickTray.setCustomHitBox(app_ConstantsApp.STAGE_WIDTH,720);
		this._clickTray.eventClick.add($bind(this,this._clearDefinition));
		this._questionBacking = this._backgroundTray.addChild(new workinman_display_ImageSprite({ asset : "quiz_question_1", x : -5, y : -170, scale : 1}));
		this._answerOne = this._backgroundTray.addChild(new workinman_ui_Button({ asset : "btn_quiz_1_true", x : -212, y : 100, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._answerOne.eventDown.add(function() {
			workinman_WMSound.playSound("sofia_correct_1",.5);
			workinman_WMSound.stopVO();
			if(_gthis._firstAnswer == "") {
				_gthis._firstAnswer = "correct";
			}
			_gthis._onEventClickAnswer();
			_gthis._answerOne.inputEnabled = _gthis._answerTwo.inputEnabled = false;
			workinman_WMSound.playVO("sofia_correct_research_study","");
		});
		this._answerTwo = this._backgroundTray.addChild(new workinman_ui_Button({ asset : "btn_quiz_1_false", x : 216, y : 100, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._answerTwo.eventDown.add(function() {
			workinman_WMSound.playSound("sofia_incorrect_1",.5);
			workinman_WMSound.stopVO();
			_gthis._answerTwo.inputEnabled = false;
			if(_gthis._firstAnswer == "") {
				_gthis._firstAnswer = "incorrect";
			}
			workinman_WMSound.playVO("sofia_wrong_research_study","");
		});
		workinman_WMSound.playVO("sofia_question_research_study","");
		workinman_WMInput.eventInput.add($bind(this,this._generalInput));
		app_GoogleAnalytics.LogEvent("Progress_web",{ "event_label" : "2: Quiz #1"});
	}
	,update: function(dt) {
		workinman_ui_ScreenBase.prototype.update.call(this,dt);
	}
	,dispose: function() {
		this._tray = null;
		this._clickTray = null;
		this._backgroundTray = null;
		this._questionBacking = null;
		this._answerOne = null;
		this._answerTwo = null;
		this._definitionBar = null;
		this._menuOptions = null;
		workinman_WMInput.eventInput.remove($bind(this,this._generalInput));
		workinman_ui_ScreenBase.prototype.dispose.call(this);
	}
	,_generalInput: function(pType,pDown) {
		if(pType[1] == 0) {
			if(pDown) {
				this._menuOptions.resetCountdown();
			}
		}
	}
	,_onEventClickAnswer: function() {
		this._clickDefinition();
	}
	,_clickDefinition: function() {
		this._instructionIn = true;
		this._tween.tween({ target : this._definitionBar, duration : .4, delay : 0, ease : workinman_tween_Ease.outQuad},{ y : 273.});
	}
	,_clearDefinition: function() {
		if(!this._instructionIn) {
			return;
		}
		workinman_WMSound.stopVO();
		this._instructionIn = false;
		this._tween.tween({ target : this._definitionBar, duration : .2, delay : 0, ease : workinman_tween_Ease.outQuad},{ y : 447.});
		if(this._closing == false) {
			this._closing = true;
			app_GoogleAnalytics.LogEvent("Quiz 1 Answer_web",{ "event_label" : this._firstAnswer});
			app_ConstantsEvent.addLoader.dispatch();
			app_ConstantsEvent.flow.dispatch("CUTSCENE_SURVEY");
		}
	}
	,__class__: screen_ScreenQuiz1
});
var screen_ScreenQuiz2 = function(pRoot) {
	this._didClickIncorrect = false;
	this._answers = 0;
	this._acceptableAllergens = [app_ALLERGEN_$TYPE.CAR,app_ALLERGEN_$TYPE.CIGARETTE,app_ALLERGEN_$TYPE.COLD,app_ALLERGEN_$TYPE.EXERCISE,app_ALLERGEN_$TYPE.FIRE,app_ALLERGEN_$TYPE.PERFUME,app_ALLERGEN_$TYPE.POLLUTION];
	workinman_ui_ScreenBase.call(this,pRoot);
};
$hxClasses["screen.ScreenQuiz2"] = screen_ScreenQuiz2;
screen_ScreenQuiz2.__name__ = ["screen","ScreenQuiz2"];
screen_ScreenQuiz2.__super__ = workinman_ui_ScreenBase;
screen_ScreenQuiz2.prototype = $extend(workinman_ui_ScreenBase.prototype,{
	_buildScreen: function() {
		var _gthis = this;
		workinman_ui_ScreenBase.prototype._buildScreen.call(this);
		this._closing = false;
		this._tray = this._elementManager.addElement(new workinman_display_ImageSprite({ }));
		this._backgroundTray = this._tray.addChild(new workinman_display_ImageSprite({ }));
		this._backgroundTray.addChild(new workinman_display_ImageSprite({ asset : "quiz_bg", x : 0, y : 0, scale : 1}));
		this._questionBacking = this._backgroundTray.addChild(new workinman_display_ImageSprite({ asset : "quiz_question_2", x : -5, y : -200, scale : 1}));
		var tClipboard = this._backgroundTray.addChild(new workinman_display_ImageSprite({ asset : "quiz_clipboard", x : 0, y : 130, scale : 1}));
		var tTriggers = this._getTriggerOptions();
		this._answerOne = tClipboard.addChild(new workinman_ui_Button({ asset : "btn_quiz_2", x : -250, y : 0, scale : .9, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._answerOne.addChild(new workinman_display_ImageSprite({ asset : this._getTriggerAsset(tTriggers[0]), scale : 1.5})).inputEnabled = false;
		this._answerOne.eventDown.add(function() {
			workinman_WMSound.stopVO();
			workinman_WMSound.playSound("sofia_correct_1",.5);
			_gthis._onEventClickAnswer(tTriggers[0]);
			_gthis._answerOne.inputEnabled = false;
			_gthis._answerOne.setAsset("btn_quiz_2_correct");
			workinman_WMSound.playVO(_gthis._getDefintionVO(tTriggers[0]),"");
		});
		this._answerTwo = tClipboard.addChild(new workinman_ui_Button({ asset : "btn_quiz_2", x : 0, y : 0, scale : .9, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._answerTwo.addChild(new workinman_display_ImageSprite({ asset : this._getTriggerAsset(tTriggers[1]), scale : 1.5})).inputEnabled = false;
		this._answerTwo.eventDown.add(function() {
			workinman_WMSound.stopVO();
			workinman_WMSound.playSound("sofia_incorrect_1",.5);
			_gthis._didClickIncorrect = true;
			_gthis._onEventClickAnswer(tTriggers[1]);
			_gthis._answerTwo.inputEnabled = false;
			_gthis._answerTwo.setAsset("btn_quiz_2_incorrect");
		});
		this._answerThree = tClipboard.addChild(new workinman_ui_Button({ asset : "btn_quiz_2", x : 250, y : 0, scale : .9, tween : this._tween, clear : $bind(this,this._clearButtonInput)}));
		this._answerThree.addChild(new workinman_display_ImageSprite({ asset : this._getTriggerAsset(tTriggers[2]), scale : 1.5})).inputEnabled = false;
		this._answerThree.eventDown.add(function() {
			workinman_WMSound.stopVO();
			workinman_WMSound.playSound("sofia_correct_1",.5);
			_gthis._onEventClickAnswer(tTriggers[2]);
			_gthis._answerThree.inputEnabled = false;
			_gthis._answerThree.setAsset("btn_quiz_2_correct");
			workinman_WMSound.playVO(_gthis._getDefintionVO(tTriggers[2]),"");
		});
		this._definitionText = tClipboard.addChild(new workinman_display_Text({ text : "quiz2.definition", x : 0, y : 167}));
		this._definitionText.setVariables(["Select all of the triggers!"]);
		this._definitionText.inputEnabled = false;
		this._acceptButton = this._tray.addChild(new workinman_ui_Button({ asset : "btn_check_gray", x : app_ConstantsApp.STAGE_WIDTH / 2 - 75, y : 285., tween : this._tween, clear : $bind(this,this._clearButtonInput), scale : 1, alpha : 1}));
		this._acceptButton.eventClick.add($bind(this,this._onEventClickPlay));
		this._acceptButton.inputEnabled = false;
		this._menuOptions = this._tray.addChild(new world_elements_MenuOptions({ },"","popup_panel_short","",this._tween,$bind(this,this._clearButtonInput),true,true));
		workinman_WMSound.playVO("sofia_research_asthma_triggers_01","");
		workinman_WMInput.eventInput.add($bind(this,this._generalInput));
		app_GoogleAnalytics.LogEvent("Progress_web",{ "event_label" : "9: Quiz #2"});
	}
	,update: function(dt) {
		workinman_ui_ScreenBase.prototype.update.call(this,dt);
	}
	,dispose: function() {
		this._tray = null;
		this._backgroundTray = null;
		this._menuOptions = null;
		this._acceptButton = null;
		this._questionBacking = null;
		this._answerOne = null;
		this._answerTwo = null;
		this._answerThree = null;
		this._definitionText = null;
		this._acceptableAllergens = [];
		workinman_WMInput.eventInput.remove($bind(this,this._generalInput));
		workinman_ui_ScreenBase.prototype.dispose.call(this);
	}
	,_generalInput: function(pType,pDown) {
		if(pType[1] == 0) {
			if(pDown) {
				this._menuOptions.resetCountdown();
			}
		}
	}
	,_onEventClickAnswer: function(pTriggerType) {
		this._setDefinition(pTriggerType);
		if(this._acceptableAllergens.indexOf(pTriggerType) != -1) {
			this._clickDefinition();
		}
	}
	,_getTriggerOptions: function() {
		var tSelectedTriggers = app_PlayerData.get_selectedAllergens();
		var tReturnTriggers = [app_ALLERGEN_$TYPE.CAR,app_ALLERGEN_$TYPE.DUCK,app_ALLERGEN_$TYPE.COLD];
		var tFirstSpotTaken = false;
		var _g1 = 0;
		var _g = tSelectedTriggers.length;
		while(_g1 < _g) {
			var i = _g1++;
			if(this._acceptableAllergens.indexOf(tSelectedTriggers[i]) != -1) {
				if(!tFirstSpotTaken) {
					tFirstSpotTaken = true;
					tReturnTriggers[0] = tSelectedTriggers[i];
				} else {
					tReturnTriggers[2] = tSelectedTriggers[i];
				}
			} else {
				tReturnTriggers[1] = tSelectedTriggers[i];
			}
		}
		return tReturnTriggers;
	}
	,_getTriggerAsset: function(pType) {
		switch(pType[1]) {
		case 1:
			return "clipboard_bird";
		case 2:
			return "clipboard_broccoli";
		case 3:
			return "clipboard_car";
		case 4:
			return "clipboard_cigarette";
		case 5:
			return "clipboard_cold_air";
		case 6:
			return "clipboard_duck";
		case 7:
			return "clipboard_exercise";
		case 8:
			return "clipboard_fire";
		case 9:
			return "clipboard_perfume";
		case 10:
			return "clipboard_pollution";
		case 11:
			return "clipboard_goldfish";
		case 12:
			return "clipboard_basketball";
		case 13:
			return "clipboard_ufo";
		default:
			return "clipboard_fire";
		}
	}
	,_getDefintionVO: function(pType) {
		switch(pType[1]) {
		case 1:
			return "";
		case 2:
			return "";
		case 3:
			return "sofia_experiment_cars";
		case 4:
			return "sofia_experiment_fire";
		case 5:
			return "sofia_experiment_cold";
		case 6:
			return "";
		case 7:
			return "sofia_experiment_exercise";
		case 8:
			return "sofia_experiment_fire_alt";
		case 9:
			return "sofia_experiment_perfume";
		case 10:
			return "sofia_experiment_factory";
		case 11:
			return "";
		case 12:
			return "sofia_experiment_exercise";
		case 13:
			return "";
		default:
			return "sofia_experiment_cars";
		}
	}
	,_setDefinition: function(pType) {
		switch(pType[1]) {
		case 1:
			this._definitionText.setVariables(["Actually, birds are not a\ntrigger for asthma."]);
			break;
		case 2:
			this._definitionText.setVariables(["Actually, broccoli is not a\ntrigger for asthma."]);
			break;
		case 3:
			this._definitionText.setVariables(["Correct! Car exhaust is an\nasthma trigger!"]);
			break;
		case 4:
			this._definitionText.setVariables(["Correct! Cigarette smoke is\nan asthma trigger!"]);
			break;
		case 5:
			this._definitionText.setVariables(["Correct! Cold air is an asthma\ntrigger!"]);
			break;
		case 6:
			this._definitionText.setVariables(["Actually, ducks are not a\ntrigger for asthma."]);
			break;
		case 7:
			this._definitionText.setVariables(["Correct! Exercise can be an\nasthma trigger!"]);
			break;
		case 8:
			this._definitionText.setVariables(["Correct! Smoke is an asthma\ntrigger!"]);
			break;
		case 9:
			this._definitionText.setVariables(["Correct! Perfume can be an\nasthma trigger!"]);
			break;
		case 10:
			this._definitionText.setVariables(["Correct! Pollution is an\nasthma trigger!"]);
			break;
		case 11:
			this._definitionText.setVariables(["Actually, fish are not a\ntrigger for asthma."]);
			break;
		case 12:
			this._definitionText.setVariables(["Correct! Sports can be an\nasthma trigger!"]);
			break;
		case 13:
			this._definitionText.setVariables(["Actually, UFO's are not a\ntrigger for asthma."]);
			break;
		default:
			this._definitionText.setVariables(["Correct! Car exhaust is an\nasthma trigger!"]);
		}
	}
	,_clickDefinition: function() {
		this._answers++;
		if(this._answers >= 2) {
			this._acceptButton.setAsset("btn_check");
			this._acceptButton.inputEnabled = true;
		}
	}
	,_onEventClickPlay: function() {
		if(this._answers >= 2) {
			if(this._closing == false) {
				this._closing = true;
				workinman_WMSound.stopVO();
				workinman_WMSound.playSound("sofia_click_confirm");
				app_GoogleAnalytics.LogEvent("Quiz 2 Answer_web",{ "event_label" : this._didClickIncorrect ? "1 incorrect" : "all correct"});
				app_ConstantsEvent.addLoader.dispatch();
				app_ConstantsEvent.flow.dispatch("CUTSCENE_DOCTOR_END");
			}
		}
	}
	,__class__: screen_ScreenQuiz2
});
var screen_ScreenQuiz3 = function(pRoot) {
	this._selection = "";
	workinman_ui_ScreenBase.call(this,pRoot);
};
$hxClasses["screen.ScreenQuiz3"] = screen_ScreenQuiz3;
screen_ScreenQuiz3.__name__ = ["screen","ScreenQuiz3"];
screen_ScreenQuiz3.__super__ = workinman_ui_ScreenBase;
screen_ScreenQuiz3.prototype = $extend(workinman_ui_ScreenBase.prototype,{
	_buildScreen: function() {
		var _gthis = this;
		workinman_ui_ScreenBase.prototype._buildScreen.call(this);
		this._closing = false;
		this._tray = this._elementManager.addElement(new workinman_display_ImageSprite({ }));
		this._backgroundTray = this._tray.addChild(new workinman_display_ImageSprite({ }));
		this._backgroundTray.addChild(new workinman_display_ImageSprite({ asset : "quiz_bg", x : 0, y : 0, scale : 1}));
		this._menuOptions = this._tray.addChild(new world_elements_MenuOptions({ },"","popup_panel_short","",this._tween,$bind(this,this._clearButtonInput),true,true));
		this._questionBacking = this._backgroundTray.addChild(new workinman_display_ImageSprite({ asset : "quiz_question_3", x : -5, y : -157, scale : 1}));
		this._answerOne = this._backgroundTray.addChild(new workinman_ui_Button({ asset : "btn_quiz_3_notsure", x : -300, y : 150, tween : this._tween, clear : $bind(this,this._clearButtonInput), scale : .75}));
		this._answerOne.eventDown.add(function() {
			_gthis._selection = "not sure";
			_gthis._onEventClickAnswer("sofia_conclusion_quiz_notsure");
		});
		this._answerTwo = this._backgroundTray.addChild(new workinman_ui_Button({ asset : "btn_quiz_3_scientist", x : 0, y : 150, tween : this._tween, clear : $bind(this,this._clearButtonInput), scale : .75}));
		this._answerTwo.eventDown.add(function() {
			_gthis._selection = "scientist";
			_gthis._onEventClickAnswer("sofia_conclusion_quiz_scientist");
		});
		this._answerThree = this._backgroundTray.addChild(new workinman_ui_Button({ asset : "btn_quiz_3_sofia", x : 300, y : 150, tween : this._tween, clear : $bind(this,this._clearButtonInput), scale : .75}));
		this._answerThree.eventDown.add(function() {
			_gthis._selection = "participate";
			_gthis._onEventClickAnswer("sofia_conclusion_quiz_participant");
		});
		workinman_WMSound.playVO("sofia_conclusion_quiz","");
		workinman_WMInput.eventInput.add($bind(this,this._generalInput));
		app_GoogleAnalytics.LogEvent("Progress_web",{ "event_label" : "11: Quiz #3"});
	}
	,update: function(dt) {
		workinman_ui_ScreenBase.prototype.update.call(this,dt);
	}
	,dispose: function() {
		this._tray = null;
		this._backgroundTray = null;
		this._menuOptions = null;
		this._questionBacking = null;
		this._answerOne = null;
		this._answerTwo = null;
		this._answerThree = null;
		workinman_WMInput.eventInput.remove($bind(this,this._generalInput));
		workinman_ui_ScreenBase.prototype.dispose.call(this);
	}
	,_generalInput: function(pType,pDown) {
		if(pType[1] == 0) {
			if(pDown) {
				this._menuOptions.resetCountdown();
			}
		}
	}
	,_onEventClickAnswer: function(pAudio) {
		var _gthis = this;
		if(this._closing == false) {
			this._closing = true;
			workinman_WMSound.stopVO();
			workinman_WMSound.playSound("sofia_correct_2");
			workinman_WMSound.playVO(pAudio,"",true,function() {
				app_GoogleAnalytics.LogEvent("Quiz 3 Answer_web",{ "event_label" : _gthis._selection});
				app_ConstantsEvent.addLoader.dispatch();
				app_ConstantsEvent.flow.dispatch("ENDSCREEN");
			});
		}
	}
	,__class__: screen_ScreenQuiz3
});
var workinman_display_Sprite = function(prop) {
	this.children = [];
	this.parent = null;
	this._matrix = new flambe_math_Matrix();
	this._viewMatrix = new flambe_math_Matrix();
	this.pos = workinman_math_WMPoint.request(0,0,0);
	this.offset = workinman_math_WMPoint.request(0,0,0);
	this.rotation = 0;
	this.set_origin(.5);
	this.set_scale(this.alpha = 1);
	this.visible = this.useCamera = this.usePerspective = true;
	this.inputEnabled = true;
	this.doDelete = false;
	if(prop != null) {
		if(prop.alpha != null) {
			this.alpha = prop.alpha;
		}
		if(prop.x != null) {
			this.set_x(prop.x);
		}
		if(prop.y != null) {
			this.set_y(prop.y);
		}
		if(prop.z != null) {
			this.set_z(prop.z);
		}
		if(prop.offsetX != null) {
			this.set_offsetX(prop.offsetX);
		}
		if(prop.offsetY != null) {
			this.set_offsetY(prop.offsetY);
		}
		if(prop.offsetZ != null) {
			this.set_offsetZ(prop.offsetZ);
		}
		if(prop.origin != null) {
			this.set_origin(prop.origin);
		}
		if(prop.originX != null) {
			this.set_originX(prop.originX);
		}
		if(prop.originY != null) {
			this.set_originY(prop.originY);
		}
		if(prop.scale != null) {
			this.set_scale(prop.scale);
		}
		if(prop.scaleX != null) {
			this.scaleX = prop.scaleX;
		}
		if(prop.scaleY != null) {
			this.scaleY = prop.scaleY;
		}
		if(prop.rotation != null) {
			this.rotation = prop.rotation;
		}
		if(prop.visible != null) {
			this.visible = prop.visible;
		}
		if(prop.useCamera != null) {
			this.useCamera = prop.useCamera;
		}
		if(prop.usePerspective != null) {
			this.usePerspective = prop.usePerspective;
		}
	}
};
$hxClasses["workinman.display.Sprite"] = workinman_display_Sprite;
workinman_display_Sprite.__name__ = ["workinman","display","Sprite"];
workinman_display_Sprite.prototype = {
	dispose: function() {
		if(this.children != null) {
			var _g = 0;
			var _g1 = this.children;
			while(_g < _g1.length) {
				var c = _g1[_g];
				++_g;
				c.dispose();
			}
			this.children = null;
		}
		this.parent = null;
		if(this.pos != null) {
			this.pos.dispose();
			this.pos = null;
		}
		if(this.offset != null) {
			this.offset.dispose();
			this.offset = null;
		}
		this._matrix = null;
		this._viewMatrix = null;
	}
	,get_x: function() {
		return this.pos.x;
	}
	,set_x: function(val) {
		this.pos.x = val;
		return val;
	}
	,get_y: function() {
		return this.pos.y;
	}
	,set_y: function(val) {
		this.pos.y = val;
		return val;
	}
	,get_z: function() {
		return this.pos.z;
	}
	,set_z: function(val) {
		this.pos.z = val;
		return val;
	}
	,get_offsetX: function() {
		return this.offset.x;
	}
	,set_offsetX: function(val) {
		this.offset.x = val;
		return val;
	}
	,get_offsetY: function() {
		return this.offset.y;
	}
	,set_offsetY: function(val) {
		this.offset.y = val;
		return val;
	}
	,get_offsetZ: function() {
		return this.offset.z;
	}
	,set_offsetZ: function(val) {
		this.offset.z = val;
		return val;
	}
	,get_depth: function() {
		return this.pos.z;
	}
	,set_originX: function(val) {
		this.originX = val;
		return val;
	}
	,set_originY: function(val) {
		this.originY = val;
		return val;
	}
	,get_width: function() {
		return 0;
	}
	,get_height: function() {
		return 0;
	}
	,set_scale: function(val) {
		this.scale = this.scaleX = this.scaleY = val;
		return val;
	}
	,set_origin: function(val) {
		this.set_originX(this.set_originY(val));
		return val;
	}
	,addElement: function(pChild) {
		return this.addChild(pChild);
	}
	,addChild: function(pChild) {
		if(pChild.parent != null) {
			pChild.parent.removeChild(pChild);
		}
		pChild.parent = this;
		this.children.push(pChild);
		return pChild;
	}
	,addChildToBottom: function(pChild) {
		if(pChild.parent != null) {
			pChild.parent.removeChild(pChild);
		}
		pChild.parent = this;
		this.children.unshift(pChild);
		return pChild;
	}
	,removeElement: function(pChild) {
		return this.removeChild(pChild);
	}
	,removeChild: function(pChild) {
		if(HxOverrides.remove(this.children,pChild)) {
			pChild.parent = null;
		}
		return pChild;
	}
	,get_viewMatrix: function() {
		if(this.parent != null) {
			return this._viewMatrix;
		}
		return this._matrix;
	}
	,get_viewX: function() {
		var m = this.get_viewMatrix();
		return m.m02 / m.m00;
	}
	,get_viewY: function() {
		var m = this.get_viewMatrix();
		return m.m12 / m.m11;
	}
	,accessibleInHierarchy: function() {
		if(this.visible && this.alpha > 0 && this.inputEnabled) {
			if(this.parent == null) {
				return true;
			} else {
				return this.parent.accessibleInHierarchy();
			}
		} else {
			return false;
		}
	}
	,hitTest: function(x,y,point) {
		if(this.visible == false || this.inputEnabled == false) {
			return null;
		}
		var tI = this.children.length;
		var tRes = null;
		while(tI-- > 0) {
			tRes = this.children[tI].hitTest(x,y,point);
			if(tRes != null) {
				return tRes;
			}
		}
		if(this.inverseTransform(x,y,point)) {
			return this;
		}
		return null;
	}
	,inverseTransform: function(x,y,point,pW,pH) {
		if(pH == null) {
			pH = -1;
		}
		if(pW == null) {
			pW = -1;
		}
		if(pW < 0) {
			pW = this.get_width();
		}
		if(pH < 0) {
			pH = this.get_height();
		}
		var tOX = -this.originX * pW;
		var tOY = -this.originY * pH;
		if(this.get_viewMatrix().inverseTransform(x,y,point) && point.x >= tOX && point.y >= tOY && point.x < tOX + pW) {
			return point.y < tOY + pH;
		} else {
			return false;
		}
	}
	,runUpdate: function(dt) {
		this.update(dt);
		var tI = this.children.length;
		while(tI-- > 0) {
			this.children[tI].runUpdate(dt);
			if(this.children[tI].doDelete) {
				this.children[tI].dispose();
				this.children.splice(tI,1);
			}
		}
	}
	,update: function(dt) {
	}
	,render: function(g,c) {
		if(this.visible == false) {
			return;
		}
		var tRenderX = 0;
		var tRenderY = 0;
		var tRenderZ = 0;
		var tRenderScale = 1;
		if(c == null || this.useCamera == false || this.usePerspective == false) {
			tRenderX = this.pos.x;
			tRenderY = this.pos.y;
			tRenderZ = this.pos.z;
			tRenderScale = 1;
		} else {
			tRenderZ = this.pos.z - c.pos.z + this.get_offsetZ();
			if(tRenderZ < -c.focalLength) {
				return;
			}
			if(c.focalLength <= 0) {
				tRenderScale = 1;
			} else {
				tRenderScale = c.focalLength / (c.focalLength + tRenderZ);
			}
			tRenderX = c.worldCenterX + (this.pos.x - c.pos.x - c.worldCenterX) * tRenderScale;
			tRenderY = c.worldCenterY + (this.pos.y - c.pos.y - c.worldCenterY) * tRenderScale;
		}
		this._matrix.compose(tRenderX,tRenderY,this.scaleX * tRenderScale,this.scaleY * tRenderScale,this.rotation * 3.141592653589793 / 180);
		if(this.parent != null) {
			flambe_math_Matrix.multiply(this.parent.get_viewMatrix(),this._matrix,this._viewMatrix);
		}
		g.ctx.save();
		if(this.alpha < 1) {
			g.ctx.multiplyAlpha(this.alpha);
		}
		g.ctx.transform(this._matrix.m00,this._matrix.m10,this._matrix.m01,this._matrix.m11,this._matrix.m02,this._matrix.m12);
		g.ctx.save();
		g.ctx.translate(-this.get_width() * this.originX + this.get_offsetX(),-this.get_height() * this.originY + this.get_offsetY());
		this._draw(g);
		g.ctx.restore();
		var _g1 = 0;
		var _g = this.children.length;
		while(_g1 < _g) {
			var i = _g1++;
			this.children[i].render(g,null);
		}
		g.ctx.restore();
	}
	,_draw: function(g) {
	}
	,__class__: workinman_display_Sprite
	,__properties__: {get_viewY:"get_viewY",get_viewX:"get_viewX",get_viewMatrix:"get_viewMatrix",set_origin:"set_origin",set_scale:"set_scale",get_height:"get_height",get_width:"get_width",get_depth:"get_depth",set_offsetZ:"set_offsetZ",get_offsetZ:"get_offsetZ",set_offsetY:"set_offsetY",get_offsetY:"get_offsetY",set_offsetX:"set_offsetX",get_offsetX:"get_offsetX",set_z:"set_z",get_z:"get_z",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_originY:"set_originY",set_originX:"set_originX"}
};
var workinman_display_ImageSprite = function(prop) {
	workinman_display_Sprite.call(this,prop);
	this.rect = null;
	this.texture = null;
	if(prop != null) {
		if(prop.asset != null) {
			this.setAsset(prop.asset);
		}
	}
};
$hxClasses["workinman.display.ImageSprite"] = workinman_display_ImageSprite;
workinman_display_ImageSprite.__name__ = ["workinman","display","ImageSprite"];
workinman_display_ImageSprite.__super__ = workinman_display_Sprite;
workinman_display_ImageSprite.prototype = $extend(workinman_display_Sprite.prototype,{
	get_asset: function() {
		return this._asset;
	}
	,set_asset: function(pAsset) {
		this.setAsset(pAsset);
		return this._asset;
	}
	,dispose: function() {
		workinman_display_Sprite.prototype.dispose.call(this);
		this.rect = null;
		this.texture = null;
	}
	,get_width: function() {
		if(this.texture == null) {
			return 0;
		}
		if(this.rect != null) {
			return this.rect.origX;
		}
		return this.texture.get_width();
	}
	,get_height: function() {
		if(this.texture == null) {
			return 0;
		}
		if(this.rect != null) {
			return this.rect.origY;
		}
		return this.texture.get_height();
	}
	,setAsset: function(pAsset) {
		if(pAsset == null || pAsset == "") {
			return this;
		}
		this._asset = pAsset;
		this.texture = workinman_WMAssets.getTexture(pAsset);
		this.rect = workinman_WMAssets.getSpriteRect(pAsset);
		return this;
	}
	,setTexture: function(pTexture) {
		this.rect = null;
		this.texture = pTexture;
		return this;
	}
	,_draw: function(g) {
		if(this.texture == null) {
			return;
		}
		if(this.rect != null) {
			if(this.rect.rotate) {
				g.ctx.save();
				g.ctx.rotate(90);
				g.ctx.drawSubTexture(this.texture,this.rect.origY - this.rect.sizeY - this.rect.offsetY,-this.rect.offsetX - this.rect.sizeX,this.rect.x,this.rect.y,this.rect.sizeY,this.rect.sizeX);
				g.ctx.restore();
			} else {
				g.ctx.drawSubTexture(this.texture,this.rect.offsetX,this.rect.origY - this.rect.sizeY - this.rect.offsetY,this.rect.x,this.rect.y,this.rect.sizeX,this.rect.sizeY);
			}
			return;
		}
		g.ctx.drawTexture(this.texture,0,0);
	}
	,__class__: workinman_display_ImageSprite
	,__properties__: $extend(workinman_display_Sprite.prototype.__properties__,{set_asset:"set_asset",get_asset:"get_asset"})
});
var workinman_ui_Button = function(pData) {
	if(workinman_ui_Button._scratchPoint == null) {
		workinman_ui_Button._scratchPoint = new flambe_math_Point();
	}
	workinman_display_ImageSprite.call(this,pData);
	this.eventClick = workinman_event__$Event0_Event0_$Impl_$._new();
	this.eventDown = workinman_event__$Event0_Event0_$Impl_$._new();
	this.eventUp = workinman_event__$Event0_Event0_$Impl_$._new();
	this.eventOver = workinman_event__$Event0_Event0_$Impl_$._new();
	this.eventOut = workinman_event__$Event0_Event0_$Impl_$._new();
	this._tween = pData.tween;
	this._containsInput = false;
	this._clearFunction = pData.clear;
	this._assetUp = pData.assetUp;
	this._assetOver = pData.assetOver;
	this._assetDown = pData.assetDown;
	this._assetDisabled = pData.assetDisabled;
	this._state = workinman_ui__$Button_ButtonState._STATE_UP;
	this.enable();
	this._selectedOutline = this.addChild(new workinman_display_SliceSprite({ asset : "outline", innerW : this.get_width(), innerH : this.get_height(), bufferW : this.get_width() + 10, bufferH : this.get_height() + 10, alpha : 0, originX : this.originX, originY : this.originY}));
	this.setCustomHitBox(this.get_width(),this.get_height());
	workinman_WMInput.eventInput.add($bind(this,this._onInput));
	this._buttonScaleBase = workinman_math_WMPoint.request(this.scaleX,this.scaleY);
};
$hxClasses["workinman.ui.Button"] = workinman_ui_Button;
workinman_ui_Button.__name__ = ["workinman","ui","Button"];
workinman_ui_Button.__super__ = workinman_display_ImageSprite;
workinman_ui_Button.prototype = $extend(workinman_display_ImageSprite.prototype,{
	dispose: function() {
		workinman_WMInput.eventInput.remove($bind(this,this._onInput));
		this.eventClick.dispose();
		this.eventClick = null;
		this.eventDown.dispose();
		this.eventDown = null;
		this.eventUp.dispose();
		this.eventUp = null;
		this.eventOver.dispose();
		this.eventOver = null;
		this.eventOut.dispose();
		this.eventOut = null;
		this._flagEnabled = false;
		this._assetUp = null;
		this._assetOver = null;
		this._assetDown = null;
		this._assetDisabled = null;
		this._hitBox.dispose();
		this._hitBox = null;
		this._tween = null;
		this._buttonScaleBase.dispose();
		this._buttonScaleBase = null;
		this._state = null;
		this._clearFunction = null;
		workinman_display_ImageSprite.prototype.dispose.call(this);
	}
	,enable: function() {
		this._flagEnabled = true;
		this._renderUp();
		return this;
	}
	,disable: function() {
		this._flagEnabled = false;
		this._renderDisabled();
		return this;
	}
	,get_hitbox: function() {
		return this._hitBox;
	}
	,setCustomHitBox: function(pW,pH) {
		if(this._hitBox == null) {
			this._hitBox = this.addChild(new workinman_display_FillSprite({ color : 16711680, sizeX : pW, sizeY : pH, alpha : 0, originX : this.originX, originY : this.originY}));
		}
		this._hitBox.sizeX = pW;
		this._hitBox.sizeY = pH;
		this._selectedOutline.setInnerSize(Math.floor(pW),Math.floor(pH));
		return this;
	}
	,_onInput: function(pType,pDown) {
		var pX = flambe_System._platform.getPointer().get_x();
		var pY = flambe_System._platform.getPointer().get_y();
		switch(pType[1]) {
		case 0:
			this._containsInput = this._hitBox.inverseTransform(pX,pY,workinman_ui_Button._scratchPoint);
			if(pDown) {
				var _g = this._state;
				switch(_g[1]) {
				case 0:case 2:case 3:
					if(this._containsInput && this._depthTest(pX,pY)) {
						this._state = workinman_ui__$Button_ButtonState._STATE_DOWN;
						this._onDown(pX,pY);
					}
					break;
				default:
				}
			} else {
				var _g1 = this._state;
				if(_g1[1] == 1) {
					if(this._containsInput) {
						this._state = workinman_ui__$Button_ButtonState._STATE_CLICK;
						this._onUp(pX,pY);
					} else {
						this._state = workinman_ui__$Button_ButtonState._STATE_UP;
						this._renderReturnUp();
					}
				}
			}
			break;
		case 1:
			var _g2 = this._state;
			switch(_g2[1]) {
			case 0:
				if(this._containsInput && this._depthTest(pX,pY)) {
					this._state = workinman_ui__$Button_ButtonState._STATE_OVER;
					this._onOver();
				}
				break;
			case 2:
				if(this._containsInput == false) {
					this._state = workinman_ui__$Button_ButtonState._STATE_UP;
					this._onOut();
				}
				break;
			default:
			}
			break;
		default:
		}
	}
	,_depthTest: function(pX,pY) {
		if(this._flagEnabled == false) {
			return false;
		}
		var tDepthResult = workinman_WMInput.hitTest(pX,pY);
		if(this._hitBox != null && tDepthResult == this._hitBox) {
			tDepthResult = null;
			return true;
		}
		tDepthResult = null;
		return false;
	}
	,forceClick: function() {
		this._dispatch(this.eventDown);
		this._click();
	}
	,isSelectable: function() {
		if(this._flagEnabled) {
			return this.accessibleInHierarchy();
		} else {
			return false;
		}
	}
	,_dispatch: function(pEvent) {
		if(this._clearFunction() == false) {
			return;
		}
		pEvent.dispatch();
	}
	,_click: function() {
		this._tween.tween({ target : this, duration : .1, overwrite : true, ease : workinman_tween_Ease.inQuad},{ scaleX : this._buttonScaleBase.x * 1.1, scaleY : this._buttonScaleBase.y * 1.1});
		this._tween.tween({ target : this, duration : .4, overwrite : false, ease : workinman_tween_Ease.outElastic},{ scaleX : this._buttonScaleBase.x, scaleY : this._buttonScaleBase.y}).onComplete($bind(this,this._onClickComplete));
		this._playSoundClick();
		this._doClick();
	}
	,_onClickComplete: function() {
		if(this._containsInput && this._flagEnabled) {
			this._state = workinman_ui__$Button_ButtonState._STATE_OVER;
			this._renderOver();
		} else {
			this._state = workinman_ui__$Button_ButtonState._STATE_UP;
		}
	}
	,_doClick: function() {
		this._dispatch(this.eventClick);
	}
	,_onDown: function(pX,pY) {
		if(!this._flagEnabled) {
			return;
		}
		this._renderDown();
		this._dispatch(this.eventDown);
	}
	,_onUp: function(pX,pY) {
		if(!this._flagEnabled) {
			return;
		}
		this._renderReturnUp();
		this._click();
		this._dispatch(this.eventUp);
	}
	,_onOver: function() {
		this._renderOver();
		this._playSoundOver();
		this._dispatch(this.eventOver);
	}
	,_onOut: function() {
		if(!this._flagEnabled) {
			return;
		}
		this._renderOut();
		this._dispatch(this.eventOut);
	}
	,_playSoundClick: function() {
		workinman_WMSound.playSound("",1.0);
	}
	,_playSoundOver: function() {
		workinman_WMSound.playSound("",1.0);
	}
	,setScale: function(x,y) {
		this._buttonScaleBase.x = x;
		this._buttonScaleBase.y = y;
		this.scaleX = this._buttonScaleBase.x;
		this.scaleY = this._buttonScaleBase.y;
		return this;
	}
	,setBaseAsset: function(pAsset) {
		this._assetUp = pAsset;
		this._assetOver = pAsset;
		this._assetDown = pAsset;
		this._assetDisabled = pAsset;
		this.setAsset(this._assetUp);
		return this;
	}
	,setHighlight: function(pVisible) {
		this._selectedOutline.alpha = pVisible ? 1 : 0;
	}
	,_renderUp: function() {
		this.setAsset(this._assetUp);
	}
	,_renderOver: function() {
		this._tween.tween({ target : this, duration : .15, overwrite : true, ease : workinman_tween_Ease.inQuad},{ scaleX : this._buttonScaleBase.x * 1.1, scaleY : this._buttonScaleBase.y * 1.1});
	}
	,_renderOut: function() {
		this._tween.tween({ target : this, duration : .5, overwrite : true, ease : workinman_tween_Ease.outElastic},{ scaleX : this._buttonScaleBase.x, scaleY : this._buttonScaleBase.y});
	}
	,_renderDown: function() {
		this._tween.tween({ target : this, duration : .15, overwrite : true, ease : workinman_tween_Ease.outQuad},{ scaleX : this._buttonScaleBase.x * .9, scaleY : this._buttonScaleBase.y * .9});
		this.setAsset(this._assetDown);
	}
	,_renderReturnUp: function() {
		this._tween.tween({ target : this, duration : .15, overwrite : true, ease : workinman_tween_Ease.outQuad},{ scaleX : this._buttonScaleBase.x, scaleY : this._buttonScaleBase.y});
		this._renderUp();
	}
	,_renderDisabled: function() {
		this.setAsset(this._assetDisabled);
	}
	,__class__: workinman_ui_Button
	,__properties__: $extend(workinman_display_ImageSprite.prototype.__properties__,{get_hitbox:"get_hitbox"})
});
var screen_button_ButtonAllergen = function(pData,pType,pIndex,pCallback) {
	this.collected = false;
	workinman_ui_Button.call(this,pData);
	this.type = pType;
	this.index = pIndex;
	this.eventDown.add($bind(this,this._select));
	if(pCallback != null) {
		this.eventDown.add(pCallback);
	}
};
$hxClasses["screen.button.ButtonAllergen"] = screen_button_ButtonAllergen;
screen_button_ButtonAllergen.__name__ = ["screen","button","ButtonAllergen"];
screen_button_ButtonAllergen.__super__ = workinman_ui_Button;
screen_button_ButtonAllergen.prototype = $extend(workinman_ui_Button.prototype,{
	_select: function() {
		if(this.collected) {
			return;
		}
		this.collected = true;
		app_ConstantsEvent.selectAllergen.dispatch(this.type,this.index);
	}
	,release: function() {
		this.visible = true;
		this.collected = false;
	}
	,__class__: screen_button_ButtonAllergen
});
var screen_button_ButtonMenu = function(pProp,pCallback) {
	this.altHighlight = "";
	this.targetAsset = "";
	workinman_display_ImageSprite.call(this,{ x : pProp.x, y : pProp.y, scale : pProp.scale, alpha : pProp.alpha});
	this.focus = this.addChild(new workinman_display_ImageSprite({ asset : pProp.highlight, alpha : 0}));
	this.button = this.addChild(new workinman_ui_Button({ asset : pProp.asset, tween : pProp.tween, clear : pProp.clear}));
	this.targetAsset = pProp.asset;
	this.altHighlight = pProp.alt;
	if(pCallback != null) {
		this.button.eventDown.add(pCallback);
	}
};
$hxClasses["screen.button.ButtonMenu"] = screen_button_ButtonMenu;
screen_button_ButtonMenu.__name__ = ["screen","button","ButtonMenu"];
screen_button_ButtonMenu.__super__ = workinman_display_ImageSprite;
screen_button_ButtonMenu.prototype = $extend(workinman_display_ImageSprite.prototype,{
	setButtonAsset: function(pNewAsset) {
		this.button.setAsset(pNewAsset);
	}
	,select: function() {
		if(this.altHighlight != null) {
			this.button.set_asset(this.altHighlight);
		} else {
			this.focus.alpha = 1;
		}
	}
	,deselect: function() {
		if(this.altHighlight != null) {
			this.button.set_asset(this.targetAsset);
		} else {
			this.focus.alpha = 0;
		}
	}
	,__class__: screen_button_ButtonMenu
});
var screen_button_ButtonSlot = function(pProp,pCallback) {
	this.reserved = false;
	this.full = false;
	workinman_display_ImageSprite.call(this,{ x : pProp.x, y : pProp.y, scale : pProp.scale, alpha : pProp.alpha});
	this._tween = pProp.tween;
	this.slot = this.addChild(new workinman_display_spine_SpineElement({ library : "spine/park_effect"}));
	this.button = this.addChild(new workinman_ui_Button({ tween : pProp.tween, clear : pProp.clear}));
	this.button.setCustomHitBox(200,150).disable();
	this.button.eventDown.add($bind(this,this._empty));
	if(pCallback != null) {
		this.button.eventDown.add(pCallback);
	}
};
$hxClasses["screen.button.ButtonSlot"] = screen_button_ButtonSlot;
screen_button_ButtonSlot.__name__ = ["screen","button","ButtonSlot"];
screen_button_ButtonSlot.__super__ = workinman_display_ImageSprite;
screen_button_ButtonSlot.prototype = $extend(workinman_display_ImageSprite.prototype,{
	collect: function(pAllergen,pPos,pIndex) {
		var _gthis = this;
		this.reserved = false;
		this.full = true;
		var startPos_y;
		var startPos_x = (pPos.x - this.get_x()) * (1 / this.scale);
		startPos_y = (pPos.y - this.get_y()) * (1 / this.scale);
		this._index = pIndex;
		this.allergen = this.addChild(new workinman_display_ImageSprite({ asset : pAllergen, x : startPos_x, y : startPos_y, scale : 0}));
		this.allergen.inputEnabled = false;
		var tDiff_y;
		var tDiff_x = startPos_x * startPos_x;
		tDiff_y = startPos_y * startPos_y;
		var tDuration = Math.sqrt(tDiff_x + tDiff_y) / 1000;
		this._tween.tween({ target : this.allergen, duration : .4, delay : 0, ease : workinman_tween_Ease.inBounce},{ scale : 2.8});
		this._tween.tween({ target : this.allergen, duration : .2, delay : 0, ease : workinman_tween_Ease.inBack},{ scale : 2});
		this._tween.tween({ target : this.allergen, duration : .25 * tDuration, delay : 0, ease : workinman_tween_Ease.linear, complete : function() {
			_gthis.slot.animate("clipboard",1).eventAnimationComplete.add(function() {
				_gthis.slot.animate("known_idle");
				_gthis.button.enable();
			});
		}},{ x : 0, y : 0});
	}
	,collectImmediate: function(pAllergen,pIndex) {
		var _gthis = this;
		this.reserved = false;
		this.full = true;
		this._index = pIndex;
		this.allergen = this.addChild(new workinman_display_ImageSprite({ asset : pAllergen, x : 0, y : 0, scale : 2}));
		this.allergen.inputEnabled = false;
		this.slot.animate("clipboard",1).eventAnimationComplete.add(function() {
			_gthis.slot.animate("known_idle");
			_gthis.button.enable();
		});
	}
	,_empty: function() {
		var _gthis = this;
		this.full = false;
		this.allergen.alpha = 0;
		this.slot.animate("clipboard_remove",1).eventAnimationComplete.add(function() {
			_gthis.slot.animate("unknown_idle");
		});
		app_ConstantsEvent.releaseAllergen.dispatch(this._index);
	}
	,__class__: screen_button_ButtonSlot
});
var screen_button_ButtonSoundToggle = function(pData) {
	workinman_ui_Button.call(this,pData);
	this._assetUpOn = pData.assetUp;
	this._assetOverOn = pData.assetOver;
	this._assetDownOn = pData.assetDown;
	this._assetDisabledOn = pData.assetDisabled;
	this._assetUpOff = pData.assetUpOff;
	this._assetOverOff = pData.assetOverOff;
	this._assetDownOff = pData.assetDownOff;
	this._assetDisabledOff = pData.assetDisabledOff;
	this._refreshMuteState();
	this._renderUp();
};
$hxClasses["screen.button.ButtonSoundToggle"] = screen_button_ButtonSoundToggle;
screen_button_ButtonSoundToggle.__name__ = ["screen","button","ButtonSoundToggle"];
screen_button_ButtonSoundToggle.__super__ = workinman_ui_Button;
screen_button_ButtonSoundToggle.prototype = $extend(workinman_ui_Button.prototype,{
	dispose: function() {
		this._assetUpOn = null;
		this._assetOverOn = null;
		this._assetDownOn = null;
		this._assetDisabledOn = null;
		this._assetUpOff = null;
		this._assetOverOff = null;
		this._assetDownOff = null;
		this._assetDisabledOff = null;
		workinman_ui_Button.prototype.dispose.call(this);
	}
	,_doClick: function() {
		if(!this._flagEnabled) {
			return;
		}
		workinman_WMSound.set_muteAll(!workinman_WMSound.muteAll);
		this._refreshMuteState();
		this._renderUp();
	}
	,_refreshMuteState: function() {
		if(workinman_WMSound.muteAll) {
			this._assetUp = this._assetUpOff;
			this._assetOver = this._assetOverOff;
			this._assetDown = this._assetDownOff;
			this._assetDisabled = this._assetDisabledOff;
		} else {
			this._assetUp = this._assetUpOn;
			this._assetOver = this._assetOverOn;
			this._assetDown = this._assetDownOn;
			this._assetDisabled = this._assetDisabledOn;
		}
	}
	,__class__: screen_button_ButtonSoundToggle
});
var screen_button_PICKUP_$TYPE = $hxClasses["screen.button.PICKUP_TYPE"] = { __ename__ : true, __constructs__ : ["ANIMATE_THEN_IMMEDIATE_AND_HIDE","ANIMATE_THEN_TRANSITION_AND_HIDE","ANIMATE_THEN_TRANSITION","BIRD"] };
screen_button_PICKUP_$TYPE.ANIMATE_THEN_IMMEDIATE_AND_HIDE = ["ANIMATE_THEN_IMMEDIATE_AND_HIDE",0];
screen_button_PICKUP_$TYPE.ANIMATE_THEN_IMMEDIATE_AND_HIDE.toString = $estr;
screen_button_PICKUP_$TYPE.ANIMATE_THEN_IMMEDIATE_AND_HIDE.__enum__ = screen_button_PICKUP_$TYPE;
screen_button_PICKUP_$TYPE.ANIMATE_THEN_TRANSITION_AND_HIDE = ["ANIMATE_THEN_TRANSITION_AND_HIDE",1];
screen_button_PICKUP_$TYPE.ANIMATE_THEN_TRANSITION_AND_HIDE.toString = $estr;
screen_button_PICKUP_$TYPE.ANIMATE_THEN_TRANSITION_AND_HIDE.__enum__ = screen_button_PICKUP_$TYPE;
screen_button_PICKUP_$TYPE.ANIMATE_THEN_TRANSITION = ["ANIMATE_THEN_TRANSITION",2];
screen_button_PICKUP_$TYPE.ANIMATE_THEN_TRANSITION.toString = $estr;
screen_button_PICKUP_$TYPE.ANIMATE_THEN_TRANSITION.__enum__ = screen_button_PICKUP_$TYPE;
screen_button_PICKUP_$TYPE.BIRD = ["BIRD",3];
screen_button_PICKUP_$TYPE.BIRD.toString = $estr;
screen_button_PICKUP_$TYPE.BIRD.__enum__ = screen_button_PICKUP_$TYPE;
var workinman_display_Element = function(prop) {
	workinman_display_ImageSprite.call(this,prop);
	this.velocity = workinman_math_WMPoint.request();
	this._addEventListeners();
};
$hxClasses["workinman.display.Element"] = workinman_display_Element;
workinman_display_Element.__name__ = ["workinman","display","Element"];
workinman_display_Element.__super__ = workinman_display_ImageSprite;
workinman_display_Element.prototype = $extend(workinman_display_ImageSprite.prototype,{
	dispose: function() {
		workinman_display_ImageSprite.prototype.dispose.call(this);
		this.velocity.dispose();
		this.velocity = null;
		this._removeEventListeners();
	}
	,_addEventListeners: function() {
	}
	,_removeEventListeners: function() {
	}
	,__class__: workinman_display_Element
});
var screen_button_SpineAllergen = function(pData,pX,pY,pW,pH,asset,pType,pIndex,pSFX,pTween,pClear) {
	this._callback = null;
	this.reserved = false;
	this.collected = false;
	this._reserved = 0;
	this._collected = 0;
	workinman_display_Element.call(this,pData);
	this.type = pType;
	this.index = pIndex;
	this._sfxPath = pSFX;
	this._allergen = this.addChild(new workinman_display_spine_SpineElement({ library : asset, x : 0, y : 0, scale : 1}));
	this._button = this._allergen.addChild(new workinman_ui_Button({ x : pX, y : pY, tween : pTween, clear : pClear}));
	this._button.setCustomHitBox(pW,pH);
	this._button.eventDown.add($bind(this,this._select));
	app_ConstantsEvent.setCollectedCount.add($bind(this,this._eventSetCollectCount));
	app_ConstantsEvent.setReservedCount.add($bind(this,this._eventSetReservedCount));
};
$hxClasses["screen.button.SpineAllergen"] = screen_button_SpineAllergen;
screen_button_SpineAllergen.__name__ = ["screen","button","SpineAllergen"];
screen_button_SpineAllergen.__super__ = workinman_display_Element;
screen_button_SpineAllergen.prototype = $extend(workinman_display_Element.prototype,{
	setAnimations: function(pIdleAnim,pReactionAnim,pReentryAnim,pPickupType,pSofiaCallback) {
		this._idleAnim = pIdleAnim;
		this._reactionAnim = pReactionAnim;
		this._reentryAnim = pReentryAnim;
		this._pickupType = pPickupType;
		this._allergen.animate(this._idleAnim);
		if(pSofiaCallback != null) {
			this._callback = pSofiaCallback;
		}
	}
	,_select: function() {
		if(this.collected || this._collected + this._reserved >= 5) {
			return;
		}
		if(this._callback != null) {
			this._callback();
		}
		this.collected = true;
		app_ConstantsEvent.reserveSlot.dispatch(this.type,this.index);
		if(this._sfxPath != "") {
			workinman_WMSound.playSound(this._sfxPath);
		}
		var _g = this._pickupType;
		switch(_g[1]) {
		case 0:
			this._allergen.animate(this._reactionAnim,1).eventAnimationComplete.add($bind(this,this._immediatelyCollectAllergen));
			break;
		case 1:
			this._allergen.animate(this._reactionAnim,1).eventAnimationComplete.add($bind(this,this._transitionHideAllergen));
			break;
		case 2:
			if(this._reactionAnim != "") {
				this._allergen.animate(this._reactionAnim,1).eventAnimationComplete.add($bind(this,this._transitionAllergen));
			} else {
				this._transitionAllergen();
			}
			this._allergen.queueAnimation(this._idleAnim);
			break;
		case 3:
			this._allergen.animate(this._reactionAnim,1).eventAnimationComplete.add($bind(this,this._transitionAllergen));
			this._allergen.queueAnimation("scene_tree_idle2");
			break;
		}
	}
	,_immediatelyCollectAllergen: function() {
		this._allergen.eventAnimationComplete.remove($bind(this,this._immediatelyCollectAllergen));
		this.alpha = 0;
		app_ConstantsEvent.collectAllergen.dispatch(this.type,this.index);
	}
	,_transitionHideAllergen: function() {
		this._allergen.eventAnimationComplete.remove($bind(this,this._transitionHideAllergen));
		this.alpha = 0;
		app_ConstantsEvent.selectAllergen.dispatch(this.type,this.index);
	}
	,_transitionAllergen: function() {
		this._allergen.eventAnimationComplete.remove($bind(this,this._transitionAllergen));
		app_ConstantsEvent.selectAllergen.dispatch(this.type,this.index);
	}
	,_eventSetCollectCount: function(pCount) {
		this._collected = pCount;
	}
	,_eventSetReservedCount: function(pCount) {
		this._reserved = pCount;
	}
	,release: function() {
		if(this._pickupType == screen_button_PICKUP_$TYPE.ANIMATE_THEN_IMMEDIATE_AND_HIDE) {
			if(this._reentryAnim != "") {
				this._allergen.animate(this._reentryAnim);
				this._allergen.queueAnimation(this._idleAnim);
			} else {
				if(this.type == app_ALLERGEN_$TYPE.COLD) {
					this._allergen.setSkin("default",false);
				}
				this._allergen.animate(this._idleAnim);
			}
			this.alpha = 1;
		} else if(this._pickupType == screen_button_PICKUP_$TYPE.ANIMATE_THEN_TRANSITION_AND_HIDE) {
			this._allergen.animate(this._idleAnim);
			this.alpha = 1;
		} else if(this._pickupType == screen_button_PICKUP_$TYPE.BIRD) {
			this._allergen.animate("scene_tree_bird_in",1);
			this._allergen.queueAnimation(this._idleAnim);
		}
		this.collected = false;
	}
	,animate: function(pAnimation) {
		this._allergen.animate(pAnimation);
	}
	,__class__: screen_button_SpineAllergen
});
var screen_data_AvatarSlotData = function() { };
$hxClasses["screen.data.AvatarSlotData"] = screen_data_AvatarSlotData;
screen_data_AvatarSlotData.__name__ = ["screen","data","AvatarSlotData"];
screen_data_AvatarSlotData.getSlotAttachment = function(pSlotName,pIndex) {
	switch(pSlotName) {
	case "cape":
		return screen_data_AvatarSlotData._capeOptions[pIndex];
	case "eye_color":
		return screen_data_AvatarSlotData._eyeColorOptions[pIndex];
	case "eye_color2":
		return screen_data_AvatarSlotData._eyeColor2Options[pIndex];
	case "eyes_shape":
		return screen_data_AvatarSlotData._eyeShapeOptions[pIndex];
	case "face_color":
		return screen_data_AvatarSlotData._faceColorOptions[pIndex];
	case "glasses_circle":
		return screen_data_AvatarSlotData._glassesCircleOptions[pIndex];
	case "glasses_square":
		return screen_data_AvatarSlotData._glassesSquareOptions[pIndex];
	case "hair":
		return screen_data_AvatarSlotData._hairOptions[pIndex];
	case "hair_back":
		return screen_data_AvatarSlotData._hairBackOptions[pIndex];
	case "hearingaid":
		return screen_data_AvatarSlotData._hearingAidOptions[pIndex];
	case "mask":
		return screen_data_AvatarSlotData._maskOptions[pIndex];
	case "neck":
		return screen_data_AvatarSlotData._neckOptions[pIndex];
	default:
		return screen_data_AvatarSlotData._faceColorOptions[pIndex];
	}
};
screen_data_AvatarSlotData.getHairAttachment = function(pStyleIndex,pColorIndex) {
	return "hair_" + (pStyleIndex + 1) + "_color_" + (pColorIndex + 1);
};
screen_data_AvatarSlotData.getHairBackAttachment = function(pStyleIndex,pColorIndex) {
	return "hair_" + (pStyleIndex + 1) + "_color_" + (pColorIndex + 1) + "_back";
};
var workinman_ui_Display = function(pData) {
	this._flagLocked = false;
	this._tween = pData.tween;
	workinman_display_Element.call(this,pData);
};
$hxClasses["workinman.ui.Display"] = workinman_ui_Display;
workinman_ui_Display.__name__ = ["workinman","ui","Display"];
workinman_ui_Display.__super__ = workinman_display_Element;
workinman_ui_Display.prototype = $extend(workinman_display_Element.prototype,{
	_addEventListeners: function() {
		workinman_display_Element.prototype._addEventListeners.call(this);
		app_ConstantsEvent.updateDisplay.add($bind(this,this._onUpdateDisplay));
	}
	,_removeEventListeners: function() {
		workinman_display_Element.prototype._removeEventListeners.call(this);
		app_ConstantsEvent.updateDisplay.remove($bind(this,this._onUpdateDisplay));
	}
	,_onUpdateDisplay: function(pVal) {
		if(this._flagLocked) {
			return;
		}
		if(pVal == this._updateValue()) {
			this._refresh();
		}
	}
	,_refresh: function() {
	}
	,_updateValue: function() {
		return null;
	}
	,dispose: function() {
		this._tween = null;
		workinman_display_Element.prototype.dispose.call(this);
	}
	,lock: function() {
		this._flagLocked = true;
	}
	,unlock: function() {
		this._flagLocked = false;
	}
	,__class__: workinman_ui_Display
});
var screen_display_DisplayLoadingProgress = function(pData) {
	this._currentString = "";
	workinman_ui_Display.call(this,pData);
	this._active = false;
	this._scale = 0.5;
	this._spine = this.addChild(new workinman_display_spine_SpineElement({ library : "transition", scale : this._scale}));
	this._spine.animate("loading",0,1,2);
	this.alpha = 0;
};
$hxClasses["screen.display.DisplayLoadingProgress"] = screen_display_DisplayLoadingProgress;
screen_display_DisplayLoadingProgress.__name__ = ["screen","display","DisplayLoadingProgress"];
screen_display_DisplayLoadingProgress.__super__ = workinman_ui_Display;
screen_display_DisplayLoadingProgress.prototype = $extend(workinman_ui_Display.prototype,{
	dispose: function() {
		workinman_ui_Display.prototype.dispose.call(this);
	}
	,get_active: function() {
		return this._active;
	}
	,update: function(dt) {
		workinman_ui_Display.prototype.update.call(this,dt);
	}
	,tweenIn: function(pReset) {
		var _gthis = this;
		if(this._active) {
			return;
		}
		workinman_tween_TweenUtils.easeFadeIn(this,this._tween);
		this._spine.animate("intro",1,1,1).eventAnimationComplete.add(function() {
			_gthis._spine.animate("middle_loop");
		});
		this._active = true;
	}
	,tweenOut: function() {
		if(this._active == false) {
			return;
		}
		workinman_WMSound.stopSound(this._currentString);
		workinman_tween_TweenUtils.easeFadeOut(this,this._tween);
		this._spine.animate("outro",1,1,1);
		this._active = false;
	}
	,__class__: screen_display_DisplayLoadingProgress
	,__properties__: $extend(workinman_ui_Display.prototype.__properties__,{get_active:"get_active"})
});
var workinman_WMAssets = function() { };
$hxClasses["workinman.WMAssets"] = workinman_WMAssets;
workinman_WMAssets.__name__ = ["workinman","WMAssets"];
workinman_WMAssets.__properties__ = {set_baseUrl:"set_baseUrl",get_isLoading:"get_isLoading"};
workinman_WMAssets.update = function(dt) {
	if(workinman_WMAssets.get_isLoading() || workinman_WMAssets._loadQueue.length < 1) {
		return;
	}
	workinman_WMAssets._loadQueue[0].delay -= dt;
	if(workinman_WMAssets._loadQueue[0].delay < 0) {
		workinman_WMAssets._beginLoad(workinman_WMAssets._loadQueue.shift());
	}
};
workinman_WMAssets.get_isLoading = function() {
	return workinman_WMAssets._manifestsLoaded < workinman_WMAssets._manifestsMax;
};
workinman_WMAssets.set_baseUrl = function(pBaseUrl) {
	workinman_WMAssets.baseUrl = pBaseUrl;
	return workinman_WMAssets.baseUrl;
};
workinman_WMAssets.setCrossdomainBaseUrl = function(pBaseUrl) {
	workinman_WMAssets._flagBaseIsCrossdomain = true;
	workinman_WMAssets.set_baseUrl(pBaseUrl);
};
workinman_WMAssets.load = function(pCallback,pPacks,pDelay) {
	if(pDelay == null) {
		pDelay = 0;
	}
	if(pCallback == null) {
		throw new js__$Boot_HaxeError("[WMAssets](load) Callback is null.");
	}
	var tQueue = new workinman_assets_LoadQueue(pCallback,pPacks,pDelay);
	if(workinman_WMAssets.get_isLoading() || pDelay > 0) {
		workinman_WMAssets._loadQueue.push(tQueue);
		return;
	}
	workinman_WMAssets._beginLoad(tQueue);
};
workinman_WMAssets._beginLoad = function(pQueue) {
	var tPacksToLoad = [];
	var tFilesToLoad = [];
	var _g = 0;
	var _g1 = pQueue.packs;
	while(_g < _g1.length) {
		var p = _g1[_g];
		++_g;
		var _this = workinman_WMAssets._packs;
		if(__map_reserved[p] != null ? _this.existsReserved(p) : _this.h.hasOwnProperty(p)) {
			continue;
		}
		if(flambe_asset_Manifest.exists(p)) {
			tPacksToLoad.push(p);
		} else {
			var _this1 = workinman_WMAssets._customManifests;
			if(__map_reserved[p] != null ? _this1.existsReserved(p) : _this1.h.hasOwnProperty(p)) {
				tFilesToLoad.push(p);
			}
		}
	}
	if(tPacksToLoad.length < 1 && tFilesToLoad.length < 1) {
		tFilesToLoad = null;
		tPacksToLoad = null;
		pQueue.complete();
		return;
	}
	workinman_WMCloud.setFloat("FLOAT_LOADING_PROGRESS",0);
	workinman_WMAssets._loadingProgress = 0;
	workinman_WMAssets._loadingCallback = pQueue.complete;
	workinman_WMAssets._manifestsMax += tFilesToLoad.length + tPacksToLoad.length;
	var _g2 = 0;
	while(_g2 < tPacksToLoad.length) {
		var f = tPacksToLoad[_g2];
		++_g2;
		workinman_WMAssets._loadPack(f);
	}
	var _g3 = 0;
	while(_g3 < tFilesToLoad.length) {
		var f1 = tFilesToLoad[_g3];
		++_g3;
		var _this2 = workinman_WMAssets._customManifests;
		workinman_WMAssets._loadManifest(__map_reserved[f1] != null ? _this2.getReserved(f1) : _this2.h[f1],f1);
	}
	pQueue.dispose();
	tFilesToLoad = null;
	tPacksToLoad = null;
};
workinman_WMAssets._loadPack = function(pId) {
	var tManifest = flambe_asset_Manifest.fromAssets(pId);
	if(workinman_WMAssets.baseUrl != "") {
		if(workinman_WMAssets._flagBaseIsCrossdomain) {
			tManifest.set_remoteBase(workinman_WMAssets.baseUrl);
		} else {
			tManifest.set_localBase(workinman_WMAssets.baseUrl);
		}
	}
	workinman_WMAssets._loadManifest(tManifest,pId);
};
workinman_WMAssets._loadManifest = function(pManifest,pId) {
	var loader = flambe_System._platform.loadAssetPack(pManifest);
	workinman_WMAssets._loadingTotal += loader._total;
	var tLoadingProgress = 0;
	loader.error.connect(workinman_WMAssets._loadingError);
	loader.progressChanged.connect(function() {
		var tChange = loader._progress - tLoadingProgress;
		tLoadingProgress = loader._progress;
		workinman_WMAssets._loadingProgress += tChange;
		workinman_WMCloud.setFloat("FLOAT_LOADING_PROGRESS",flambe_math_FMath.clamp(workinman_WMAssets._loadingProgress / workinman_WMAssets._loadingTotal,0,1));
	});
	workinman_WMAssets._requests.push(loader.get(function(pack) {
		workinman_WMAssets._addPack(pId,new workinman_assets_WMAssetPack(pack));
		if(++workinman_WMAssets._manifestsLoaded >= workinman_WMAssets._manifestsMax) {
			workinman_WMAssets._onAllLoadComplete();
		}
	}));
};
workinman_WMAssets._loadingError = function(pError) {
	workinman_WMAssets.eventLoadError.dispatch();
	workinman_WMAssets._manifestsLoaded++;
};
workinman_WMAssets._onAllLoadComplete = function() {
	if(workinman_WMAssets._loadingCallback != null) {
		var tCallback = workinman_WMAssets._loadingCallback;
		workinman_WMAssets._loadingCallback = null;
		tCallback();
		tCallback = null;
	}
	while(workinman_WMAssets._requests.length > 0) workinman_WMAssets._requests.pop();
};
workinman_WMAssets._addPack = function(pId,pPack) {
	var _this = workinman_WMAssets._packs;
	if(__map_reserved[pId] != null) {
		_this.setReserved(pId,pPack);
	} else {
		_this.h[pId] = pPack;
	}
	var a = HxOverrides.iter(pPack.pack.get_manifest()._entries);
	while(a.hasNext()) {
		var a1 = a.next();
		if(a1.name.indexOf("library.json") > -1) {
			var tPath = a1.name;
			tPath = StringTools.replace(tPath,"/library.json","");
			var this1 = workinman_WMAssets._flump;
			var v = new flambe_swf_Library(pPack.pack,tPath);
			var _this1 = this1;
			if(__map_reserved[tPath] != null) {
				_this1.setReserved(tPath,v);
			} else {
				_this1.h[tPath] = v;
			}
			pPack.flump.push(tPath);
			tPath = null;
			continue;
		}
		var tExtension = workinman_WMUtils.getExtension(a1.name);
		switch(tExtension) {
		case "atlas":case "txt":
			var tPath1 = "";
			var tSplit = a1.name.split("/");
			var _g1 = 0;
			var _g = tSplit.length - 1;
			while(_g1 < _g) {
				var tI = _g1++;
				tPath1 += tSplit[tI] + "/";
			}
			workinman_WMAssets._parseSpriteAtlas(tPath1,pPack.pack.getFile(a1.name).toString(),pPack);
			break;
		}
		var k = a1.name;
		var _this2 = workinman_WMAssets._assets;
		if(__map_reserved[k] != null) {
			_this2.setReserved(k,pId);
		} else {
			_this2.h[k] = pId;
		}
		pPack.assets.push(a1.name);
	}
};
workinman_WMAssets._parseSpriteAtlas = function(pPath,pContentString,pPack) {
	var tLines = pContentString.split("\n");
	while(tLines.length > 1) {
		while(tLines[0].length <= 1) tLines.shift();
		var tAtlasName = pPath + workinman_WMUtils.removeExtension(StringTools.rtrim(tLines.shift()));
		while(tLines.shift().indexOf("repeat:") <= -1) {
		}
		while(tLines.length > 1 && tLines[0].length > 1) workinman_WMAssets._parsePackedSpriteAndMovePlayhead(tAtlasName,tLines,pPack);
	}
};
workinman_WMAssets._parsePackedSpriteAndMovePlayhead = function(pAtlas,pArray,pPack) {
	var tArray = [];
	var tItem;
	while(true) {
		tItem = pArray.shift();
		tArray.push(StringTools.rtrim(tItem));
		if(tItem.indexOf("index:") > -1) {
			tItem = null;
			break;
		}
	}
	workinman_WMAssets._addPackedSprite(tArray[0],pAtlas,new workinman_display_SpriteRect(tArray),pPack);
	tArray = null;
};
workinman_WMAssets._addPackedSprite = function(pId,pAtlas,pRect,pPack) {
	var _this = workinman_WMAssets._spritesheets;
	if(__map_reserved[pId] != null ? _this.existsReserved(pId) : _this.h.hasOwnProperty(pId)) {
		var _this1 = workinman_WMAssets._spritesheets;
		(__map_reserved[pId] != null ? _this1.getReserved(pId) : _this1.h[pId]).dispose();
	}
	var this1 = workinman_WMAssets._spritesheets;
	var value = new workinman_assets_SpriteSheetDef(pAtlas,pRect);
	var _this2 = this1;
	if(__map_reserved[pId] != null) {
		_this2.setReserved(pId,value);
	} else {
		_this2.h[pId] = value;
	}
	pPack.spritesheets.push(pId);
};
workinman_WMAssets.hasTexture = function(pTexture) {
	if(pTexture == null) {
		pTexture = "";
	}
	if(pTexture == null || pTexture == "") {
		return false;
	}
	return workinman_WMAssets._hasAsset(pTexture);
};
workinman_WMAssets.hasSound = function(pSound) {
	if(pSound == null) {
		pSound = "";
	}
	if(pSound == null || pSound == "") {
		return false;
	}
	return workinman_WMAssets._hasAsset(pSound);
};
workinman_WMAssets.hasXML = function(pXML) {
	if(pXML == null) {
		pXML = "";
	}
	if(pXML == null || pXML == "") {
		return false;
	}
	return workinman_WMAssets._hasAsset(pXML);
};
workinman_WMAssets._hasAsset = function(pId) {
	var _this = workinman_WMAssets._spritesheets;
	if(__map_reserved[pId] != null ? _this.existsReserved(pId) : _this.h.hasOwnProperty(pId)) {
		return true;
	}
	var _this1 = workinman_WMAssets._assets;
	if(__map_reserved[pId] != null) {
		return _this1.existsReserved(pId);
	} else {
		return _this1.h.hasOwnProperty(pId);
	}
};
workinman_WMAssets.getPackForAsset = function(pAsset) {
	var _this = workinman_WMAssets._assets;
	if((__map_reserved[pAsset] != null ? _this.existsReserved(pAsset) : _this.h.hasOwnProperty(pAsset)) == false) {
		return null;
	}
	var this1 = workinman_WMAssets._packs;
	var _this1 = workinman_WMAssets._assets;
	var key = __map_reserved[pAsset] != null ? _this1.getReserved(pAsset) : _this1.h[pAsset];
	var _this2 = this1;
	return (__map_reserved[key] != null ? _this2.getReserved(key) : _this2.h[key]).pack;
};
workinman_WMAssets.getTexture = function(pAsset) {
	if(workinman_WMAssets.hasTexture(pAsset) == false) {
		return null;
	}
	var _this = workinman_WMAssets._spritesheets;
	if(__map_reserved[pAsset] != null ? _this.existsReserved(pAsset) : _this.h.hasOwnProperty(pAsset)) {
		var _this1 = workinman_WMAssets._spritesheets;
		pAsset = (__map_reserved[pAsset] != null ? _this1.getReserved(pAsset) : _this1.h[pAsset]).atlas;
	}
	var _this2 = workinman_WMAssets._assets;
	if((__map_reserved[pAsset] != null ? _this2.existsReserved(pAsset) : _this2.h.hasOwnProperty(pAsset)) == false) {
		return null;
	}
	var this1 = workinman_WMAssets._packs;
	var _this3 = workinman_WMAssets._assets;
	var key = __map_reserved[pAsset] != null ? _this3.getReserved(pAsset) : _this3.h[pAsset];
	var _this4 = this1;
	return (__map_reserved[key] != null ? _this4.getReserved(key) : _this4.h[key]).pack.getTexture(pAsset);
};
workinman_WMAssets.getSpriteRect = function(pAsset) {
	if(pAsset == null || pAsset == "") {
		return null;
	}
	var _this = workinman_WMAssets._spritesheets;
	if((__map_reserved[pAsset] != null ? _this.existsReserved(pAsset) : _this.h.hasOwnProperty(pAsset)) == false) {
		return null;
	}
	var _this1 = workinman_WMAssets._spritesheets;
	return (__map_reserved[pAsset] != null ? _this1.getReserved(pAsset) : _this1.h[pAsset]).rect;
};
workinman_WMAssets.getSound = function(pSound) {
	if(workinman_WMAssets.hasSound(pSound) == false) {
		return null;
	}
	var this1 = workinman_WMAssets._packs;
	var _this = workinman_WMAssets._assets;
	var key = __map_reserved[pSound] != null ? _this.getReserved(pSound) : _this.h[pSound];
	var _this1 = this1;
	return (__map_reserved[key] != null ? _this1.getReserved(key) : _this1.h[key]).pack.getSound(pSound);
};
workinman_WMAssets.getFile = function(pId) {
	if(workinman_WMAssets._hasAsset(pId) == false) {
		return null;
	}
	var this1 = workinman_WMAssets._packs;
	var _this = workinman_WMAssets._assets;
	var key = __map_reserved[pId] != null ? _this.getReserved(pId) : _this.h[pId];
	var _this1 = this1;
	return (__map_reserved[key] != null ? _this1.getReserved(key) : _this1.h[key]).pack.getFile(pId);
};
workinman_WMAssets.getXML = function(pXML) {
	if(workinman_WMAssets.hasXML(pXML) == false) {
		return null;
	}
	var tXML = Xml.parse(workinman_WMAssets.getFile(pXML).toString());
	var tFast = new haxe_xml_Fast(tXML.firstElement());
	tXML = null;
	return tFast;
};
workinman_WMAssets.allConfig = function() {
	var tXML = [];
	var _g = 0;
	var _g1 = manifest_Xml.allConfig;
	while(_g < _g1.length) {
		var config = _g1[_g];
		++_g;
		tXML.push(workinman_WMAssets.getXML(config));
	}
	return tXML;
};
workinman_WMAssets.getFont = function(pId,pCache,pColor) {
	if(pColor == null) {
		pColor = -1;
	}
	if(pCache == null) {
		pCache = true;
	}
	var tmp;
	if(!(pId == null || pId == "")) {
		var _this = workinman_WMAssets._assets;
		tmp = (__map_reserved[pId] != null ? _this.existsReserved(pId) : _this.h.hasOwnProperty(pId)) == false;
	} else {
		tmp = true;
	}
	if(tmp) {
		return workinman_WMAssets.getFont(workinman_WMLocalize.defaultFont);
	}
	if(pColor == -1) {
		if(pCache == false) {
			var this1 = workinman_WMAssets._packs;
			var _this1 = workinman_WMAssets._assets;
			var key = __map_reserved[pId] != null ? _this1.getReserved(pId) : _this1.h[pId];
			var _this2 = this1;
			return new flambe_display_Font((__map_reserved[key] != null ? _this2.getReserved(key) : _this2.h[key]).pack,pId);
		}
		var _this3 = workinman_WMAssets._fontCache;
		if((__map_reserved[pId] != null ? _this3.existsReserved(pId) : _this3.h.hasOwnProperty(pId)) == false) {
			var this2 = workinman_WMAssets._fontCache;
			var this3 = workinman_WMAssets._packs;
			var _this4 = workinman_WMAssets._assets;
			var key1 = __map_reserved[pId] != null ? _this4.getReserved(pId) : _this4.h[pId];
			var _this5 = this3;
			var v = new flambe_display_Font((__map_reserved[key1] != null ? _this5.getReserved(key1) : _this5.h[key1]).pack,pId);
			var _this6 = this2;
			if(__map_reserved[pId] != null) {
				_this6.setReserved(pId,v);
			} else {
				_this6.h[pId] = v;
			}
		}
		var _this7 = workinman_WMAssets._fontCache;
		if(__map_reserved[pId] != null) {
			return _this7.getReserved(pId);
		} else {
			return _this7.h[pId];
		}
	} else {
		var appendedId = pId + pColor;
		if(pCache == false) {
			var this4 = workinman_WMAssets._packs;
			var _this8 = workinman_WMAssets._assets;
			var key2 = __map_reserved[pId] != null ? _this8.getReserved(pId) : _this8.h[pId];
			var _this9 = this4;
			return new workinman_display_FontColor((__map_reserved[key2] != null ? _this9.getReserved(key2) : _this9.h[key2]).pack,pId,pColor);
		}
		var _this10 = workinman_WMAssets._fontCache;
		if((__map_reserved[appendedId] != null ? _this10.existsReserved(appendedId) : _this10.h.hasOwnProperty(appendedId)) == false) {
			var this5 = workinman_WMAssets._fontCache;
			var this6 = workinman_WMAssets._packs;
			var _this11 = workinman_WMAssets._assets;
			var key3 = __map_reserved[pId] != null ? _this11.getReserved(pId) : _this11.h[pId];
			var _this12 = this6;
			var v1 = new workinman_display_FontColor((__map_reserved[key3] != null ? _this12.getReserved(key3) : _this12.h[key3]).pack,pId,pColor);
			var _this13 = this5;
			if(__map_reserved[appendedId] != null) {
				_this13.setReserved(appendedId,v1);
			} else {
				_this13.h[appendedId] = v1;
			}
		}
		var _this14 = workinman_WMAssets._fontCache;
		if(__map_reserved[appendedId] != null) {
			return _this14.getReserved(appendedId);
		} else {
			return _this14.h[appendedId];
		}
	}
};
var workinman_WMCloud = function() { };
$hxClasses["workinman.WMCloud"] = workinman_WMCloud;
workinman_WMCloud.__name__ = ["workinman","WMCloud"];
workinman_WMCloud.setBool = function(inValueID,inValue) {
	workinman_WMCloud.setValue(inValueID,inValue);
};
workinman_WMCloud.getBool = function(inValueID) {
	var _this = workinman_WMCloud._values;
	if(__map_reserved[inValueID] != null) {
		return _this.getReserved(inValueID);
	} else {
		return _this.h[inValueID];
	}
};
workinman_WMCloud.setFloat = function(inValueID,inValue) {
	workinman_WMCloud.setValue(inValueID,inValue);
};
workinman_WMCloud.setInt = function(inValueID,inValue) {
	workinman_WMCloud.setValue(inValueID,inValue);
};
workinman_WMCloud.setDefault = function(inValueID,inValue) {
	var _this = workinman_WMCloud._defaults;
	var value = inValue;
	if(__map_reserved[inValueID] != null) {
		_this.setReserved(inValueID,value);
	} else {
		_this.h[inValueID] = value;
	}
	workinman_WMCloud.resetValue(inValueID);
};
workinman_WMCloud.setValue = function(inValueID,inValue) {
	var _this = workinman_WMCloud._values;
	var value = inValue;
	if(__map_reserved[inValueID] != null) {
		_this.setReserved(inValueID,value);
	} else {
		_this.h[inValueID] = value;
	}
	var _this1 = workinman_WMCloud._defaults;
	if((__map_reserved[inValueID] != null ? _this1.existsReserved(inValueID) : _this1.h.hasOwnProperty(inValueID)) == false) {
		workinman_WMCloud.setDefault(inValueID,inValue);
	}
	workinman_WMCloud._updateDisplays(inValueID);
};
workinman_WMCloud.resetValue = function(inValueID) {
	var _this = workinman_WMCloud._defaults;
	var _this1 = workinman_WMCloud._values;
	var value = __map_reserved[inValueID] != null ? _this.getReserved(inValueID) : _this.h[inValueID];
	if(__map_reserved[inValueID] != null) {
		_this1.setReserved(inValueID,value);
	} else {
		_this1.h[inValueID] = value;
	}
	workinman_WMCloud._updateDisplays(inValueID);
};
workinman_WMCloud._updateDisplays = function(inValueID) {
	app_ConstantsEvent.updateDisplay.dispatch(inValueID);
};
var workinman_pooling_IStrictPoolable = function() { };
$hxClasses["workinman.pooling.IStrictPoolable"] = workinman_pooling_IStrictPoolable;
workinman_pooling_IStrictPoolable.__name__ = ["workinman","pooling","IStrictPoolable"];
workinman_pooling_IStrictPoolable.prototype = {
	__class__: workinman_pooling_IStrictPoolable
	,__properties__: {get_poolKey:"get_poolKey"}
};
var workinman_pooling_PoolStrictBase = function() { };
$hxClasses["workinman.pooling.PoolStrictBase"] = workinman_pooling_PoolStrictBase;
workinman_pooling_PoolStrictBase.__name__ = ["workinman","pooling","PoolStrictBase"];
workinman_pooling_PoolStrictBase.__interfaces__ = [workinman_pooling_IStrictPoolable];
workinman_pooling_PoolStrictBase.prototype = {
	instance: function(pKey,pReturnFunction) {
		this._returnFunction = pReturnFunction;
		this._key = pKey;
		this.poolActivate();
		this.create();
		return this;
	}
	,get_poolKey: function() {
		return this._key;
	}
	,create: function() {
	}
	,poolActivate: function() {
		this._disposed = false;
	}
	,dispose: function() {
		if(this._disposed) {
			return;
		}
		this._disposed = true;
		this._returnFunction(this);
	}
	,destroy: function() {
		this._returnFunction = null;
	}
	,__class__: workinman_pooling_PoolStrictBase
	,__properties__: {get_poolKey:"get_poolKey"}
};
var workinman_math_WMPoint = function() { };
$hxClasses["workinman.math.WMPoint"] = workinman_math_WMPoint;
workinman_math_WMPoint.__name__ = ["workinman","math","WMPoint"];
workinman_math_WMPoint.request = function(pX,pY,pZ) {
	if(pZ == null) {
		pZ = 0;
	}
	if(pY == null) {
		pY = 0;
	}
	if(pX == null) {
		pX = 0;
	}
	return workinman_WMPool.requestObject(workinman_math_WMPoint).init(pX,pY,pZ);
};
workinman_math_WMPoint.__super__ = workinman_pooling_PoolStrictBase;
workinman_math_WMPoint.prototype = $extend(workinman_pooling_PoolStrictBase.prototype,{
	init: function(pX,pY,pZ) {
		return this.to(pX,pY,pZ);
	}
	,get_angle: function() {
		return Math.atan2(this.y,this.x) * 180 / Math.PI;
	}
	,clean: function() {
		this.x = Math.round(this.x * 1000) / 1000;
		this.y = Math.round(this.y * 1000) / 1000;
		this.z = Math.round(this.z * 1000) / 1000;
		return this;
	}
	,to: function(pX,pY,pZ) {
		if(pZ == null) {
			pZ = 0;
		}
		this.x = pX;
		this.y = pY;
		this.z = pZ;
		this.calculateLength();
		return this;
	}
	,toPoint: function(pPoint) {
		this.x = pPoint.x;
		this.y = pPoint.y;
		this.z = pPoint.z;
		this.calculateLength();
		return this;
	}
	,add: function(pX,pY,pZ) {
		if(pZ == null) {
			pZ = 0;
		}
		this.x += pX;
		this.y += pY;
		this.z += pZ;
		this.calculateLength();
		return this;
	}
	,addPoint: function(pPoint) {
		this.x += pPoint.x;
		this.y += pPoint.y;
		this.z += pPoint.z;
		this.calculateLength();
		return this;
	}
	,addCopy: function(pX,pY,pZ) {
		if(pZ == null) {
			pZ = 0;
		}
		return workinman_math_WMPoint.request(this.x + pX,this.y + pY,this.z + pZ);
	}
	,addPointCopy: function(pPoint) {
		return workinman_math_WMPoint.request(this.x + pPoint.x,this.y + pPoint.y,this.z + pPoint.z);
	}
	,subtract: function(pX,pY,pZ) {
		if(pZ == null) {
			pZ = 0;
		}
		this.x -= pX;
		this.y -= pY;
		this.z -= pZ;
		this.calculateLength();
		return this;
	}
	,subtractScalar: function(pValue,pZeroStop) {
		if(pZeroStop == null) {
			pZeroStop = false;
		}
		var newLength = this._length - pValue;
		if(workinman_math_WMMath.sign(this._length) != workinman_math_WMMath.sign(newLength)) {
			newLength = 0;
		}
		this.set_length(newLength);
		return this;
	}
	,subtractPoint: function(pPoint) {
		this.x -= pPoint.x;
		this.y -= pPoint.y;
		this.z -= pPoint.z;
		this.calculateLength();
		return this;
	}
	,subtractCopy: function(pX,pY,pZ) {
		if(pZ == null) {
			pZ = 0;
		}
		return workinman_math_WMPoint.request(this.x - pX,this.y - pY,this.z - pZ);
	}
	,subtractPointCopy: function(pPoint) {
		return workinman_math_WMPoint.request(this.x - pPoint.x,this.y - pPoint.y,this.z - pPoint.z);
	}
	,multiply: function(pScalar) {
		this.x *= pScalar;
		this.y *= pScalar;
		this.z *= pScalar;
		this.clean();
		this.calculateLength();
		return this;
	}
	,multiplyCopy: function(pScalar) {
		return workinman_math_WMPoint.request(this.x * pScalar,this.y * pScalar,this.z * pScalar);
	}
	,divide: function(pScalar) {
		this.x /= pScalar;
		this.y /= pScalar;
		this.z /= pScalar;
		this.clean();
		this.calculateLength();
		return this;
	}
	,divideCopy: function(pScalar) {
		return workinman_math_WMPoint.request(this.x / pScalar,this.y / pScalar,this.z / pScalar);
	}
	,reverse: function() {
		this.x = -this.x;
		this.y = -this.y;
		this.z = -this.z;
		return this;
	}
	,copy: function() {
		return workinman_math_WMPoint.request(this.x,this.y,this.z);
	}
	,copyAndResize: function(pLen) {
		if(pLen == 0) {
			return workinman_math_WMPoint.request(0,0);
		}
		return this.multiplyCopy(pLen / this._length);
	}
	,equals: function(pPoint) {
		if(this.x == pPoint.x && this.y == pPoint.y) {
			return this.z == pPoint.z;
		} else {
			return false;
		}
	}
	,get_length: function() {
		return this._length;
	}
	,set_length: function(pLen) {
		if(this._length == 0 || pLen <= 0) {
			this.to(0,0);
			return this._length;
		}
		this.multiply(pLen / this._length);
		return this._length;
	}
	,reverseCopy: function() {
		return workinman_math_WMPoint.request(this.x * -1,this.y * -1,this.z * -1);
	}
	,normalize: function() {
		if(this._length == 0) {
			return this;
		}
		this.x /= this._length;
		this.y /= this._length;
		this.z /= this._length;
		this.calculateLength();
		return this;
	}
	,normalizeTo: function(pLen) {
		this.set_length(pLen);
		return this;
	}
	,normalizeCopy: function() {
		if(this._length == 0) {
			return workinman_math_WMPoint.request(0,0,0);
		}
		return workinman_math_WMPoint.request(this.x / this._length,this.y / this._length,this.z / this._length);
	}
	,normalizeCopyTo: function(pLen) {
		if(this._length == 0) {
			return workinman_math_WMPoint.request(0,0,0);
		}
		this._workFloat = pLen / this._length;
		return workinman_math_WMPoint.request(this.x * this._workFloat,this.y * this._workFloat,this.z * this._workFloat);
	}
	,pseudoCross: function(pResult) {
		pResult.to(this.y,-this.x,this.z);
		return this;
	}
	,calculateLength: function() {
		this._length = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
		return this;
	}
	,rotate: function(pAngle) {
		pAngle *= Math.PI / 180;
		this._workFloat = this.x * Math.cos(pAngle) - this.y * Math.sin(pAngle);
		this.y = this.y * Math.cos(pAngle) + this.x * Math.sin(pAngle);
		this.x = this._workFloat;
		return this;
	}
	,rotateTo: function(pAngle) {
		this.rotate(pAngle - this.get_angle());
		return this;
	}
	,getAngleBetween: function(pPoint) {
		if(pPoint.get_length() == 0 || this.get_length() == 0) {
			return 0;
		}
		return 180 / Math.PI * Math.acos((pPoint.x * this.x + pPoint.y * this.y) / (pPoint.get_length() * this.get_length()));
	}
	,rotateCopy: function(pAngle) {
		var tCa = Math.cos(pAngle * Math.PI / 180);
		var tSa = Math.sin(pAngle * Math.PI / 180);
		return workinman_math_WMPoint.request(this.x * tCa - this.y * tSa,this.x * tSa - this.y * tCa);
	}
	,get_normalizedMagnitude: function() {
		var tNormalizedVector = this.normalizeCopy();
		var tMag = Math.sqrt(tNormalizedVector.x * tNormalizedVector.x + tNormalizedVector.y * tNormalizedVector.y);
		tNormalizedVector.dispose();
		tNormalizedVector = null;
		return tMag;
	}
	,toString: function() {
		return "{ WMPoint : " + this.x + " , " + this.y + " , " + this.z + " , len: " + this._length + "  }";
	}
	,dot: function(pVector) {
		return this.x * pVector.x + this.y * pVector.y;
	}
	,__class__: workinman_math_WMPoint
	,__properties__: $extend(workinman_pooling_PoolStrictBase.prototype.__properties__,{get_normalizedMagnitude:"get_normalizedMagnitude",set_length:"set_length",get_length:"get_length",get_angle:"get_angle"})
});
var workinman_WMPool = function() { };
$hxClasses["workinman.WMPool"] = workinman_WMPool;
workinman_WMPool.__name__ = ["workinman","WMPool"];
workinman_WMPool._initPool = function(pId,pClass,pLog,pCap) {
	if(pCap == null) {
		pCap = -1;
	}
	var _this = workinman_WMPool._pools;
	if((__map_reserved[pId] != null ? _this.existsReserved(pId) : _this.h.hasOwnProperty(pId)) == true) {
		return;
	}
	if(pLog == null) {
		pLog = workinman_pooling_LOG_$LEVEL.NONE;
	}
	var this1 = workinman_WMPool._pools;
	var value = new workinman_pooling_PoolTracker(pClass,pLog,pCap);
	var _this1 = this1;
	if(__map_reserved[pId] != null) {
		_this1.setReserved(pId,value);
	} else {
		_this1.h[pId] = value;
	}
};
workinman_WMPool.requestObject = function(pId,pLog,pCap) {
	if(pCap == null) {
		pCap = -1;
	}
	var pKey = Type.getClassName(pId);
	var tCurrentClass = pId;
	workinman_WMPool._testPool(pKey,tCurrentClass,pLog,pCap);
	var _this = workinman_WMPool._pools;
	var tCurrentPool = __map_reserved[pKey] != null ? _this.getReserved(pKey) : _this.h[pKey];
	workinman_WMPool._logCreate(pKey,tCurrentPool);
	var tPooledObject;
	if(tCurrentPool.get_numPooled() > 0) {
		tPooledObject = tCurrentPool.givePool();
		tPooledObject.poolActivate();
	} else {
		tCurrentPool.incrementCreated();
		if(tCurrentPool.get_cap() > 0 && tCurrentPool.get_created() > tCurrentPool.get_cap()) {
			throw new js__$Boot_HaxeError("Too many instances of " + Std.string(pId) + " allocated - currently at " + tCurrentPool.get_created());
		}
		tPooledObject = Type.createEmptyInstance(tCurrentClass).instance(pKey,workinman_WMPool._returnObject);
	}
	tCurrentClass = null;
	tCurrentPool = null;
	return tPooledObject;
};
workinman_WMPool._logCreate = function(pId,pPool) {
	var tString;
	var _g = pPool.get_log();
	switch(_g[1]) {
	case 0:
		return;
	case 1:
		break;
	case 2:
		var tmp = pPool.get_numPooled() < 1;
		break;
	case 3:
		break;
	}
};
workinman_WMPool._returnObject = function(pObject) {
	var this1 = workinman_WMPool._pools;
	var key = pObject.get_poolKey();
	var _this = this1;
	if((__map_reserved[key] != null ? _this.existsReserved(key) : _this.h.hasOwnProperty(key)) == false) {
		return;
	}
	var this2 = workinman_WMPool._pools;
	var key1 = pObject.get_poolKey();
	var _this1 = this2;
	var tPool = __map_reserved[key1] != null ? _this1.getReserved(key1) : _this1.h[key1];
	tPool.poolObject(pObject);
	workinman_WMPool._logReturn(pObject.get_poolKey(),tPool);
	tPool = null;
};
workinman_WMPool._logReturn = function(pId,pPool) {
	var _g = pPool.get_log();
	switch(_g[1]) {
	case 0:case 2:
		return;
	case 3:
		break;
	default:
	}
};
workinman_WMPool._testPool = function(pId,pClass,pLog,pCap) {
	if(pCap == null) {
		pCap = -1;
	}
	var _this = workinman_WMPool._pools;
	if((__map_reserved[pId] != null ? _this.existsReserved(pId) : _this.h.hasOwnProperty(pId)) == false) {
		workinman_WMPool._initPool(pId,pClass,pLog,pCap);
	}
};
var workinman_pooling_LOG_$LEVEL = $hxClasses["workinman.pooling.LOG_LEVEL"] = { __ename__ : true, __constructs__ : ["NONE","NO_STACK","NEW_STACK","ALL_STACK"] };
workinman_pooling_LOG_$LEVEL.NONE = ["NONE",0];
workinman_pooling_LOG_$LEVEL.NONE.toString = $estr;
workinman_pooling_LOG_$LEVEL.NONE.__enum__ = workinman_pooling_LOG_$LEVEL;
workinman_pooling_LOG_$LEVEL.NO_STACK = ["NO_STACK",1];
workinman_pooling_LOG_$LEVEL.NO_STACK.toString = $estr;
workinman_pooling_LOG_$LEVEL.NO_STACK.__enum__ = workinman_pooling_LOG_$LEVEL;
workinman_pooling_LOG_$LEVEL.NEW_STACK = ["NEW_STACK",2];
workinman_pooling_LOG_$LEVEL.NEW_STACK.toString = $estr;
workinman_pooling_LOG_$LEVEL.NEW_STACK.__enum__ = workinman_pooling_LOG_$LEVEL;
workinman_pooling_LOG_$LEVEL.ALL_STACK = ["ALL_STACK",3];
workinman_pooling_LOG_$LEVEL.ALL_STACK.toString = $estr;
workinman_pooling_LOG_$LEVEL.ALL_STACK.__enum__ = workinman_pooling_LOG_$LEVEL;
var workinman_pooling_PoolTracker = function(pClass,pLog,pCap) {
	this._pool = [];
	this._class = pClass;
	this._log = pLog;
	this._max = 0;
	this._created = 0;
	this._cap = pCap;
	this._loose = 0;
};
$hxClasses["workinman.pooling.PoolTracker"] = workinman_pooling_PoolTracker;
workinman_pooling_PoolTracker.__name__ = ["workinman","pooling","PoolTracker"];
workinman_pooling_PoolTracker.prototype = {
	get_log: function() {
		return this._log;
	}
	,get_numPooled: function() {
		return this._pool.length;
	}
	,get_created: function() {
		return this._created;
	}
	,get_cap: function() {
		return this._cap;
	}
	,incrementCreated: function() {
		this._created++;
	}
	,poolObject: function(pObject) {
		this._pool.push(pObject);
		var a = this._max;
		var b = this._pool.length;
		this._max = a > b ? a : b;
	}
	,givePool: function() {
		return this._pool.pop();
	}
	,__class__: workinman_pooling_PoolTracker
	,__properties__: {get_cap:"get_cap",get_created:"get_created",get_numPooled:"get_numPooled",get_log:"get_log"}
};
var workinman_input_Pointer = function(pId) {
	this.lastPos = workinman_math_WMPoint.request();
	this.line = workinman_math_WMLine.request();
	this.swipe = workinman_input_INPUT_$SWIPE.NONE;
	this.down = false;
	this.fresh = true;
	this.id = pId;
	this.consumed = false;
	this.disposed = false;
};
$hxClasses["workinman.input.Pointer"] = workinman_input_Pointer;
workinman_input_Pointer.__name__ = ["workinman","input","Pointer"];
workinman_input_Pointer.prototype = {
	dispose: function() {
		this.disposed = true;
		this.lastPos.dispose();
		this.lastPos = null;
		this.line.dispose();
		this.line = null;
		this.swipe = null;
	}
	,get_currentPos: function() {
		return this.line.get_p1();
	}
	,begin: function(pX,pY) {
		this.line.toFloats(pX,pY,pX,pY);
		this.lastPos.to(pX,pY);
		this.phase = workinman_input_PHASE.DOWN;
		this.down = true;
		this.fresh = true;
		this.consumed = false;
		this.swipe = workinman_input_INPUT_$SWIPE.NONE;
	}
	,move: function(pX,pY) {
		this._updateInfo(pX,pY);
		if(this.phase != workinman_input_PHASE.UP && !this.fresh) {
			this.fresh = true;
			this.phase = workinman_input_PHASE.MOVED;
		}
	}
	,stop: function() {
		this.phase = workinman_input_PHASE.STOPPED;
	}
	,end: function(pX,pY) {
		this._updateInfo(pX,pY);
		this.fresh = true;
		this.phase = workinman_input_PHASE.UP;
		this.down = false;
	}
	,_updateInfo: function(pX,pY) {
		this.lastPos.toPoint(this.line.get_p1());
		this.line.endTo(pX,pY,0);
		var tDifX = this.line.get_p0().x - this.line.get_p1().x;
		var tDifY = this.line.get_p0().y - this.line.get_p1().y;
		if(Math.abs(tDifX) >= 30 && Math.abs(tDifY) < 30) {
			if(tDifX > 0) {
				this.swipe = workinman_input_INPUT_$SWIPE.LEFT;
			} else {
				this.swipe = workinman_input_INPUT_$SWIPE.RIGHT;
			}
		} else if(Math.abs(tDifY) >= 30 && Math.abs(tDifX) < 30) {
			if(tDifY > 0) {
				this.swipe = workinman_input_INPUT_$SWIPE.UP;
			} else {
				this.swipe = workinman_input_INPUT_$SWIPE.DOWN;
			}
		} else {
			this.swipe = workinman_input_INPUT_$SWIPE.NONE;
		}
	}
	,__class__: workinman_input_Pointer
	,__properties__: {get_currentPos:"get_currentPos"}
};
var workinman_math_WMLine = function() { };
$hxClasses["workinman.math.WMLine"] = workinman_math_WMLine;
workinman_math_WMLine.__name__ = ["workinman","math","WMLine"];
workinman_math_WMLine.__interfaces__ = [workinman_pooling_IStrictPoolable];
workinman_math_WMLine.request = function(pX0,pY0,pX1,pY1) {
	if(pY1 == null) {
		pY1 = 0;
	}
	if(pX1 == null) {
		pX1 = 0;
	}
	if(pY0 == null) {
		pY0 = 0;
	}
	if(pX0 == null) {
		pX0 = 0;
	}
	return workinman_WMPool.requestObject(workinman_math_WMLine).init(pX0,pY0,pX1,pY1);
};
workinman_math_WMLine.__super__ = workinman_pooling_PoolStrictBase;
workinman_math_WMLine.prototype = $extend(workinman_pooling_PoolStrictBase.prototype,{
	init: function(pX0,pY0,pX1,pY1) {
		this._p0 = workinman_math_WMPoint.request();
		this._p1 = workinman_math_WMPoint.request();
		this._normal = workinman_math_WMPoint.request();
		this._vector = workinman_math_WMPoint.request();
		this._parametricDenom = workinman_math_WMPoint.request();
		this.toFloats(pX0,pY0,pX1,pY1);
		this._calcProperties();
		return this;
	}
	,dispose: function() {
		this._p0.dispose();
		this._p0 = null;
		this._p1.dispose();
		this._p1 = null;
		this._normal.dispose();
		this._normal = null;
		this._vector.dispose();
		this._vector = null;
		this._parametricDenom.dispose();
		this._parametricDenom = null;
		workinman_pooling_PoolStrictBase.prototype.dispose.call(this);
	}
	,get_p0: function() {
		return this._p0;
	}
	,get_p1: function() {
		return this._p1;
	}
	,get_slope: function() {
		return this._slope;
	}
	,get_yIntercept: function() {
		return this._yIntercept;
	}
	,get_normal: function() {
		return this._normal;
	}
	,get_vector: function() {
		return this._vector;
	}
	,get_center: function() {
		return workinman_math_WMPoint.request(this._p0.x + this._vector.x / 2,this._p0.y + this._vector.y / 2);
	}
	,get_centerX: function() {
		return this._p0.x + this._vector.x / 2;
	}
	,get_centerY: function() {
		return this._p0.y + this._vector.y / 2;
	}
	,get_parametricDenom: function() {
		return this._parametricDenom;
	}
	,get_length: function() {
		return this._length;
	}
	,set_length: function(pLen) {
		if(this.get_length() == 0) {
			return this._length;
		}
		this._p1.to(this._p0.x + this._vector.x * (pLen / this.get_length()),this._p0.y + this._vector.y * (pLen / this.get_length()));
		this._calcProperties();
		return this._length;
	}
	,recalculate: function() {
		this._calcProperties();
	}
	,getNewPoint: function(t,pOutPoint) {
		if(pOutPoint == null) {
			pOutPoint = workinman_math_WMPoint.request();
		}
		pOutPoint.to(this.get_p0().x + this._vector.x * t,this.get_p0().y + this._vector.y * t);
		return pOutPoint;
	}
	,equals: function(pLine) {
		if(pLine.get_p0().equals(this.get_p0())) {
			return pLine.get_p1().equals(this.get_p1());
		} else {
			return false;
		}
	}
	,flip: function() {
		var tP0 = this._p0.copy();
		this._p0.toPoint(this._p1);
		this._p1.toPoint(tP0);
		tP0.dispose();
		tP0 = null;
		this._calcProperties();
	}
	,clean: function() {
		this._p0.clean();
		this._p1.clean();
		this._calcProperties();
	}
	,copy: function() {
		return workinman_math_WMLine.request().to(this._p0,this._p1);
	}
	,to: function(tp0,tp1) {
		this._p0.toPoint(tp0);
		this._p1.toPoint(tp1);
		this._calcProperties();
		return this;
	}
	,toLine: function(pLine) {
		this._p0.toPoint(pLine.get_p0());
		this._p1.toPoint(pLine.get_p1());
		this._calcProperties();
		return this;
	}
	,toFloats: function(p0x,p0y,p1x,p1y) {
		this._p0.to(p0x,p0y);
		this._p1.to(p1x,p1y);
		this._calcProperties();
		return this;
	}
	,originTo: function(pX,pY,pZ) {
		if(pZ == null) {
			pZ = 0;
		}
		this._p0.to(pX,pY,pZ);
		this._calcProperties();
		return this;
	}
	,originToPoint: function(pPoint) {
		this._p0.toPoint(pPoint);
		this._calcProperties();
	}
	,endTo: function(pX,pY,pZ) {
		if(pZ == null) {
			pZ = 0;
		}
		this._p1.to(pX,pY,pZ);
		this._calcProperties();
	}
	,endToPoint: function(pPoint) {
		this._p1.toPoint(pPoint);
		this._calcProperties();
	}
	,rotate: function(pAngle) {
		this._vector.rotateTo(pAngle);
		this._p1.to(this._p0.x + this._vector.x,this._p0.y + this._vector.y);
		this._calcProperties();
		this._calcProperties();
	}
	,rotateTo: function(pAngle) {
		this._vector.rotateTo(pAngle);
		this._p1.to(this._p0.x + this._vector.x,this._p0.y + this._vector.y);
		this._calcProperties();
	}
	,shiftOrigin: function(pDist) {
		var tShiftVector = this._vector.reverseCopy();
		tShiftVector.set_length(pDist);
		this._p0.addPoint(tShiftVector);
		tShiftVector.dispose();
		tShiftVector = null;
		this._calcProperties();
	}
	,shiftEnd: function(pDist) {
		var _g = this;
		_g.set_length(_g.get_length() + pDist);
	}
	,_calcProperties: function() {
		this._length = Math.round(Math.sqrt((this._p0.x - this._p1.x) * (this._p0.x - this._p1.x) + (this._p0.y - this._p1.y) * (this._p0.y - this._p1.y)) * 1000) / 1000;
		this._vector.to(this.get_p1().x - this.get_p0().x,this.get_p1().y - this.get_p0().y);
		this._slope = this._vector.y / this._vector.x;
		if(this.get_vector().x == 0) {
			this._slope = 100000;
		}
		this._yIntercept = this.get_p0().y - this._slope * this.get_p0().x;
		this._parametricDenom.to(this.get_p1().x - this.get_p0().x,this.get_p1().y - this.get_p0().y);
		this._vector.pseudoCross(this._normal);
		this._normal.normalize();
	}
	,testLineDot: function(pLine) {
		return this._vector.dot(pLine.get_normal());
	}
	,projectOntoLine: function(pLine) {
		var tDist = pLine.get_vector().dot(this.get_vector().normalizeCopy());
		return workinman_math_WMLine.request().to(pLine.get_p0(),pLine.get_p1().addPointCopy(this._normal.copyAndResize(Math.sqrt(pLine.get_length() * pLine.get_length() - tDist * tDist))));
	}
	,testLineIntercept: function(pLine,pResult) {
		if(pResult == null) {
			pResult = new workinman_math_InterceptResult(false);
		}
		this._inverseDeterminate = 1 / (this._slope * -1 - pLine.get_slope() * -1);
		pResult.set_success(true);
		var tRes = workinman_math_WMPoint.request((-1 * pLine.get_yIntercept() - -1 * this._yIntercept) * this._inverseDeterminate,(pLine.get_slope() * this._yIntercept - this.get_slope() * pLine.get_yIntercept()) * this._inverseDeterminate,0);
		pResult.set_result(tRes);
		tRes.dispose();
		tRes = null;
		return pResult;
	}
	,testLineSegmentIntercept: function(pLine,pDebug,pResult) {
		if(pDebug == null) {
			pDebug = false;
		}
		var tDiv = -pLine.get_vector().x * this._vector.y + this._vector.x * pLine.get_vector().y;
		var tDx = this.get_p0().x - pLine.get_p0().x;
		var tDy = this.get_p0().y - pLine.get_p0().y;
		var tS = (-this._vector.y * tDx + this._vector.x * tDy) / tDiv;
		var tT = (pLine.get_vector().x * tDy - pLine.get_vector().y * tDx) / tDiv;
		if(pResult == null) {
			pResult = new workinman_math_InterceptResult(false);
		}
		pResult.set_success(false);
		if(tS >= 0 && tS <= 1 && tT >= 0 && tT <= 1) {
			pResult.set_success(true);
			var tRes = workinman_math_WMPoint.request(this.get_p0().x + tT * this._vector.x,this.get_p0().y + tT * this._vector.y);
			pResult.set_result(tRes);
			tRes.dispose();
			tRes = null;
		}
		return pResult;
	}
	,testPointSegmentIntercept: function(pPoint,pDebug) {
		if(pDebug == null) {
			pDebug = false;
		}
		if(this._parametricDenom.x == 0) {
			this._xSegmentResult = 0;
		} else {
			this._xSegmentResult = (pPoint.x - this.get_p0().x) / this._parametricDenom.x;
		}
		if(this._parametricDenom.y == 0) {
			this._ySegmentResult = 0;
		} else {
			this._ySegmentResult = (pPoint.y - this.get_p0().y) / this._parametricDenom.y;
		}
		var pDebug1 = pDebug;
		if(this._xSegmentResult >= 0 && this._xSegmentResult <= 1 && this._ySegmentResult >= 0 && this._ySegmentResult <= 1) {
			return true;
		}
		return false;
	}
	,toString: function() {
		return "[WMLine] " + "(" + this._p0.x + ", " + this._p0.y + ", " + this._p0.z + ") ~> (" + this._p1.x + ", " + this._p1.y + ", " + this._p1.z + ") / Len: " + this._length;
	}
	,__class__: workinman_math_WMLine
	,__properties__: $extend(workinman_pooling_PoolStrictBase.prototype.__properties__,{set_length:"set_length",get_length:"get_length",get_parametricDenom:"get_parametricDenom",get_centerY:"get_centerY",get_centerX:"get_centerX",get_center:"get_center",get_vector:"get_vector",get_normal:"get_normal",get_yIntercept:"get_yIntercept",get_slope:"get_slope",get_p1:"get_p1",get_p0:"get_p0"})
});
var workinman_input_INPUT_$SWIPE = $hxClasses["workinman.input.INPUT_SWIPE"] = { __ename__ : true, __constructs__ : ["NONE","LEFT","RIGHT","UP","DOWN"] };
workinman_input_INPUT_$SWIPE.NONE = ["NONE",0];
workinman_input_INPUT_$SWIPE.NONE.toString = $estr;
workinman_input_INPUT_$SWIPE.NONE.__enum__ = workinman_input_INPUT_$SWIPE;
workinman_input_INPUT_$SWIPE.LEFT = ["LEFT",1];
workinman_input_INPUT_$SWIPE.LEFT.toString = $estr;
workinman_input_INPUT_$SWIPE.LEFT.__enum__ = workinman_input_INPUT_$SWIPE;
workinman_input_INPUT_$SWIPE.RIGHT = ["RIGHT",2];
workinman_input_INPUT_$SWIPE.RIGHT.toString = $estr;
workinman_input_INPUT_$SWIPE.RIGHT.__enum__ = workinman_input_INPUT_$SWIPE;
workinman_input_INPUT_$SWIPE.UP = ["UP",3];
workinman_input_INPUT_$SWIPE.UP.toString = $estr;
workinman_input_INPUT_$SWIPE.UP.__enum__ = workinman_input_INPUT_$SWIPE;
workinman_input_INPUT_$SWIPE.DOWN = ["DOWN",4];
workinman_input_INPUT_$SWIPE.DOWN.toString = $estr;
workinman_input_INPUT_$SWIPE.DOWN.__enum__ = workinman_input_INPUT_$SWIPE;
var workinman_WMInput = function() { };
$hxClasses["workinman.WMInput"] = workinman_WMInput;
workinman_WMInput.__name__ = ["workinman","WMInput"];
workinman_WMInput.setDelegateUnlockWebAudio = function(pFunc) {
	workinman_WMInput._delegateUnlockWebAudio = pFunc;
};
workinman_WMInput._delegateDispatch = function(pType,pDown) {
	if(workinman_WMInput._delegateUnlockWebAudio != null && pDown == false) {
		workinman_WMInput._delegateUnlockWebAudio();
		workinman_WMInput._delegateUnlockWebAudio = null;
	}
	if(workinman_WMInput.enabled == false) {
		return;
	}
	workinman_WMInput.eventInput.dispatch(pType,pDown);
};
workinman_WMInput.update = function(dt) {
	if(workinman_WMInput.enabled == false) {
		return;
	}
	workinman_WMInput._findGamepad();
	if(workinman_WMInput._gamepad != null) {
		workinman_WMInput._gamepad.update();
		workinman_WMInput.leftStick.to(workinman_WMInput._gamepad.leftX,workinman_WMInput._gamepad.leftY);
		workinman_WMInput.rightStick.to(workinman_WMInput._gamepad.rightX,workinman_WMInput._gamepad.rightY);
	}
	var _g = 0;
	var _g1 = workinman_WMInput._inputTrackers;
	while(_g < _g1.length) {
		var t = _g1[_g];
		++_g;
		t.updateStatus();
	}
	workinman_WMInput.pointer.fresh = false;
	var tI = workinman_WMInput.multiTouch.length;
	var tPointer;
	while(tI-- > 0) {
		tPointer = workinman_WMInput.multiTouch[tI];
		if(tPointer.fresh == false) {
			if(tPointer.down == false) {
				tPointer.dispose();
				workinman_WMInput.multiTouch.splice(tI,1);
			} else {
				tPointer.stop();
			}
		}
		tPointer.fresh = false;
		tPointer = null;
	}
};
workinman_WMInput._findGamepad = function() {
	if(!Reflect.isFunction(($_=window.navigator,$bind($_,$_.getGamepads)))) {
		return;
	}
	var _g = 0;
	var _g1 = window.navigator.getGamepads();
	while(_g < _g1.length) {
		var g = _g1[_g];
		++_g;
		if(g != null) {
			if(g.id.indexOf("Xbox 360 Controller") > -1) {
				if(workinman_WMInput._gamepad == null) {
					workinman_WMInput._gamepad = new workinman_input_GamepadXbox360(g);
				} else {
					workinman_WMInput._gamepad.setGamepad(g);
				}
				break;
			}
		}
	}
};
workinman_WMInput.prime = function(pRootSprite) {
	workinman_WMInput._root = pRootSprite;
	flambe_System._platform.getKeyboard().down.connect(workinman_WMInput._onKeyDown);
	flambe_System._platform.getKeyboard().up.connect(workinman_WMInput._onKeyUp);
	if(flambe_System._platform.getTouch().get_supported()) {
		flambe_System._platform.getTouch().down.connect(workinman_WMInput._onTouchDown);
		flambe_System._platform.getTouch().move.connect(workinman_WMInput._onTouchMove);
		flambe_System._platform.getTouch().up.connect(workinman_WMInput._onTouchUp);
	}
	flambe_System._platform.getPointer().down.connect(workinman_WMInput._onPointerDown);
	flambe_System._platform.getPointer().move.connect(workinman_WMInput._onPointerMove);
	flambe_System._platform.getPointer().up.connect(workinman_WMInput._onPointerUp);
	flambe_System._platform.getMouse().scroll.connect(workinman_WMInput._onScrollWheel);
};
workinman_WMInput.hitTest = function(pRawX,pRawY) {
	return workinman_WMInput._root.hitTest(pRawX,pRawY);
};
workinman_WMInput._onScrollWheel = function(pEvent) {
	workinman_WMInput.eventMouseWheel.dispatch(pEvent);
};
workinman_WMInput.registerInput = function(pId,pKeys,pVirtual,pController) {
	var tTracker = workinman_WMInput._createOrGetInputTracker(pId);
	tTracker.setKeys(pKeys,pVirtual,pController);
	tTracker = null;
};
workinman_WMInput._createOrGetInputTracker = function(pId) {
	var _g = 0;
	var _g1 = workinman_WMInput._inputTrackers;
	while(_g < _g1.length) {
		var p = _g1[_g];
		++_g;
		if(p.type == pId) {
			return p;
		}
	}
	var tTracker = new workinman_input_InputTracker(pId,workinman_WMInput._fireKeyEvent,workinman_WMInput._isVirtualDown,workinman_WMInput._isControllerDown);
	workinman_WMInput._inputTrackers.push(tTracker);
	return tTracker;
};
workinman_WMInput._fireKeyEvent = function(pType,pDown) {
	workinman_WMInput._delegateDispatch(pType,pDown);
};
workinman_WMInput._onKeyDown = function(pEvent) {
	workinman_WMInput.eventKey.dispatch(pEvent.key,true);
};
workinman_WMInput._onKeyUp = function(pEvent) {
	workinman_WMInput.eventKey.dispatch(pEvent.key,false);
};
workinman_WMInput._isVirtualDown = function(pId) {
	var _g = 0;
	var _g1 = workinman_WMInput._virtualDown;
	while(_g < _g1.length) {
		var v = _g1[_g];
		++_g;
		if(v == pId) {
			return true;
		}
	}
	return false;
};
workinman_WMInput.onControllerDown = function(pId) {
	var _g = 0;
	var _g1 = workinman_WMInput._controllerDown;
	while(_g < _g1.length) {
		var c = _g1[_g];
		++_g;
		if(c == pId) {
			return;
		}
	}
	workinman_WMInput._controllerDown.push(pId);
};
workinman_WMInput.onControllerUp = function(pId) {
	var tI = workinman_WMInput._controllerDown.length;
	while(tI-- > 0) if(workinman_WMInput._controllerDown[tI] == pId) {
		workinman_WMInput._controllerDown.splice(tI,1);
		return;
	}
};
workinman_WMInput._isControllerDown = function(pId) {
	var _g = 0;
	var _g1 = workinman_WMInput._controllerDown;
	while(_g < _g1.length) {
		var c = _g1[_g];
		++_g;
		if(c == pId) {
			return true;
		}
	}
	return false;
};
workinman_WMInput._onTouchDown = function(pEvent) {
	workinman_WMInput._doTouchDown(pEvent.id,pEvent.viewX,pEvent.viewY);
};
workinman_WMInput._onTouchMove = function(pEvent) {
	workinman_WMInput._doTouchMove(pEvent.id,pEvent.viewX,pEvent.viewY);
};
workinman_WMInput._onTouchUp = function(pEvent) {
	workinman_WMInput._doTouchUp(pEvent.id,pEvent.viewX,pEvent.viewY);
};
workinman_WMInput._doTouchDown = function(pIndex,pX,pY) {
	var tPointer = workinman_WMInput._findTouch(pIndex);
	if(tPointer == null) {
		tPointer = new workinman_input_Pointer(pIndex);
		workinman_WMInput.multiTouch.push(tPointer);
	}
	tPointer.begin(pX,pY);
	tPointer = null;
};
workinman_WMInput._doTouchMove = function(pIndex,pX,pY) {
	var tPointer = workinman_WMInput._findTouch(pIndex);
	if(tPointer == null) {
		return;
	}
	tPointer.move(pX,pY);
	tPointer = null;
};
workinman_WMInput._doTouchUp = function(pIndex,pX,pY) {
	var tPointer = workinman_WMInput._findTouch(pIndex);
	if(tPointer == null) {
		return;
	}
	tPointer.end(pX,pY);
	tPointer = null;
};
workinman_WMInput._findTouch = function(pId) {
	var _g = 0;
	var _g1 = workinman_WMInput.multiTouch;
	while(_g < _g1.length) {
		var p = _g1[_g];
		++_g;
		if(p.id == pId) {
			return p;
		}
	}
	return null;
};
workinman_WMInput._onPointerDown = function(pEvent) {
	workinman_WMInput.pointer.begin(pEvent.viewX,pEvent.viewY);
	if(flambe_System._platform.getTouch().get_supported() == false) {
		workinman_WMInput._doTouchDown(0,pEvent.viewX,pEvent.viewY);
	}
	workinman_WMInput._delegateDispatch(app_INPUT_$TYPE.POINTER,true);
};
workinman_WMInput._onPointerMove = function(pEvent) {
	workinman_WMInput.pointer.move(pEvent.viewX,pEvent.viewY);
	if(flambe_System._platform.getTouch().get_supported() == false) {
		workinman_WMInput._doTouchMove(0,pEvent.viewX,pEvent.viewY);
	}
	workinman_WMInput._delegateDispatch(app_INPUT_$TYPE.POINTER_MOVE,true);
};
workinman_WMInput._onPointerUp = function(pEvent) {
	workinman_WMInput.pointer.end(pEvent.viewX,pEvent.viewY);
	if(flambe_System._platform.getTouch().get_supported() == false) {
		workinman_WMInput._doTouchUp(0,pEvent.viewX,pEvent.viewY);
	}
	workinman_WMInput._delegateDispatch(app_INPUT_$TYPE.POINTER,false);
};
var workinman_LOCALIZATION_$FORMAT = $hxClasses["workinman.LOCALIZATION_FORMAT"] = { __ename__ : true, __constructs__ : ["TRADITIONAL_XML","STRINGS_JS","STRINGS_JSON"] };
workinman_LOCALIZATION_$FORMAT.TRADITIONAL_XML = ["TRADITIONAL_XML",0];
workinman_LOCALIZATION_$FORMAT.TRADITIONAL_XML.toString = $estr;
workinman_LOCALIZATION_$FORMAT.TRADITIONAL_XML.__enum__ = workinman_LOCALIZATION_$FORMAT;
workinman_LOCALIZATION_$FORMAT.STRINGS_JS = ["STRINGS_JS",1];
workinman_LOCALIZATION_$FORMAT.STRINGS_JS.toString = $estr;
workinman_LOCALIZATION_$FORMAT.STRINGS_JS.__enum__ = workinman_LOCALIZATION_$FORMAT;
workinman_LOCALIZATION_$FORMAT.STRINGS_JSON = ["STRINGS_JSON",2];
workinman_LOCALIZATION_$FORMAT.STRINGS_JSON.toString = $estr;
workinman_LOCALIZATION_$FORMAT.STRINGS_JSON.__enum__ = workinman_LOCALIZATION_$FORMAT;
var workinman_localization_LocalizationData = function(inId,inString,inFont,inScale,inOffsetX,inOffsetY,pSubtitleTime) {
	this.id = inId;
	this.string = this._sanitizeString(inString);
	this.fontName = inFont;
	this.scale = inScale;
	this.offsetX = inOffsetX;
	this.offsetY = inOffsetY;
	this.subtitleTime = pSubtitleTime;
};
$hxClasses["workinman.localization.LocalizationData"] = workinman_localization_LocalizationData;
workinman_localization_LocalizationData.__name__ = ["workinman","localization","LocalizationData"];
workinman_localization_LocalizationData.prototype = {
	dispose: function() {
		this.id = null;
		this.string = null;
		this.fontName = null;
	}
	,_sanitizeString: function(pString) {
		pString = StringTools.replace(pString,"<br>","\n");
		pString = StringTools.replace(pString,"\\n","\n");
		return pString;
	}
	,__class__: workinman_localization_LocalizationData
};
var workinman_WMLocalize = function() { };
$hxClasses["workinman.WMLocalize"] = workinman_WMLocalize;
workinman_WMLocalize.__name__ = ["workinman","WMLocalize"];
workinman_WMLocalize.parseLocalization = function(pPath) {
	if(pPath == null) {
		pPath = "";
	}
	if(pPath == null || pPath == "") {
		pPath = "translation.xml";
	}
	var tFast = workinman_WMAssets.getXML(pPath);
	var tFormat = workinman_LOCALIZATION_$FORMAT.TRADITIONAL_XML;
	if(tFast.has.resolve("format")) {
		tFormat = Type.createEnum(workinman_LOCALIZATION_$FORMAT,tFast.att.resolve("format"));
	}
	workinman_WMLocalize.defaultFont = tFast.att.resolve("defaultFont");
	workinman_WMLocalize.rtl = false;
	if(tFast.has.resolve("rtl")) {
		workinman_WMLocalize.rtl = tFast.att.resolve("rtl") == "true";
	}
	workinman_WMLocalize.subtitlesEnabled = false;
	if(tFast.has.resolve("sub")) {
		workinman_WMLocalize.subtitlesEnabled = tFast.att.resolve("sub") == "true";
	}
	switch(tFormat[1]) {
	case 0:
		var tId = "";
		var _g_head = tFast.nodes.resolve("string").h;
		while(_g_head != null) {
			var val = _g_head.item;
			_g_head = _g_head.next;
			var stringNode = val;
			tId = stringNode.att.resolve("id");
			if(workinman_WMLocalize._localizedData.exists(tId)) {
				continue;
			}
			workinman_WMLocalize._addLocalizationData(tId,stringNode.get_innerData(),stringNode.has.resolve("fontName") ? stringNode.att.resolve("fontName") : workinman_WMLocalize.defaultFont,stringNode.has.resolve("fontScale") ? stringNode.att.resolve("fontScale") : "1",stringNode.has.resolve("offsetX") ? stringNode.att.resolve("offsetX") : "0",stringNode.has.resolve("offsetY") ? stringNode.att.resolve("offsetY") : "0",stringNode.has.resolve("subTime") ? stringNode.att.resolve("subTime") : "-1");
		}
		tId = null;
		break;
	case 1:
		break;
	case 2:
		var tId1 = "";
		var _g_head1 = tFast.nodes.resolve("json").h;
		while(_g_head1 != null) {
			var val1 = _g_head1.item;
			_g_head1 = _g_head1.next;
			var json = val1;
			var tJson = JSON.parse(workinman_WMAssets.getFile(json.get_innerData()).toString());
			var _g = 0;
			var _g1 = Reflect.fields(tJson.strings);
			while(_g < _g1.length) {
				var s = _g1[_g];
				++_g;
				var tVal = Reflect.field(tJson.strings,s);
				if(tVal.value != null) {
					workinman_WMLocalize._addLocalizationData(s,tVal.value,tVal.fontName == null ? "" : tVal.fontName,tVal.fontScale == null ? "1" : tVal.fontScale,tVal.offsetX == null ? "0" : tVal.offsetX,tVal.offsetY == null ? "0" : tVal.offsetY,tVal.subTime == null ? "-1" : tVal.subTime);
				} else {
					workinman_WMLocalize._addLocalizationData(s,tVal,"","1","0","0","-1");
				}
			}
			tJson = null;
		}
		break;
	}
	tFast = null;
};
workinman_WMLocalize._addLocalizationData = function(pId,pValue,pFontName,pFontScale,pOffsetX,pOffsetY,pSubtitleTime) {
	var _this = workinman_WMLocalize._localizedData;
	if(__map_reserved[pId] != null ? _this.existsReserved(pId) : _this.h.hasOwnProperty(pId)) {
		var _this1 = workinman_WMLocalize._localizedData;
		(__map_reserved[pId] != null ? _this1.getReserved(pId) : _this1.h[pId]).dispose();
	}
	var this1 = workinman_WMLocalize._localizedData;
	var v = new workinman_localization_LocalizationData(pId,pValue,pFontName,parseFloat(pFontScale),parseFloat(pOffsetX),parseFloat(pOffsetY),parseFloat(pSubtitleTime));
	var _this2 = this1;
	if(__map_reserved[pId] != null) {
		_this2.setReserved(pId,v);
	} else {
		_this2.h[pId] = v;
	}
};
workinman_WMLocalize.getLocalizeData = function(pId) {
	var _this = workinman_WMLocalize._localizedData;
	if((__map_reserved[pId] != null ? _this.existsReserved(pId) : _this.h.hasOwnProperty(pId)) == false) {
		return null;
	}
	var _this1 = workinman_WMLocalize._localizedData;
	if(__map_reserved[pId] != null) {
		return _this1.getReserved(pId);
	} else {
		return _this1.h[pId];
	}
};
var workinman_WMRandom = function() { };
$hxClasses["workinman.WMRandom"] = workinman_WMRandom;
workinman_WMRandom.__name__ = ["workinman","WMRandom"];
workinman_WMRandom.random = function(pSession) {
	if(pSession == null) {
		pSession = "";
	}
	if(pSession == null || pSession == "") {
		return Math.random();
	} else {
		var _this = workinman_WMRandom._seeds;
		if((__map_reserved[pSession] != null ? _this.getReserved(pSession) : _this.h[pSession]) == null) {
			return Math.random();
		}
	}
	var _this1 = workinman_WMRandom._seeds;
	return (__map_reserved[pSession] != null ? _this1.getReserved(pSession) : _this1.h[pSession]).random();
};
workinman_WMRandom.randomFloat = function(pMin,pMax,pSession) {
	if(pSession == null) {
		pSession = "";
	}
	return pMin + workinman_WMRandom.random(pSession) * (pMax - pMin);
};
workinman_WMRandom.randomInt = function(pMin,pMax,pSession) {
	if(pSession == null) {
		pSession = "";
	}
	return Math.floor(workinman_WMRandom.randomFloat(pMin,pMax + 1,pSession));
};
var workinman_WMSaving = function() { };
$hxClasses["workinman.WMSaving"] = workinman_WMSaving;
workinman_WMSaving.__name__ = ["workinman","WMSaving"];
workinman_WMSaving.dataLoad = function(pId) {
	var tShared = workinman_WMSaving._getLocal(pId);
	var tData = tShared.data;
	tShared.dispose();
	tShared = null;
	return tData;
};
workinman_WMSaving._getLocal = function(pId) {
	var tSO = new workinman_saving_WMSharedObject(pId);
	try {
		var tRawData = window.localStorage.getItem(pId);
		if(tRawData != null && tRawData != "") {
			tSO.data = haxe_Unserializer.run(tRawData);
		}
		tRawData = null;
	} catch( err ) {
	}
	return tSO;
};
var workinman_sound_VO_$STATUS = $hxClasses["workinman.sound.VO_STATUS"] = { __ename__ : true, __constructs__ : ["STOPPED","PLAYING","PAUSED"] };
workinman_sound_VO_$STATUS.STOPPED = ["STOPPED",0];
workinman_sound_VO_$STATUS.STOPPED.toString = $estr;
workinman_sound_VO_$STATUS.STOPPED.__enum__ = workinman_sound_VO_$STATUS;
workinman_sound_VO_$STATUS.PLAYING = ["PLAYING",1];
workinman_sound_VO_$STATUS.PLAYING.toString = $estr;
workinman_sound_VO_$STATUS.PLAYING.__enum__ = workinman_sound_VO_$STATUS;
workinman_sound_VO_$STATUS.PAUSED = ["PAUSED",2];
workinman_sound_VO_$STATUS.PAUSED.toString = $estr;
workinman_sound_VO_$STATUS.PAUSED.__enum__ = workinman_sound_VO_$STATUS;
var workinman_tween_Tweener = function() {
	this._objectTrackers = [];
};
$hxClasses["workinman.tween.Tweener"] = workinman_tween_Tweener;
workinman_tween_Tweener.__name__ = ["workinman","tween","Tweener"];
workinman_tween_Tweener.prototype = {
	dispose: function() {
		var _g = 0;
		var _g1 = this._objectTrackers;
		while(_g < _g1.length) {
			var t = _g1[_g];
			++_g;
			t.dispose();
		}
		this._objectTrackers = null;
	}
	,update: function(dt) {
		var tI = this._objectTrackers.length;
		while(tI-- > 0) {
			var tTracker = this._objectTrackers[tI];
			tTracker.update(dt);
			if(tTracker.get_isComplete()) {
				tTracker.dispose();
				this._objectTrackers.splice(tI,1);
			}
		}
	}
	,tween: function(pInfo,pDest) {
		if(pInfo.overwrite == null) {
			pInfo.overwrite = false;
		}
		if(pInfo.thread == null) {
			pInfo.thread = "def";
		}
		var tStep = new workinman_tween_data_TweenStep(pInfo,pDest);
		var _g = 0;
		var _g1 = this._objectTrackers;
		while(_g < _g1.length) {
			var t = _g1[_g];
			++_g;
			if(t.target == pInfo.target) {
				if(pInfo.overwrite) {
					t.stopThread(pInfo.thread);
				}
				t.queueStep(tStep,pInfo.thread);
				return tStep;
			}
		}
		var tTracker = new workinman_tween_data_ObjectTracker(pInfo.target);
		this._objectTrackers.push(tTracker);
		tTracker.queueStep(tStep,pInfo.thread);
		return tStep;
	}
	,__class__: workinman_tween_Tweener
};
var workinman_WMSound = function() { };
$hxClasses["workinman.WMSound"] = workinman_WMSound;
workinman_WMSound.__name__ = ["workinman","WMSound"];
workinman_WMSound.__properties__ = {set_muteAll:"set_muteAll"};
workinman_WMSound.set_muteAll = function(pVal) {
	workinman_WMSound.muteAll = pVal;
	workinman_WMSound._toggleMute();
	return pVal;
};
workinman_WMSound._toggleMute = function() {
	if(workinman_WMSound._getMuteState(workinman_WMSound.muteMusic)) {
		workinman_WMSound.stopMusic();
	} else {
		workinman_WMSound.playMusic(workinman_WMSound._musicId,workinman_WMSound._musicGain);
	}
	if(workinman_WMSound._getMuteState(workinman_WMSound.muteSfx)) {
		workinman_WMSound.stopAllSound();
	}
	if(workinman_WMSound._getMuteState(workinman_WMSound.muteVo)) {
		workinman_WMSound.stopVO();
	}
};
workinman_WMSound._setVOState = function(pState) {
	if(pState == workinman_WMSound._stateVo) {
		return;
	}
	workinman_WMSound._stateVo = pState;
	var _g = workinman_WMSound._stateVo;
	switch(_g[1]) {
	case 0:
		if(workinman_WMSound._music != null && workinman_WMSound.duckMusic) {
			workinman_WMSound._tween.tween({ target : workinman_WMSound._music, duration : .15, overwrite : true, ease : workinman_tween_Ease.inOutQuad},{ volume : 0.3});
		}
		break;
	case 1:
		if(workinman_WMSound._music != null && workinman_WMSound.duckMusic) {
			workinman_WMSound._tween.tween({ target : workinman_WMSound._music, duration : .15, overwrite : true, ease : workinman_tween_Ease.inOutQuad},{ volume : 0.15});
		}
		break;
	case 2:
		break;
	}
	workinman_WMSound.eventVOStatus.dispatch(pState);
};
workinman_WMSound._getMuteState = function(pMute) {
	if(!(workinman_WMSound.muteAll || workinman_WMSound.muteSystem)) {
		return pMute;
	} else {
		return true;
	}
};
workinman_WMSound.playMusic = function(pId,pGain,pFadeOutTime) {
	if(pFadeOutTime == null) {
		pFadeOutTime = -1;
	}
	if(pGain == null) {
		pGain = 1;
	}
	if(pId == null || pId == "" || workinman_WMSound._musicId == pId && workinman_WMSound._music != null) {
		return;
	}
	workinman_WMSound._musicId = pId;
	workinman_WMSound._musicGain = pGain;
	workinman_WMSound.stopMusic(pFadeOutTime,workinman_WMSound._finishPlayingMusic);
};
workinman_WMSound._finishPlayingMusic = function() {
	workinman_WMSound._music = workinman_WMSound._playAudio(workinman_WMSound._musicId,workinman_WMSound._musicGain,null,true,workinman_WMSound.muteMusic);
};
workinman_WMSound.stopMusic = function(pFadeOutTime,pStopComplete) {
	if(pFadeOutTime == null) {
		pFadeOutTime = -1;
	}
	if(pFadeOutTime > 0 && workinman_WMSound._music != null) {
		workinman_WMSound._tween.tween({ target : workinman_WMSound._music, duration : pFadeOutTime, overwrite : true, ease : workinman_tween_Ease.linear, complete : function() {
			workinman_WMSound._disposeMusic();
			if(pStopComplete != null) {
				pStopComplete();
			}
		}},{ volume : 0});
		return;
	}
	workinman_WMSound._disposeMusic();
	if(pStopComplete != null) {
		pStopComplete();
	}
};
workinman_WMSound._disposeMusic = function() {
	if(workinman_WMSound._music == null) {
		return;
	}
	workinman_WMSound._music.dispose();
	workinman_WMSound._music = null;
};
workinman_WMSound.playSound = function(pId,pGain,pComplete,pLoop) {
	if(pLoop == null) {
		pLoop = false;
	}
	if(pGain == null) {
		pGain = 1;
	}
	var tSound = workinman_WMSound._playAudio(pId,pGain,pComplete,pLoop,workinman_WMSound.muteSfx);
	if(tSound == null) {
		return null;
	}
	workinman_WMSound._sound.push(tSound);
	return tSound;
};
workinman_WMSound.stopAllSound = function() {
	while(workinman_WMSound._sound.length > 0) workinman_WMSound._sound.pop().dispose();
};
workinman_WMSound.stopSound = function(pId) {
	var tI = workinman_WMSound._sound.length;
	while(tI-- > 0) if(workinman_WMSound._sound[tI].id == pId) {
		workinman_WMSound._sound[tI].dispose();
		workinman_WMSound._sound.splice(tI,1);
	}
};
workinman_WMSound.playVO = function(pId,pLocalization,pOverride,pCallback,pGain,pDelay) {
	if(pDelay == null) {
		pDelay = -1;
	}
	if(pGain == null) {
		pGain = 1;
	}
	if(pOverride == null) {
		pOverride = false;
	}
	if(pOverride) {
		workinman_WMSound.stopVO();
	}
	workinman_WMSound._voQueue.push(new workinman_sound_VOQueue(pId,pGain,pCallback,pDelay,pLocalization));
};
workinman_WMSound.stopVO = function() {
	while(workinman_WMSound._voQueue.length > 0) workinman_WMSound._voQueue.pop().dispose();
	if(workinman_WMSound._vo == null) {
		return;
	}
	workinman_WMSound._vo.dispose();
	workinman_WMSound._vo = null;
};
workinman_WMSound._playAudio = function(pId,pGain,pComplete,pLoop,pMuteState) {
	if(pId == null || pId == "" || workinman_WMSound._getMuteState(pMuteState)) {
		if(pComplete != null) {
			pComplete();
		}
		return null;
	}
	var tSoundAsset = workinman_WMAssets.getSound(pId);
	if(tSoundAsset == null) {
		if(pComplete != null) {
			pComplete();
		}
		return null;
	}
	if(pLoop) {
		return new workinman_sound_PlaybackDef(pId,tSoundAsset.loop(pGain),pComplete);
	}
	return new workinman_sound_PlaybackDef(pId,tSoundAsset.play(pGain),pComplete);
};
workinman_WMSound.update = function(dt) {
	workinman_WMSound._tween.update(dt);
	var tI = workinman_WMSound._sound.length;
	while(tI-- > 0) {
		var tSound = workinman_WMSound._sound[tI];
		if(tSound.isComplete || tSound.disposed) {
			tSound.dispose();
			workinman_WMSound._sound.splice(tI,1);
		}
	}
	if(workinman_WMSound._music != null && (workinman_WMSound._music.isComplete || workinman_WMSound._music.disposed)) {
		workinman_WMSound._music.dispose();
		workinman_WMSound._music = null;
	}
	var _g = workinman_WMSound._stateVo;
	switch(_g[1]) {
	case 0:case 2:
		workinman_WMSound._checkVOQueue(dt);
		break;
	case 1:
		if(workinman_WMSound._vo != null && (workinman_WMSound._vo.isComplete || workinman_WMSound._vo.disposed)) {
			workinman_WMSound._vo.dispose();
			workinman_WMSound._vo = null;
		}
		if(workinman_WMSound._vo == null) {
			workinman_WMSound._checkVOQueue(dt);
		}
		break;
	}
};
workinman_WMSound._checkVOQueue = function(dt) {
	if(workinman_WMSound._voQueue.length > 0) {
		workinman_WMSound._voQueue[0].delay -= dt;
		if(workinman_WMSound._voQueue[0].delay < 0) {
			var tVOQueue = workinman_WMSound._voQueue.shift();
			workinman_WMSound.subtitleQueue.push(tVOQueue.localization);
			if(workinman_WMSound._lastVO == null) {
				workinman_WMSound._lastVO = new workinman_sound_VOQueue(tVOQueue.id,tVOQueue.gain,tVOQueue.call,tVOQueue.delay,tVOQueue.localization);
			}
			workinman_WMSound._lastVO.copy(tVOQueue);
			workinman_WMSound._vo = workinman_WMSound._playAudio(tVOQueue.id,1,function() {
				if(workinman_WMSound._lastVO.call != null) {
					workinman_WMSound._lastVO.call();
				}
				workinman_WMSound.subtitleQueue.shift();
			},false,workinman_WMSound.muteVo);
			tVOQueue.dispose();
			workinman_WMSound._setVOState(workinman_sound_VO_$STATUS.PLAYING);
			return;
		}
		workinman_WMSound._setVOState(workinman_sound_VO_$STATUS.PAUSED);
		return;
	}
	workinman_WMSound._setVOState(workinman_sound_VO_$STATUS.STOPPED);
};
var workinman_WMTimer = function() { };
$hxClasses["workinman.WMTimer"] = workinman_WMTimer;
workinman_WMTimer.__name__ = ["workinman","WMTimer"];
workinman_WMTimer.update = function(dt) {
	if(workinman_WMTimer._paused) {
		return;
	}
	var tI = workinman_WMTimer._timers.length;
	while(tI-- > 0) {
		workinman_WMTimer._timers[tI].update(dt);
		if(workinman_WMTimer._timers[tI].get_isComplete()) {
			workinman_WMTimer._timers[tI].dispose(true);
			workinman_WMTimer._timers.splice(tI,1);
		}
	}
};
workinman_WMTimer.start = function(pCallback,pTime,pId) {
	if(pId == null) {
		pId = "";
	}
	if(pCallback == null) {
		return;
	}
	workinman_WMTimer._timers.push(new workinman_WMTimerData(pCallback,pTime,pId == "" ? "def" + workinman_WMTimer._uniqueInc++ : pId));
};
workinman_WMTimer.stop = function(pId,pDoCallback) {
	if(pDoCallback == null) {
		pDoCallback = false;
	}
	var tI = workinman_WMTimer._timers.length;
	while(tI-- > 0) if(workinman_WMTimer._timers[tI].id == pId) {
		workinman_WMTimer._timers[tI].dispose(pDoCallback);
		workinman_WMTimer._timers.splice(tI,1);
		return;
	}
};
var workinman_WMTimerData = function(pCallback,pTime,pId) {
	this.id = pId;
	this._callback = pCallback;
	this._timer = pTime;
	this.paused = false;
};
$hxClasses["workinman.WMTimerData"] = workinman_WMTimerData;
workinman_WMTimerData.__name__ = ["workinman","WMTimerData"];
workinman_WMTimerData.prototype = {
	dispose: function(pDoCallback) {
		if(pDoCallback) {
			this._fireCallback();
		}
		this.id = null;
		this._callback = null;
	}
	,get_isComplete: function() {
		return this._timer <= 0;
	}
	,update: function(dt) {
		if(this.paused) {
			return;
		}
		this._timer -= dt;
		if(this._timer < 0) {
			this._fireCallback();
		}
	}
	,_fireCallback: function() {
		if(this._callback == null) {
			return;
		}
		var tCallback = this._callback;
		this._callback = null;
		tCallback();
	}
	,__class__: workinman_WMTimerData
	,__properties__: {get_isComplete:"get_isComplete"}
};
var workinman_WMUtils = function() { };
$hxClasses["workinman.WMUtils"] = workinman_WMUtils;
workinman_WMUtils.__name__ = ["workinman","WMUtils"];
workinman_WMUtils.trimUrl = function(url) {
	if(url == "") {
		return "";
	}
	if(url.indexOf("http") < 0) {
		if(url.charAt(0) == "/") {
			url = HxOverrides.substr(url,1,url.length - 1);
		}
		return url;
	}
	var tStartIndex = url.indexOf("http://");
	if(tStartIndex < 0) {
		tStartIndex = url.indexOf("https://");
		if(tStartIndex < 0) {
			tStartIndex = 0;
		} else {
			tStartIndex += 8;
		}
	} else {
		tStartIndex += 7;
	}
	var tEndIndex = url.indexOf("/",tStartIndex);
	var result = HxOverrides.substr(url,tEndIndex,url.length - tEndIndex);
	result = workinman_WMUtils.appendAssetsToUrl(result);
	return result;
};
workinman_WMUtils.appendAssetsToUrl = function(url) {
	if(url.length == 0) {
		return url;
	}
	if(url.charAt(url.length - 1) != "/") {
		url += "/";
	}
	if(url.indexOf("/assets") < url.length - 9) {
		url += "assets/";
	}
	return url;
};
workinman_WMUtils.getExtension = function(pPath) {
	if(pPath == null) {
		return "";
	}
	var length = pPath.lastIndexOf(".");
	if(length < 0) {
		return "";
	} else {
		var query = pPath.lastIndexOf("?");
		if(query > length) {
			return pPath.substring(length + 1,query);
		}
		return pPath.substring(length + 1,pPath.length);
	}
};
workinman_WMUtils.removeExtension = function(pPath) {
	var length = pPath.lastIndexOf(".");
	if(length < 0) {
		return pPath;
	} else {
		return pPath.substring(0,length);
	}
};
workinman_WMUtils.clearTexture = function(pTexture) {
	pTexture.get_graphics().save();
	pTexture.get_graphics().setBlendMode(flambe_display_BlendMode.Mask);
	pTexture.get_graphics().setAlpha(0);
	pTexture.get_graphics().fillRect(0,0,0,pTexture.get_width(),pTexture.get_height());
	pTexture.get_graphics().restore();
};
var workinman_assets_LoadQueue = function(pComplete,pPacks,pDelay) {
	this.packs = pPacks;
	this.complete = pComplete;
	this.delay = pDelay;
};
$hxClasses["workinman.assets.LoadQueue"] = workinman_assets_LoadQueue;
workinman_assets_LoadQueue.__name__ = ["workinman","assets","LoadQueue"];
workinman_assets_LoadQueue.prototype = {
	dispose: function() {
		this.packs = null;
		this.complete = null;
	}
	,__class__: workinman_assets_LoadQueue
};
var workinman_assets_SpriteSheetDef = function(pAtlas,pRect) {
	this.rect = pRect;
	this.atlas = pAtlas;
};
$hxClasses["workinman.assets.SpriteSheetDef"] = workinman_assets_SpriteSheetDef;
workinman_assets_SpriteSheetDef.__name__ = ["workinman","assets","SpriteSheetDef"];
workinman_assets_SpriteSheetDef.prototype = {
	dispose: function() {
		this.rect = null;
		this.atlas = null;
	}
	,__class__: workinman_assets_SpriteSheetDef
};
var workinman_assets_WMAssetPack = function(pPack) {
	this.pack = pPack;
	this.assets = [];
	this.spritesheets = [];
	this.flump = [];
};
$hxClasses["workinman.assets.WMAssetPack"] = workinman_assets_WMAssetPack;
workinman_assets_WMAssetPack.__name__ = ["workinman","assets","WMAssetPack"];
workinman_assets_WMAssetPack.prototype = {
	__class__: workinman_assets_WMAssetPack
};
var workinman_display_Camera = function(pWorldRoot,pWorldCenterX,pWorldCenterY) {
	this._worldRoot = pWorldRoot;
	this.worldCenterX = pWorldCenterX;
	this.worldCenterY = pWorldCenterY;
	this.focalLength = 300;
	this.set_rotation(0);
	this.pos = workinman_math_WMPoint.request();
	this._scratchPoint = new flambe_math_Point();
};
$hxClasses["workinman.display.Camera"] = workinman_display_Camera;
workinman_display_Camera.__name__ = ["workinman","display","Camera"];
workinman_display_Camera.prototype = {
	dispose: function() {
		this.pos.dispose();
		this.pos = null;
		this._scratchPoint = null;
	}
	,set_rotation: function(pVal) {
		this.rotation = pVal;
		this._worldRoot.rotation = pVal;
		return this.rotation;
	}
	,getWorldPositionOfScreenPoint: function(pX,pY,pZ,pResult) {
		this._worldRoot.get_viewMatrix().inverseTransform(pX,pY,this._scratchPoint);
		var tScale = 1 / (this.focalLength / (this.focalLength - (this.pos.z - pZ)));
		pResult.x = this.pos.x + (this.worldCenterX + (this._scratchPoint.x - this.worldCenterX) * tScale);
		pResult.y = this.pos.y + (this.worldCenterY + (this._scratchPoint.y - this.worldCenterY) * tScale);
		return pResult;
	}
	,__class__: workinman_display_Camera
	,__properties__: {set_rotation:"set_rotation"}
};
var workinman_display_ElementManager = function(pRoot,pCameraX,pCameraY,pEnableInput) {
	if(pEnableInput == null) {
		pEnableInput = false;
	}
	this._layerOrder = [];
	this._layers = new haxe_ds_StringMap();
	this.root = pRoot.addChild(new workinman_display_ElementManagerSprite(pCameraX,pCameraY,this._layers,this._layerOrder));
	this.camera = this.root.camera;
	this._defaultLayer = "";
	this._enablePointer = pEnableInput;
};
$hxClasses["workinman.display.ElementManager"] = workinman_display_ElementManager;
workinman_display_ElementManager.__name__ = ["workinman","display","ElementManager"];
workinman_display_ElementManager.prototype = {
	dispose: function() {
		if(this.root != null) {
			this.root.doDelete = true;
			this.root = null;
		}
		this._layers = null;
		this._layerOrder = null;
		this._defaultLayer = null;
	}
	,addLayer: function(pLayerName,pSetAsDefaultLayer) {
		if(pSetAsDefaultLayer == null) {
			pSetAsDefaultLayer = false;
		}
		var _this = this._layers;
		if(__map_reserved[pLayerName] != null ? _this.existsReserved(pLayerName) : _this.h.hasOwnProperty(pLayerName)) {
			HxOverrides.remove(this._layerOrder,pLayerName);
			this._layerOrder.push(pLayerName);
			return;
		}
		if(pSetAsDefaultLayer || this._defaultLayer.length < 1) {
			this._defaultLayer = pLayerName;
		}
		var _this1 = this._layers;
		var value = [];
		if(__map_reserved[pLayerName] != null) {
			_this1.setReserved(pLayerName,value);
		} else {
			_this1.h[pLayerName] = value;
		}
		this._layerOrder.push(pLayerName);
	}
	,addElement: function(pElement,pLayer) {
		var tmp = this._enablePointer == false;
		if(pLayer == null && this._defaultLayer != null) {
			pLayer = this._defaultLayer;
		}
		var tmp1;
		if(pLayer != null) {
			var _this = this._layers;
			tmp1 = (__map_reserved[pLayer] != null ? _this.existsReserved(pLayer) : _this.h.hasOwnProperty(pLayer)) == false;
		} else {
			tmp1 = true;
		}
		if(tmp1) {
			return pElement;
		}
		if(pElement.parent != null) {
			pElement.parent.removeChild(pElement);
		}
		this.root.addElementLayer(pElement,pLayer);
		return pElement;
	}
	,update: function(dt) {
		var c;
		var _this = this._layers;
		var l = new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys());
		while(l.hasNext()) {
			var l1 = l.next();
			var tI = l1.length;
			while(tI-- > 0) {
				c = l1[tI];
				c.runUpdate(dt);
				if(c.doDelete) {
					c.dispose();
					l1.splice(tI,1);
				}
			}
		}
		c = null;
	}
	,getAllButtons: function() {
		var buttons = [];
		var _this = this._layers;
		var l = new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys());
		while(l.hasNext()) {
			var l1 = l.next();
			var _g = 0;
			while(_g < l1.length) {
				var e = l1[_g];
				++_g;
				buttons = buttons.concat(this._getButtons(e));
			}
		}
		return buttons;
	}
	,_getButtons: function(e) {
		var buttons = [];
		if(js_Boot.__instanceof(e,workinman_ui_Button)) {
			buttons.push(e);
		}
		var _g = 0;
		var _g1 = e.children;
		while(_g < _g1.length) {
			var c = _g1[_g];
			++_g;
			buttons = buttons.concat(this._getButtons(c));
		}
		return buttons;
	}
	,__class__: workinman_display_ElementManager
};
var workinman_display_ElementManagerSprite = function(pWorldCenterX,pWorldCenterY,pLayers,pLayerOrder) {
	workinman_display_Sprite.call(this,null);
	this.camera = new workinman_display_Camera(this,pWorldCenterX,pWorldCenterY);
	this._layers = pLayers;
	this._layerOrder = pLayerOrder;
};
$hxClasses["workinman.display.ElementManagerSprite"] = workinman_display_ElementManagerSprite;
workinman_display_ElementManagerSprite.__name__ = ["workinman","display","ElementManagerSprite"];
workinman_display_ElementManagerSprite.__super__ = workinman_display_Sprite;
workinman_display_ElementManagerSprite.prototype = $extend(workinman_display_Sprite.prototype,{
	dispose: function() {
		workinman_display_Sprite.prototype.dispose.call(this);
		if(this.camera != null) {
			this.camera.dispose();
			this.camera = null;
		}
		if(this._layers != null) {
			var _this = this._layers;
			var l = new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys());
			while(l.hasNext()) {
				var l1 = l.next();
				var _g = 0;
				while(_g < l1.length) {
					var c = l1[_g];
					++_g;
					c.dispose();
				}
			}
			this._layers = null;
		}
		this._layerOrder = null;
	}
	,hitTest: function(x,y,pPoint) {
		if(this.visible == false || this.inputEnabled == false) {
			return null;
		}
		var tRes = null;
		var tI = this._layerOrder.length;
		var tLayer;
		while(tI-- > 0) {
			var key = this._layerOrder[tI];
			var _this = this._layers;
			if(__map_reserved[key] != null) {
				tLayer = _this.getReserved(key);
			} else {
				tLayer = _this.h[key];
			}
			var tC = tLayer.length;
			while(tC-- > 0) {
				tRes = tLayer[tC].hitTest(x,y,pPoint);
				if(tRes != null) {
					tLayer = null;
					return tRes;
				}
			}
		}
		tLayer = null;
		return workinman_display_Sprite.prototype.hitTest.call(this,x,y,pPoint);
	}
	,addElementLayer: function(pChild,pLayer) {
		var _this = this._layers;
		if((__map_reserved[pLayer] != null ? _this.existsReserved(pLayer) : _this.h.hasOwnProperty(pLayer)) == false) {
			return pChild;
		}
		if(pChild.parent != null) {
			pChild.parent.removeChild(pChild);
		}
		pChild.parent = this;
		var _this1 = this._layers;
		(__map_reserved[pLayer] != null ? _this1.getReserved(pLayer) : _this1.h[pLayer]).push(pChild);
		return pChild;
	}
	,removeChild: function(pChild) {
		var _this = this._layers;
		var l = new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys());
		while(l.hasNext()) {
			var l1 = l.next();
			if(HxOverrides.remove(l1,pChild)) {
				pChild.parent = null;
				break;
			}
		}
		return pChild;
	}
	,render: function(g,c) {
		g.ctx.save();
		this._matrix.compose(this.get_x(),this.get_y(),this.scaleX,this.scaleY,this.rotation * 3.141592653589793 / 180);
		if(this.parent != null) {
			flambe_math_Matrix.multiply(this.parent.get_viewMatrix(),this._matrix,this._viewMatrix);
		}
		g.ctx.transform(this._matrix.m00,this._matrix.m10,this._matrix.m01,this._matrix.m11,this._matrix.m02,this._matrix.m12);
		var _g1 = 0;
		var _g = this.children.length;
		while(_g1 < _g) {
			var i = _g1++;
			this.children[i].render(g,null);
		}
		var tLayer;
		var _g11 = 0;
		var _g2 = this._layerOrder.length;
		while(_g11 < _g2) {
			var l = _g11++;
			var key = this._layerOrder[l];
			var _this = this._layers;
			if(__map_reserved[key] != null) {
				tLayer = _this.getReserved(key);
			} else {
				tLayer = _this.h[key];
			}
			var _g3 = 0;
			var _g21 = tLayer.length;
			while(_g3 < _g21) {
				var c1 = _g3++;
				tLayer[c1].render(g,this.camera);
			}
		}
		tLayer = null;
		g.ctx.restore();
	}
	,__class__: workinman_display_ElementManagerSprite
});
var workinman_display_FillSprite = function(prop) {
	workinman_display_Sprite.call(this,prop);
	this.color = 16711680;
	this.sizeX = this.sizeY = 10;
	if(prop != null) {
		this.color = prop.color;
		this.sizeX = prop.sizeX;
		this.sizeY = prop.sizeY;
	}
};
$hxClasses["workinman.display.FillSprite"] = workinman_display_FillSprite;
workinman_display_FillSprite.__name__ = ["workinman","display","FillSprite"];
workinman_display_FillSprite.__super__ = workinman_display_Sprite;
workinman_display_FillSprite.prototype = $extend(workinman_display_Sprite.prototype,{
	get_width: function() {
		return Math.floor(this.sizeX);
	}
	,get_height: function() {
		return Math.floor(this.sizeY);
	}
	,_draw: function(g) {
		g.ctx.fillRect(this.color,0,0,this.sizeX,this.sizeY);
	}
	,__class__: workinman_display_FillSprite
});
var workinman_display_FontColor = function(pack,name,color) {
	this._color = color;
	flambe_display_Font.call(this,pack,name);
};
$hxClasses["workinman.display.FontColor"] = workinman_display_FontColor;
workinman_display_FontColor.__name__ = ["workinman","display","FontColor"];
workinman_display_FontColor.__super__ = flambe_display_Font;
workinman_display_FontColor.prototype = $extend(flambe_display_Font.prototype,{
	reload: function() {
		this._glyphs = new haxe_ds_IntMap();
		this._glyphs.h[workinman_display_FontColor.NEWLINE.charCode] = workinman_display_FontColor.NEWLINE;
		var parser = new workinman_display__$FontColor_ConfigParser(this._file.toString());
		var pages = new haxe_ds_IntMap();
		var idx = this.name.lastIndexOf("/");
		var basePath = idx >= 0 ? HxOverrides.substr(this.name,0,idx + 1) : "";
		var keyword = parser.keywords();
		while(keyword.hasNext()) {
			var keyword1 = keyword.next();
			switch(keyword1) {
			case "char":
				var glyph = null;
				var pair = parser.pairs();
				while(pair.hasNext()) {
					var pair1 = pair.next();
					var _g = pair1.key;
					switch(_g) {
					case "height":
						glyph.height = pair1.getInt();
						break;
					case "id":
						glyph = new flambe_display_Glyph(pair1.getInt());
						break;
					case "page":
						var key = pair1.getInt();
						glyph.page = pages.h[key];
						break;
					case "width":
						glyph.width = pair1.getInt();
						break;
					case "x":
						glyph.x = pair1.getInt();
						break;
					case "xadvance":
						glyph.xAdvance = pair1.getInt();
						break;
					case "xoffset":
						glyph.xOffset = pair1.getInt();
						break;
					case "y":
						glyph.y = pair1.getInt();
						break;
					case "yoffset":
						glyph.yOffset = pair1.getInt();
						break;
					}
				}
				this._glyphs.set(glyph.charCode,glyph);
				break;
			case "common":
				var pair2 = parser.pairs();
				while(pair2.hasNext()) {
					var pair3 = pair2.next();
					var _g1 = pair3.key;
					if(_g1 == "lineHeight") {
						this.lineHeight = pair3.getInt();
					}
				}
				break;
			case "info":
				var pair4 = parser.pairs();
				while(pair4.hasNext()) {
					var pair5 = pair4.next();
					var _g2 = pair5.key;
					if(_g2 == "size") {
						this.size = pair5.getInt();
					}
				}
				break;
			case "kerning":
				var first = null;
				var second = 0;
				var amount = 0;
				var pair6 = parser.pairs();
				while(pair6.hasNext()) {
					var pair7 = pair6.next();
					var _g3 = pair7.key;
					switch(_g3) {
					case "amount":
						amount = pair7.getInt();
						break;
					case "first":
						first = this._glyphs.get(pair7.getInt());
						break;
					case "second":
						second = pair7.getInt();
						break;
					}
				}
				if(first != null && amount != 0) {
					first.setKerning(second,amount);
				}
				break;
			case "page":
				var pageId = 0;
				var file = null;
				var pair8 = parser.pairs();
				while(pair8.hasNext()) {
					var pair9 = pair8.next();
					var _g4 = pair9.key;
					switch(_g4) {
					case "file":
						file = pair9.getString();
						break;
					case "id":
						pageId = pair9.getInt();
						break;
					}
				}
				if(pages.h[pageId] == null) {
					var tTexture = this._pack.getTexture(basePath + flambe_util_Strings.removeFileExtension(file));
					this._texture = flambe_System._platform.getRenderer().createTexture(tTexture.get_width() | 0,tTexture.get_height() | 0);
					this._texture.get_graphics().fillRect(this._color,0,0,this._texture.get_width(),this._texture.get_height());
					this._texture.get_graphics().setBlendMode(flambe_display_BlendMode.Mask);
					this._texture.get_graphics().drawTexture(tTexture,0,0);
					this._texture.get_graphics().setBlendMode(flambe_display_BlendMode.Normal);
					tTexture = null;
					pages.h[pageId] = this._texture;
				}
				break;
			}
		}
	}
	,__class__: workinman_display_FontColor
});
var workinman_display__$FontColor_ConfigParser = function(config) {
	this._configText = config;
	this._keywordPattern = new EReg("([A-Za-z]+)(.*)","");
	this._pairPattern = new EReg("([A-Za-z]+)=(\"[^\"]*\"|[^\\s]+)","");
};
$hxClasses["workinman.display._FontColor.ConfigParser"] = workinman_display__$FontColor_ConfigParser;
workinman_display__$FontColor_ConfigParser.__name__ = ["workinman","display","_FontColor","ConfigParser"];
workinman_display__$FontColor_ConfigParser.advance = function(text,expr) {
	var m = expr.matchedPos();
	return HxOverrides.substr(text,m.pos + m.len,text.length);
};
workinman_display__$FontColor_ConfigParser.prototype = {
	keywords: function() {
		var _gthis = this;
		var text = this._configText;
		return { next : function() {
			text = workinman_display__$FontColor_ConfigParser.advance(text,_gthis._keywordPattern);
			_gthis._pairText = _gthis._keywordPattern.matched(2);
			return _gthis._keywordPattern.matched(1);
		}, hasNext : function() {
			return _gthis._keywordPattern.match(text);
		}};
	}
	,pairs: function() {
		var _gthis = this;
		var text = this._pairText;
		return { next : function() {
			text = workinman_display__$FontColor_ConfigParser.advance(text,_gthis._pairPattern);
			return new workinman_display__$FontColor_ConfigPair(_gthis._pairPattern.matched(1),_gthis._pairPattern.matched(2));
		}, hasNext : function() {
			return _gthis._pairPattern.match(text);
		}};
	}
	,__class__: workinman_display__$FontColor_ConfigParser
};
var workinman_display__$FontColor_ConfigPair = function(key,value) {
	this.key = key;
	this._value = value;
};
$hxClasses["workinman.display._FontColor.ConfigPair"] = workinman_display__$FontColor_ConfigPair;
workinman_display__$FontColor_ConfigPair.__name__ = ["workinman","display","_FontColor","ConfigPair"];
workinman_display__$FontColor_ConfigPair.prototype = {
	getInt: function() {
		return Std.parseInt(this._value);
	}
	,getString: function() {
		if(this._value.charCodeAt(0) != 34) {
			return null;
		}
		return HxOverrides.substr(this._value,1,this._value.length - 2);
	}
	,__class__: workinman_display__$FontColor_ConfigPair
};
var workinman_display_Graphics = function(g) {
	this.ctx = g;
	this.canvasCtx = null;
	if(js_Boot.__instanceof(g,flambe_platform_html_CanvasGraphics)) {
		this.canvasCtx = Reflect.field(g,"_canvasCtx");
	}
};
$hxClasses["workinman.display.Graphics"] = workinman_display_Graphics;
workinman_display_Graphics.__name__ = ["workinman","display","Graphics"];
workinman_display_Graphics.prototype = {
	__class__: workinman_display_Graphics
};
var workinman_display_GuideSprite = function() {
	workinman_display_Sprite.call(this,null);
};
$hxClasses["workinman.display.GuideSprite"] = workinman_display_GuideSprite;
workinman_display_GuideSprite.__name__ = ["workinman","display","GuideSprite"];
workinman_display_GuideSprite.__super__ = workinman_display_Sprite;
workinman_display_GuideSprite.prototype = $extend(workinman_display_Sprite.prototype,{
	_draw: function(g) {
		g.ctx.save();
		g.ctx.setAlpha(.5);
		var tTotalDif = app_ConstantsApp.STAGE_CENTER_X - 640.;
		g.ctx.fillRect(65280,-480.,-360.,960.,720);
		g.ctx.fillRect(14911259,-640.,-360.,160.,720);
		g.ctx.fillRect(14911259,480.,-360.,160.,720);
		if(tTotalDif > 0) {
			g.ctx.fillRect(16711680,-app_ConstantsApp.STAGE_CENTER_X,-360.,tTotalDif,720);
			g.ctx.fillRect(16711680,app_ConstantsApp.STAGE_CENTER_X - tTotalDif,-360.,tTotalDif,720);
		}
		g.ctx.fillRect(16777215,-app_ConstantsApp.STAGE_CENTER_X,-360.,app_ConstantsApp.STAGE_WIDTH,40);
		g.ctx.fillRect(16777215,-app_ConstantsApp.STAGE_CENTER_X,320.,app_ConstantsApp.STAGE_WIDTH,40);
		g.ctx.restore();
	}
	,__class__: workinman_display_GuideSprite
});
var workinman_display_RootSprite = function(pUpdateDelegate) {
	flambe_display_Sprite.call(this);
	this._root = new workinman_display_Sprite(null);
	this._lastStageX = this._lastStageX = 0;
	this._updateDelegate = pUpdateDelegate;
	this._calcScale();
	this._scratchPoint = new flambe_math_Point();
};
$hxClasses["workinman.display.RootSprite"] = workinman_display_RootSprite;
workinman_display_RootSprite.__name__ = ["workinman","display","RootSprite"];
workinman_display_RootSprite.__super__ = flambe_display_Sprite;
workinman_display_RootSprite.prototype = $extend(flambe_display_Sprite.prototype,{
	dispose: function() {
		this._updateDelegate = null;
		this._scratchPoint = null;
		flambe_display_Sprite.prototype.dispose.call(this);
	}
	,onUpdate: function(dt) {
		this._root.runUpdate(dt);
		this._updateDelegate(dt);
	}
	,hitTest: function(x,y) {
		return this._root.hitTest(x,y,this._scratchPoint);
	}
	,_calcScale: function() {
		if(flambe_System._platform.getStage().get_width() == this._lastStageX && flambe_System._platform.getStage().get_height() == this._lastStageY) {
			return;
		}
		this._lastStageX = flambe_System._platform.getStage().get_width();
		this._lastStageY = flambe_System._platform.getStage().get_height();
		this._root.set_x(this._lastStageX * .5);
		this._root.set_y(this._lastStageY * .5);
		var tScale = this._lastStageY / 720;
		this._fullWidth = this._lastStageX / tScale;
		this._root.rotation = 0;
		app_ConstantsApp.STAGE_WIDTH = Math.min(Math.ceil(this._fullWidth),1280);
		app_ConstantsApp.STAGE_CENTER_X = Math.floor(app_ConstantsApp.STAGE_WIDTH * .5);
		this._root.set_scale(tScale);
		app_ConstantsEvent.resizeCanvas.dispatch(tScale);
	}
	,addChild: function(pChild) {
		return this._root.addChild(pChild);
	}
	,draw: function(g) {
		if(this._graphics == null) {
			this._graphics = new workinman_display_Graphics(g);
		}
		this._calcScale();
		g.fillRect(0,-app_ConstantsApp.STAGE_CENTER_X - 1,-361.,app_ConstantsApp.STAGE_WIDTH + 2,722.);
		this._root.render(this._graphics,null);
		g.save();
		g.translate(this._root.get_x(),this._root.get_y());
		g.scale(this._root.scale,this._root.scale);
		g.rotate(this._root.rotation);
		var tDif = Math.ceil((this._fullWidth - app_ConstantsApp.STAGE_WIDTH) * .5);
		var tHalfWidth = Math.ceil(this._fullWidth * .5);
		if(tDif > 0) {
			g.fillRect(0,-tHalfWidth,-361.,tDif,722.);
			g.fillRect(0,tHalfWidth - tDif,-361.,tDif,722.);
		}
		g.restore();
	}
	,__class__: workinman_display_RootSprite
});
var workinman_display_SliceSprite = function(prop) {
	this.set_borderLeft(5);
	this.set_borderRight(5);
	this.set_borderTop(5);
	this.set_borderBottom(5);
	this.set_innerWidth(100);
	this.set_innerHeight(100);
	this._bufferW = this._bufferH = -1;
	if(prop.borderL != null) {
		this.set_borderLeft(prop.borderL);
	}
	if(prop.borderR != null) {
		this.set_borderRight(prop.borderR);
	}
	if(prop.borderT != null) {
		this.set_borderTop(prop.borderT);
	}
	if(prop.borderB != null) {
		this.set_borderBottom(prop.borderB);
	}
	if(prop.innerW != null) {
		this.set_innerWidth(prop.innerW);
	}
	if(prop.innerH != null) {
		this.set_innerHeight(prop.innerH);
	}
	if(prop.bufferW != null) {
		this._bufferW = Math.floor(prop.bufferW);
	}
	if(prop.bufferH != null) {
		this._bufferH = Math.floor(prop.bufferH);
	}
	workinman_display_ImageSprite.call(this,prop);
	this._rebuildBuffer(this._bufferW,this._bufferH);
};
$hxClasses["workinman.display.SliceSprite"] = workinman_display_SliceSprite;
workinman_display_SliceSprite.__name__ = ["workinman","display","SliceSprite"];
workinman_display_SliceSprite.__super__ = workinman_display_ImageSprite;
workinman_display_SliceSprite.prototype = $extend(workinman_display_ImageSprite.prototype,{
	set_innerWidth: function(pVal) {
		this.innerWidth = pVal;
		this._rebuildBuffer();
		return pVal;
	}
	,set_innerHeight: function(pVal) {
		this.innerHeight = pVal;
		this._rebuildBuffer();
		return pVal;
	}
	,set_borderLeft: function(pVal) {
		this.borderLeft = pVal;
		this._rebuildBuffer();
		return pVal;
	}
	,set_borderRight: function(pVal) {
		this.borderRight = pVal;
		this._rebuildBuffer();
		return pVal;
	}
	,set_borderTop: function(pVal) {
		this.borderTop = pVal;
		this._rebuildBuffer();
		return pVal;
	}
	,set_borderBottom: function(pVal) {
		this.borderBottom = pVal;
		this._rebuildBuffer();
		return pVal;
	}
	,get_outerWidth: function() {
		return this.get_width();
	}
	,set_outerWidth: function(pVal) {
		this.set_innerWidth(pVal - this.borderLeft - this.borderRight);
		return pVal;
	}
	,get_outerHeight: function() {
		return this.get_height();
	}
	,set_outerHeight: function(pVal) {
		this.set_innerHeight(pVal - this.borderTop - this.borderBottom);
		return pVal;
	}
	,get_width: function() {
		return Math.floor(this.innerWidth + this.borderLeft + this.borderRight);
	}
	,get_height: function() {
		return Math.floor(this.innerHeight + this.borderTop + this.borderBottom);
	}
	,setInnerSize: function(pX,pY) {
		this.set_innerWidth(pX);
		this.set_innerHeight(pY);
		this._rebuildBuffer();
	}
	,setBufferSize: function(pWidth,pHeight) {
		if(this._buffer != null) {
			this._buffer.dispose();
			this._buffer = null;
		}
		this._rebuildBuffer(pWidth,pHeight);
	}
	,_rebuildBuffer: function(pWidth,pHeight) {
		if(this.texture == null) {
			return;
		}
		if(pWidth == null) {
			pWidth = Math.floor(this.get_outerWidth());
		}
		if(pHeight == null) {
			pHeight = Math.floor(this.get_outerHeight());
		}
		if(this._buffer != null && this._bufferW >= pWidth && this._bufferH >= pHeight) {
			workinman_WMUtils.clearTexture(this._buffer);
			this._redrawBuffer();
			return;
		}
		if(this._buffer != null) {
			this._buffer.dispose();
			this._buffer = null;
		}
		var a = this._bufferW;
		this._bufferW = a > pWidth ? a : pWidth;
		var a1 = this._bufferH;
		this._bufferH = a1 > pHeight ? a1 : pHeight;
		this._buffer = flambe_System._platform.getRenderer().createTexture(this._bufferW,this._bufferH);
		this._redrawBuffer();
	}
	,_redrawBuffer: function() {
		if(this.rect != null) {
			if(this.rect.rotate) {
				this._buffer.get_graphics().save();
				this._buffer.get_graphics().translate(this.get_width(),0);
				this._buffer.get_graphics().rotate(90);
				this._drawSlices(this.rect.x,this.rect.y,this.rect.sizeY,this.rect.sizeX,this.borderTop,this.borderBottom,this.borderLeft,this.borderRight,this.innerHeight,this.innerWidth,this._buffer.get_graphics());
				this._buffer.get_graphics().restore();
			} else {
				this._drawSlices(this.rect.x,this.rect.y,this.rect.sizeX,this.rect.sizeY,this.borderLeft,this.borderRight,this.borderTop,this.borderBottom,this.innerWidth,this.innerHeight,this._buffer.get_graphics());
			}
			return;
		}
		this._drawSlices(0,0,this.texture.get_width(),this.texture.get_height(),this.borderLeft,this.borderRight,this.borderTop,this.borderBottom,this.innerWidth,this.innerHeight,this._buffer.get_graphics());
	}
	,_drawSlices: function(pTexX,pTexY,pWidth,pHeight,pL,pR,pT,pB,pW,pH,g) {
		var borderL = Math.floor(pL);
		var borderR = Math.floor(pR);
		var borderT = Math.floor(pT);
		var borderB = Math.floor(pB);
		var innerW = Math.floor(pW);
		var innerH = Math.floor(pH);
		var texMidW = pWidth - borderL - borderR;
		var texMidH = pHeight - borderT - borderB;
		var tTexL = pTexX + borderL;
		var tTexT = pTexY + borderT;
		var tTexR = pTexX + pWidth - borderR;
		var tTexB = pTexY + pHeight - borderB;
		var tRenderBottom = borderT + innerH;
		var tRenderRight = borderL + innerW;
		var tScaledW = 0;
		var tScaledH = 0;
		if(texMidW > 0) {
			tScaledW = innerW / texMidW;
			g.save();
			g.translate(borderL,0);
			g.scale(tScaledW,1);
			g.drawSubTexture(this.texture,0,0,tTexL,pTexY,texMidW,borderT);
			g.drawSubTexture(this.texture,0,tRenderBottom,tTexL,tTexB,texMidW,borderB);
			g.restore();
		}
		if(texMidH > 0) {
			tScaledH = innerH / texMidH;
			g.save();
			g.translate(0,borderT);
			g.scale(1,tScaledH);
			g.drawSubTexture(this.texture,0,0,pTexX,tTexT,borderL,texMidH);
			g.drawSubTexture(this.texture,tRenderRight,0,tTexR,tTexT,borderR,texMidH);
			g.restore();
		}
		if(texMidH > 0 && texMidW > 0) {
			g.save();
			g.translate(borderL,borderT);
			g.scale(tScaledW,tScaledH);
			g.drawSubTexture(this.texture,0,0,tTexL,tTexT,texMidW,texMidH);
			g.restore();
		}
		g.drawSubTexture(this.texture,0,0,pTexX,pTexY,borderL,borderT);
		g.drawSubTexture(this.texture,tRenderRight,0,tTexR,pTexY,borderR,borderT);
		g.drawSubTexture(this.texture,0,tRenderBottom,pTexX,tTexB,borderL,borderB);
		g.drawSubTexture(this.texture,tRenderRight,tRenderBottom,tTexR,tTexB,borderR,borderB);
	}
	,_draw: function(g) {
		if(this._buffer == null) {
			return;
		}
		g.ctx.drawSubTexture(this._buffer,0,0,0,0,this.get_outerWidth(),this.get_outerHeight());
	}
	,__class__: workinman_display_SliceSprite
	,__properties__: $extend(workinman_display_ImageSprite.prototype.__properties__,{set_borderBottom:"set_borderBottom",set_borderTop:"set_borderTop",set_borderRight:"set_borderRight",set_borderLeft:"set_borderLeft",set_innerHeight:"set_innerHeight",set_innerWidth:"set_innerWidth",set_outerHeight:"set_outerHeight",get_outerHeight:"get_outerHeight",set_outerWidth:"set_outerWidth",get_outerWidth:"get_outerWidth"})
});
var workinman_display_SpriteRect = function(pData) {
	this._parseRes = { x : 0, y : 0};
	this.rotate = pData[1].indexOf("true") > -1;
	this._setXY(this._getLineData(pData[2]));
	this._setSizeXY(this._getLineData(pData[3]));
	this._setOrig(this._getLineData(pData[4]));
	this._setOffset(this._getLineData(pData[5]));
	this._parseRes = null;
};
$hxClasses["workinman.display.SpriteRect"] = workinman_display_SpriteRect;
workinman_display_SpriteRect.__name__ = ["workinman","display","SpriteRect"];
workinman_display_SpriteRect.prototype = {
	_getLineData: function(pString) {
		var tSplit = pString.split(": ");
		tSplit = tSplit[1].split(", ");
		this._parseRes.x = Std.parseInt(tSplit[0]);
		this._parseRes.y = Std.parseInt(tSplit[1]);
		tSplit = null;
		return this._parseRes;
	}
	,_setXY: function(pRes) {
		this.x = pRes.x;
		this.y = pRes.y;
	}
	,_setSizeXY: function(pRes) {
		this.sizeX = pRes.x;
		this.sizeY = pRes.y;
	}
	,_setOrig: function(pRes) {
		this.origX = pRes.x;
		this.origY = pRes.y;
	}
	,_setOffset: function(pRes) {
		this.offsetX = pRes.x;
		this.offsetY = pRes.y;
	}
	,__class__: workinman_display_SpriteRect
};
var workinman_display_Text = function(pData) {
	workinman_display_Sprite.call(this,pData);
	this._fontName = "";
	this.set_wrapWidth(this.set_letterSpacing(this.set_lineSpacing(0)));
	this.set_align(flambe_display_TextAlign.Center);
	if(pData != null) {
		if(pData.color != null) {
			this._color = pData.color;
		}
		this.setText(pData.text);
		this.setVariables(pData.vars);
		if(pData.align != null) {
			this.set_align(pData.align);
		}
		if(pData.wrapWidth != null) {
			this.set_wrapWidth(pData.wrapWidth);
		}
		if(pData.lineSpacing != null) {
			this.set_lineSpacing(pData.lineSpacing);
		}
		if(pData.letterSpacing != null) {
			this.set_letterSpacing(pData.letterSpacing);
		}
	}
	this.inputEnabled = false;
};
$hxClasses["workinman.display.Text"] = workinman_display_Text;
workinman_display_Text.__name__ = ["workinman","display","Text"];
workinman_display_Text.__super__ = workinman_display_Sprite;
workinman_display_Text.prototype = $extend(workinman_display_Sprite.prototype,{
	dispose: function() {
		this._layout = null;
		this._font = null;
		this._fontName = null;
		this._data = null;
		this._text = null;
		this.set_align(null);
		workinman_display_Sprite.prototype.dispose.call(this);
	}
	,get_width: function() {
		if(this._layout == null || this._data == null) {
			return 0;
		}
		return (this.wrapWidth > 0 ? this.wrapWidth : this._layout.bounds.width) * this._data.scale;
	}
	,get_height: function() {
		if(this._layout == null || this._data == null) {
			return 0;
		}
		var paddedHeight = this._layout.lines * (this._font.lineHeight + this.lineSpacing);
		var boundsHeight = this._layout.bounds.height;
		return (paddedHeight > boundsHeight ? paddedHeight : boundsHeight) * this._data.scale;
	}
	,set_align: function(val) {
		if(val == null) {
			this.align = null;
			return null;
		}
		this.align = val;
		this._updateLayout();
		return val;
	}
	,set_originX: function(val) {
		this.originX = 0;
		return 0;
	}
	,set_wrapWidth: function(val) {
		this.wrapWidth = val;
		this._updateLayout();
		return val;
	}
	,set_letterSpacing: function(val) {
		this.letterSpacing = val;
		this._updateLayout();
		return val;
	}
	,set_lineSpacing: function(val) {
		this.lineSpacing = val;
		this._updateLayout();
		return val;
	}
	,setText: function(id,variables) {
		this._data = workinman_WMLocalize.getLocalizeData(id);
		if(this._data == null) {
			return;
		}
		this.set_offsetX(this._data.offsetX);
		this.set_offsetY(this._data.offsetY);
		this._setFont(this._data.fontName);
		this._text = this._replaceVars(variables);
		this._updateLayout();
	}
	,setColor: function(pColor) {
		this._color = pColor;
	}
	,setVariables: function(variables) {
		if(this._data == null) {
			return;
		}
		this._text = this._replaceVars(variables);
		this._updateLayout();
	}
	,_updateLayout: function() {
		if(this._data == null || this._font == null) {
			return;
		}
		this._layout = this._font.layoutText(this._text,this.align,this.wrapWidth / this._data.scale,this.letterSpacing,this.lineSpacing);
	}
	,_draw: function(g) {
		if(this._layout == null) {
			return;
		}
		g.ctx.save();
		if(this.wrapWidth > 0) {
			var tAmt = this.wrapWidth * this._data.scale;
			var _g = this.align;
			switch(_g[1]) {
			case 0:
				break;
			case 1:
				g.ctx.translate(-this.wrapWidth * 0.5,0);
				break;
			case 2:
				g.ctx.translate(-tAmt * 2,0);
				break;
			}
		}
		g.ctx.scale(this._data.scale,this._data.scale);
		this._layout.draw(g.ctx);
		g.ctx.restore();
	}
	,_setFont: function(pFont) {
		if(pFont == this._fontName) {
			return;
		}
		if(this._color != null) {
			this._font = workinman_WMAssets.getFont(pFont,true,this._color);
		} else {
			this._font = workinman_WMAssets.getFont(pFont);
		}
	}
	,_replaceVars: function(pVars) {
		var tRes = "";
		var tSplit = this._data.string.split("}");
		var _g = 0;
		while(_g < tSplit.length) {
			var s = tSplit[_g];
			++_g;
			var tNum = s.split("{");
			tRes += tNum[0];
			if(tNum.length > 1) {
				var tIndex = Std.parseInt(tNum[1]);
				if(pVars != null && pVars.length > tIndex) {
					tRes += Std.string(pVars[tIndex]);
				} else {
					tRes += "[Missing {" + tIndex + "}]";
				}
				tNum = null;
			}
		}
		tSplit = null;
		return tRes;
	}
	,__class__: workinman_display_Text
	,__properties__: $extend(workinman_display_Sprite.prototype.__properties__,{set_lineSpacing:"set_lineSpacing",set_letterSpacing:"set_letterSpacing",set_wrapWidth:"set_wrapWidth",set_align:"set_align"})
});
var workinman_display_spine_ArrayUtils = function() { };
$hxClasses["workinman.display.spine.ArrayUtils"] = workinman_display_spine_ArrayUtils;
workinman_display_spine_ArrayUtils.__name__ = ["workinman","display","spine","ArrayUtils"];
workinman_display_spine_ArrayUtils.allocIntArray = function(n) {
	var v = [];
	var _g1 = 0;
	var _g = n;
	while(_g1 < _g) {
		var i = _g1++;
		v[i] = [];
	}
	return v;
};
workinman_display_spine_ArrayUtils.allocFloatArray = function(n) {
	var v = [];
	var _g1 = 0;
	var _g = n;
	while(_g1 < _g) {
		var i = _g1++;
		v[i] = [];
	}
	return v;
};
workinman_display_spine_ArrayUtils.allocFloat = function(n) {
	var v = [];
	var _g1 = 0;
	var _g = n;
	while(_g1 < _g) {
		var i = _g1++;
		v[i] = 0;
	}
	return v;
};
workinman_display_spine_ArrayUtils.allocString = function(n) {
	var v = [];
	var _g1 = 0;
	var _g = n;
	while(_g1 < _g) {
		var i = _g1++;
		v[i] = "";
	}
	return v;
};
var workinman_display_spine_Updatable = function() { };
$hxClasses["workinman.display.spine.Updatable"] = workinman_display_spine_Updatable;
workinman_display_spine_Updatable.__name__ = ["workinman","display","spine","Updatable"];
workinman_display_spine_Updatable.prototype = {
	__class__: workinman_display_spine_Updatable
};
var workinman_display_spine_Bone = function(data,skeleton,parent) {
	this._worldRotationX = 0;
	this._worldSignY = 0;
	this._worldSignX = 0;
	this._worldY = 0;
	this._worldX = 0;
	this._d = 0;
	this._c = 0;
	this._b = 0;
	this._a = 0;
	this.shearY = 0;
	this.shearX = 0;
	this.appliedScaleY = 0;
	this.appliedScaleX = 0;
	this.appliedRotation = 0;
	this.scaleY = 0;
	this.scaleX = 0;
	this.rotation = 0;
	this.y = 0;
	this.x = 0;
	if(data == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("data cannot be null."));
	}
	if(skeleton == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("skeleton cannot be null."));
	}
	this._data = data;
	this._skeleton = skeleton;
	this._parent = parent;
	this.setToSetupPose();
};
$hxClasses["workinman.display.spine.Bone"] = workinman_display_spine_Bone;
workinman_display_spine_Bone.__name__ = ["workinman","display","spine","Bone"];
workinman_display_spine_Bone.__interfaces__ = [workinman_display_spine_Updatable];
workinman_display_spine_Bone.prototype = {
	dispose: function() {
		this._parent = null;
		this._data.dispose();
		this._data = null;
		this._skeleton = null;
	}
	,updateWorldTransform: function() {
		this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY);
	}
	,update: function() {
		this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY);
	}
	,updateWorldTransformWith: function(x,y,rotation,scaleX,scaleY,shearX,shearY) {
		this.appliedRotation = rotation;
		this.appliedScaleX = scaleX;
		this.appliedScaleY = scaleY;
		var cos = 0;
		var sin = 0;
		var radians = 0;
		var rotationY = rotation + 90 + shearY;
		var radians1 = (rotation + shearX) * workinman_display_spine_MathUtils.degRad;
		var radians2 = rotationY * workinman_display_spine_MathUtils.degRad;
		var la = Math.cos(radians1) * scaleX;
		var lb = Math.cos(radians2) * scaleY;
		var lc = Math.sin(radians1) * scaleX;
		var ld = Math.sin(radians2) * scaleY;
		var parent = this._parent;
		if(parent == null) {
			var skeleton = this._skeleton;
			if(skeleton.flipX) {
				x = -x;
				la = -la;
				lb = -lb;
			}
			if(skeleton.flipY != workinman_display_spine_Bone.yDown) {
				y = -y;
				lc = -lc;
				ld = -ld;
			}
			this._a = la;
			this._b = lb;
			this._c = lc;
			this._d = ld;
			this._worldX = x;
			this._worldY = y;
			this._worldSignX = scaleX < 0 ? -1 : 1;
			this._worldSignY = scaleY < 0 ? -1 : 1;
			this._worldRotationX = Math.atan2(this._c,this._a) * workinman_display_spine_MathUtils.radDeg;
			return;
		}
		var pa = parent.get_a();
		var pb = parent.get_b();
		var pc = parent.get_c();
		var pd = parent.get_d();
		this._worldX = pa * x + pb * y + parent.get_worldX();
		this._worldY = pc * x + pd * y + parent.get_worldY();
		this._worldSignX = parent.get_worldSignX() * (scaleX < 0 ? -1 : 1);
		this._worldSignY = parent.get_worldSignY() * (scaleY < 0 ? -1 : 1);
		if(this.get_data().inheritRotation && this.get_data().inheritScale) {
			this._a = pa * la + pb * lc;
			this._b = pa * lb + pb * ld;
			this._c = pc * la + pd * lc;
			this._d = pc * lb + pd * ld;
		} else {
			if(this.get_data().inheritRotation) {
				pa = 1;
				pb = 0;
				pc = 0;
				pd = 1;
				while(true) {
					radians = parent.appliedRotation * workinman_display_spine_MathUtils.degRad;
					cos = Math.cos(radians);
					sin = Math.sin(radians);
					var temp1 = pa * cos + pb * sin;
					pb = pb * cos - pa * sin;
					pa = temp1;
					temp1 = pc * cos + pd * sin;
					pd = pd * cos - pc * sin;
					pc = temp1;
					if(!parent.get_data().inheritRotation) {
						break;
					}
					parent = parent.get_parent();
					if(!(parent != null)) {
						break;
					}
				}
				this._a = pa * la + pb * lc;
				this._b = pa * lb + pb * ld;
				this._c = pc * la + pd * lc;
				this._d = pc * lb + pd * ld;
			} else if(this.get_data().inheritScale) {
				pa = 1;
				pb = 0;
				pc = 0;
				pd = 1;
				while(true) {
					radians = parent.appliedRotation * workinman_display_spine_MathUtils.degRad;
					cos = Math.cos(radians);
					sin = Math.sin(radians);
					var psx = parent.appliedScaleX;
					var psy = parent.appliedScaleY;
					var za = cos * psx;
					var zb = sin * psy;
					var zc = sin * psx;
					var zd = cos * psy;
					var temp2 = pa * za + pb * zc;
					pb = pb * zd - pa * zb;
					pa = temp2;
					temp2 = pc * za + pd * zc;
					pd = pd * zd - pc * zb;
					pc = temp2;
					if(psx < 0) {
						sin = -sin;
					}
					temp2 = pa * cos + pb * sin;
					pb = pb * cos - pa * sin;
					pa = temp2;
					temp2 = pc * cos + pd * sin;
					pd = pd * cos - pc * sin;
					pc = temp2;
					if(!parent.get_data().inheritScale) {
						break;
					}
					parent = parent.get_parent();
					if(!(parent != null)) {
						break;
					}
				}
				this._a = pa * la + pb * lc;
				this._b = pa * lb + pb * ld;
				this._c = pc * la + pd * lc;
				this._d = pc * lb + pd * ld;
			} else {
				this._a = la;
				this._b = lb;
				this._c = lc;
				this._d = ld;
			}
			if(this._skeleton.flipX) {
				this._a = -this._a;
				this._b = -this._b;
			}
			if(this._skeleton.flipY != workinman_display_spine_Bone.yDown) {
				this._c = -this._c;
				this._d = -this._d;
			}
		}
		this._worldRotationX = Math.atan2(this._c,this._a) * workinman_display_spine_MathUtils.radDeg;
	}
	,setToSetupPose: function() {
		this.x = this._data.x;
		this.y = this._data.y;
		this.rotation = this._data.rotation;
		this.scaleX = this._data.scaleX;
		this.scaleY = this._data.scaleY;
		this.shearX = this._data.shearX;
		this.shearY = this._data.shearY;
	}
	,get_data: function() {
		return this._data;
	}
	,get_parent: function() {
		return this._parent;
	}
	,get_skeleton: function() {
		return this._skeleton;
	}
	,get_a: function() {
		return this._a;
	}
	,set_a: function(pValue) {
		this._a = pValue;
		return this._a;
	}
	,get_b: function() {
		return this._b;
	}
	,set_b: function(pValue) {
		this._b = pValue;
		return this._b;
	}
	,get_c: function() {
		return this._c;
	}
	,set_c: function(pValue) {
		this._c = pValue;
		return this._c;
	}
	,get_d: function() {
		return this._d;
	}
	,set_d: function(pValue) {
		this._d = pValue;
		return this._d;
	}
	,get_worldX: function() {
		return this._worldX;
	}
	,set_worldX: function(pValue) {
		this._worldX = pValue;
		return this._worldX;
	}
	,get_worldY: function() {
		return this._worldY;
	}
	,set_worldY: function(pValue) {
		this._worldY = pValue;
		return this._worldY;
	}
	,get_worldSignX: function() {
		return this._worldSignX;
	}
	,get_worldSignY: function() {
		return this._worldSignY;
	}
	,get_worldRotationX: function() {
		return this._worldRotationX;
	}
	,get_worldScaleX: function() {
		return Math.sqrt(this._a * this._a + this._b * this._b) * this._worldSignX;
	}
	,localToWorld: function(local) {
		var localX = local[0];
		var localY = local[1];
		local[0] = localX * this._a + localY * this._b + this._worldX;
		local[1] = localX * this._c + localY * this._d + this._worldY;
	}
	,__class__: workinman_display_spine_Bone
	,__properties__: {get_worldScaleX:"get_worldScaleX",get_worldRotationX:"get_worldRotationX",get_worldSignY:"get_worldSignY",get_worldSignX:"get_worldSignX",set_worldY:"set_worldY",get_worldY:"get_worldY",set_worldX:"set_worldX",get_worldX:"get_worldX",set_d:"set_d",get_d:"get_d",set_c:"set_c",get_c:"get_c",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a",get_skeleton:"get_skeleton",get_parent:"get_parent",get_data:"get_data"}
};
var workinman_display_spine_BoneData = function(pName,pParent) {
	this.inheritRotation = true;
	this.inheritScale = true;
	this.scaleY = 1;
	this.scaleX = 1;
	if(pName == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("name cannot be null."));
	}
	this.name = pName;
	this.parent = pParent;
};
$hxClasses["workinman.display.spine.BoneData"] = workinman_display_spine_BoneData;
workinman_display_spine_BoneData.__name__ = ["workinman","display","spine","BoneData"];
workinman_display_spine_BoneData.prototype = {
	dispose: function() {
		this.parent = null;
	}
	,__class__: workinman_display_spine_BoneData
};
var workinman_display_spine_Event = function(time,pData) {
	if(pData == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("data cannot be null."));
	}
	this.time = time;
	this.data = pData;
};
$hxClasses["workinman.display.spine.Event"] = workinman_display_spine_Event;
workinman_display_spine_Event.__name__ = ["workinman","display","spine","Event"];
workinman_display_spine_Event.prototype = {
	dispose: function() {
		this.data.dispose();
		this.data = null;
	}
	,__class__: workinman_display_spine_Event
};
var workinman_display_spine_EventData = function(pName) {
	if(pName == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("name cannot be null."));
	}
	this.name = pName;
};
$hxClasses["workinman.display.spine.EventData"] = workinman_display_spine_EventData;
workinman_display_spine_EventData.__name__ = ["workinman","display","spine","EventData"];
workinman_display_spine_EventData.prototype = {
	dispose: function() {
	}
	,__class__: workinman_display_spine_EventData
};
var workinman_display_spine_Exception = function(msg) {
	this.msg = msg;
};
$hxClasses["workinman.display.spine.Exception"] = workinman_display_spine_Exception;
workinman_display_spine_Exception.__name__ = ["workinman","display","spine","Exception"];
workinman_display_spine_Exception.prototype = {
	__class__: workinman_display_spine_Exception
};
var workinman_display_spine_IkConstraint = function(data,skeleton) {
	if(data == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("data cannot be null."));
	}
	if(skeleton == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("skeleton cannot be null."));
	}
	this._data = data;
	this.mix = data.mix;
	this.bendDirection = data.bendDirection;
	this.bones = [];
	var _g = 0;
	var _g1 = data.bones;
	while(_g < _g1.length) {
		var boneData = _g1[_g];
		++_g;
		this.bones[this.bones.length] = skeleton.findBone(boneData.name);
	}
	this.target = skeleton.findBone(data.target.name);
};
$hxClasses["workinman.display.spine.IkConstraint"] = workinman_display_spine_IkConstraint;
workinman_display_spine_IkConstraint.__name__ = ["workinman","display","spine","IkConstraint"];
workinman_display_spine_IkConstraint.__interfaces__ = [workinman_display_spine_Updatable];
workinman_display_spine_IkConstraint.apply1 = function(bone,targetX,targetY,alpha) {
	var pp = bone.get_parent();
	var id = 1 / (pp.get_a() * pp.get_d() - pp.get_b() * pp.get_c());
	var x = targetX - pp.get_worldX();
	var y = targetY - pp.get_worldY();
	var tx = (x * pp.get_d() - y * pp.get_b()) * id - bone.x;
	var ty = (y * pp.get_a() - x * pp.get_c()) * id - bone.y;
	var rotationIK = Math.atan2(ty,tx) * workinman_display_spine_MathUtils.radDeg - bone.shearX - bone.rotation;
	if(bone.scaleX < 0) {
		rotationIK += 180;
	}
	if(rotationIK > 180) {
		rotationIK -= 360;
	} else if(rotationIK < -180) {
		rotationIK += 360;
	}
	bone.updateWorldTransformWith(bone.x,bone.y,bone.rotation + rotationIK * alpha,bone.scaleX,bone.scaleY,bone.shearX,bone.shearY);
};
workinman_display_spine_IkConstraint.apply2 = function(parent,child,targetX,targetY,bendDir,alpha) {
	if(alpha == 0) {
		child.updateWorldTransform();
		return;
	}
	var px = parent.x;
	var py = parent.y;
	var psx = parent.scaleX;
	var psy = parent.scaleY;
	var csx = child.scaleX;
	var os1;
	var os2;
	var s2;
	if(psx < 0) {
		psx = -psx;
		os1 = 180;
		s2 = -1;
	} else {
		os1 = 0;
		s2 = 1;
	}
	if(psy < 0) {
		psy = -psy;
		s2 = -s2;
	}
	if(csx < 0) {
		csx = -csx;
		os2 = 180;
	} else {
		os2 = 0;
	}
	var cx = child.x;
	var cy;
	var cwx;
	var cwy;
	var a = parent.get_a();
	var b = parent.get_b();
	var c = parent.get_c();
	var d = parent.get_d();
	var u = Math.abs(psx - psy) <= 0.0001;
	if(!u) {
		cy = 0;
		cwx = a * cx + parent.get_worldX();
		cwy = c * cx + parent.get_worldY();
	} else {
		cy = child.y;
		cwx = a * cx + b * cy + parent.get_worldX();
		cwy = c * cx + d * cy + parent.get_worldY();
	}
	var pp = parent.get_parent();
	a = pp.get_a();
	b = pp.get_b();
	c = pp.get_c();
	d = pp.get_d();
	var id = 1 / (a * d - b * c);
	var x = targetX - pp.get_worldX();
	var y = targetY - pp.get_worldY();
	var tx = (x * d - y * b) * id - px;
	var ty = (y * a - x * c) * id - py;
	x = cwx - pp.get_worldX();
	y = cwy - pp.get_worldY();
	var dx = (x * d - y * b) * id - px;
	var dy = (y * a - x * c) * id - py;
	var l1 = Math.sqrt(dx * dx + dy * dy);
	var l2 = child.get_data().length * csx;
	var a1 = 0;
	var a2 = 0;
	var done = false;
	if(u) {
		l2 *= psx;
		var cos = (tx * tx + ty * ty - l1 * l1 - l2 * l2) / (2 * l1 * l2);
		if(cos < -1) {
			cos = -1;
		} else if(cos > 1) {
			cos = 1;
		}
		a2 = Math.acos(cos) * bendDir;
		a = l1 + l2 * cos;
		b = l2 * Math.sin(a2);
		a1 = Math.atan2(ty * a - tx * b,tx * a + ty * b);
	} else {
		a = psx * l2;
		b = psy * l2;
		var aa = a * a;
		var bb = b * b;
		var dd = tx * tx + ty * ty;
		var ta = Math.atan2(ty,tx);
		c = bb * l1 * l1 + aa * dd - aa * bb;
		var c1 = -2 * bb * l1;
		var c2 = bb - aa;
		d = c1 * c1 - 4 * c2 * c;
		if(d >= 0) {
			var q = Math.sqrt(d);
			if(c1 < 0) {
				q = -q;
			}
			q = -(c1 + q) / 2;
			var r0 = q / c2;
			var r1 = c / q;
			var r = Math.abs(r0) < Math.abs(r1) ? r0 : r1;
			if(r * r <= dd) {
				y = Math.sqrt(dd - r * r) * bendDir;
				a1 = ta - Math.atan2(y,r);
				a2 = Math.atan2(y / psy,(r - l1) / psx);
				done = true;
			}
		}
		if(!done) {
			var minAngle = 0;
			var minDist = Infinity;
			var minX = 0;
			var minY = 0;
			var maxAngle = 0;
			var maxDist = 0;
			var maxX = 0;
			var maxY = 0;
			x = l1 + a;
			d = x * x;
			if(d > maxDist) {
				maxAngle = 0;
				maxDist = d;
				maxX = x;
			}
			x = l1 - a;
			d = x * x;
			if(d < minDist) {
				minAngle = Math.PI;
				minDist = d;
				minX = x;
			}
			var angle = Math.acos(-a * l1 / (aa - bb));
			x = a * Math.cos(angle) + l1;
			y = b * Math.sin(angle);
			d = x * x + y * y;
			if(d < minDist) {
				minAngle = angle;
				minDist = d;
				minX = x;
				minY = y;
			}
			if(d > maxDist) {
				maxAngle = angle;
				maxDist = d;
				maxX = x;
				maxY = y;
			}
			if(dd <= (minDist + maxDist) / 2) {
				a1 = ta - Math.atan2(minY * bendDir,minX);
				a2 = minAngle * bendDir;
			} else {
				a1 = ta - Math.atan2(maxY * bendDir,maxX);
				a2 = maxAngle * bendDir;
			}
		}
	}
	var os = Math.atan2(cy,cx) * s2;
	var rotation = parent.rotation;
	a1 = (a1 - os) * workinman_display_spine_MathUtils.radDeg + os1 - rotation;
	if(a1 > 180) {
		a1 -= 360;
	} else if(a1 < -180) {
		a1 += 360;
	}
	parent.updateWorldTransformWith(px,py,rotation + a1 * alpha,parent.scaleX,parent.scaleY,0,0);
	rotation = child.rotation;
	a2 = ((a2 + os) * workinman_display_spine_MathUtils.radDeg - child.shearX) * s2 + os2 - rotation;
	if(a2 > 180) {
		a2 -= 360;
	} else if(a2 < -180) {
		a2 += 360;
	}
	child.updateWorldTransformWith(cx,cy,rotation + a2 * alpha,child.scaleX,child.scaleY,child.shearX,child.shearY);
};
workinman_display_spine_IkConstraint.prototype = {
	dispose: function() {
		this._data.dispose();
		this._data = null;
		this.bones = null;
		this.target = null;
	}
	,update: function() {
		var _g = this.bones.length;
		switch(_g) {
		case 1:
			workinman_display_spine_IkConstraint.apply1(this.bones[0],this.target.get_worldX(),this.target.get_worldY(),this.mix);
			break;
		case 2:
			workinman_display_spine_IkConstraint.apply2(this.bones[0],this.bones[1],this.target.get_worldX(),this.target.get_worldY(),this.bendDirection,this.mix);
			break;
		}
	}
	,get_data: function() {
		return this._data;
	}
	,__class__: workinman_display_spine_IkConstraint
	,__properties__: {get_data:"get_data"}
};
var workinman_display_spine_IkConstraintData = function(pName) {
	this.mix = 1;
	this.bendDirection = 1;
	this.bones = [];
	if(pName == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("name cannot be null."));
	}
	this.name = pName;
};
$hxClasses["workinman.display.spine.IkConstraintData"] = workinman_display_spine_IkConstraintData;
workinman_display_spine_IkConstraintData.__name__ = ["workinman","display","spine","IkConstraintData"];
workinman_display_spine_IkConstraintData.prototype = {
	dispose: function() {
		this.bones = null;
		this.target = null;
	}
	,__class__: workinman_display_spine_IkConstraintData
};
var workinman_display_spine_MathUtils = function() { };
$hxClasses["workinman.display.spine.MathUtils"] = workinman_display_spine_MathUtils;
workinman_display_spine_MathUtils.__name__ = ["workinman","display","spine","MathUtils"];
var workinman_display_spine_Polygon = function() {
	this.vertices = [];
};
$hxClasses["workinman.display.spine.Polygon"] = workinman_display_spine_Polygon;
workinman_display_spine_Polygon.__name__ = ["workinman","display","spine","Polygon"];
workinman_display_spine_Polygon.prototype = {
	dispose: function() {
		this.vertices = null;
	}
	,containsPoint: function(x,y) {
		var nn = this.vertices.length;
		var prevIndex = nn - 2;
		var inside = false;
		var ii = 0;
		while(ii < nn) {
			var vertexY = this.vertices[ii + 1];
			var prevY = this.vertices[prevIndex + 1];
			if(vertexY < y && prevY >= y || prevY < y && vertexY >= y) {
				var vertexX = this.vertices[ii];
				if(vertexX + (y - vertexY) / (prevY - vertexY) * (this.vertices[prevIndex] - vertexX) < x) {
					inside = !inside;
				}
			}
			prevIndex = ii;
			ii += 2;
		}
		return inside;
	}
	,__class__: workinman_display_spine_Polygon
};
var workinman_display_spine_Skeleton = function(data) {
	this.y = 0;
	this.x = 0;
	this.flipY = false;
	this.flipX = false;
	this.time = 0;
	this.a = 1;
	this.b = 1;
	this.g = 1;
	this.r = 1;
	this._updateCache = [];
	if(data == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("data cannot be null."));
	}
	this._data = data;
	this.bones = [];
	var _g = 0;
	var _g1 = data.bones;
	while(_g < _g1.length) {
		var boneData = _g1[_g];
		++_g;
		var parent = boneData.parent == null ? null : this.bones[data.bones.indexOf(boneData.parent)];
		this.bones[this.bones.length] = new workinman_display_spine_Bone(boneData,this,parent);
	}
	this.slots = [];
	this.drawOrder = [];
	var _g2 = 0;
	var _g11 = data.slots;
	while(_g2 < _g11.length) {
		var slotData = _g11[_g2];
		++_g2;
		var bone = this.bones[data.bones.indexOf(slotData.get_boneData())];
		var slot = new workinman_display_spine_Slot(slotData,bone);
		this.slots[this.slots.length] = slot;
		this.drawOrder[this.drawOrder.length] = slot;
	}
	this.ikConstraints = [];
	var _g3 = 0;
	var _g12 = data.ikConstraints;
	while(_g3 < _g12.length) {
		var ikConstraintData = _g12[_g3];
		++_g3;
		this.ikConstraints[this.ikConstraints.length] = new workinman_display_spine_IkConstraint(ikConstraintData,this);
	}
	this.transformConstraints = [];
	var _g4 = 0;
	var _g13 = data.transformConstraints;
	while(_g4 < _g13.length) {
		var transformConstraintData = _g13[_g4];
		++_g4;
		this.transformConstraints[this.transformConstraints.length] = new workinman_display_spine_TransformConstraint(transformConstraintData,this);
	}
	this.updateCache();
};
$hxClasses["workinman.display.spine.Skeleton"] = workinman_display_spine_Skeleton;
workinman_display_spine_Skeleton.__name__ = ["workinman","display","spine","Skeleton"];
workinman_display_spine_Skeleton.prototype = {
	dispose: function() {
		this._data.dispose();
		this._data = null;
		var _g = 0;
		var _g1 = this.bones;
		while(_g < _g1.length) {
			var b = _g1[_g];
			++_g;
			b.dispose();
		}
		this.bones = null;
		var _g2 = 0;
		var _g11 = this.slots;
		while(_g2 < _g11.length) {
			var s = _g11[_g2];
			++_g2;
			s.dispose();
		}
		this.slots = null;
		this.drawOrder = null;
		var _g3 = 0;
		var _g12 = this.ikConstraints;
		while(_g3 < _g12.length) {
			var ik = _g12[_g3];
			++_g3;
			ik.dispose();
		}
		this.ikConstraints = null;
		var _g4 = 0;
		var _g13 = this.transformConstraints;
		while(_g4 < _g13.length) {
			var tk = _g13[_g4];
			++_g4;
			tk.dispose();
		}
		this.transformConstraints = null;
		this._updateCache = null;
		if(this.get_skin() != null) {
			this.get_skin().dispose();
		}
		this.set_skin(null);
	}
	,updateCache: function() {
		var updateCache = this._updateCache;
		var ikConstraints = this.ikConstraints;
		var transformConstraints = this.transformConstraints;
		var i = 0;
		var length = this.bones.length + ikConstraints.length;
		var _g1 = 0;
		var _g = length;
		while(_g1 < _g) {
			var i1 = _g1++;
			updateCache.push(null);
		}
		var _g2 = 0;
		var _g11 = this.bones;
		while(_g2 < _g11.length) {
			var bone = _g11[_g2];
			++_g2;
			updateCache[i++] = bone;
			var _g21 = 0;
			while(_g21 < ikConstraints.length) {
				var ikConstraint = ikConstraints[_g21];
				++_g21;
				if(bone == ikConstraint.bones[ikConstraint.bones.length - 1]) {
					updateCache[i++] = ikConstraint;
					break;
				}
			}
		}
		var _g3 = 0;
		while(_g3 < transformConstraints.length) {
			var transformConstraint = transformConstraints[_g3];
			++_g3;
			var ii = updateCache.length - 1;
			while(ii >= 0) {
				var updateable = updateCache[ii];
				if(updateable == transformConstraint.bone || updateable == transformConstraint.target) {
					updateCache.splice(ii + 1,0,transformConstraint);
					break;
				}
				updateable = null;
				--ii;
			}
		}
	}
	,updateWorldTransform: function() {
		var _g = 0;
		var _g1 = this._updateCache;
		while(_g < _g1.length) {
			var updatable = _g1[_g];
			++_g;
			updatable.update();
		}
	}
	,setToSetupPose: function() {
		this.setBonesToSetupPose();
		this.setSlotsToSetupPose();
	}
	,setBonesToSetupPose: function() {
		var _g = 0;
		var _g1 = this.bones;
		while(_g < _g1.length) {
			var bone = _g1[_g];
			++_g;
			bone.setToSetupPose();
		}
		var _g2 = 0;
		var _g11 = this.ikConstraints;
		while(_g2 < _g11.length) {
			var ikConstraint = _g11[_g2];
			++_g2;
			ikConstraint.bendDirection = ikConstraint.get_data().bendDirection;
			ikConstraint.mix = ikConstraint.get_data().mix;
		}
		var _g3 = 0;
		var _g12 = this.transformConstraints;
		while(_g3 < _g12.length) {
			var transformConstraint = _g12[_g3];
			++_g3;
			transformConstraint.translateMix = transformConstraint.get_data().translateMix;
			transformConstraint.rotateMix = transformConstraint.get_data().rotateMix;
			transformConstraint.scaleMix = transformConstraint.get_data().scaleMix;
			transformConstraint.shearMix = transformConstraint.get_data().shearMix;
		}
	}
	,setSlotsToSetupPose: function() {
		var i = 0;
		var _g = 0;
		var _g1 = this.slots;
		while(_g < _g1.length) {
			var slot = _g1[_g];
			++_g;
			this.drawOrder[i++] = slot;
			slot.setToSetupPose();
		}
	}
	,get_data: function() {
		return this._data;
	}
	,findBone: function(boneName) {
		if(boneName == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("boneName cannot be null."));
		}
		var _g = 0;
		var _g1 = this.bones;
		while(_g < _g1.length) {
			var bone = _g1[_g];
			++_g;
			if(bone.get_data().name == boneName) {
				return bone;
			}
		}
		return null;
	}
	,findSlot: function(slotName) {
		if(slotName == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("slotName cannot be null."));
		}
		var _g = 0;
		var _g1 = this.slots;
		while(_g < _g1.length) {
			var slot = _g1[_g];
			++_g;
			if(slot.get_data().get_name() == slotName) {
				return slot;
			}
		}
		return null;
	}
	,get_skin: function() {
		return this._skin;
	}
	,set_skinName: function(skinName) {
		var skin = this.get_data().findSkin(skinName);
		if(skin == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Skin not found: " + skinName));
		}
		if(this._skin != null && skinName == this._skin.get_name()) {
			return this._skin.get_name();
		}
		this.set_skin(skin);
		if(this._skin == null) {
			return null;
		} else {
			return this._skin.get_name();
		}
	}
	,set_skin: function(newSkin) {
		if(newSkin != null) {
			if(this.get_skin() != null) {
				newSkin.attachAll(this,this.get_skin());
			} else {
				var i = 0;
				var _g = 0;
				var _g1 = this.slots;
				while(_g < _g1.length) {
					var slot = _g1[_g];
					++_g;
					var name = slot.get_data().attachmentName;
					if(name != "") {
						var attachment = newSkin.getAttachment(i,name);
						if(attachment != null) {
							slot.set_attachment(attachment);
						}
					}
					++i;
				}
			}
		}
		this._skin = newSkin;
		return this._skin;
	}
	,getAttachmentForSlotIndex: function(slotIndex,attachmentName) {
		if(attachmentName == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("attachmentName cannot be null."));
		}
		if(this.get_skin() != null) {
			var attachment = this.get_skin().getAttachment(slotIndex,attachmentName);
			if(attachment != null) {
				return attachment;
			}
		}
		if(this.get_data().defaultSkin != null) {
			return this.get_data().defaultSkin.getAttachment(slotIndex,attachmentName);
		}
		return null;
	}
	,setAttachment: function(slotName,attachmentName) {
		if(slotName == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("slotName cannot be null."));
		}
		var i = 0;
		var _g = 0;
		var _g1 = this.slots;
		while(_g < _g1.length) {
			var slot = _g1[_g];
			++_g;
			if(slot.get_data().get_name() == slotName) {
				var attachment = null;
				if(attachmentName != null) {
					attachment = this.getAttachmentForSlotIndex(i,attachmentName);
					if(attachment == null) {
						throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Attachment not found: " + attachmentName + ", for slot: " + slotName));
					}
				}
				slot.set_attachment(attachment);
				return;
			}
			++i;
		}
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Slot not found: " + slotName));
	}
	,__class__: workinman_display_spine_Skeleton
	,__properties__: {set_skinName:"set_skinName",set_skin:"set_skin",get_skin:"get_skin",get_data:"get_data"}
};
var workinman_display_spine_SkeletonBounds = function() {
	this.polygonPool = [];
	this.boundingBoxes = [];
	this.polygons = [];
};
$hxClasses["workinman.display.spine.SkeletonBounds"] = workinman_display_spine_SkeletonBounds;
workinman_display_spine_SkeletonBounds.__name__ = ["workinman","display","spine","SkeletonBounds"];
workinman_display_spine_SkeletonBounds.prototype = {
	dispose: function() {
		var _g = 0;
		var _g1 = this.boundingBoxes;
		while(_g < _g1.length) {
			var b = _g1[_g];
			++_g;
			if(b != null) {
				b.dispose();
			}
		}
		this.boundingBoxes = null;
		var _g2 = 0;
		var _g11 = this.polygons;
		while(_g2 < _g11.length) {
			var p = _g11[_g2];
			++_g2;
			if(p != null) {
				p.dispose();
			}
		}
		this.polygons = null;
		var _g3 = 0;
		var _g12 = this.polygonPool;
		while(_g3 < _g12.length) {
			var p1 = _g12[_g3];
			++_g3;
			if(p1 != null) {
				p1.dispose();
			}
		}
		this.polygonPool = null;
	}
	,update: function(skeleton,updateAabb) {
		var slots = skeleton.slots;
		var slotCount = slots.length;
		var x = skeleton.x;
		var y = skeleton.y;
		this.boundingBoxes = [];
		var _g = 0;
		var _g1 = this.polygons;
		while(_g < _g1.length) {
			var polygon = _g1[_g];
			++_g;
			this.polygonPool[this.polygonPool.length] = polygon;
		}
		this.polygons = [];
		var polygon1;
		var _g11 = 0;
		var _g2 = slotCount;
		while(_g11 < _g2) {
			var i = _g11++;
			var slot = slots[i];
			var boundingBox = null;
			if(js_Boot.__instanceof(slot.get_attachment(),workinman_display_spine_attachments_BoundingBoxAttachment)) {
				boundingBox = js_Boot.__cast(slot.get_attachment() , workinman_display_spine_attachments_BoundingBoxAttachment);
			}
			if(boundingBox == null) {
				continue;
			}
			this.boundingBoxes[this.boundingBoxes.length] = boundingBox;
			var poolCount = this.polygonPool.length;
			if(poolCount > 0) {
				polygon1 = this.polygonPool[poolCount - 1];
				this.polygonPool.splice(poolCount - 1,1);
			} else {
				polygon1 = new workinman_display_spine_Polygon();
			}
			this.polygons[this.polygons.length] = polygon1;
			boundingBox.computeWorldVertices(x,y,slot.get_bone(),polygon1.vertices);
		}
		if(updateAabb) {
			this.aabbCompute();
		}
	}
	,aabbCompute: function() {
		var minX = 2147483647;
		var minY = 2147483647;
		var maxX = -2147483648;
		var maxY = -2147483648;
		var _g1 = 0;
		var _g = this.polygons.length;
		while(_g1 < _g) {
			var i = _g1++;
			var polygon = this.polygons[i];
			var vertices = polygon.vertices;
			var ii = 0;
			var nn = vertices.length;
			while(ii < nn) {
				var x = vertices[ii];
				var y = vertices[ii + 1];
				minX = Math.min(minX,x);
				minY = Math.min(minY,y);
				maxX = Math.max(maxX,x);
				maxY = Math.max(maxY,y);
				ii += 2;
			}
		}
		this.minX = minX;
		this.minY = minY;
		this.maxX = maxX;
		this.maxY = maxY;
	}
	,aabbContainsPoint: function(x,y) {
		if(x >= this.minX && x <= this.maxX && y >= this.minY) {
			return y <= this.maxY;
		} else {
			return false;
		}
	}
	,containsPoint: function(x,y) {
		var _g1 = 0;
		var _g = this.polygons.length;
		while(_g1 < _g) {
			var i = _g1++;
			if(this.polygons[i].containsPoint(x,y)) {
				return this.boundingBoxes[i];
			}
		}
		return null;
	}
	,__class__: workinman_display_spine_SkeletonBounds
};
var workinman_display_spine_SkeletonData = function() {
	this.transformConstraints = [];
	this.ikConstraints = [];
	this.animations = [];
	this.events = [];
	this.skins = [];
	this.slots = [];
	this.bones = [];
};
$hxClasses["workinman.display.spine.SkeletonData"] = workinman_display_spine_SkeletonData;
workinman_display_spine_SkeletonData.__name__ = ["workinman","display","spine","SkeletonData"];
workinman_display_spine_SkeletonData.prototype = {
	dispose: function() {
		this.bones = null;
		this.slots = null;
		this.skins = null;
		this.defaultSkin = null;
		this.events = null;
		this.animations = null;
		this.ikConstraints = null;
	}
	,findBone: function(boneName) {
		if(boneName == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("boneName cannot be null."));
		}
		var _g1 = 0;
		var _g = this.bones.length;
		while(_g1 < _g) {
			var i = _g1++;
			var bone = this.bones[i];
			if(bone.name == boneName) {
				return bone;
			}
		}
		return null;
	}
	,findBoneIndex: function(boneName) {
		if(boneName == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("boneName cannot be null."));
		}
		var _g1 = 0;
		var _g = this.bones.length;
		while(_g1 < _g) {
			var i = _g1++;
			if(this.bones[i].name == boneName) {
				return i;
			}
		}
		return -1;
	}
	,findSlotIndex: function(slotName) {
		if(slotName == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("slotName cannot be null."));
		}
		var _g1 = 0;
		var _g = this.slots.length;
		while(_g1 < _g) {
			var i = _g1++;
			if(this.slots[i].get_name() == slotName) {
				return i;
			}
		}
		return -1;
	}
	,findSkin: function(skinName) {
		if(skinName == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("skinName cannot be null."));
		}
		var _g = 0;
		var _g1 = this.skins;
		while(_g < _g1.length) {
			var skin = _g1[_g];
			++_g;
			if(skin.get_name() == skinName) {
				return skin;
			}
		}
		return null;
	}
	,findEvent: function(eventName) {
		if(eventName == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("eventName cannot be null."));
		}
		var _g = 0;
		var _g1 = this.events;
		while(_g < _g1.length) {
			var eventData = _g1[_g];
			++_g;
			if(eventData.name == eventName) {
				return eventData;
			}
		}
		return null;
	}
	,findAnimation: function(animationName) {
		if(animationName == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("animationName cannot be null."));
		}
		var _g = 0;
		var _g1 = this.animations;
		while(_g < _g1.length) {
			var animation = _g1[_g];
			++_g;
			if(animation.get_name() == animationName) {
				return animation;
			}
		}
		return null;
	}
	,findIkConstraint: function(constraintName) {
		if(constraintName == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("constraintName cannot be null."));
		}
		var _g = 0;
		var _g1 = this.ikConstraints;
		while(_g < _g1.length) {
			var ikConstraintData = _g1[_g];
			++_g;
			if(ikConstraintData.name == constraintName) {
				return ikConstraintData;
			}
		}
		return null;
	}
	,__class__: workinman_display_spine_SkeletonData
};
var workinman_display_spine_SkeletonJson = function(attachmentLoader) {
	this.scale = 1;
	this.attachmentLoader = attachmentLoader;
};
$hxClasses["workinman.display.spine.SkeletonJson"] = workinman_display_spine_SkeletonJson;
workinman_display_spine_SkeletonJson.__name__ = ["workinman","display","spine","SkeletonJson"];
workinman_display_spine_SkeletonJson.readCurve = function(timeline,frameIndex,valueMap) {
	var curve = Reflect.field(valueMap,"curve");
	if(curve == null) {
		return;
	}
	if(curve == "stepped") {
		timeline.setStepped(frameIndex);
	} else if((curve instanceof Array) && curve.__enum__ == null) {
		timeline.setCurve(frameIndex,curve[0],curve[1],curve[2],curve[3]);
	} else {
		var value = Reflect.field(valueMap,"c2");
		var value1 = Reflect.field(valueMap,"c3");
		var value2 = Reflect.field(valueMap,"c4");
		timeline.setCurve(frameIndex,curve,value == null ? 0 : js_Boot.__cast(value , Float),value1 == null ? 1 : js_Boot.__cast(value1 , Float),value2 == null ? 1 : js_Boot.__cast(value2 , Float));
	}
};
workinman_display_spine_SkeletonJson.toColor = function(hexString,colorIndex) {
	if(hexString.length != 8) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Color hexidecimal length must be 8, recieved: " + hexString));
	}
	return Std.parseInt("0x" + hexString.substring(colorIndex * 2,colorIndex * 2 + 2)) / 255;
};
workinman_display_spine_SkeletonJson.getFloatArray = function(map,name,scale) {
	var list = Reflect.field(map,name);
	var values = [];
	var i = 0;
	var n = list.length;
	if(scale == 1) {
		var _g1 = 0;
		var _g = n;
		while(_g1 < _g) {
			var i1 = _g1++;
			values[i1] = list[i1];
		}
	} else {
		var _g11 = 0;
		var _g2 = n;
		while(_g11 < _g2) {
			var i2 = _g11++;
			values[i2] = list[i2] * scale;
		}
	}
	return values;
};
workinman_display_spine_SkeletonJson.getIntArray = function(map,name) {
	var list = Reflect.field(map,name);
	var values = [];
	var _g1 = 0;
	var _g = list.length;
	while(_g1 < _g) {
		var i = _g1++;
		values[i] = list[i];
	}
	return values;
};
workinman_display_spine_SkeletonJson.getUIntArray = function(map,name) {
	var list = Reflect.field(map,name);
	var values = [];
	var _g1 = 0;
	var _g = list.length;
	while(_g1 < _g) {
		var i = _g1++;
		values[i] = list[i];
	}
	return values;
};
workinman_display_spine_SkeletonJson.prototype = {
	readSkeletonData: function(object,name) {
		if(object == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("object cannot be null."));
		}
		var this1 = JSON.parse(object);
		var root = this1;
		var skeletonData = new workinman_display_spine_SkeletonData();
		skeletonData.name = name;
		if(Object.prototype.hasOwnProperty.call(root,"skeleton")) {
			var this2 = Reflect.field(root,"skeleton");
			var skeletonMap = this2;
			var value = Reflect.field(skeletonMap,"hash");
			skeletonData.hash = value == null ? null : Std.string(value);
			var value1 = Reflect.field(skeletonMap,"spine");
			skeletonData.version = value1 == null ? null : Std.string(value1);
			var value2 = Reflect.field(skeletonMap,"width");
			skeletonData.width = value2 == null ? 0 : js_Boot.__cast(value2 , Float);
			var value3 = Reflect.field(skeletonMap,"height");
			skeletonData.height = value3 == null ? 0 : js_Boot.__cast(value3 , Float);
		}
		var _g = 0;
		var _g1 = Reflect.field(root,"bones");
		while(_g < _g1.length) {
			var boneMap = _g1[_g];
			++_g;
			var parent = null;
			var value4 = Reflect.field(boneMap,"parent");
			var parentName = value4 == null ? null : Std.string(value4);
			if(parentName != null) {
				parent = skeletonData.findBone(parentName);
				if(parent == null) {
					throw new js__$Boot_HaxeError("Parent bone not found: " + parentName);
				}
			}
			var value5 = Reflect.field(boneMap,"name");
			var boneData = new workinman_display_spine_BoneData(value5 == null ? null : Std.string(value5),parent);
			var value6 = Reflect.field(boneMap,"length");
			boneData.length = (value6 == null ? 0 : js_Boot.__cast(value6 , Float)) * this.scale;
			var value7 = Reflect.field(boneMap,"x");
			boneData.x = (value7 == null ? 0 : js_Boot.__cast(value7 , Float)) * this.scale;
			var value8 = Reflect.field(boneMap,"y");
			boneData.y = (value8 == null ? 0 : js_Boot.__cast(value8 , Float)) * this.scale;
			var value9 = Reflect.field(boneMap,"rotation");
			boneData.rotation = value9 == null ? 0 : js_Boot.__cast(value9 , Float);
			var value10 = Reflect.field(boneMap,"scaleX");
			boneData.scaleX = value10 == null ? 1 : js_Boot.__cast(value10 , Float);
			var value11 = Reflect.field(boneMap,"scaleY");
			boneData.scaleY = value11 == null ? 1 : js_Boot.__cast(value11 , Float);
			var value12 = Reflect.field(boneMap,"shearX");
			boneData.shearX = value12 == null ? 0 : js_Boot.__cast(value12 , Float);
			var value13 = Reflect.field(boneMap,"shearY");
			boneData.shearY = value13 == null ? 0 : js_Boot.__cast(value13 , Float);
			var value14 = Reflect.field(boneMap,"inheritScale");
			boneData.inheritScale = value14 == null ? true : js_Boot.__cast(value14 , Bool);
			var value15 = Reflect.field(boneMap,"inheritRotation");
			boneData.inheritRotation = value15 == null ? true : js_Boot.__cast(value15 , Bool);
			skeletonData.bones.push(boneData);
		}
		if(Object.prototype.hasOwnProperty.call(root,"ik")) {
			var _g2 = 0;
			var _g11 = Reflect.field(root,"ik");
			while(_g2 < _g11.length) {
				var ikMap = _g11[_g2];
				++_g2;
				var value16 = Reflect.field(ikMap,"name");
				var ikConstraintData = new workinman_display_spine_IkConstraintData(value16 == null ? null : Std.string(value16));
				var _g21 = 0;
				var _g3 = Reflect.field(ikMap,"bones");
				while(_g21 < _g3.length) {
					var boneName = _g3[_g21];
					++_g21;
					var bone = skeletonData.findBone(boneName);
					if(bone == null) {
						throw new js__$Boot_HaxeError("IK bone not found: " + boneName);
					}
					ikConstraintData.bones.push(bone);
				}
				var value17 = Reflect.field(ikMap,"target");
				ikConstraintData.target = skeletonData.findBone(value17 == null ? null : Std.string(value17));
				if(ikConstraintData.target == null) {
					var value18 = Reflect.field(ikMap,"target");
					throw new js__$Boot_HaxeError("Target bone not found: " + (value18 == null ? null : Std.string(value18)));
				}
				var tmp;
				var value19 = Reflect.field(ikMap,"bendPositive");
				if(value19 == null ? true : js_Boot.__cast(value19 , Bool)) {
					tmp = 1;
				} else {
					tmp = -1;
				}
				ikConstraintData.bendDirection = tmp;
				var value20 = Reflect.field(ikMap,"mix");
				ikConstraintData.mix = value20 == null ? 1 : js_Boot.__cast(value20 , Float);
				skeletonData.ikConstraints.push(ikConstraintData);
			}
		}
		var transformArray = Reflect.field(root,"transform");
		if(transformArray != null) {
			var _g4 = 0;
			var _g12 = Reflect.field(root,"transform");
			while(_g4 < _g12.length) {
				var transformMap = _g12[_g4];
				++_g4;
				var value21 = Reflect.field(transformMap,"name");
				var transformConstraintData = new workinman_display_spine_TransformConstraintData(value21 == null ? null : Std.string(value21));
				var value22 = Reflect.field(transformMap,"bone");
				var boneName1 = value22 == null ? null : Std.string(value22);
				transformConstraintData.bone = skeletonData.findBone(boneName1);
				if(transformConstraintData.bone == null) {
					throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Bone not found: " + boneName1));
				}
				var value23 = Reflect.field(transformMap,"target");
				var targetName = value23 == null ? null : Std.string(value23);
				transformConstraintData.target = skeletonData.findBone(targetName);
				if(transformConstraintData.target == null) {
					throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Target bone not found: " + targetName));
				}
				var value24 = Reflect.field(transformMap,"rotation");
				transformConstraintData.offsetRotation = value24 == null ? 0 : js_Boot.__cast(value24 , Float);
				var value25 = Reflect.field(transformMap,"x");
				transformConstraintData.offsetX = (value25 == null ? 0 : js_Boot.__cast(value25 , Float)) * this.scale;
				var value26 = Reflect.field(transformMap,"y");
				transformConstraintData.offsetY = (value26 == null ? 0 : js_Boot.__cast(value26 , Float)) * this.scale;
				var value27 = Reflect.field(transformMap,"scaleX");
				transformConstraintData.offsetScaleX = (value27 == null ? 0 : js_Boot.__cast(value27 , Float)) * this.scale;
				var value28 = Reflect.field(transformMap,"scaleY");
				transformConstraintData.offsetScaleY = (value28 == null ? 0 : js_Boot.__cast(value28 , Float)) * this.scale;
				var value29 = Reflect.field(transformMap,"shearY");
				transformConstraintData.offsetShearY = (value29 == null ? 0 : js_Boot.__cast(value29 , Float)) * this.scale;
				var value30 = Reflect.field(transformMap,"rotateMix");
				transformConstraintData.rotateMix = value30 == null ? 1 : js_Boot.__cast(value30 , Float);
				var value31 = Reflect.field(transformMap,"translateMix");
				transformConstraintData.translateMix = value31 == null ? 1 : js_Boot.__cast(value31 , Float);
				var value32 = Reflect.field(transformMap,"scaleMix");
				transformConstraintData.scaleMix = value32 == null ? 1 : js_Boot.__cast(value32 , Float);
				var value33 = Reflect.field(transformMap,"shearMix");
				transformConstraintData.shearMix = value33 == null ? 1 : js_Boot.__cast(value33 , Float);
				skeletonData.transformConstraints.push(transformConstraintData);
			}
		}
		transformArray = null;
		var _g5 = 0;
		var _g13 = Reflect.field(root,"slots");
		while(_g5 < _g13.length) {
			var slotMap = _g13[_g5];
			++_g5;
			var value34 = Reflect.field(slotMap,"bone");
			var boneName2 = value34 == null ? null : Std.string(value34);
			var boneData1 = skeletonData.findBone(boneName2);
			if(boneData1 == null) {
				throw new js__$Boot_HaxeError("Slot bone not found: " + boneName2);
			}
			var value35 = Reflect.field(slotMap,"name");
			var slotData = new workinman_display_spine_SlotData(value35 == null ? null : Std.string(value35),boneData1);
			var value36 = Reflect.field(slotMap,"color");
			var color = value36 == null ? null : Std.string(value36);
			if(color != null) {
				slotData.r = workinman_display_spine_SkeletonJson.toColor(color,0);
				slotData.g = workinman_display_spine_SkeletonJson.toColor(color,1);
				slotData.b = workinman_display_spine_SkeletonJson.toColor(color,2);
				slotData.a = workinman_display_spine_SkeletonJson.toColor(color,3);
			}
			var value37 = Reflect.field(slotMap,"attachment");
			slotData.attachmentName = value37 == null ? null : Std.string(value37);
			var value38 = Reflect.field(slotMap,"blend");
			slotData.blendMode = value38 == null ? "normal" : Std.string(value38);
			skeletonData.slots.push(slotData);
		}
		var tNodesArray = Reflect.field(root,"skins");
		if(tNodesArray.length > 0) {
			var _g6 = 0;
			while(_g6 < tNodesArray.length) {
				var skinNode = tNodesArray[_g6];
				++_g6;
				var value39 = Reflect.field(skinNode,"name");
				var skinName = value39 == null ? null : Std.string(value39);
				var this3 = Reflect.field(skinNode,"attachments");
				var skinMap = this3;
				var skin = new workinman_display_spine_Skin(skinName);
				var _g14 = 0;
				var _g22 = Reflect.fields(skinMap);
				while(_g14 < _g22.length) {
					var slotName = _g22[_g14];
					++_g14;
					var slotIndex = skeletonData.findSlotIndex(slotName);
					var this4 = Reflect.field(skinMap,slotName);
					var slotEntry = this4;
					var _g31 = 0;
					var _g41 = Reflect.fields(slotEntry);
					while(_g31 < _g41.length) {
						var attachmentName = _g41[_g31];
						++_g31;
						var this5 = Reflect.field(slotEntry,attachmentName);
						var attachment = this.readAttachment(skin,attachmentName,this5);
						if(attachment != null) {
							skin.addAttachment(slotIndex,attachmentName,attachment);
						}
					}
				}
				skeletonData.skins.push(skin);
				if(skin.get_name() == "default") {
					skeletonData.defaultSkin = skin;
				}
			}
		} else {
			var this6 = Reflect.field(root,"skins");
			var skins = this6;
			var _g7 = 0;
			var _g15 = Reflect.fields(skins);
			while(_g7 < _g15.length) {
				var skinName1 = _g15[_g7];
				++_g7;
				var this7 = Reflect.field(skins,skinName1);
				var skinMap1 = this7;
				var skin1 = new workinman_display_spine_Skin(skinName1);
				var _g23 = 0;
				var _g32 = Reflect.fields(skinMap1);
				while(_g23 < _g32.length) {
					var slotName1 = _g32[_g23];
					++_g23;
					var slotIndex1 = skeletonData.findSlotIndex(slotName1);
					var this8 = Reflect.field(skinMap1,slotName1);
					var slotEntry1 = this8;
					var _g42 = 0;
					var _g51 = Reflect.fields(slotEntry1);
					while(_g42 < _g51.length) {
						var attachmentName1 = _g51[_g42];
						++_g42;
						var this9 = Reflect.field(slotEntry1,attachmentName1);
						var attachment1 = this.readAttachment(skin1,attachmentName1,this9);
						if(attachment1 != null) {
							skin1.addAttachment(slotIndex1,attachmentName1,attachment1);
						}
					}
				}
				skeletonData.skins.push(skin1);
				if(skin1.get_name() == "default") {
					skeletonData.defaultSkin = skin1;
				}
			}
		}
		var this10 = Reflect.field(root,"events");
		var events = this10;
		if(events != null) {
			var _g8 = 0;
			var _g16 = Reflect.fields(events);
			while(_g8 < _g16.length) {
				var eventName = _g16[_g8];
				++_g8;
				var this11 = Reflect.field(events,eventName);
				var eventMap = this11;
				var eventData = new workinman_display_spine_EventData(eventName);
				var value40 = Reflect.field(eventMap,"int");
				eventData.intValue = value40 == null ? 0 : js_Boot.__cast(value40 , Int);
				var value41 = Reflect.field(eventMap,"float");
				eventData.floatValue = value41 == null ? 0 : js_Boot.__cast(value41 , Float);
				var value42 = Reflect.field(eventMap,"string");
				eventData.stringValue = value42 == null ? null : Std.string(value42);
				skeletonData.events.push(eventData);
			}
		}
		var this12 = Reflect.field(root,"animations");
		var animations = this12;
		var _g9 = 0;
		var _g17 = Reflect.fields(animations);
		while(_g9 < _g17.length) {
			var animationName = _g17[_g9];
			++_g9;
			var this13 = Reflect.field(animations,animationName);
			this.readAnimation(animationName,this13,skeletonData);
		}
		return skeletonData;
	}
	,readAttachment: function(skin,name,map) {
		var value = Reflect.field(map,"name");
		if(value == null) {
			name = name;
		} else {
			name = Std.string(value);
		}
		var value1 = Reflect.field(map,"type");
		var typeName = value1 == null ? "region" : Std.string(value1);
		if(typeName == "skinnedmesh") {
			typeName = "weightedmesh";
		}
		var type = new workinman_display_spine_attachments_AttachmentType(0,typeName);
		var value2 = Reflect.field(map,"path");
		var path = value2 == null ? name : Std.string(value2);
		var scale = this.scale;
		var color;
		var vertices;
		switch(typeName) {
		case "boundingbox":
			var box = this.attachmentLoader.newBoundingBoxAttachment(skin,name);
			vertices = box.vertices;
			var _g = 0;
			var _g1 = Reflect.field(map,"vertices");
			while(_g < _g1.length) {
				var poInt = _g1[_g];
				++_g;
				vertices[vertices.length] = poInt * scale;
			}
			return box;
		case "mesh":
			var mesh = this.attachmentLoader.newMeshAttachment(skin,name,path);
			if(mesh == null) {
				return null;
			}
			mesh.path = path;
			mesh.vertices = workinman_display_spine_SkeletonJson.getFloatArray(map,"vertices",scale);
			mesh.triangles = workinman_display_spine_SkeletonJson.getUIntArray(map,"triangles");
			mesh.regionUVs = workinman_display_spine_SkeletonJson.getFloatArray(map,"uvs",1);
			mesh.updateUVs();
			var value3 = Reflect.field(map,"color");
			if(value3 == null) {
				color = null;
			} else {
				color = Std.string(value3);
			}
			if(color != null && color != "") {
				mesh.r = workinman_display_spine_SkeletonJson.toColor(color,0);
				mesh.g = workinman_display_spine_SkeletonJson.toColor(color,1);
				mesh.b = workinman_display_spine_SkeletonJson.toColor(color,2);
				mesh.a = workinman_display_spine_SkeletonJson.toColor(color,3);
			}
			var value4 = Reflect.field(map,"hull");
			mesh.hullLength = (value4 == null ? 0 : js_Boot.__cast(value4 , Int)) * 2;
			if(Object.prototype.hasOwnProperty.call(map,"edges")) {
				mesh.edges = workinman_display_spine_SkeletonJson.getIntArray(map,"edges");
			}
			var value5 = Reflect.field(map,"width");
			mesh.width = (value5 == null ? 0 : js_Boot.__cast(value5 , Float)) * scale;
			var value6 = Reflect.field(map,"height");
			mesh.height = (value6 == null ? 0 : js_Boot.__cast(value6 , Float)) * scale;
			return mesh;
		case "region":
			var region = this.attachmentLoader.newRegionAttachment(skin,name,path);
			if(region == null) {
				return null;
			}
			region.path = path;
			var value7 = Reflect.field(map,"x");
			region.x = (value7 == null ? 0 : js_Boot.__cast(value7 , Float)) * scale;
			var value8 = Reflect.field(map,"y");
			region.y = (value8 == null ? 0 : js_Boot.__cast(value8 , Float)) * scale;
			var value9 = Reflect.field(map,"scaleX");
			region.scaleX = value9 == null ? 1 : js_Boot.__cast(value9 , Float);
			var value10 = Reflect.field(map,"scaleY");
			region.scaleY = value10 == null ? 1 : js_Boot.__cast(value10 , Float);
			var value11 = Reflect.field(map,"rotation");
			region.rotation = value11 == null ? 0 : js_Boot.__cast(value11 , Float);
			var value12 = Reflect.field(map,"width");
			region.width = (value12 == null ? 0 : js_Boot.__cast(value12 , Float)) * scale;
			var value13 = Reflect.field(map,"height");
			region.height = (value13 == null ? 0 : js_Boot.__cast(value13 , Float)) * scale;
			var value14 = Reflect.field(map,"color");
			if(value14 == null) {
				color = null;
			} else {
				color = Std.string(value14);
			}
			if(color != null && color != "") {
				region.r = workinman_display_spine_SkeletonJson.toColor(color,0);
				region.g = workinman_display_spine_SkeletonJson.toColor(color,1);
				region.b = workinman_display_spine_SkeletonJson.toColor(color,2);
				region.a = workinman_display_spine_SkeletonJson.toColor(color,3);
			}
			region.updateOffset();
			return region;
		case "weightedmesh":
			var weightedMesh = this.attachmentLoader.newWeightedMeshAttachment(skin,name,path);
			if(weightedMesh == null) {
				return null;
			}
			weightedMesh.path = path;
			var uvs = workinman_display_spine_SkeletonJson.getFloatArray(map,"uvs",1);
			vertices = workinman_display_spine_SkeletonJson.getFloatArray(map,"vertices",1);
			var weights = [];
			var bones = [];
			var i = 0;
			var n = vertices.length;
			while(i < n) {
				var boneCount = Math.floor(vertices[i++]);
				bones[bones.length] = boneCount;
				var nn = i + boneCount * 4;
				while(i < nn) {
					bones[bones.length] = Math.floor(vertices[i]);
					weights[weights.length] = vertices[i + 1] * scale;
					weights[weights.length] = vertices[i + 2] * scale;
					weights[weights.length] = vertices[i + 3];
					i += 4;
				}
			}
			weightedMesh.bones = bones;
			weightedMesh.weights = weights;
			weightedMesh.triangles = workinman_display_spine_SkeletonJson.getUIntArray(map,"triangles");
			weightedMesh.regionUVs = uvs;
			weightedMesh.updateUVs();
			var value15 = Reflect.field(map,"color");
			if(value15 == null) {
				color = null;
			} else {
				color = Std.string(value15);
			}
			if(color != null && color != "") {
				weightedMesh.r = workinman_display_spine_SkeletonJson.toColor(color,0);
				weightedMesh.g = workinman_display_spine_SkeletonJson.toColor(color,1);
				weightedMesh.b = workinman_display_spine_SkeletonJson.toColor(color,2);
				weightedMesh.a = workinman_display_spine_SkeletonJson.toColor(color,3);
			}
			var value16 = Reflect.field(map,"hull");
			weightedMesh.hullLength = (value16 == null ? 0 : js_Boot.__cast(value16 , Int)) * 2;
			if(Object.prototype.hasOwnProperty.call(map,"edges")) {
				weightedMesh.edges = workinman_display_spine_SkeletonJson.getIntArray(map,"edges");
			}
			var value17 = Reflect.field(map,"width");
			weightedMesh.width = (value17 == null ? 0 : js_Boot.__cast(value17 , Float)) * scale;
			var value18 = Reflect.field(map,"height");
			weightedMesh.height = (value18 == null ? 0 : js_Boot.__cast(value18 , Float)) * scale;
			return weightedMesh;
		}
		return null;
	}
	,readAnimation: function(name,map,skeletonData) {
		var timelines = [];
		var duration = 0;
		var slotMap;
		var slotIndex;
		var slotName;
		var values;
		var valueMap;
		var frameIndex;
		var i;
		var timelineName;
		var this1 = Reflect.field(map,"slots");
		var slots = this1;
		var _g = 0;
		var _g1 = Reflect.fields(slots);
		while(_g < _g1.length) {
			var slotName1 = _g1[_g];
			++_g;
			var this2 = Reflect.field(slots,slotName1);
			slotMap = this2;
			slotIndex = skeletonData.findSlotIndex(slotName1);
			var _g2 = 0;
			var _g3 = Reflect.fields(slotMap);
			while(_g2 < _g3.length) {
				var timelineName1 = _g3[_g2];
				++_g2;
				values = Reflect.field(slotMap,timelineName1);
				if(timelineName1 == "color") {
					var colorTimeline = new workinman_display_spine_animation_ColorTimeline(values.length);
					colorTimeline.slotIndex = slotIndex;
					frameIndex = 0;
					var _g4 = 0;
					while(_g4 < values.length) {
						var valueMap1 = values[_g4];
						++_g4;
						var value = Reflect.field(valueMap1,"color");
						var color = value == null ? null : Std.string(value);
						var r = workinman_display_spine_SkeletonJson.toColor(color,0);
						var g = workinman_display_spine_SkeletonJson.toColor(color,1);
						var b = workinman_display_spine_SkeletonJson.toColor(color,2);
						var a = workinman_display_spine_SkeletonJson.toColor(color,3);
						var value1 = Reflect.field(valueMap1,"time");
						colorTimeline.setFrame(frameIndex,value1 == null ? 0 : js_Boot.__cast(value1 , Float),r,g,b,a);
						workinman_display_spine_SkeletonJson.readCurve(colorTimeline,frameIndex,valueMap1);
						++frameIndex;
					}
					timelines[timelines.length] = colorTimeline;
					duration = Math.max(duration,colorTimeline.frames[colorTimeline.get_frameCount() * 5 - 5]);
				} else if(timelineName1 == "attachment") {
					var attachmentTimeline = new workinman_display_spine_animation_AttachmentTimeline(values.length);
					attachmentTimeline.slotIndex = slotIndex;
					frameIndex = 0;
					var _g41 = 0;
					while(_g41 < values.length) {
						var valueMap2 = values[_g41];
						++_g41;
						var value2 = Reflect.field(valueMap2,"time");
						var value3 = Reflect.field(valueMap2,"name");
						attachmentTimeline.setFrame(frameIndex++,value2 == null ? 0 : js_Boot.__cast(value2 , Float),value3 == null ? null : Std.string(value3));
					}
					timelines[timelines.length] = attachmentTimeline;
					duration = Math.max(duration,attachmentTimeline.frames[attachmentTimeline.get_frameCount() - 1]);
				} else {
					throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Invalid timeline type for a slot: " + timelineName1 + " (" + slotName1 + ")"));
				}
			}
		}
		var this3 = Reflect.field(map,"bones");
		var bones = this3;
		var _g5 = 0;
		var _g11 = Reflect.fields(bones);
		while(_g5 < _g11.length) {
			var boneName = _g11[_g5];
			++_g5;
			var boneIndex = skeletonData.findBoneIndex(boneName);
			if(boneIndex == -1) {
				throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Bone not found: " + boneName));
			}
			var this4 = Reflect.field(bones,boneName);
			var boneMap = this4;
			var _g21 = 0;
			var _g31 = Reflect.fields(boneMap);
			while(_g21 < _g31.length) {
				var timelineName2 = _g31[_g21];
				++_g21;
				values = Reflect.field(boneMap,timelineName2);
				if(timelineName2 == "rotate") {
					var rotateTimeline = new workinman_display_spine_animation_RotateTimeline(values.length);
					rotateTimeline.boneIndex = boneIndex;
					frameIndex = 0;
					var _g42 = 0;
					while(_g42 < values.length) {
						var valueMap3 = values[_g42];
						++_g42;
						var value4 = Reflect.field(valueMap3,"time");
						var value5 = Reflect.field(valueMap3,"angle");
						rotateTimeline.setFrame(frameIndex,value4 == null ? 0 : js_Boot.__cast(value4 , Float),value5 == null ? 0 : js_Boot.__cast(value5 , Float));
						workinman_display_spine_SkeletonJson.readCurve(rotateTimeline,frameIndex,valueMap3);
						++frameIndex;
					}
					timelines[timelines.length] = rotateTimeline;
					duration = Math.max(duration,rotateTimeline.frames[rotateTimeline.get_frameCount() * 2 - 2]);
				} else if(timelineName2 == "translate" || timelineName2 == "scale" || timelineName2 == "shear") {
					var timeline;
					var timelineScale = 1;
					if(timelineName2 == "scale") {
						timeline = new workinman_display_spine_animation_ScaleTimeline(values.length);
						timeline.boneIndex = boneIndex;
						frameIndex = 0;
						var _g43 = 0;
						while(_g43 < values.length) {
							var valueMap4 = values[_g43];
							++_g43;
							var value6 = Reflect.field(valueMap4,"x");
							var x = (value6 == null ? 1 : js_Boot.__cast(value6 , Float)) * timelineScale;
							var value7 = Reflect.field(valueMap4,"y");
							var y = (value7 == null ? 1 : js_Boot.__cast(value7 , Float)) * timelineScale;
							var value8 = Reflect.field(valueMap4,"time");
							timeline.setFrame(frameIndex,value8 == null ? 0 : js_Boot.__cast(value8 , Float),x,y);
							workinman_display_spine_SkeletonJson.readCurve(timeline,frameIndex,valueMap4);
							++frameIndex;
						}
					} else if(timelineName2 == "shear") {
						timeline = new workinman_display_spine_animation_ShearTimeline(values.length);
						timeline.boneIndex = boneIndex;
						frameIndex = 0;
						var _g44 = 0;
						while(_g44 < values.length) {
							var valueMap5 = values[_g44];
							++_g44;
							var value9 = Reflect.field(valueMap5,"x");
							var x1 = (value9 == null ? 0 : js_Boot.__cast(value9 , Float)) * timelineScale;
							var value10 = Reflect.field(valueMap5,"y");
							var y1 = (value10 == null ? 0 : js_Boot.__cast(value10 , Float)) * timelineScale;
							var value11 = Reflect.field(valueMap5,"time");
							timeline.setFrame(frameIndex,value11 == null ? 0 : js_Boot.__cast(value11 , Float),x1,y1);
							workinman_display_spine_SkeletonJson.readCurve(timeline,frameIndex,valueMap5);
							++frameIndex;
						}
					} else {
						timeline = new workinman_display_spine_animation_TranslateTimeline(values.length);
						timelineScale = this.scale;
						timeline.boneIndex = boneIndex;
						frameIndex = 0;
						var _g45 = 0;
						while(_g45 < values.length) {
							var valueMap6 = values[_g45];
							++_g45;
							var value12 = Reflect.field(valueMap6,"x");
							var x2 = (value12 == null ? 0 : js_Boot.__cast(value12 , Float)) * timelineScale;
							var value13 = Reflect.field(valueMap6,"y");
							var y2 = (value13 == null ? 0 : js_Boot.__cast(value13 , Float)) * timelineScale;
							var value14 = Reflect.field(valueMap6,"time");
							timeline.setFrame(frameIndex,value14 == null ? 0 : js_Boot.__cast(value14 , Float),x2,y2);
							workinman_display_spine_SkeletonJson.readCurve(timeline,frameIndex,valueMap6);
							++frameIndex;
						}
					}
					timelines[timelines.length] = timeline;
					duration = Math.max(duration,timeline.frames[timeline.get_frameCount() * 3 - 3]);
				} else {
					throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Invalid timeline type for a bone: " + timelineName2 + " (" + boneName + ")"));
				}
			}
		}
		var this5 = Reflect.field(map,"ik");
		var ikMap = this5;
		var _g6 = 0;
		var _g12 = Reflect.fields(ikMap);
		while(_g6 < _g12.length) {
			var ikConstraintName = _g12[_g6];
			++_g6;
			var ikConstraint = skeletonData.findIkConstraint(ikConstraintName);
			values = Reflect.field(ikMap,ikConstraintName);
			var ikTimeline = new workinman_display_spine_animation_IkConstraintTimeline(values.length);
			ikTimeline.ikConstraintIndex = skeletonData.ikConstraints.indexOf(ikConstraint);
			frameIndex = 0;
			var _g22 = 0;
			while(_g22 < values.length) {
				var valueMap7 = values[_g22];
				++_g22;
				var value15 = Reflect.field(valueMap7,"mix");
				var mix = value15 == null ? 1 : js_Boot.__cast(value15 , Float);
				var bendDirection;
				var value16 = Reflect.field(valueMap7,"bendPositive");
				if(value16 == null ? true : js_Boot.__cast(value16 , Bool)) {
					bendDirection = 1;
				} else {
					bendDirection = -1;
				}
				var value17 = Reflect.field(valueMap7,"time");
				ikTimeline.setFrame(frameIndex,value17 == null ? 0 : js_Boot.__cast(value17 , Float),mix,bendDirection);
				workinman_display_spine_SkeletonJson.readCurve(ikTimeline,frameIndex,valueMap7);
				++frameIndex;
			}
			timelines[timelines.length] = ikTimeline;
			duration = Math.max(duration,ikTimeline.frames[ikTimeline.get_frameCount() * 3 - 3]);
		}
		var this6 = Reflect.field(map,"ffd");
		var ffd = this6;
		var _g7 = 0;
		var _g13 = Reflect.fields(ffd);
		while(_g7 < _g13.length) {
			var skinName = _g13[_g7];
			++_g7;
			var skin = skeletonData.findSkin(skinName);
			var this7 = Reflect.field(ffd,skinName);
			slotMap = this7;
			var _g23 = 0;
			var _g32 = Reflect.fields(slotMap);
			while(_g23 < _g32.length) {
				var slotName2 = _g32[_g23];
				++_g23;
				slotIndex = skeletonData.findSlotIndex(slotName2);
				var this8 = Reflect.field(slotMap,slotName2);
				var meshMap = this8;
				var _g46 = 0;
				var _g51 = Reflect.fields(meshMap);
				while(_g46 < _g51.length) {
					var meshName = _g51[_g46];
					++_g46;
					values = Reflect.field(meshMap,meshName);
					var ffdTimeline = new workinman_display_spine_animation_FfdTimeline(values.length);
					var attachment = skin.getAttachment(slotIndex,meshName);
					if(attachment == null) {
						throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("FFD attachment not found: " + meshName));
					}
					ffdTimeline.slotIndex = slotIndex;
					ffdTimeline.attachment = attachment;
					var vertexCount;
					if(js_Boot.__instanceof(attachment,workinman_display_spine_attachments_MeshAttachment)) {
						vertexCount = (js_Boot.__cast(attachment , workinman_display_spine_attachments_MeshAttachment)).vertices.length;
					} else {
						vertexCount = Math.floor((js_Boot.__cast(attachment , workinman_display_spine_attachments_WeightedMeshAttachment)).weights.length / 3 * 2);
					}
					frameIndex = 0;
					var _g61 = 0;
					while(_g61 < values.length) {
						var valueMap8 = values[_g61];
						++_g61;
						var vertices;
						if(!Object.prototype.hasOwnProperty.call(valueMap8,"vertices")) {
							if(js_Boot.__instanceof(attachment,workinman_display_spine_attachments_MeshAttachment)) {
								vertices = (js_Boot.__cast(attachment , workinman_display_spine_attachments_MeshAttachment)).vertices;
							} else {
								vertices = [];
							}
						} else {
							var values1 = Reflect.field(valueMap8,"vertices");
							var verticesValue = values1;
							vertices = workinman_display_spine_ArrayUtils.allocFloat(vertexCount);
							var value18 = Reflect.field(valueMap8,"offset");
							var start = value18 == null ? 0 : js_Boot.__cast(value18 , Int);
							var n = verticesValue.length;
							if(this.scale == 1) {
								var _g8 = 0;
								var _g71 = n;
								while(_g8 < _g71) {
									var i1 = _g8++;
									vertices[i1 + start] = verticesValue[i1];
								}
							} else {
								var _g81 = 0;
								var _g72 = n;
								while(_g81 < _g72) {
									var i2 = _g81++;
									vertices[i2 + start] = verticesValue[i2] * this.scale;
								}
							}
							if(js_Boot.__instanceof(attachment,workinman_display_spine_attachments_MeshAttachment)) {
								var meshVertices = (js_Boot.__cast(attachment , workinman_display_spine_attachments_MeshAttachment)).vertices;
								var _g82 = 0;
								var _g73 = vertexCount;
								while(_g82 < _g73) {
									var i3 = _g82++;
									vertices[i3] += meshVertices[i3];
								}
							}
						}
						var value19 = Reflect.field(valueMap8,"time");
						ffdTimeline.setFrame(frameIndex,value19 == null ? 0 : js_Boot.__cast(value19 , Float),vertices);
						workinman_display_spine_SkeletonJson.readCurve(ffdTimeline,frameIndex,valueMap8);
						++frameIndex;
					}
					timelines[timelines.length] = ffdTimeline;
					duration = Math.max(duration,ffdTimeline.frames[ffdTimeline.get_frameCount() - 1]);
				}
			}
		}
		var drawOrderValues = Reflect.field(map,"drawOrder");
		if(drawOrderValues == null) {
			drawOrderValues = Reflect.field(map,"draworder");
		}
		if(drawOrderValues != null && drawOrderValues.length > 0) {
			var drawOrderTimeline = new workinman_display_spine_animation_DrawOrderTimeline(drawOrderValues.length);
			var slotCount = skeletonData.slots.length;
			frameIndex = 0;
			var _g9 = 0;
			while(_g9 < drawOrderValues.length) {
				var drawOrderMap = drawOrderValues[_g9];
				++_g9;
				var drawOrder = null;
				if(Object.prototype.hasOwnProperty.call(drawOrderMap,"offsets")) {
					drawOrder = [];
					var i4 = slotCount - 1;
					while(i4 >= 0) {
						drawOrder[i4] = -1;
						--i4;
					}
					var offsets = Reflect.field(drawOrderMap,"offsets");
					var unchanged = [];
					var originalIndex = 0;
					var unchangedIndex = 0;
					var _g14 = 0;
					while(_g14 < offsets.length) {
						var offsetMap = offsets[_g14];
						++_g14;
						var value20 = Reflect.field(offsetMap,"slot");
						slotIndex = skeletonData.findSlotIndex(value20 == null ? null : Std.string(value20));
						if(slotIndex == -1) {
							var value21 = Reflect.field(offsetMap,"slot");
							throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Slot not found: " + (value21 == null ? null : Std.string(value21))));
						}
						while(originalIndex != slotIndex) unchanged[unchangedIndex++] = originalIndex++;
						var value22 = Reflect.field(offsetMap,"offset");
						drawOrder[originalIndex + (value22 == null ? 0 : js_Boot.__cast(value22 , Int))] = originalIndex++;
					}
					while(originalIndex < slotCount) unchanged[unchangedIndex++] = originalIndex++;
					var i5 = slotCount - 1;
					while(i5 >= 0) {
						if(drawOrder[i5] == -1) {
							drawOrder[i5] = unchanged[--unchangedIndex];
						}
						--i5;
					}
				}
				var value23 = Reflect.field(drawOrderMap,"time");
				drawOrderTimeline.setFrame(frameIndex++,value23 == null ? 0 : js_Boot.__cast(value23 , Float),drawOrder);
			}
			timelines[timelines.length] = drawOrderTimeline;
			duration = Math.max(duration,drawOrderTimeline.frames[drawOrderTimeline.get_frameCount() - 1]);
		}
		var eventsMap = Reflect.field(map,"events");
		if(eventsMap != null && eventsMap.length > 0) {
			var eventTimeline = new workinman_display_spine_animation_EventTimeline(eventsMap.length);
			frameIndex = 0;
			var _g10 = 0;
			while(_g10 < eventsMap.length) {
				var eventMap = eventsMap[_g10];
				++_g10;
				var value24 = Reflect.field(eventMap,"name");
				var eventData = skeletonData.findEvent(value24 == null ? null : Std.string(value24));
				if(eventData == null) {
					var value25 = Reflect.field(eventMap,"name");
					throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Event not found: " + (value25 == null ? null : Std.string(value25))));
				}
				var value26 = Reflect.field(eventMap,"time");
				var event = new workinman_display_spine_Event(value26 == null ? 0 : js_Boot.__cast(value26 , Float),eventData);
				var defaultValue = eventData.intValue;
				var value27 = Reflect.field(eventMap,"Int");
				event.intValue = value27 == null ? defaultValue : js_Boot.__cast(value27 , Int);
				var defaultValue1 = eventData.floatValue;
				var value28 = Reflect.field(eventMap,"float");
				event.floatValue = value28 == null ? defaultValue1 : js_Boot.__cast(value28 , Float);
				var defaultValue2 = eventData.stringValue;
				var value29 = Reflect.field(eventMap,"string");
				event.stringValue = value29 == null ? defaultValue2 : Std.string(value29);
				eventTimeline.setFrame(frameIndex++,event);
			}
			timelines[timelines.length] = eventTimeline;
			duration = Math.max(duration,eventTimeline.frames[Math.floor(eventTimeline.get_frameCount() - 1)]);
		}
		skeletonData.animations[skeletonData.animations.length] = new workinman_display_spine_animation_Animation(name,timelines,duration);
	}
	,__class__: workinman_display_spine_SkeletonJson
};
var workinman_display_spine_Skin = function(name) {
	this._attachments = [];
	if(name == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("name cannot be null."));
	}
	this._name = name;
};
$hxClasses["workinman.display.spine.Skin"] = workinman_display_spine_Skin;
workinman_display_spine_Skin.__name__ = ["workinman","display","spine","Skin"];
workinman_display_spine_Skin.prototype = {
	dispose: function() {
		this._attachments = null;
	}
	,addAttachment: function(slotIndex,name,attachment) {
		if(attachment == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("attachment cannot be null."));
		}
		if(this.get_attachments()[slotIndex] == null) {
			this.get_attachments()[slotIndex] = new haxe_ds_StringMap();
		}
		var _this = this.get_attachments()[slotIndex];
		if(__map_reserved[name] != null) {
			_this.setReserved(name,attachment);
		} else {
			_this.h[name] = attachment;
		}
	}
	,getAttachment: function(slotIndex,name) {
		if(slotIndex >= this.get_attachments().length) {
			return null;
		}
		var dictionary = this.get_attachments()[slotIndex];
		if(dictionary != null) {
			return __map_reserved[name] != null ? dictionary.getReserved(name) : dictionary.h[name];
		} else {
			return null;
		}
	}
	,get_attachments: function() {
		return this._attachments;
	}
	,get_name: function() {
		return this._name;
	}
	,attachAll: function(skeleton,oldSkin) {
		var slotIndex = 0;
		var _g = 0;
		var _g1 = skeleton.slots;
		while(_g < _g1.length) {
			var slot = _g1[_g];
			++_g;
			var slotAttachment = slot.get_attachment();
			if(slotAttachment != null && slotIndex < oldSkin.get_attachments().length) {
				var dictionary = oldSkin.get_attachments()[slotIndex];
				if(dictionary != null) {
					var name = dictionary.keys();
					while(name.hasNext()) {
						var name1 = name.next();
						var skinAttachment = __map_reserved[name1] != null ? dictionary.getReserved(name1) : dictionary.h[name1];
						if(slotAttachment == skinAttachment) {
							var attachment = this.getAttachment(slotIndex,name1);
							if(attachment != null) {
								slot.set_attachment(attachment);
							}
							break;
						}
					}
				}
			}
			++slotIndex;
		}
	}
	,__class__: workinman_display_spine_Skin
	,__properties__: {get_name:"get_name",get_attachments:"get_attachments"}
};
var workinman_display_spine_Slot = function(data,bone) {
	this.attachmentVertices = [];
	if(data == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("data cannot be null."));
	}
	if(bone == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("bone cannot be null."));
	}
	this._data = data;
	this._bone = bone;
	this.setToSetupPose();
};
$hxClasses["workinman.display.spine.Slot"] = workinman_display_spine_Slot;
workinman_display_spine_Slot.__name__ = ["workinman","display","spine","Slot"];
workinman_display_spine_Slot.prototype = {
	dispose: function() {
		this._data.dispose();
		this._data = null;
		this._bone = null;
		this._attachment = null;
		this.attachmentVertices = null;
	}
	,get_data: function() {
		return this._data;
	}
	,get_bone: function() {
		return this._bone;
	}
	,get_skeleton: function() {
		return this._bone.get_skeleton();
	}
	,get_attachment: function() {
		return this._attachment;
	}
	,set_attachment: function(attachment) {
		if(this._attachment == attachment) {
			return this._attachment;
		}
		this._attachment = attachment;
		this._attachmentTime = this._bone.get_skeleton().time;
		this.attachmentVertices = [];
		return this._attachment;
	}
	,setToSetupPose: function() {
		var slotIndex = this._bone.get_skeleton().get_data().slots.indexOf(this.get_data());
		this.r = this._data.r;
		this.g = this._data.g;
		this.b = this._data.b;
		this.a = this._data.a;
		if(this._data.attachmentName == null) {
			this.set_attachment(null);
		} else {
			this._attachment = null;
			this.set_attachment(this._bone.get_skeleton().getAttachmentForSlotIndex(slotIndex,this.get_data().attachmentName));
		}
	}
	,__class__: workinman_display_spine_Slot
	,__properties__: {set_attachment:"set_attachment",get_attachment:"get_attachment",get_skeleton:"get_skeleton",get_bone:"get_bone",get_data:"get_data"}
};
var workinman_display_spine_SlotData = function(name,boneData) {
	this.a = 1;
	this.b = 1;
	this.g = 1;
	this.r = 1;
	if(name == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("name cannot be null."));
	}
	if(boneData == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("boneData cannot be null."));
	}
	this._name = name;
	this._boneData = boneData;
};
$hxClasses["workinman.display.spine.SlotData"] = workinman_display_spine_SlotData;
workinman_display_spine_SlotData.__name__ = ["workinman","display","spine","SlotData"];
workinman_display_spine_SlotData.prototype = {
	dispose: function() {
		this._boneData = null;
	}
	,get_name: function() {
		return this._name;
	}
	,get_boneData: function() {
		return this._boneData;
	}
	,__class__: workinman_display_spine_SlotData
	,__properties__: {get_boneData:"get_boneData",get_name:"get_name"}
};
var workinman_display_spine_SpineElement = function(pData,pSharedAtlas,pSharedAtlasJSON,pShell) {
	if(pShell == null) {
		pShell = false;
	}
	if(pSharedAtlasJSON == null) {
		pSharedAtlasJSON = "";
	}
	if(pSharedAtlas == null) {
		pSharedAtlas = "";
	}
	workinman_display_Element.call(this,pData);
	var tAtlasName = pData.library;
	var tJSON = pSharedAtlasJSON;
	if(pSharedAtlas != "") {
		tAtlasName = pSharedAtlas;
	}
	var atlas = pShell ? null : new workinman_display_spine_atlas_Atlas(workinman_WMAssets.getFile(tAtlasName + ".atlas").toString(),new workinman_display_spine_platform_flambe_FlambeTextureLoader(tAtlasName.substring(0,tAtlasName.lastIndexOf("/") + 1),workinman_WMAssets.getPackForAsset(tAtlasName)));
	var json = new workinman_display_spine_SkeletonJson(new workinman_display_spine_attachments_AtlasAttachmentLoader(atlas));
	var tLibraryName = tJSON == "" ? pData.library : tJSON;
	var skeletonData = json.readSkeletonData(workinman_WMAssets.getFile(tLibraryName + ".json").toString(),tLibraryName);
	var stateData = new workinman_display_spine_animation_AnimationStateData(skeletonData);
	this.state = new workinman_display_spine_animation_AnimationState(stateData);
	this._renderer = new workinman_display_spine_platform_flambe_SkeletonAnimation(skeletonData,pData.debug);
	this._skeleton = this._renderer.skeleton;
	this._skeleton.updateWorldTransform();
	this.eventAnimationComplete = workinman_event__$Event0_Event0_$Impl_$._new();
	this._animationsSpine = new haxe_ds_StringMap();
	var _g = 0;
	var _g1 = skeletonData.animations;
	while(_g < _g1.length) {
		var animation = _g1[_g];
		++_g;
		var pData1 = pData.trace;
		var this1 = this._animationsSpine;
		var key = animation.get_name();
		var _this = this1;
		if(__map_reserved[key] != null) {
			_this.setReserved(key,animation);
		} else {
			_this.h[key] = animation;
		}
	}
	this.state.onStart.add($bind(this,this._onAnimationStart));
	this.state.onComplete.add($bind(this,this._onAnimationCompleted));
	this.state.onEvent.add($bind(this,this._onAnimationEvent));
	this.addChild(this._renderer);
	this._bounds = new workinman_display_spine_SkeletonBounds();
	this._boundsRegion = new workinman_display_spine_platform_flambe_SkeletonRegions(this._renderer);
	atlas = null;
	json = null;
	skeletonData = null;
};
$hxClasses["workinman.display.spine.SpineElement"] = workinman_display_spine_SpineElement;
workinman_display_spine_SpineElement.__name__ = ["workinman","display","spine","SpineElement"];
workinman_display_spine_SpineElement.__super__ = workinman_display_Element;
workinman_display_spine_SpineElement.prototype = $extend(workinman_display_Element.prototype,{
	dispose: function() {
		this.state.onStart.remove($bind(this,this._onAnimationStart));
		this.state.onComplete.remove($bind(this,this._onAnimationCompleted));
		this.state.onEvent.remove($bind(this,this._onAnimationEvent));
		this._bounds.dispose();
		this._bounds = null;
		this._boundsRegion.dispose();
		this._boundsRegion = null;
		this.state.dispose();
		this.state = null;
		this.eventAnimationComplete.dispose();
		this.eventAnimationComplete = null;
		this._skeleton = null;
		this._animationsSpine = null;
		this._renderer = null;
		workinman_display_Element.prototype.dispose.call(this);
	}
	,get_currentAnimation: function() {
		return this._currentAnimation;
	}
	,get_animationsSpine: function() {
		return this._animationsSpine;
	}
	,get_hitName: function() {
		return this._hitName;
	}
	,runUpdate: function(dt) {
		workinman_display_Element.prototype.runUpdate.call(this,dt);
		this.state.update(dt);
		this.state.apply(this._skeleton);
		this._skeleton.updateWorldTransform();
	}
	,getFrames: function(pTrackIndex) {
		if(pTrackIndex == null) {
			pTrackIndex = 0;
		}
		var track = this.state.getCurrent(pTrackIndex);
		if(track != null) {
			return Math.floor(track.animation.duration * workinman_display_spine_SpineElement.FPS);
		}
		return 0;
	}
	,getFrame: function(pTrackIndex) {
		if(pTrackIndex == null) {
			pTrackIndex = 0;
		}
		var track = this.state.getCurrent(pTrackIndex);
		if(track != null) {
			return Math.floor(track.animation.currentTime * workinman_display_spine_SpineElement.FPS);
		}
		return 0;
	}
	,setFrame: function(pValue,pTrackIndex) {
		if(pTrackIndex == null) {
			pTrackIndex = 0;
		}
		var track = this.state.getCurrent(pTrackIndex);
		if(track != null) {
			track.timeScale = 0;
			track.time = workinman_math_WMMath.clamp(pValue / workinman_display_spine_SpineElement.FPS,0,track.animation.duration);
		}
	}
	,setTimeScale: function(pTimeScale,pTrackIndex) {
		if(pTrackIndex == null) {
			pTrackIndex = 0;
		}
		var track = this.state.getCurrent(pTrackIndex);
		if(track != null) {
			track.timeScale = pTimeScale;
		}
	}
	,startAnimation: function(pTrackIndex) {
		if(pTrackIndex == null) {
			pTrackIndex = 0;
		}
		var track = this.state.getCurrent(pTrackIndex);
		if(track != null) {
			track.timeScale = 1;
		}
	}
	,stopAnimation: function(pTrackIndex) {
		if(pTrackIndex == null) {
			pTrackIndex = 0;
		}
		var track = this.state.getCurrent(pTrackIndex);
		if(track != null) {
			track.timeScale = 0;
		}
	}
	,mixAnimation: function(pFrom,pTo,pDuration) {
		this.state.get_data().setMixByName(pFrom,pTo,pDuration);
	}
	,hasAnimation: function(pName) {
		var _this = this._animationsSpine;
		if(__map_reserved[pName] != null) {
			return _this.existsReserved(pName);
		} else {
			return _this.h.hasOwnProperty(pName);
		}
	}
	,animate: function(pName,pNumLoops,pTimeScale,pTrackIndex,pFlagReset) {
		if(pFlagReset == null) {
			pFlagReset = false;
		}
		if(pTrackIndex == null) {
			pTrackIndex = 0;
		}
		if(pTimeScale == null) {
			pTimeScale = 1;
		}
		if(pNumLoops == null) {
			pNumLoops = 0;
		}
		this._doAnimate(pName,pNumLoops,false,0,pTimeScale,pTrackIndex,pFlagReset);
		return this;
	}
	,queueAnimation: function(pName,pNumLoops,pTimeScale,pTrackIndex,pFlagReset,pDelay) {
		if(pDelay == null) {
			pDelay = 0;
		}
		if(pFlagReset == null) {
			pFlagReset = false;
		}
		if(pTrackIndex == null) {
			pTrackIndex = 0;
		}
		if(pTimeScale == null) {
			pTimeScale = 1;
		}
		if(pNumLoops == null) {
			pNumLoops = 0;
		}
		this._doAnimate(pName,pNumLoops,true,pDelay,pTimeScale,pTrackIndex,pFlagReset);
		return this;
	}
	,_doAnimate: function(pName,pNumLoops,pQueue,pDelay,pTimeScale,pTrackIndex,pFlagReset) {
		if(pFlagReset == null) {
			pFlagReset = false;
		}
		if(pTrackIndex == null) {
			pTrackIndex = 0;
		}
		if(pTimeScale == null) {
			pTimeScale = 1;
		}
		if(pFlagReset) {
			this._skeleton.setToSetupPose();
		}
		if(this.hasAnimation(pName)) {
			var entry;
			if(pQueue) {
				entry = this.state.addAnimationByName(pTrackIndex,pName,pNumLoops == 0,pDelay);
			} else {
				entry = this.state.setAnimationByName(pTrackIndex,pName,pNumLoops == 0);
			}
			entry.timeScale = pTimeScale;
			if(pNumLoops > 0) {
				var _g1 = 1;
				var _g = pNumLoops;
				while(_g1 < _g) {
					var i = _g1++;
					entry = this.state.addAnimationByName(pTrackIndex,pName,false,0);
					entry.timeScale = pTimeScale;
				}
			}
			entry = null;
		}
	}
	,clearQueue: function() {
		if(this.state != null) {
			this.state.clearTracks();
		}
	}
	,setSkin: function(pSkinName,pFlagReset) {
		if(pFlagReset == null) {
			pFlagReset = false;
		}
		this._skeleton.set_skinName(pSkinName);
		if(pFlagReset) {
			this._skeleton.setSlotsToSetupPose();
		}
	}
	,setAttachment: function(pSlotName,pAttachmentName) {
		this._skeleton.setAttachment(pSlotName,pAttachmentName);
	}
	,getAttachment: function(pSlotName) {
		var slot = this._skeleton.findSlot(pSlotName);
		if(slot == null || slot.get_attachment() == null) {
			return "";
		}
		return slot.get_attachment().name;
	}
	,hit: function(pX,pY,pName) {
		if(pName == null) {
			pName = "";
		}
		this._hitName = "";
		this._bounds.update(this._skeleton,true);
		if(this._bounds.aabbContainsPoint(pX,pY)) {
			var hit = this._bounds.containsPoint(pX,pY);
			if(hit != null && (pName == "" || pName == hit.name)) {
				this._hitName = hit.name;
				return true;
			}
			hit = null;
		}
		return false;
	}
	,hitRegion: function(pX,pY,pName) {
		if(pName == null) {
			pName = "";
		}
		this._hitName = "";
		this._boundsRegion.update(this._skeleton,true,this.scaleX,this.scaleY);
		if(this._boundsRegion.aabbContainsPoint(pX,pY)) {
			var hit = this._boundsRegion.containsPoint(pX,pY);
			if(hit != null && (pName == "" || pName == hit.name)) {
				this._hitName = hit.name;
				return true;
			}
			hit = null;
		}
		return false;
	}
	,addElementToSlot: function(slotName,element) {
		var tmp;
		if(this._skeleton.findSlot(slotName) != null) {
			var this1 = this._renderer.get_sprites();
			var key = this._skeleton.findSlot(slotName).get_attachment();
			tmp = this1.h[key.__id__] == null;
		} else {
			tmp = true;
		}
		if(tmp) {
			return;
		}
		var this2 = this._renderer.get_sprites();
		var key1 = this._skeleton.findSlot(slotName).get_attachment();
		this2.h[key1.__id__].addChild(element);
	}
	,_onAnimationStart: function(trackIndex,event) {
		this._currentAnimation = this.state.getCurrent(trackIndex).animation.get_name();
	}
	,_onAnimationCompleted: function(trackIndex,event) {
		this.eventAnimationComplete.dispatch();
	}
	,_onAnimationEvent: function(trackIndex,event) {
		var _g = event.data.name;
	}
	,__class__: workinman_display_spine_SpineElement
	,__properties__: $extend(workinman_display_Element.prototype.__properties__,{get_hitName:"get_hitName",get_animationsSpine:"get_animationsSpine",get_currentAnimation:"get_currentAnimation"})
});
var workinman_display_spine_TransformConstraint = function(data,skeleton) {
	if(data == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("data cannot be null."));
	}
	if(skeleton == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("skeleton cannot be null."));
	}
	this._data = data;
	this.translateMix = data.translateMix;
	this.rotateMix = data.rotateMix;
	this.scaleMix = data.scaleMix;
	this.shearMix = data.shearMix;
	this.offsetRotation = data.offsetRotation;
	this.offsetX = data.offsetX;
	this.offsetY = data.offsetY;
	this.offsetScaleX = data.offsetScaleX;
	this.offsetScaleY = data.offsetScaleY;
	this.offsetShearY = data.offsetShearY;
	this.bone = skeleton.findBone(data.bone.name);
	this.target = skeleton.findBone(data.target.name);
};
$hxClasses["workinman.display.spine.TransformConstraint"] = workinman_display_spine_TransformConstraint;
workinman_display_spine_TransformConstraint.__name__ = ["workinman","display","spine","TransformConstraint"];
workinman_display_spine_TransformConstraint.__interfaces__ = [workinman_display_spine_Updatable];
workinman_display_spine_TransformConstraint.prototype = {
	dispose: function() {
		this._data.dispose();
		this._data = null;
		this.bone = null;
		this.target = null;
	}
	,update: function() {
		if(this.rotateMix > 0) {
			var a = this.bone.get_a();
			var b = this.bone.get_b();
			var c = this.bone.get_c();
			var d = this.bone.get_d();
			var r = Math.atan2(this.target.get_c(),this.target.get_a()) - Math.atan2(c,a) + this.offsetRotation * workinman_display_spine_MathUtils.degRad;
			if(r > Math.PI) {
				r -= Math.PI * 2;
			} else if(r < -Math.PI) {
				r += Math.PI * 2;
			}
			r *= this.rotateMix;
			var cos = Math.cos(r);
			var sin = Math.sin(r);
			this.bone.set_a(cos * a - sin * c);
			this.bone.set_b(cos * b - sin * d);
			this.bone.set_c(sin * a + cos * c);
			this.bone.set_d(sin * b + cos * d);
		}
		if(this.scaleMix > 0) {
			var bs = Math.sqrt(this.bone.get_a() * this.bone.get_a() + this.bone.get_c() * this.bone.get_c());
			var ts = Math.sqrt(this.target.get_a() * this.target.get_a() + this.target.get_c() * this.target.get_c());
			var s = bs > 0 ? (bs + (ts - bs + this.offsetScaleX) * this.scaleMix) / bs : 0;
			var _g = this.bone;
			_g.set_a(_g.get_a() * s);
			var _g1 = this.bone;
			_g1.set_c(_g1.get_c() * s);
			bs = Math.sqrt(this.bone.get_b() * this.bone.get_b() + this.bone.get_d() * this.bone.get_d());
			ts = Math.sqrt(this.target.get_b() * this.target.get_b() + this.target.get_d() * this.target.get_d());
			if(bs > 0) {
				s = (bs + (ts - bs + this.offsetScaleY) * this.scaleMix) / bs;
			} else {
				s = 0;
			}
			var _g2 = this.bone;
			_g2.set_b(_g2.get_b() * s);
			var _g3 = this.bone;
			_g3.set_d(_g3.get_d() * s);
		}
		if(this.shearMix > 0) {
			var b1 = this.bone.get_b();
			var d1 = this.bone.get_d();
			var by = Math.atan2(d1,b1);
			var r1 = Math.atan2(this.target.get_d(),this.target.get_b()) - Math.atan2(this.target.get_c(),this.target.get_a()) - (by - Math.atan2(this.bone.get_c(),this.bone.get_a()));
			if(r1 > Math.PI) {
				r1 -= Math.PI * 2;
			} else if(r1 < -Math.PI) {
				r1 += Math.PI * 2;
			}
			r1 = by + (r1 + this.offsetShearY * workinman_display_spine_MathUtils.degRad) * this.shearMix;
			var s1 = Math.sqrt(b1 * b1 + d1 * d1);
			this.bone.set_b(Math.cos(r1) * s1);
			this.bone.set_d(Math.sin(r1) * s1);
		}
		var translateMix = this.translateMix;
		if(translateMix > 0) {
			var local = workinman_display_spine_ArrayUtils.allocFloat(2);
			local[0] = this.offsetX;
			local[1] = this.offsetY;
			this.target.localToWorld(local);
			var _g4 = this.bone;
			_g4.set_worldX(_g4.get_worldX() + (local[0] - this.bone.get_worldX()) * translateMix);
			var _g5 = this.bone;
			_g5.set_worldY(_g5.get_worldY() + (local[1] - this.bone.get_worldY()) * translateMix);
		}
	}
	,get_data: function() {
		return this._data;
	}
	,__class__: workinman_display_spine_TransformConstraint
	,__properties__: {get_data:"get_data"}
};
var workinman_display_spine_TransformConstraintData = function(name) {
	if(name == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("name cannot be null."));
	}
	this._name = name;
};
$hxClasses["workinman.display.spine.TransformConstraintData"] = workinman_display_spine_TransformConstraintData;
workinman_display_spine_TransformConstraintData.__name__ = ["workinman","display","spine","TransformConstraintData"];
workinman_display_spine_TransformConstraintData.prototype = {
	dispose: function() {
		this.bone = null;
		this.target = null;
	}
	,__class__: workinman_display_spine_TransformConstraintData
};
var workinman_display_spine_animation_Animation = function(name,timelines,duration) {
	if(name == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("name cannot be null."));
	}
	if(timelines == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("timelines cannot be null."));
	}
	this._name = name;
	this._timelines = timelines;
	this.duration = duration;
};
$hxClasses["workinman.display.spine.animation.Animation"] = workinman_display_spine_animation_Animation;
workinman_display_spine_animation_Animation.__name__ = ["workinman","display","spine","animation","Animation"];
workinman_display_spine_animation_Animation.binarySearch = function(values,target,step) {
	var low = 0;
	var high = Math.floor(values.length / step - 2);
	if(high == 0) {
		return step;
	}
	var current = high >>> 1;
	while(true) {
		if(values[(current + 1) * step] <= target) {
			low = current + 1;
		} else {
			high = current;
		}
		if(low == high) {
			return (low + 1) * step;
		}
		current = low + high >>> 1;
	}
};
workinman_display_spine_animation_Animation.binarySearch1 = function(values,target) {
	var low = 0;
	var high = values.length - 2;
	if(high == 0) {
		return 1;
	}
	var current = high >>> 1;
	while(true) {
		if(values[current + 1] <= target) {
			low = current + 1;
		} else {
			high = current;
		}
		if(low == high) {
			return low + 1;
		}
		current = low + high >>> 1;
	}
};
workinman_display_spine_animation_Animation.prototype = {
	get_timelines: function() {
		return this._timelines;
	}
	,apply: function(skeleton,lastTime,time,loop,events) {
		if(skeleton == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("skeleton cannot be null."));
		}
		if(loop && this.duration != 0) {
			time %= this.duration;
			if(lastTime > 0) {
				lastTime %= this.duration;
			}
		}
		var _g1 = 0;
		var _g = this.get_timelines().length;
		while(_g1 < _g) {
			var i = _g1++;
			this.get_timelines()[i].apply(skeleton,lastTime,time,events,1);
		}
		this.currentTime = time;
	}
	,mix: function(skeleton,lastTime,time,loop,events,alpha) {
		if(skeleton == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("skeleton cannot be null."));
		}
		if(loop && this.duration != 0) {
			time %= this.duration;
			if(lastTime > 0) {
				lastTime %= this.duration;
			}
		}
		var _g1 = 0;
		var _g = this.get_timelines().length;
		while(_g1 < _g) {
			var i = _g1++;
			this.get_timelines()[i].apply(skeleton,lastTime,time,events,alpha);
		}
	}
	,get_name: function() {
		return this._name;
	}
	,__class__: workinman_display_spine_animation_Animation
	,__properties__: {get_name:"get_name",get_timelines:"get_timelines"}
};
var workinman_display_spine_animation_AnimationState = function(data) {
	this.timeScale = 1;
	if(data == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("data cannot be null."));
	}
	this._data = data;
	this._tracks = [];
	this._events = [];
	this.onStart = new workinman_display_spine_animation_Listeners();
	this.onEnd = new workinman_display_spine_animation_Listeners();
	this.onComplete = new workinman_display_spine_animation_Listeners();
	this.onEvent = new workinman_display_spine_animation_Listeners();
};
$hxClasses["workinman.display.spine.animation.AnimationState"] = workinman_display_spine_animation_AnimationState;
workinman_display_spine_animation_AnimationState.__name__ = ["workinman","display","spine","animation","AnimationState"];
workinman_display_spine_animation_AnimationState.prototype = {
	dispose: function() {
		this._data.dispose();
		this._data = null;
		var _g = 0;
		var _g1 = this._tracks;
		while(_g < _g1.length) {
			var t = _g1[_g];
			++_g;
			if(t != null) {
				t.dispose();
			}
		}
		this._tracks = null;
		var _g2 = 0;
		var _g11 = this._events;
		while(_g2 < _g11.length) {
			var e = _g11[_g2];
			++_g2;
			e.dispose();
		}
		this._events = null;
		this.onStart.dispose();
		this.onStart = null;
		this.onEnd.dispose();
		this.onEnd = null;
		this.onComplete.dispose();
		this.onComplete = null;
		this.onEvent.dispose();
		this.onEvent = null;
	}
	,get_data: function() {
		return this._data;
	}
	,update: function(delta) {
		delta *= this.timeScale;
		var _g1 = 0;
		var _g = this._tracks.length;
		while(_g1 < _g) {
			var i = _g1++;
			var current = this._tracks[i];
			if(current == null) {
				continue;
			}
			current.time += delta * current.timeScale;
			if(current.previous != null) {
				var previousDelta = delta * current.previous.timeScale;
				current.previous.time += previousDelta;
				current.mixTime += previousDelta;
			}
			var next = current.next;
			var lastTime = current.lastTime;
			if(current.timeScale < 0) {
				lastTime = Math.abs(lastTime);
			}
			if(next != null) {
				next.time = lastTime - next.delay;
				if(next.time >= 0) {
					this.setCurrent(i,next);
				}
			} else if(!current.loop && lastTime >= current.endTime) {
				this.clearTrack(i);
			}
		}
	}
	,apply: function(skeleton) {
		var _g1 = 0;
		var _g = this._tracks.length;
		while(_g1 < _g) {
			var i = _g1++;
			var current = this._tracks[i];
			if(current == null) {
				continue;
			}
			this._events = [];
			var time = current.time;
			var lastTime = current.lastTime;
			var endTime = current.endTime;
			var loop = current.loop;
			if(!loop && time > endTime) {
				time = endTime;
			}
			if(current.timeScale < 0) {
				while(time < 0) time += current.animation.duration;
				while(lastTime < 0) lastTime += current.animation.duration;
			}
			var previous = current.previous;
			if(previous == null) {
				if(current.mix == 1) {
					current.animation.apply(skeleton,current.lastTime,time,loop,this._events);
				} else {
					current.animation.mix(skeleton,current.lastTime,time,loop,this._events,current.mix);
				}
			} else {
				var previousTime = previous.time;
				if(!previous.loop && previousTime > previous.endTime) {
					previousTime = previous.endTime;
				}
				previous.animation.apply(skeleton,previousTime,previousTime,previous.loop,null);
				var alpha = current.mixTime / current.mixDuration * current.mix;
				if(alpha >= 1) {
					alpha = 1;
					current.previous = null;
				}
				current.animation.mix(skeleton,current.lastTime,time,loop,this._events,alpha);
			}
			var _g2 = 0;
			var _g3 = this._events;
			while(_g2 < _g3.length) {
				var event = _g3[_g2];
				++_g2;
				if(current.onEvent != null) {
					current.onEvent(i,event);
				}
				this.onEvent.invoke(i,event);
			}
			if(loop ? lastTime % endTime > time % endTime : lastTime < endTime && time >= endTime) {
				var count = Math.floor(time / endTime);
				if(current.onComplete != null) {
					current.onComplete(i,count);
				}
				this.onComplete.invoke(i,count);
			}
			current.lastTime = current.time;
		}
	}
	,clearTracks: function() {
		var _g1 = 0;
		var _g = this._tracks.length;
		while(_g1 < _g) {
			var i = _g1++;
			this.clearTrack(i);
		}
		this._tracks = [];
	}
	,clearTrack: function(trackIndex) {
		if(trackIndex >= this._tracks.length) {
			return;
		}
		var current = this._tracks[trackIndex];
		if(current == null) {
			return;
		}
		if(current.onEnd != null) {
			current.onEnd(trackIndex);
		}
		this.onEnd.invoke(trackIndex);
		this._tracks[trackIndex] = null;
	}
	,expandToIndex: function(index) {
		if(index < this._tracks.length) {
			return this._tracks[index];
		}
		while(index >= this._tracks.length) this._tracks[this._tracks.length] = null;
		return null;
	}
	,setCurrent: function(index,entry) {
		var current = this.expandToIndex(index);
		if(current != null) {
			var previous = current.previous;
			current.previous = null;
			if(current.onEnd != null) {
				current.onEnd(index);
			}
			this.onEnd.invoke(index);
			entry.mixDuration = this._data.getMix(current.animation,entry.animation);
			if(entry.mixDuration > 0) {
				entry.mixTime = 0;
				if(previous != null && current.mixTime / current.mixDuration < 0.5) {
					entry.previous = previous;
					previous = current;
				} else {
					entry.previous = current;
				}
			}
		}
		this._tracks[index] = entry;
		if(entry.onStart != null) {
			entry.onStart(index);
		}
		this.onStart.invoke(index);
	}
	,setAnimationByName: function(trackIndex,animationName,loop) {
		var animation = this._data.get_skeletonData().findAnimation(animationName);
		if(animation == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Animation not found: " + animationName));
		}
		return this.setAnimation(trackIndex,animation,loop);
	}
	,setAnimation: function(trackIndex,animation,loop) {
		var entry = new workinman_display_spine_animation_TrackEntry();
		entry.animation = animation;
		entry.loop = loop;
		entry.endTime = animation.duration;
		this.setCurrent(trackIndex,entry);
		return entry;
	}
	,addAnimationByName: function(trackIndex,animationName,loop,delay) {
		var animation = this._data.get_skeletonData().findAnimation(animationName);
		if(animation == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Animation not found: " + animationName));
		}
		return this.addAnimation(trackIndex,animation,loop,delay);
	}
	,addAnimation: function(trackIndex,animation,loop,delay) {
		var entry = new workinman_display_spine_animation_TrackEntry();
		entry.animation = animation;
		entry.loop = loop;
		entry.endTime = animation.duration;
		var last = this.expandToIndex(trackIndex);
		if(last != null) {
			while(last.next != null) last = last.next;
			last.next = entry;
		} else {
			this._tracks[trackIndex] = entry;
		}
		if(delay <= 0) {
			if(last != null) {
				delay += last.endTime - this._data.getMix(last.animation,animation);
			} else {
				delay = 0;
			}
		}
		entry.delay = delay;
		return entry;
	}
	,getCurrent: function(trackIndex) {
		if(trackIndex >= this._tracks.length) {
			return null;
		}
		return this._tracks[trackIndex];
	}
	,__class__: workinman_display_spine_animation_AnimationState
	,__properties__: {get_data:"get_data"}
};
var workinman_display_spine_animation_AnimationStateData = function(skeletonData) {
	this.defaultMix = 0;
	this._skeletonData = skeletonData;
	this.animationToMixTime = new haxe_ds_StringMap();
};
$hxClasses["workinman.display.spine.animation.AnimationStateData"] = workinman_display_spine_animation_AnimationStateData;
workinman_display_spine_animation_AnimationStateData.__name__ = ["workinman","display","spine","animation","AnimationStateData"];
workinman_display_spine_animation_AnimationStateData.prototype = {
	dispose: function() {
		this.animationToMixTime = null;
		this._skeletonData = null;
	}
	,get_skeletonData: function() {
		return this._skeletonData;
	}
	,setMixByName: function(fromName,toName,duration) {
		var from = this._skeletonData.findAnimation(fromName);
		if(from == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Animation not found: " + fromName));
		}
		var to = this._skeletonData.findAnimation(toName);
		if(to == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Animation not found: " + toName));
		}
		this.setMix(from,to,duration);
	}
	,setMix: function(from,to,duration) {
		if(from == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("from cannot be null."));
		}
		if(to == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("to cannot be null."));
		}
		var this1 = this.animationToMixTime;
		var k = from.get_name() + ":" + to.get_name();
		var _this = this1;
		if(__map_reserved[k] != null) {
			_this.setReserved(k,duration);
		} else {
			_this.h[k] = duration;
		}
	}
	,getMix: function(from,to) {
		var this1 = this.animationToMixTime;
		var key = from.get_name() + ":" + to.get_name();
		var _this = this1;
		var time = __map_reserved[key] != null ? _this.getReserved(key) : _this.h[key];
		if(time == null) {
			return this.defaultMix;
		}
		return time;
	}
	,__class__: workinman_display_spine_animation_AnimationStateData
	,__properties__: {get_skeletonData:"get_skeletonData"}
};
var workinman_display_spine_animation_Timeline = function() { };
$hxClasses["workinman.display.spine.animation.Timeline"] = workinman_display_spine_animation_Timeline;
workinman_display_spine_animation_Timeline.__name__ = ["workinman","display","spine","animation","Timeline"];
workinman_display_spine_animation_Timeline.prototype = {
	__class__: workinman_display_spine_animation_Timeline
};
var workinman_display_spine_animation_AttachmentTimeline = function(frameCount) {
	this.frames = workinman_display_spine_ArrayUtils.allocFloat(frameCount);
	this.attachmentNames = workinman_display_spine_ArrayUtils.allocString(frameCount);
};
$hxClasses["workinman.display.spine.animation.AttachmentTimeline"] = workinman_display_spine_animation_AttachmentTimeline;
workinman_display_spine_animation_AttachmentTimeline.__name__ = ["workinman","display","spine","animation","AttachmentTimeline"];
workinman_display_spine_animation_AttachmentTimeline.__interfaces__ = [workinman_display_spine_animation_Timeline];
workinman_display_spine_animation_AttachmentTimeline.prototype = {
	get_frameCount: function() {
		return this.frames.length;
	}
	,setFrame: function(frameIndex,time,attachmentName) {
		this.frames[frameIndex] = time;
		this.attachmentNames[frameIndex] = attachmentName;
	}
	,apply: function(skeleton,lastTime,time,firedEvents,alpha) {
		var frames = this.frames;
		if(time < frames[0]) {
			if(lastTime > time) {
				this.apply(skeleton,lastTime,Infinity,null,0);
			}
			return;
		} else if(lastTime > time) {
			lastTime = -1;
		}
		var frameIndex = time >= frames[frames.length - 1] ? frames.length - 1 : workinman_display_spine_animation_Animation.binarySearch1(frames,time) - 1;
		if(frames[frameIndex] < lastTime) {
			return;
		}
		var attachmentName = this.attachmentNames[frameIndex];
		skeleton.slots[this.slotIndex].set_attachment(attachmentName == null ? null : skeleton.getAttachmentForSlotIndex(this.slotIndex,attachmentName));
	}
	,__class__: workinman_display_spine_animation_AttachmentTimeline
	,__properties__: {get_frameCount:"get_frameCount"}
};
var workinman_display_spine_animation_CurveTimeline = function(frameCount) {
	this.curves = workinman_display_spine_ArrayUtils.allocFloat((frameCount - 1) * 19);
};
$hxClasses["workinman.display.spine.animation.CurveTimeline"] = workinman_display_spine_animation_CurveTimeline;
workinman_display_spine_animation_CurveTimeline.__name__ = ["workinman","display","spine","animation","CurveTimeline"];
workinman_display_spine_animation_CurveTimeline.__interfaces__ = [workinman_display_spine_animation_Timeline];
workinman_display_spine_animation_CurveTimeline.prototype = {
	apply: function(skeleton,lastTime,time,firedEvents,alpha) {
	}
	,get_frameCount: function() {
		return Math.floor(this.curves.length / 19 + 1);
	}
	,setStepped: function(frameIndex) {
		this.curves[Math.floor(frameIndex * 19)] = 1;
	}
	,setCurve: function(frameIndex,cx1,cy1,cx2,cy2) {
		var subdiv1 = 0.1;
		var subdiv2 = subdiv1 * subdiv1;
		var subdiv3 = subdiv2 * subdiv1;
		var pre1 = 3 * subdiv1;
		var pre2 = 3 * subdiv2;
		var pre4 = 6 * subdiv2;
		var pre5 = 6 * subdiv3;
		var tmp1x = -cx1 * 2 + cx2;
		var tmp1y = -cy1 * 2 + cy2;
		var tmp2x = (cx1 - cx2) * 3 + 1;
		var tmp2y = (cy1 - cy2) * 3 + 1;
		var dfx = cx1 * pre1 + tmp1x * pre2 + tmp2x * subdiv3;
		var dfy = cy1 * pre1 + tmp1y * pre2 + tmp2y * subdiv3;
		var ddfx = tmp1x * pre4 + tmp2x * pre5;
		var ddfy = tmp1y * pre4 + tmp2y * pre5;
		var dddfx = tmp2x * pre5;
		var dddfy = tmp2y * pre5;
		var i = frameIndex * 19;
		var curves = this.curves;
		curves[i++] = 2;
		var x = dfx;
		var y = dfy;
		var n = i + 19 - 1;
		while(i < n) {
			curves[i] = x;
			curves[i + 1] = y;
			dfx += ddfx;
			dfy += ddfy;
			ddfx += dddfx;
			ddfy += dddfy;
			x += dfx;
			y += dfy;
			i += 2;
		}
	}
	,getCurvePercent: function(frameIndex,percent) {
		var curves = this.curves;
		var i = frameIndex * 19;
		var type = curves[i];
		if(type == 0) {
			return percent;
		}
		if(type == 1) {
			return 0;
		}
		++i;
		var x = 0;
		var start = i;
		var n = i + 19 - 1;
		while(i < n) {
			x = curves[i];
			if(x >= percent) {
				var prevX;
				var prevY;
				if(i == start) {
					prevX = 0;
					prevY = 0;
				} else {
					prevX = curves[i - 2];
					prevY = curves[i - 1];
				}
				return prevY + (curves[i + 1] - prevY) * (percent - prevX) / (x - prevX);
			}
			i += 2;
		}
		var y = curves[i - 1];
		return y + (1 - y) * (percent - x) / (1 - x);
	}
	,__class__: workinman_display_spine_animation_CurveTimeline
	,__properties__: {get_frameCount:"get_frameCount"}
};
var workinman_display_spine_animation_ColorTimeline = function(frameCount) {
	workinman_display_spine_animation_CurveTimeline.call(this,frameCount);
	this.frames = workinman_display_spine_ArrayUtils.allocFloat(frameCount);
};
$hxClasses["workinman.display.spine.animation.ColorTimeline"] = workinman_display_spine_animation_ColorTimeline;
workinman_display_spine_animation_ColorTimeline.__name__ = ["workinman","display","spine","animation","ColorTimeline"];
workinman_display_spine_animation_ColorTimeline.__super__ = workinman_display_spine_animation_CurveTimeline;
workinman_display_spine_animation_ColorTimeline.prototype = $extend(workinman_display_spine_animation_CurveTimeline.prototype,{
	setFrame: function(frameIndex,time,r,g,b,a) {
		frameIndex *= 5;
		this.frames[frameIndex] = time;
		this.frames[frameIndex + 1] = r;
		this.frames[frameIndex + 2] = g;
		this.frames[frameIndex + 3] = b;
		this.frames[frameIndex + 4] = a;
	}
	,apply: function(skeleton,lastTime,time,firedEvents,alpha) {
		if(time < this.frames[0]) {
			return;
		}
		var r;
		var g;
		var b;
		var a;
		if(time >= this.frames[this.frames.length - 5]) {
			var i = this.frames.length - 1;
			r = this.frames[i - 3];
			g = this.frames[i - 2];
			b = this.frames[i - 1];
			a = this.frames[i];
		} else {
			var frameIndex = workinman_display_spine_animation_Animation.binarySearch(this.frames,time,5);
			var prevFrameR = this.frames[frameIndex - 4];
			var prevFrameG = this.frames[frameIndex - 3];
			var prevFrameB = this.frames[frameIndex - 2];
			var prevFrameA = this.frames[frameIndex - 1];
			var frameTime = this.frames[frameIndex];
			var percent = 1 - (time - frameTime) / (this.frames[frameIndex + -5] - frameTime);
			percent = this.getCurvePercent(Math.floor(frameIndex / 5 - 1),percent < 0 ? 0 : percent > 1 ? 1 : percent);
			r = prevFrameR + (this.frames[frameIndex + 1] - prevFrameR) * percent;
			g = prevFrameG + (this.frames[frameIndex + 2] - prevFrameG) * percent;
			b = prevFrameB + (this.frames[frameIndex + 3] - prevFrameB) * percent;
			a = prevFrameA + (this.frames[frameIndex + 4] - prevFrameA) * percent;
		}
		var slot = skeleton.slots[this.slotIndex];
		if(alpha < 1) {
			slot.r += (r - slot.r) * alpha;
			slot.g += (g - slot.g) * alpha;
			slot.b += (b - slot.b) * alpha;
			slot.a += (a - slot.a) * alpha;
		} else {
			slot.r = r;
			slot.g = g;
			slot.b = b;
			slot.a = a;
		}
	}
	,__class__: workinman_display_spine_animation_ColorTimeline
});
var workinman_display_spine_animation_DrawOrderTimeline = function(frameCount) {
	this.frames = workinman_display_spine_ArrayUtils.allocFloat(frameCount);
	this.drawOrders = workinman_display_spine_ArrayUtils.allocIntArray(frameCount);
};
$hxClasses["workinman.display.spine.animation.DrawOrderTimeline"] = workinman_display_spine_animation_DrawOrderTimeline;
workinman_display_spine_animation_DrawOrderTimeline.__name__ = ["workinman","display","spine","animation","DrawOrderTimeline"];
workinman_display_spine_animation_DrawOrderTimeline.__interfaces__ = [workinman_display_spine_animation_Timeline];
workinman_display_spine_animation_DrawOrderTimeline.prototype = {
	get_frameCount: function() {
		return this.frames.length;
	}
	,setFrame: function(frameIndex,time,drawOrder) {
		this.frames[frameIndex] = time;
		this.drawOrders[frameIndex] = drawOrder;
	}
	,apply: function(skeleton,lastTime,time,firedEvents,alpha) {
		if(time < this.frames[0]) {
			return;
		}
		var frameIndex;
		if(time >= this.frames[this.frames.length - 1]) {
			frameIndex = this.frames.length - 1;
		} else {
			frameIndex = workinman_display_spine_animation_Animation.binarySearch1(this.frames,time) - 1;
		}
		var drawOrder = skeleton.drawOrder;
		var slots = skeleton.slots;
		var drawOrderToSetupIndex = this.drawOrders[frameIndex];
		var i = 0;
		if(drawOrderToSetupIndex == null) {
			var _g = 0;
			while(_g < slots.length) {
				var slot = slots[_g];
				++_g;
				drawOrder[i++] = slot;
			}
		} else {
			var _g1 = 0;
			while(_g1 < drawOrderToSetupIndex.length) {
				var setupIndex = drawOrderToSetupIndex[_g1];
				++_g1;
				drawOrder[i++] = slots[setupIndex];
			}
		}
	}
	,__class__: workinman_display_spine_animation_DrawOrderTimeline
	,__properties__: {get_frameCount:"get_frameCount"}
};
var workinman_display_spine_animation_EventTimeline = function(frameCount) {
	this.frames = workinman_display_spine_ArrayUtils.allocFloat(frameCount);
	this.events = [];
	var _g1 = 0;
	var _g = frameCount;
	while(_g1 < _g) {
		var i = _g1++;
		this.events.push(null);
	}
};
$hxClasses["workinman.display.spine.animation.EventTimeline"] = workinman_display_spine_animation_EventTimeline;
workinman_display_spine_animation_EventTimeline.__name__ = ["workinman","display","spine","animation","EventTimeline"];
workinman_display_spine_animation_EventTimeline.__interfaces__ = [workinman_display_spine_animation_Timeline];
workinman_display_spine_animation_EventTimeline.prototype = {
	get_frameCount: function() {
		return this.frames.length;
	}
	,setFrame: function(frameIndex,event) {
		this.frames[frameIndex] = event.time;
		this.events[frameIndex] = event;
	}
	,apply: function(skeleton,lastTime,time,firedEvents,alpha) {
		if(firedEvents == null) {
			return;
		}
		if(lastTime > time) {
			this.apply(skeleton,lastTime,Infinity,firedEvents,alpha);
			lastTime = -1;
		} else if(lastTime >= this.frames[this.get_frameCount() - 1]) {
			return;
		}
		if(time < this.frames[0]) {
			return;
		}
		var frameIndex;
		if(lastTime < this.frames[0]) {
			frameIndex = 0;
		} else {
			frameIndex = workinman_display_spine_animation_Animation.binarySearch1(this.frames,lastTime);
			var frame = this.frames[frameIndex];
			while(frameIndex > 0) {
				if(this.frames[frameIndex - 1] != frame) {
					break;
				}
				--frameIndex;
			}
		}
		while(frameIndex < this.get_frameCount() && time >= this.frames[frameIndex]) {
			firedEvents[firedEvents.length] = this.events[frameIndex];
			++frameIndex;
		}
	}
	,__class__: workinman_display_spine_animation_EventTimeline
	,__properties__: {get_frameCount:"get_frameCount"}
};
var workinman_display_spine_animation_FfdTimeline = function(frameCount) {
	workinman_display_spine_animation_CurveTimeline.call(this,frameCount);
	this.frames = workinman_display_spine_ArrayUtils.allocFloat(frameCount);
	this.frameVertices = workinman_display_spine_ArrayUtils.allocFloatArray(frameCount);
};
$hxClasses["workinman.display.spine.animation.FfdTimeline"] = workinman_display_spine_animation_FfdTimeline;
workinman_display_spine_animation_FfdTimeline.__name__ = ["workinman","display","spine","animation","FfdTimeline"];
workinman_display_spine_animation_FfdTimeline.__super__ = workinman_display_spine_animation_CurveTimeline;
workinman_display_spine_animation_FfdTimeline.prototype = $extend(workinman_display_spine_animation_CurveTimeline.prototype,{
	setFrame: function(frameIndex,time,vertices) {
		this.frames[frameIndex] = time;
		this.frameVertices[frameIndex] = vertices;
	}
	,apply: function(skeleton,lastTime,time,firedEvents,alpha) {
		var slot = skeleton.slots[this.slotIndex];
		if(slot.get_attachment() != this.attachment) {
			return;
		}
		var frames = this.frames;
		if(time < frames[0]) {
			return;
		}
		var frameVertices = this.frameVertices;
		var vertexCount = frameVertices[0].length;
		var vertices = slot.attachmentVertices;
		if(vertices.length != vertexCount) {
			alpha = 1;
		}
		var i;
		if(time >= frames[frames.length - 1]) {
			var lastVertices = frameVertices[frames.length - 1];
			if(alpha < 1) {
				var _g1 = 0;
				var _g = vertexCount;
				while(_g1 < _g) {
					var i1 = _g1++;
					vertices[i1] += (lastVertices[i1] - vertices[i1]) * alpha;
				}
			} else {
				var _g11 = 0;
				var _g2 = vertexCount;
				while(_g11 < _g2) {
					var i2 = _g11++;
					vertices[i2] = lastVertices[i2];
				}
			}
			return;
		}
		var frameIndex = workinman_display_spine_animation_Animation.binarySearch1(frames,time);
		var frameTime = frames[frameIndex];
		var percent = 1 - (time - frameTime) / (frames[frameIndex - 1] - frameTime);
		percent = this.getCurvePercent(frameIndex - 1,percent < 0 ? 0 : percent > 1 ? 1 : percent);
		var prevVertices = frameVertices[frameIndex - 1];
		var nextVertices = frameVertices[frameIndex];
		var prev;
		if(alpha < 1) {
			var _g12 = 0;
			var _g3 = vertexCount;
			while(_g12 < _g3) {
				var i3 = _g12++;
				prev = prevVertices[i3];
				vertices[i3] += (prev + (nextVertices[i3] - prev) * percent - vertices[i3]) * alpha;
			}
		} else {
			var _g13 = 0;
			var _g4 = vertexCount;
			while(_g13 < _g4) {
				var i4 = _g13++;
				prev = prevVertices[i4];
				vertices[i4] = prev + (nextVertices[i4] - prev) * percent;
			}
		}
	}
	,__class__: workinman_display_spine_animation_FfdTimeline
});
var workinman_display_spine_animation_IkConstraintTimeline = function(frameCount) {
	workinman_display_spine_animation_CurveTimeline.call(this,frameCount);
	this.frames = workinman_display_spine_ArrayUtils.allocFloat(frameCount);
};
$hxClasses["workinman.display.spine.animation.IkConstraintTimeline"] = workinman_display_spine_animation_IkConstraintTimeline;
workinman_display_spine_animation_IkConstraintTimeline.__name__ = ["workinman","display","spine","animation","IkConstraintTimeline"];
workinman_display_spine_animation_IkConstraintTimeline.__super__ = workinman_display_spine_animation_CurveTimeline;
workinman_display_spine_animation_IkConstraintTimeline.prototype = $extend(workinman_display_spine_animation_CurveTimeline.prototype,{
	setFrame: function(frameIndex,time,mix,bendDirection) {
		frameIndex *= 3;
		this.frames[frameIndex] = time;
		this.frames[frameIndex + 1] = mix;
		this.frames[frameIndex + 2] = bendDirection;
	}
	,apply: function(skeleton,lastTime,time,firedEvents,alpha) {
		if(time < this.frames[0]) {
			return;
		}
		var ikConstraint = skeleton.ikConstraints[this.ikConstraintIndex];
		if(time >= this.frames[this.frames.length - 3]) {
			ikConstraint.mix += (this.frames[this.frames.length - 2] - ikConstraint.mix) * alpha;
			ikConstraint.bendDirection = Math.floor(this.frames[this.frames.length - 1]);
			return;
		}
		var frameIndex = workinman_display_spine_animation_Animation.binarySearch(this.frames,time,3);
		var prevFrameMix = this.frames[frameIndex + -2];
		var frameTime = this.frames[frameIndex];
		var percent = 1 - (time - frameTime) / (this.frames[frameIndex + -3] - frameTime);
		percent = this.getCurvePercent(Math.floor(frameIndex / 3 - 1),percent < 0 ? 0 : percent > 1 ? 1 : percent);
		var mix = prevFrameMix + (this.frames[frameIndex + 1] - prevFrameMix) * percent;
		ikConstraint.mix += (mix - ikConstraint.mix) * alpha;
		ikConstraint.bendDirection = Math.floor(this.frames[frameIndex + -1]);
	}
	,__class__: workinman_display_spine_animation_IkConstraintTimeline
});
var workinman_display_spine_animation_Listeners = function() {
	this.listeners = [];
};
$hxClasses["workinman.display.spine.animation.Listeners"] = workinman_display_spine_animation_Listeners;
workinman_display_spine_animation_Listeners.__name__ = ["workinman","display","spine","animation","Listeners"];
workinman_display_spine_animation_Listeners.prototype = {
	dispose: function() {
		this.listeners = null;
	}
	,add: function(listener) {
		if(listener == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("listener cannot be null."));
		}
		this.listeners[this.listeners.length] = listener;
	}
	,remove: function(listener) {
		if(listener == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("listener cannot be null."));
		}
		this.listeners.splice(this.listeners.indexOf(listener),1);
	}
	,invoke: function(i,arg) {
		var _g = 0;
		var _g1 = this.listeners;
		while(_g < _g1.length) {
			var listener = _g1[_g];
			++_g;
			listener(i,arg);
		}
	}
	,__class__: workinman_display_spine_animation_Listeners
};
var workinman_display_spine_animation_RotateTimeline = function(frameCount) {
	workinman_display_spine_animation_CurveTimeline.call(this,frameCount);
	this.frames = workinman_display_spine_ArrayUtils.allocFloat(frameCount * 2);
};
$hxClasses["workinman.display.spine.animation.RotateTimeline"] = workinman_display_spine_animation_RotateTimeline;
workinman_display_spine_animation_RotateTimeline.__name__ = ["workinman","display","spine","animation","RotateTimeline"];
workinman_display_spine_animation_RotateTimeline.__super__ = workinman_display_spine_animation_CurveTimeline;
workinman_display_spine_animation_RotateTimeline.prototype = $extend(workinman_display_spine_animation_CurveTimeline.prototype,{
	setFrame: function(frameIndex,time,angle) {
		frameIndex *= 2;
		this.frames[frameIndex] = time;
		this.frames[frameIndex + 1] = angle;
	}
	,apply: function(skeleton,lastTime,time,firedEvents,alpha) {
		if(time < this.frames[0]) {
			return;
		}
		var bone = skeleton.bones[this.boneIndex];
		var amount;
		if(time >= this.frames[this.frames.length - 2]) {
			amount = bone.get_data().rotation + this.frames[this.frames.length - 1] - bone.rotation;
			while(amount > 180) amount -= 360;
			while(amount < -180) amount += 360;
			bone.rotation += amount * alpha;
			return;
		}
		var frameIndex = workinman_display_spine_animation_Animation.binarySearch(this.frames,time,2);
		var prevFrameValue = this.frames[frameIndex - 1];
		var frameTime = this.frames[frameIndex];
		var percent = 1 - (time - frameTime) / (this.frames[frameIndex + -2] - frameTime);
		percent = this.getCurvePercent(Math.floor(frameIndex / 2 - 1),percent < 0 ? 0 : percent > 1 ? 1 : percent);
		amount = this.frames[frameIndex + 1] - prevFrameValue;
		while(amount > 180) amount -= 360;
		while(amount < -180) amount += 360;
		amount = bone.get_data().rotation + (prevFrameValue + amount * percent) - bone.rotation;
		while(amount > 180) amount -= 360;
		while(amount < -180) amount += 360;
		bone.rotation += amount * alpha;
	}
	,__class__: workinman_display_spine_animation_RotateTimeline
});
var workinman_display_spine_animation_TranslateTimeline = function(frameCount) {
	this.FRAME_Y = 2;
	this.FRAME_X = 1;
	this.PREV_FRAME_TIME = -3;
	workinman_display_spine_animation_CurveTimeline.call(this,frameCount);
	this.frames = workinman_display_spine_ArrayUtils.allocFloat(frameCount);
};
$hxClasses["workinman.display.spine.animation.TranslateTimeline"] = workinman_display_spine_animation_TranslateTimeline;
workinman_display_spine_animation_TranslateTimeline.__name__ = ["workinman","display","spine","animation","TranslateTimeline"];
workinman_display_spine_animation_TranslateTimeline.__super__ = workinman_display_spine_animation_CurveTimeline;
workinman_display_spine_animation_TranslateTimeline.prototype = $extend(workinman_display_spine_animation_CurveTimeline.prototype,{
	setFrame: function(frameIndex,time,x,y) {
		frameIndex *= 3;
		this.frames[frameIndex] = time;
		this.frames[frameIndex + 1] = x;
		this.frames[frameIndex + 2] = y;
	}
	,apply: function(skeleton,lastTime,time,firedEvents,alpha) {
		if(time < this.frames[0]) {
			return;
		}
		var bone = skeleton.bones[this.boneIndex];
		if(time >= this.frames[this.frames.length - 3]) {
			bone.x += (bone.get_data().x + this.frames[this.frames.length - 2] - bone.x) * alpha;
			bone.y += (bone.get_data().y + this.frames[this.frames.length - 1] - bone.y) * alpha;
			return;
		}
		var frameIndex = workinman_display_spine_animation_Animation.binarySearch(this.frames,time,3);
		var prevFrameX = this.frames[frameIndex - 2];
		var prevFrameY = this.frames[frameIndex - 1];
		var frameTime = this.frames[frameIndex];
		var percent = 1 - (time - frameTime) / (this.frames[frameIndex + this.PREV_FRAME_TIME] - frameTime);
		percent = this.getCurvePercent(Math.floor(frameIndex / 3 - 1),percent < 0 ? 0 : percent > 1 ? 1 : percent);
		bone.x += (bone.get_data().x + prevFrameX + (this.frames[frameIndex + this.FRAME_X] - prevFrameX) * percent - bone.x) * alpha;
		bone.y += (bone.get_data().y + prevFrameY + (this.frames[frameIndex + this.FRAME_Y] - prevFrameY) * percent - bone.y) * alpha;
	}
	,__class__: workinman_display_spine_animation_TranslateTimeline
});
var workinman_display_spine_animation_ScaleTimeline = function(frameCount) {
	workinman_display_spine_animation_TranslateTimeline.call(this,frameCount);
};
$hxClasses["workinman.display.spine.animation.ScaleTimeline"] = workinman_display_spine_animation_ScaleTimeline;
workinman_display_spine_animation_ScaleTimeline.__name__ = ["workinman","display","spine","animation","ScaleTimeline"];
workinman_display_spine_animation_ScaleTimeline.__super__ = workinman_display_spine_animation_TranslateTimeline;
workinman_display_spine_animation_ScaleTimeline.prototype = $extend(workinman_display_spine_animation_TranslateTimeline.prototype,{
	apply: function(skeleton,lastTime,time,firedEvents,alpha) {
		if(time < this.frames[0]) {
			return;
		}
		var bone = skeleton.bones[this.boneIndex];
		if(time >= this.frames[this.frames.length - 3]) {
			bone.scaleX += (bone.get_data().scaleX * this.frames[this.frames.length - 2] - bone.scaleX) * alpha;
			bone.scaleY += (bone.get_data().scaleY * this.frames[this.frames.length - 1] - bone.scaleY) * alpha;
			return;
		}
		var frameIndex = workinman_display_spine_animation_Animation.binarySearch(this.frames,time,3);
		var prevFrameX = this.frames[frameIndex - 2];
		var prevFrameY = this.frames[frameIndex - 1];
		var frameTime = this.frames[frameIndex];
		var percent = 1 - (time - frameTime) / (this.frames[frameIndex + this.PREV_FRAME_TIME] - frameTime);
		percent = this.getCurvePercent(Math.floor(frameIndex / 3 - 1),percent < 0 ? 0 : percent > 1 ? 1 : percent);
		bone.scaleX += (bone.get_data().scaleX * (prevFrameX + (this.frames[frameIndex + this.FRAME_X] - prevFrameX) * percent) - bone.scaleX) * alpha;
		bone.scaleY += (bone.get_data().scaleY * (prevFrameY + (this.frames[frameIndex + this.FRAME_Y] - prevFrameY) * percent) - bone.scaleY) * alpha;
	}
	,__class__: workinman_display_spine_animation_ScaleTimeline
});
var workinman_display_spine_animation_ShearTimeline = function(frameCount) {
	workinman_display_spine_animation_TranslateTimeline.call(this,frameCount);
};
$hxClasses["workinman.display.spine.animation.ShearTimeline"] = workinman_display_spine_animation_ShearTimeline;
workinman_display_spine_animation_ShearTimeline.__name__ = ["workinman","display","spine","animation","ShearTimeline"];
workinman_display_spine_animation_ShearTimeline.__super__ = workinman_display_spine_animation_TranslateTimeline;
workinman_display_spine_animation_ShearTimeline.prototype = $extend(workinman_display_spine_animation_TranslateTimeline.prototype,{
	apply: function(skeleton,lastTime,time,firedEvents,alpha) {
		if(time < this.frames[0]) {
			return;
		}
		var bone = skeleton.bones[this.boneIndex];
		if(time >= this.frames[this.frames.length - 3]) {
			bone.shearX += (bone.get_data().shearX + this.frames[this.frames.length - 2] - bone.shearX) * alpha;
			bone.shearY += (bone.get_data().shearY + this.frames[this.frames.length - 1] - bone.shearY) * alpha;
			return;
		}
		var frameIndex = workinman_display_spine_animation_Animation.binarySearch(this.frames,time,3);
		var prevFrameX = this.frames[frameIndex - 2];
		var prevFrameY = this.frames[frameIndex - 1];
		var frameTime = this.frames[frameIndex];
		var percent = workinman_math_WMMath.clamp(1 - (time - frameTime) / (this.frames[frameIndex + this.PREV_FRAME_TIME] - frameTime),0,1);
		percent = this.getCurvePercent(Math.floor(frameIndex / 3 - 1),percent);
		bone.shearX += (bone.get_data().shearX + (prevFrameX + (this.frames[frameIndex + this.FRAME_X] - prevFrameX) * percent) - bone.shearX) * alpha;
		bone.shearY += (bone.get_data().shearY + (prevFrameY + (this.frames[frameIndex + this.FRAME_Y] - prevFrameY) * percent) - bone.shearY) * alpha;
	}
	,__class__: workinman_display_spine_animation_ShearTimeline
});
var workinman_display_spine_animation_TrackEntry = function() {
	this.mix = 1;
	this.timeScale = 1;
	this.lastTime = -1;
	this.time = 0;
};
$hxClasses["workinman.display.spine.animation.TrackEntry"] = workinman_display_spine_animation_TrackEntry;
workinman_display_spine_animation_TrackEntry.__name__ = ["workinman","display","spine","animation","TrackEntry"];
workinman_display_spine_animation_TrackEntry.prototype = {
	dispose: function() {
		this.next = null;
		this.previous = null;
		this.animation = null;
		this.onStart = null;
		this.onEnd = null;
		this.onComplete = null;
		this.onEvent = null;
	}
	,__class__: workinman_display_spine_animation_TrackEntry
};
var workinman_display_spine_atlas_Atlas = function(object,textureLoader) {
	this.regions = [];
	this.pages = [];
	if(object == "") {
		return;
	}
	this.load(object,textureLoader);
};
$hxClasses["workinman.display.spine.atlas.Atlas"] = workinman_display_spine_atlas_Atlas;
workinman_display_spine_atlas_Atlas.__name__ = ["workinman","display","spine","atlas","Atlas"];
workinman_display_spine_atlas_Atlas.prototype = {
	load: function(atlasText,textureLoader) {
		if(textureLoader == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("textureLoader cannot be null."));
		}
		this.textureLoader = textureLoader;
		var reader = new workinman_display_spine_atlas_Reader(atlasText);
		var tuple = workinman_display_spine_ArrayUtils.allocString(4);
		var page = null;
		while(true) {
			var line = reader.readLine();
			if(line == null) {
				break;
			}
			line = reader.trim(line);
			if(line.length == 0) {
				page = null;
			} else if(page == null) {
				page = new workinman_display_spine_atlas_AtlasPage();
				page.name = line;
				if(reader.readTuple(tuple) == 2) {
					page.width = Std.parseInt(tuple[0]);
					page.height = Std.parseInt(tuple[1]);
					reader.readTuple(tuple);
				}
				page.format = tuple[0];
				reader.readTuple(tuple);
				page.minFilter = tuple[0];
				page.magFilter = tuple[1];
				var direction = reader.readValue();
				page.uWrap = "clampToEdge";
				page.vWrap = "clampToEdge";
				if(direction == "x") {
					page.uWrap = "repeat";
				} else if(direction == "y") {
					page.vWrap = "repeat";
				} else if(direction == "xy") {
					page.uWrap = page.vWrap = "repeat";
				}
				textureLoader.loadPage(page,line);
				this.pages.push(page);
			} else {
				var region = new workinman_display_spine_atlas_AtlasRegion();
				region.name = line;
				region.page = page;
				region.rotate = reader.readValue() == "true";
				reader.readTuple(tuple);
				var x = Std.parseInt(tuple[0]);
				var y = Std.parseInt(tuple[1]);
				reader.readTuple(tuple);
				var width = Std.parseInt(tuple[0]);
				var height = Std.parseInt(tuple[1]);
				region.u = x / page.width;
				region.v = y / page.height;
				if(region.rotate) {
					region.u2 = (x + height) / page.width;
					region.v2 = (y + width) / page.height;
				} else {
					region.u2 = (x + width) / page.width;
					region.v2 = (y + height) / page.height;
				}
				region.x = x;
				region.y = y;
				region.width = Math.floor(Math.abs(width));
				region.height = Math.floor(Math.abs(height));
				if(reader.readTuple(tuple) == 4) {
					region.splits = [Std.parseInt(tuple[0]),Std.parseInt(tuple[1]),Std.parseInt(tuple[2]),Std.parseInt(tuple[3])];
					if(reader.readTuple(tuple) == 4) {
						region.pads = [Std.parseInt(tuple[0]),Std.parseInt(tuple[1]),Std.parseInt(tuple[2]),Std.parseInt(tuple[3])];
						reader.readTuple(tuple);
					}
				}
				region.originalWidth = Std.parseInt(tuple[0]);
				region.originalHeight = Std.parseInt(tuple[1]);
				reader.readTuple(tuple);
				region.offsetX = Std.parseInt(tuple[0]);
				region.offsetY = Std.parseInt(tuple[1]);
				region.index = Std.parseInt(reader.readValue());
				textureLoader.loadRegion(region);
				this.regions.push(region);
			}
		}
	}
	,findRegion: function(name) {
		var _g1 = 0;
		var _g = this.regions.length;
		while(_g1 < _g) {
			var i = _g1++;
			if(this.regions[i].name == name) {
				return this.regions[i];
			}
		}
		return null;
	}
	,__class__: workinman_display_spine_atlas_Atlas
};
var workinman_display_spine_atlas_Reader = function(text) {
	this.index = 0;
	var regex = new EReg("[ \t]*((\r\n)|\r|\n)[ \t]*","g");
	this.lines = regex.split(text);
};
$hxClasses["workinman.display.spine.atlas.Reader"] = workinman_display_spine_atlas_Reader;
workinman_display_spine_atlas_Reader.__name__ = ["workinman","display","spine","atlas","Reader"];
workinman_display_spine_atlas_Reader.prototype = {
	trim: function(value) {
		return StringTools.trim(value);
	}
	,readLine: function() {
		if(this.index >= this.lines.length) {
			return null;
		}
		return this.lines[this.index++];
	}
	,readValue: function() {
		var line = this.readLine();
		var colon = line.indexOf(":");
		if(colon == -1) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Invalid line: " + line));
		}
		return this.trim(line.substring(colon + 1));
	}
	,readTuple: function(tuple) {
		var line = this.readLine();
		var colon = line.indexOf(":");
		if(colon == -1) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Invalid line: " + line));
		}
		var i = 0;
		var lastMatch = colon + 1;
		while(i < 3) {
			var comma = line.indexOf(",",lastMatch);
			if(comma == -1) {
				break;
			}
			tuple[i] = this.trim(HxOverrides.substr(line,lastMatch,comma - lastMatch));
			lastMatch = comma + 1;
			++i;
		}
		tuple[i] = this.trim(line.substring(lastMatch));
		return i + 1;
	}
	,__class__: workinman_display_spine_atlas_Reader
};
var workinman_display_spine_atlas_AtlasPage = function() {
};
$hxClasses["workinman.display.spine.atlas.AtlasPage"] = workinman_display_spine_atlas_AtlasPage;
workinman_display_spine_atlas_AtlasPage.__name__ = ["workinman","display","spine","atlas","AtlasPage"];
workinman_display_spine_atlas_AtlasPage.prototype = {
	__class__: workinman_display_spine_atlas_AtlasPage
};
var workinman_display_spine_atlas_AtlasRegion = function() {
};
$hxClasses["workinman.display.spine.atlas.AtlasRegion"] = workinman_display_spine_atlas_AtlasRegion;
workinman_display_spine_atlas_AtlasRegion.__name__ = ["workinman","display","spine","atlas","AtlasRegion"];
workinman_display_spine_atlas_AtlasRegion.prototype = {
	__class__: workinman_display_spine_atlas_AtlasRegion
};
var workinman_display_spine_atlas_TextureLoader = function() { };
$hxClasses["workinman.display.spine.atlas.TextureLoader"] = workinman_display_spine_atlas_TextureLoader;
workinman_display_spine_atlas_TextureLoader.__name__ = ["workinman","display","spine","atlas","TextureLoader"];
workinman_display_spine_atlas_TextureLoader.prototype = {
	__class__: workinman_display_spine_atlas_TextureLoader
};
var workinman_display_spine_attachments_AttachmentLoader = function() { };
$hxClasses["workinman.display.spine.attachments.AttachmentLoader"] = workinman_display_spine_attachments_AttachmentLoader;
workinman_display_spine_attachments_AttachmentLoader.__name__ = ["workinman","display","spine","attachments","AttachmentLoader"];
workinman_display_spine_attachments_AttachmentLoader.prototype = {
	__class__: workinman_display_spine_attachments_AttachmentLoader
};
var workinman_display_spine_attachments_AtlasAttachmentLoader = function(atlas) {
	this.atlas = atlas;
};
$hxClasses["workinman.display.spine.attachments.AtlasAttachmentLoader"] = workinman_display_spine_attachments_AtlasAttachmentLoader;
workinman_display_spine_attachments_AtlasAttachmentLoader.__name__ = ["workinman","display","spine","attachments","AtlasAttachmentLoader"];
workinman_display_spine_attachments_AtlasAttachmentLoader.__interfaces__ = [workinman_display_spine_attachments_AttachmentLoader];
workinman_display_spine_attachments_AtlasAttachmentLoader.nextPOT = function(value) {
	--value;
	value |= value >> 1;
	value |= value >> 2;
	value |= value >> 4;
	value |= value >> 8;
	value |= value >> 16;
	return value + 1;
};
workinman_display_spine_attachments_AtlasAttachmentLoader.prototype = {
	newRegionAttachment: function(skin,name,path) {
		if(this.atlas == null) {
			return null;
		}
		var region = this.atlas.findRegion(path);
		if(region == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Region not found in atlas: " + path + " (region attachment: " + name + ")"));
		}
		var attachment = new workinman_display_spine_attachments_RegionAttachment(name);
		attachment.rendererObject = region;
		var scaleX = region.page.width / workinman_display_spine_attachments_AtlasAttachmentLoader.nextPOT(region.page.width);
		var scaleY = region.page.height / workinman_display_spine_attachments_AtlasAttachmentLoader.nextPOT(region.page.height);
		attachment.setUVs(region.u * scaleX,region.v * scaleY,region.u2 * scaleX,region.v2 * scaleY,region.rotate);
		attachment.regionOffsetX = region.offsetX;
		attachment.regionOffsetY = region.offsetY;
		attachment.regionWidth = region.width;
		attachment.regionHeight = region.height;
		attachment.regionOriginalWidth = region.originalWidth;
		attachment.regionOriginalHeight = region.originalHeight;
		return attachment;
	}
	,newMeshAttachment: function(skin,name,path) {
		if(this.atlas == null) {
			return null;
		}
		var region = this.atlas.findRegion(path);
		if(region == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Region not found in atlas: " + path + " (mesh attachment: " + name + ")"));
		}
		var attachment = new workinman_display_spine_attachments_MeshAttachment(name);
		attachment.rendererObject = region;
		return attachment;
	}
	,newWeightedMeshAttachment: function(skin,name,path) {
		if(this.atlas == null) {
			return null;
		}
		var region = this.atlas.findRegion(path);
		if(region == null) {
			throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("Region not found in atlas: " + path + " (weighted mesh attachment: " + name + ")"));
		}
		var attachment = new workinman_display_spine_attachments_WeightedMeshAttachment(name);
		attachment.rendererObject = region;
		var scaleX = region.page.width / workinman_display_spine_attachments_AtlasAttachmentLoader.nextPOT(region.page.width);
		var scaleY = region.page.height / workinman_display_spine_attachments_AtlasAttachmentLoader.nextPOT(region.page.height);
		attachment.regionU = region.u * scaleX;
		attachment.regionV = region.v * scaleY;
		attachment.regionU2 = region.u2 * scaleX;
		attachment.regionV2 = region.v2 * scaleY;
		attachment.regionRotate = region.rotate;
		attachment.regionOffsetX = region.offsetX;
		attachment.regionOffsetY = region.offsetY;
		attachment.regionWidth = region.width;
		attachment.regionHeight = region.height;
		attachment.regionOriginalWidth = region.originalWidth;
		attachment.regionOriginalHeight = region.originalHeight;
		return attachment;
	}
	,newBoundingBoxAttachment: function(skin,name) {
		return new workinman_display_spine_attachments_BoundingBoxAttachment(name);
	}
	,__class__: workinman_display_spine_attachments_AtlasAttachmentLoader
};
var workinman_display_spine_attachments_Attachment = function(pName) {
	if(pName == null) {
		throw new js__$Boot_HaxeError(new workinman_display_spine_Exception("name cannot be null."));
	}
	this.name = pName;
};
$hxClasses["workinman.display.spine.attachments.Attachment"] = workinman_display_spine_attachments_Attachment;
workinman_display_spine_attachments_Attachment.__name__ = ["workinman","display","spine","attachments","Attachment"];
workinman_display_spine_attachments_Attachment.prototype = {
	dispose: function() {
	}
	,__class__: workinman_display_spine_attachments_Attachment
};
var workinman_display_spine_attachments_AttachmentType = function(ordinal,name) {
	this.ordinal = ordinal;
	this.name = name;
};
$hxClasses["workinman.display.spine.attachments.AttachmentType"] = workinman_display_spine_attachments_AttachmentType;
workinman_display_spine_attachments_AttachmentType.__name__ = ["workinman","display","spine","attachments","AttachmentType"];
workinman_display_spine_attachments_AttachmentType.prototype = {
	__class__: workinman_display_spine_attachments_AttachmentType
};
var workinman_display_spine_attachments_BoundingBoxAttachment = function(name) {
	workinman_display_spine_attachments_Attachment.call(this,name);
	this.vertices = [];
};
$hxClasses["workinman.display.spine.attachments.BoundingBoxAttachment"] = workinman_display_spine_attachments_BoundingBoxAttachment;
workinman_display_spine_attachments_BoundingBoxAttachment.__name__ = ["workinman","display","spine","attachments","BoundingBoxAttachment"];
workinman_display_spine_attachments_BoundingBoxAttachment.__super__ = workinman_display_spine_attachments_Attachment;
workinman_display_spine_attachments_BoundingBoxAttachment.prototype = $extend(workinman_display_spine_attachments_Attachment.prototype,{
	dispose: function() {
		workinman_display_spine_attachments_Attachment.prototype.dispose.call(this);
		this.vertices = null;
	}
	,computeWorldVertices: function(x,y,bone,worldVertices) {
		while(worldVertices.length > 0) worldVertices.pop();
		x += bone.get_worldX();
		y += bone.get_worldY();
		var m00 = bone.get_a();
		var m01 = bone.get_b();
		var m10 = bone.get_c();
		var m11 = bone.get_d();
		var vertices = this.vertices;
		var i = 0;
		var n = vertices.length;
		while(i < n) {
			var ii = i + 1;
			var px = vertices[i];
			var py = vertices[ii];
			worldVertices[i] = px * m00 + py * m01 + x;
			worldVertices[ii] = px * m10 + py * m11 + y;
			i += 2;
		}
	}
	,__class__: workinman_display_spine_attachments_BoundingBoxAttachment
});
var workinman_display_spine_attachments_MeshAttachment = function(name) {
	this.a = 1;
	this.b = 1;
	this.g = 1;
	this.r = 1;
	workinman_display_spine_attachments_Attachment.call(this,name);
};
$hxClasses["workinman.display.spine.attachments.MeshAttachment"] = workinman_display_spine_attachments_MeshAttachment;
workinman_display_spine_attachments_MeshAttachment.__name__ = ["workinman","display","spine","attachments","MeshAttachment"];
workinman_display_spine_attachments_MeshAttachment.__super__ = workinman_display_spine_attachments_Attachment;
workinman_display_spine_attachments_MeshAttachment.prototype = $extend(workinman_display_spine_attachments_Attachment.prototype,{
	dispose: function() {
		workinman_display_spine_attachments_Attachment.prototype.dispose.call(this);
		this.vertices = null;
		this.uvs = null;
		this.regionUVs = null;
		this.triangles = null;
		this.rendererObject = null;
		this.worldVertices = null;
		this.region = null;
	}
	,updateUVs: function() {
		if(this.region == null) {
			this.region = this.rendererObject;
		}
		var i;
		var n = this.regionUVs.length;
		if(this.uvs == null || this.uvs.length != n) {
			this.uvs = [];
		}
		var u;
		var v;
		var width;
		var height;
		if(this.region == null) {
			v = 0;
			u = v;
			height = 1;
			width = height;
		} else {
			u = this.region.u;
			v = this.region.v;
			width = this.region.u2 - u;
			height = this.region.v2 - v;
		}
		var regionUVs = this.regionUVs;
		if(js_Boot.__instanceof(this.region,workinman_display_spine_atlas_AtlasRegion) && (js_Boot.__cast(this.region , workinman_display_spine_atlas_AtlasRegion)).rotate) {
			i = 0;
			while(i < n) {
				this.uvs[i] = u + regionUVs[i + 1] * width;
				this.uvs[i + 1] = v + height - regionUVs[i] * height;
				i += 2;
			}
		} else {
			i = 0;
			while(i < n) {
				this.uvs[i] = u + regionUVs[i] * width;
				this.uvs[i + 1] = v + regionUVs[i + 1] * height;
				i += 2;
			}
		}
	}
	,updateWorldVertices: function(slot,premultipliedAlpha) {
		var skeleton = slot.get_skeleton();
		var bone = slot.get_bone();
		var x = skeleton.x + bone.get_worldX();
		var y = skeleton.y + bone.get_worldY();
		var m00 = bone.get_a();
		var m01 = bone.get_b();
		var m10 = bone.get_c();
		var m11 = bone.get_d();
		var vertices = this.vertices;
		var verticesCount = vertices.length;
		if(slot.attachmentVertices.length == verticesCount) {
			vertices = slot.attachmentVertices;
		}
		var worldVertices = [];
		var v = 0;
		var w = 0;
		while(w < verticesCount) {
			var vx = vertices[v];
			var vy = vertices[v + 1];
			worldVertices[w] = vx * m00 + vy * m01 + x;
			worldVertices[w + 1] = vx * m10 + vy * m11 + y;
			v += 2;
			w += 2;
		}
		return worldVertices;
	}
	,__class__: workinman_display_spine_attachments_MeshAttachment
});
var workinman_display_spine_attachments_RegionAttachment = function(name) {
	this.uvs = [];
	this.offset = [];
	this.a = 1;
	this.b = 1;
	this.g = 1;
	this.r = 1;
	this.scaleY = 1;
	this.scaleX = 1;
	workinman_display_spine_attachments_Attachment.call(this,name);
	this.offset = workinman_display_spine_ArrayUtils.allocFloat(8);
	this.uvs = workinman_display_spine_ArrayUtils.allocFloat(8);
};
$hxClasses["workinman.display.spine.attachments.RegionAttachment"] = workinman_display_spine_attachments_RegionAttachment;
workinman_display_spine_attachments_RegionAttachment.__name__ = ["workinman","display","spine","attachments","RegionAttachment"];
workinman_display_spine_attachments_RegionAttachment.__super__ = workinman_display_spine_attachments_Attachment;
workinman_display_spine_attachments_RegionAttachment.prototype = $extend(workinman_display_spine_attachments_Attachment.prototype,{
	dispose: function() {
		workinman_display_spine_attachments_Attachment.prototype.dispose.call(this);
		this.rendererObject = null;
	}
	,setUVs: function(u,v,u2,v2,rotate) {
		if(rotate) {
			this.uvs[2] = u;
			this.uvs[3] = v2;
			this.uvs[4] = u;
			this.uvs[5] = v;
			this.uvs[6] = u2;
			this.uvs[7] = v;
			this.uvs[0] = u2;
			this.uvs[1] = v2;
		} else {
			this.uvs[0] = u;
			this.uvs[1] = v2;
			this.uvs[2] = u;
			this.uvs[3] = v;
			this.uvs[4] = u2;
			this.uvs[5] = v;
			this.uvs[6] = u2;
			this.uvs[7] = v2;
		}
	}
	,updateOffset: function() {
		var regionScaleX = this.width / this.regionOriginalWidth * this.scaleX;
		var regionScaleY = this.height / this.regionOriginalHeight * this.scaleY;
		var localX = -this.width / 2 * this.scaleX + this.regionOffsetX * regionScaleX;
		var localY = -this.height / 2 * this.scaleY + this.regionOffsetY * regionScaleY;
		var localX2 = localX + this.regionWidth * regionScaleX;
		var localY2 = localY + this.regionHeight * regionScaleY;
		var radians = this.rotation * Math.PI / 180;
		var cos = Math.cos(radians);
		var sin = Math.sin(radians);
		var localXCos = localX * cos + this.x;
		var localXSin = localX * sin;
		var localYCos = localY * cos + this.y;
		var localYSin = localY * sin;
		var localX2Cos = localX2 * cos + this.x;
		var localX2Sin = localX2 * sin;
		var localY2Cos = localY2 * cos + this.y;
		var localY2Sin = localY2 * sin;
		this.offset[0] = localXCos - localYSin;
		this.offset[1] = localYCos + localXSin;
		this.offset[2] = localXCos - localY2Sin;
		this.offset[3] = localY2Cos + localXSin;
		this.offset[4] = localX2Cos - localY2Sin;
		this.offset[5] = localY2Cos + localX2Sin;
		this.offset[6] = localX2Cos - localYSin;
		this.offset[7] = localYCos + localX2Sin;
	}
	,computeWorldVertices: function(x,y,bone,worldVertices) {
		x += bone.get_worldX();
		y += bone.get_worldY();
		var m00 = bone.get_a();
		var m01 = bone.get_b();
		var m10 = bone.get_c();
		var m11 = bone.get_d();
		var x1 = this.offset[0];
		var y1 = this.offset[1];
		var x2 = this.offset[2];
		var y2 = this.offset[3];
		var x3 = this.offset[4];
		var y3 = this.offset[5];
		var x4 = this.offset[6];
		var y4 = this.offset[7];
		worldVertices[0] = x1 * m00 + y1 * m01 + x;
		worldVertices[1] = x1 * m10 + y1 * m11 + y;
		worldVertices[2] = x2 * m00 + y2 * m01 + x;
		worldVertices[3] = x2 * m10 + y2 * m11 + y;
		worldVertices[4] = x3 * m00 + y3 * m01 + x;
		worldVertices[5] = x3 * m10 + y3 * m11 + y;
		worldVertices[6] = x4 * m00 + y4 * m01 + x;
		worldVertices[7] = x4 * m10 + y4 * m11 + y;
	}
	,__class__: workinman_display_spine_attachments_RegionAttachment
});
var workinman_display_spine_attachments_WeightedMeshAttachment = function(name) {
	this.a = 1;
	this.b = 1;
	this.g = 1;
	this.r = 1;
	workinman_display_spine_attachments_Attachment.call(this,name);
};
$hxClasses["workinman.display.spine.attachments.WeightedMeshAttachment"] = workinman_display_spine_attachments_WeightedMeshAttachment;
workinman_display_spine_attachments_WeightedMeshAttachment.__name__ = ["workinman","display","spine","attachments","WeightedMeshAttachment"];
workinman_display_spine_attachments_WeightedMeshAttachment.__super__ = workinman_display_spine_attachments_Attachment;
workinman_display_spine_attachments_WeightedMeshAttachment.prototype = $extend(workinman_display_spine_attachments_Attachment.prototype,{
	dispose: function() {
		workinman_display_spine_attachments_Attachment.prototype.dispose.call(this);
		this.bones = null;
		this.weights = null;
		this.uvs = null;
		this.regionUVs = null;
		this.triangles = null;
		this.rendererObject = null;
	}
	,updateUVs: function() {
		var width = this.regionU2 - this.regionU;
		var height = this.regionV2 - this.regionV;
		var i;
		var n = this.regionUVs.length;
		if(this.uvs == null || this.uvs.length != n) {
			this.uvs = [];
		}
		if(this.regionRotate) {
			i = 0;
			while(i < n) {
				this.uvs[i] = this.regionU + this.regionUVs[i + 1] * width;
				this.uvs[i + 1] = this.regionV + height - this.regionUVs[i] * height;
				i += 2;
			}
		} else {
			i = 0;
			while(i < n) {
				this.uvs[i] = this.regionU + this.regionUVs[i] * width;
				this.uvs[i + 1] = this.regionV + this.regionUVs[i + 1] * height;
				i += 2;
			}
		}
	}
	,computeWorldVertices: function(x,y,slot,worldVertices) {
		var skeletonBones = slot.get_skeleton().bones;
		var weights = this.weights;
		var bones = this.bones;
		var w = 0;
		var v = 0;
		var b = 0;
		var f = 0;
		var n = bones.length;
		var nn;
		var wx;
		var wy;
		var bone;
		var vx;
		var vy;
		var weight;
		if(slot.attachmentVertices.length == 0) {
			while(v < n) {
				wx = 0;
				wy = 0;
				nn = bones[v++] + v;
				while(v < nn) {
					bone = skeletonBones[bones[v]];
					vx = weights[b];
					vy = weights[b + 1];
					weight = weights[b + 2];
					wx += (vx * bone.get_a() + vy * bone.get_b() + bone.get_worldX()) * weight;
					wy += (vx * bone.get_c() + vy * bone.get_d() + bone.get_worldY()) * weight;
					++v;
					b += 3;
				}
				worldVertices[w] = wx + x;
				worldVertices[w + 1] = wy + y;
				w += 2;
			}
		} else {
			var ffd = slot.attachmentVertices;
			while(v < n) {
				wx = 0;
				wy = 0;
				nn = bones[v++] + v;
				while(v < nn) {
					bone = skeletonBones[bones[v]];
					vx = weights[b] + ffd[f];
					vy = weights[b + 1] + ffd[f + 1];
					weight = weights[b + 2];
					wx += (vx * bone.get_a() + vy * bone.get_b() + bone.get_worldX()) * weight;
					wy += (vx * bone.get_c() + vy * bone.get_d() + bone.get_worldY()) * weight;
					++v;
					b += 3;
					f += 2;
				}
				worldVertices[w] = wx + x;
				worldVertices[w + 1] = wy + y;
				w += 2;
			}
		}
	}
	,__class__: workinman_display_spine_attachments_WeightedMeshAttachment
});
var workinman_display_spine_platform_flambe_FlambeTextureLoader = function(prefix,pack) {
	this.prefix = prefix;
	this.pack = pack;
};
$hxClasses["workinman.display.spine.platform.flambe.FlambeTextureLoader"] = workinman_display_spine_platform_flambe_FlambeTextureLoader;
workinman_display_spine_platform_flambe_FlambeTextureLoader.__name__ = ["workinman","display","spine","platform","flambe","FlambeTextureLoader"];
workinman_display_spine_platform_flambe_FlambeTextureLoader.__interfaces__ = [workinman_display_spine_atlas_TextureLoader];
workinman_display_spine_platform_flambe_FlambeTextureLoader.prototype = {
	loadPage: function(page,path) {
		var tPath = this.prefix + flambe_util_Strings.removeFileExtension(path);
		var texture = this.pack.getTexture(tPath);
		page.rendererObject = texture;
		page.width = texture.get_width();
		page.height = texture.get_height();
	}
	,loadRegion: function(region) {
	}
	,__class__: workinman_display_spine_platform_flambe_FlambeTextureLoader
};
var workinman_display_spine_platform_flambe_MeshSprite = function(meshAttachment,slot,renderBoxes) {
	this._h = 0;
	this._w = 0;
	workinman_display_Sprite.call(this,{ originX : 0, originY : 0});
	this.meshAttachment = meshAttachment;
	this.region = meshAttachment.rendererObject;
	this.atlas = this.region.page.rendererObject;
	this.slot = slot;
	this._flagRenderBoxes = renderBoxes;
	var regionWidth = this.region.rotate ? this.region.height : this.region.width;
	var regionHeight = this.region.rotate ? this.region.width : this.region.height;
	this._w = regionWidth;
	this._h = regionHeight;
};
$hxClasses["workinman.display.spine.platform.flambe.MeshSprite"] = workinman_display_spine_platform_flambe_MeshSprite;
workinman_display_spine_platform_flambe_MeshSprite.__name__ = ["workinman","display","spine","platform","flambe","MeshSprite"];
workinman_display_spine_platform_flambe_MeshSprite.__super__ = workinman_display_Sprite;
workinman_display_spine_platform_flambe_MeshSprite.prototype = $extend(workinman_display_Sprite.prototype,{
	dispose: function() {
		workinman_display_Sprite.prototype.dispose.call(this);
		this.meshAttachment = null;
		this.region = null;
		this.atlas = null;
		this.slot = null;
	}
	,_draw: function(g) {
		var uvs = this.meshAttachment.uvs;
		var triangles = this.meshAttachment.triangles;
		var vertices = this.worldVertices;
		var i = 0;
		while(i < triangles.length) {
			var triangle = triangles[i] * 2;
			var x0 = vertices[triangle];
			var y0 = vertices[triangle + 1];
			var u0 = uvs[triangle] * this.region.page.width;
			var v0 = uvs[triangle + 1] * this.region.page.height;
			triangle = triangles[i + 1] * 2;
			var x1 = vertices[triangle];
			var y1 = vertices[triangle + 1];
			var u1 = uvs[triangle] * this.region.page.width;
			var v1 = uvs[triangle + 1] * this.region.page.height;
			triangle = triangles[i + 2] * 2;
			var x2 = vertices[triangle];
			var y2 = vertices[triangle + 1];
			var u2 = uvs[triangle] * this.region.page.width;
			var v2 = uvs[triangle + 1] * this.region.page.height;
			g.canvasCtx.save();
			g.canvasCtx.beginPath();
			g.canvasCtx.moveTo(x0,y0);
			g.canvasCtx.lineTo(x1,y1);
			g.canvasCtx.lineTo(x2,y2);
			g.canvasCtx.closePath();
			if(this._flagRenderBoxes) {
				g.canvasCtx.strokeStyle = "#00FF00";
				g.canvasCtx.stroke();
			}
			g.canvasCtx.clip();
			var delta = u0 * v1 + v0 * u2 + u1 * v2 - v1 * u2 - v0 * u1 - u0 * v2;
			var deltaA = x0 * v1 + v0 * x2 + x1 * v2 - v1 * x2 - v0 * x1 - x0 * v2;
			var deltaB = u0 * x1 + x0 * u2 + u1 * x2 - x1 * u2 - x0 * u1 - u0 * x2;
			var deltaC = u0 * v1 * x2 + v0 * x1 * u2 + x0 * u1 * v2 - x0 * v1 * u2 - v0 * u1 * x2 - u0 * x1 * v2;
			var deltaD = y0 * v1 + v0 * y2 + y1 * v2 - v1 * y2 - v0 * y1 - y0 * v2;
			var deltaE = u0 * y1 + y0 * u2 + u1 * y2 - y1 * u2 - y0 * u1 - u0 * y2;
			var deltaF = u0 * v1 * y2 + v0 * y1 * u2 + y0 * u1 * v2 - y0 * v1 * u2 - v0 * u1 * y2 - u0 * y1 * v2;
			g.canvasCtx.transform(deltaA / delta,deltaD / delta,deltaB / delta,deltaE / delta,deltaC / delta,deltaF / delta);
			var texture = this.atlas;
			var root = texture.root;
			var condition = !root._disposed;
			g.canvasCtx.drawImage(root.image,0,0);
			texture = null;
			root = null;
			g.canvasCtx.restore();
			i += 3;
		}
	}
	,get_width: function() {
		return this.region.width;
	}
	,get_height: function() {
		return this.region.height;
	}
	,__class__: workinman_display_spine_platform_flambe_MeshSprite
});
var workinman_display_spine_platform_flambe_RegionSprite = function(regionAttachment,slot) {
	this._h = 0;
	this._w = 0;
	workinman_display_Sprite.call(this,{ originX : 0, originY : 0});
	this.regionAttachment = regionAttachment;
	this.region = regionAttachment.rendererObject;
	this.atlas = this.region.page.rendererObject;
	this.slot = slot;
	var regionWidth = this.region.rotate ? this.region.height : this.region.width;
	var regionHeight = this.region.rotate ? this.region.width : this.region.height;
	this._w = regionWidth;
	this._h = regionHeight;
	this.rotation = -regionAttachment.rotation;
	this.scaleX = regionAttachment.scaleX * (regionAttachment.width / this.region.originalWidth);
	this.scaleY = regionAttachment.scaleY * (regionAttachment.height / this.region.originalHeight);
	if(this.region.rotate) {
		this.scaleY = regionAttachment.scaleX * (regionAttachment.width / this.region.originalWidth);
		this.scaleX = regionAttachment.scaleY * (regionAttachment.height / this.region.originalHeight);
	}
	var radians = -regionAttachment.rotation * Math.PI / 180;
	var cos = Math.cos(radians);
	var sin = Math.sin(radians);
	var shiftX = -regionAttachment.width / 2 * Math.abs(regionAttachment.scaleX);
	var shiftY = -regionAttachment.height / 2 * Math.abs(regionAttachment.scaleY);
	var shiftXOffset = this.region.offsetX * this.scaleX;
	var shiftYOffset = (this.region.originalHeight - this.region.height - this.region.offsetY) * this.scaleY;
	if(regionAttachment.scaleX < 0) {
		if(this.region.rotate) {
			shiftX -= regionHeight * (regionAttachment.width / this.region.originalWidth);
		} else {
			shiftX = regionAttachment.width / 2 * Math.abs(regionAttachment.scaleX);
		}
	}
	if(regionAttachment.scaleY < 0) {
		if(this.region.rotate) {
			shiftY += regionWidth * (regionAttachment.height / this.region.originalHeight);
		} else {
			shiftY = regionAttachment.height / 2 * Math.abs(regionAttachment.scaleY);
		}
	}
	if(this.region.rotate) {
		this.rotation += 90;
		shiftX += regionHeight * (regionAttachment.width * Math.abs(regionAttachment.scaleX) / this.region.originalWidth);
	}
	this.set_x(regionAttachment.x + shiftX * cos - shiftY * sin + shiftXOffset * cos - shiftYOffset * sin);
	this.set_y(-regionAttachment.y + shiftX * sin + shiftY * cos + shiftXOffset * sin + shiftYOffset * cos);
};
$hxClasses["workinman.display.spine.platform.flambe.RegionSprite"] = workinman_display_spine_platform_flambe_RegionSprite;
workinman_display_spine_platform_flambe_RegionSprite.__name__ = ["workinman","display","spine","platform","flambe","RegionSprite"];
workinman_display_spine_platform_flambe_RegionSprite.__super__ = workinman_display_Sprite;
workinman_display_spine_platform_flambe_RegionSprite.prototype = $extend(workinman_display_Sprite.prototype,{
	dispose: function() {
		workinman_display_Sprite.prototype.dispose.call(this);
		this.regionAttachment = null;
		this.region = null;
		this.atlas = null;
		this.slot = null;
	}
	,_draw: function(g) {
		g.ctx.drawSubTexture(this.atlas,0,0,this.region.x,this.region.y,this._w,this._h);
	}
	,get_width: function() {
		return this.region.originalWidth;
	}
	,get_height: function() {
		return this.region.originalHeight;
	}
	,__class__: workinman_display_spine_platform_flambe_RegionSprite
});
var workinman_display_spine_platform_flambe_SkeletonSprite = function(skeletonData,renderBoxes) {
	if(renderBoxes == null) {
		renderBoxes = false;
	}
	this.colorRegionBox = 65280;
	this.colorBoundingBox = 16711680;
	workinman_display_Sprite.call(this,null);
	this._holder = new workinman_display_Sprite(null);
	workinman_display_spine_Bone.yDown = true;
	this.skeleton = new workinman_display_spine_Skeleton(skeletonData);
	this.skeleton.updateWorldTransform();
	this._sprites = new haxe_ds_ObjectMap();
	this._regions = new haxe_ds_ObjectMap();
	this._meshes = new haxe_ds_ObjectMap();
	this._weightedMeshes = new haxe_ds_ObjectMap();
	this._flagRenderBoxes = renderBoxes;
	this.drawSprites(true);
	this.addChild(this._holder);
};
$hxClasses["workinman.display.spine.platform.flambe.SkeletonSprite"] = workinman_display_spine_platform_flambe_SkeletonSprite;
workinman_display_spine_platform_flambe_SkeletonSprite.__name__ = ["workinman","display","spine","platform","flambe","SkeletonSprite"];
workinman_display_spine_platform_flambe_SkeletonSprite.__super__ = workinman_display_Sprite;
workinman_display_spine_platform_flambe_SkeletonSprite.prototype = $extend(workinman_display_Sprite.prototype,{
	dispose: function() {
		if(this._holder != null) {
			this.removeChild(this._holder);
		}
		workinman_display_Sprite.prototype.dispose.call(this);
		if(this.skeleton != null) {
			this.skeleton.dispose();
		}
		this.skeleton = null;
		if(this._holder != null) {
			this._holder.dispose();
		}
		this._holder = null;
		this._sprites = null;
		this._regions = null;
		this._meshes = null;
		this._weightedMeshes = null;
	}
	,get_regions: function() {
		return this._regions;
	}
	,get_sprites: function() {
		return this._sprites;
	}
	,_draw: function(g) {
		this.drawSprites(false);
	}
	,drawSprites: function(pDrawAll) {
		var sprite = this._sprites.iterator();
		while(sprite.hasNext()) {
			var sprite1 = sprite.next();
			sprite1.visible = false;
		}
		var drawOrder = this.skeleton.drawOrder;
		if(pDrawAll) {
			drawOrder = this.skeleton.slots;
		}
		var _g1 = 0;
		var _g = drawOrder.length;
		while(_g1 < _g) {
			var i = _g1++;
			var slot = drawOrder[i];
			if(slot.get_attachment() == null) {
				continue;
			}
			if(js_Boot.__instanceof(slot.get_attachment(),workinman_display_spine_attachments_RegionAttachment)) {
				var regionAttachment = js_Boot.__cast(slot.get_attachment() , workinman_display_spine_attachments_RegionAttachment);
				if(regionAttachment != null) {
					var wrapper = this._sprites.h[regionAttachment.__id__];
					if(wrapper == null) {
						var partSprite = new workinman_display_spine_platform_flambe_RegionSprite(regionAttachment,slot);
						wrapper = new workinman_display_spine_platform_flambe_WrapperSprite();
						var part = wrapper;
						part.addChild(partSprite);
						if(this._flagRenderBoxes) {
							this._renderBoxes(slot,regionAttachment,part);
						}
						this._sprites.set(regionAttachment,wrapper);
						this._regions.set(regionAttachment,partSprite);
						this._holder.addChild(part);
					}
					var sprite2 = this._sprites.h[regionAttachment.__id__];
					this._holder.addChild(sprite2);
					var bone = slot.get_bone();
					var flipX = this.skeleton.flipX ? -1 : 1;
					var flipY = this.skeleton.flipY ? -1 : 1;
					wrapper.visible = true;
					wrapper.a = bone.get_a();
					wrapper.b = bone.get_b();
					wrapper.c = bone.get_c();
					wrapper.d = bone.get_d();
					wrapper.e = bone.get_worldX();
					wrapper.f = bone.get_worldY();
					wrapper.alpha = this.skeleton.a * slot.a * regionAttachment.a;
					var r = this.skeleton.r * slot.r * regionAttachment.r;
					var g = this.skeleton.g * slot.g * regionAttachment.g;
					var b = this.skeleton.b * slot.b * regionAttachment.b;
					var color = "0x" + this.toHexColor(Math.floor(r * 255)) + this.toHexColor(Math.floor(g * 255)) + this.toHexColor(Math.floor(b * 255));
					this._regions.h[regionAttachment.__id__].color = Std.parseInt(color);
				}
				regionAttachment = null;
			} else if(js_Boot.__instanceof(slot.get_attachment(),workinman_display_spine_attachments_MeshAttachment)) {
				var meshAttachment = js_Boot.__cast(slot.get_attachment() , workinman_display_spine_attachments_MeshAttachment);
				if(meshAttachment != null) {
					var wrapper1 = this._sprites.h[meshAttachment.__id__];
					if(wrapper1 == null) {
						var partSprite1 = new workinman_display_spine_platform_flambe_MeshSprite(meshAttachment,slot,this._flagRenderBoxes);
						wrapper1 = new workinman_display_spine_platform_flambe_WrapperSprite();
						var part1 = wrapper1;
						part1.addChild(partSprite1);
						this._sprites.set(meshAttachment,wrapper1);
						this._meshes.set(meshAttachment,partSprite1);
						this._holder.addChild(part1);
					}
					var sprite3 = this._sprites.h[meshAttachment.__id__];
					this._holder.addChild(sprite3);
					var worldVertices = meshAttachment.updateWorldVertices(slot,true);
					this._meshes.h[meshAttachment.__id__].worldVertices = worldVertices;
					wrapper1.visible = true;
					wrapper1.alpha = this.skeleton.a * slot.a * meshAttachment.a;
				}
				meshAttachment = null;
			} else if(js_Boot.__instanceof(slot.get_attachment(),workinman_display_spine_attachments_WeightedMeshAttachment)) {
				var meshAttachment1 = js_Boot.__cast(slot.get_attachment() , workinman_display_spine_attachments_WeightedMeshAttachment);
				if(meshAttachment1 != null) {
					var wrapper2 = this._sprites.h[meshAttachment1.__id__];
					if(wrapper2 == null) {
						var partSprite2 = new workinman_display_spine_platform_flambe_WeightedMeshSprite(meshAttachment1,slot);
						wrapper2 = new workinman_display_spine_platform_flambe_WrapperSprite();
						var part2 = wrapper2;
						part2.addChild(partSprite2);
						this._sprites.set(meshAttachment1,wrapper2);
						this._weightedMeshes.set(meshAttachment1,partSprite2);
						this._holder.addChild(part2);
					}
					var worldVertices1 = workinman_display_spine_ArrayUtils.allocFloat(meshAttachment1.uvs.length);
					meshAttachment1.computeWorldVertices(this.skeleton.x,this.skeleton.y,slot,worldVertices1);
					this._weightedMeshes.h[meshAttachment1.__id__].worldVertices = worldVertices1;
					var sprite4 = this._sprites.h[meshAttachment1.__id__];
					this._holder.addChild(sprite4);
					wrapper2.visible = true;
					wrapper2.alpha = this.skeleton.a * slot.a * meshAttachment1.a;
				}
				meshAttachment1 = null;
			}
		}
		drawOrder = null;
	}
	,_renderBoxes: function(slot,regionAttachment,part) {
		var fill;
		var polygon = new workinman_display_spine_Polygon();
		var flipX = this.skeleton.flipX ? -1 : 1;
		var flipY = this.skeleton.flipY ? -1 : 1;
		var angle = slot.get_bone().get_worldRotationX() * flipX * flipY;
		angle = angle * -Math.PI / 180;
		var _g1 = 0;
		var _g = this.skeleton.slots.length;
		while(_g1 < _g) {
			var i = _g1++;
			var slot1 = this.skeleton.slots[i];
			if(this.skeleton.get_data().defaultSkin.get_attachments()[i] != null) {
				var _this = this.skeleton.get_data().defaultSkin.get_attachments()[i];
				var attachment = new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys());
				while(attachment.hasNext()) {
					var attachment1 = attachment.next();
					var boundingBox;
					try {
						boundingBox = js_Boot.__cast(attachment1 , workinman_display_spine_attachments_BoundingBoxAttachment);
					} catch( e ) {
						boundingBox = null;
					}
					if(boundingBox == null) {
						continue;
					}
					if(boundingBox.name == regionAttachment.name) {
						var ii = 0;
						var nn = boundingBox.vertices.length;
						var vertices = [];
						polygon.vertices.splice(boundingBox.vertices.length,polygon.vertices.length - boundingBox.vertices.length);
						boundingBox.computeWorldVertices(this.skeleton.x,this.skeleton.y,slot1.get_bone(),polygon.vertices);
						while(ii < nn) {
							var id1 = ii;
							var id2 = ii + 2;
							if(ii == nn - 2) {
								id2 = 0;
							}
							var x1 = polygon.vertices[id1] - slot1.get_bone().get_worldX();
							var y1 = polygon.vertices[id1 + 1] - slot1.get_bone().get_worldY();
							var x2 = polygon.vertices[id2] - slot1.get_bone().get_worldX();
							var y2 = polygon.vertices[id2 + 1] - slot1.get_bone().get_worldY();
							var oldX = x1;
							var oldY = y1;
							x1 = Math.cos(angle) * oldX - Math.sin(angle) * oldY;
							y1 = Math.sin(angle) * oldX + Math.cos(angle) * oldY;
							oldX = x2;
							oldY = y2;
							x2 = Math.cos(angle) * oldX - Math.sin(angle) * oldY;
							y2 = Math.sin(angle) * oldX + Math.cos(angle) * oldY;
							var height = Math.abs(Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2)));
							var rot = Math.atan2(y2 - y1,x2 - x1) * 180 / Math.PI - 90;
							fill = new workinman_display_FillSprite({ color : this.colorBoundingBox, sizeX : 5, sizeY : Math.floor(height)});
							fill.set_x(x1);
							fill.set_y(y1);
							fill.rotation = rot;
							part.addChild(fill);
							ii += 2;
						}
					}
				}
			}
		}
		var polygon1 = new workinman_display_spine_Polygon();
		regionAttachment.computeWorldVertices(this.skeleton.x,this.skeleton.y,slot.get_bone(),polygon1.vertices);
		var ii1 = 0;
		var nn1 = polygon1.vertices.length;
		var fill1;
		while(ii1 < nn1) {
			var id11 = ii1;
			var id21 = ii1 + 2;
			if(ii1 == nn1 - 2) {
				id21 = 0;
			}
			var x11 = polygon1.vertices[id11] - slot.get_bone().get_worldX();
			var y11 = polygon1.vertices[id11 + 1] - slot.get_bone().get_worldY();
			var x21 = polygon1.vertices[id21] - slot.get_bone().get_worldX();
			var y21 = polygon1.vertices[id21 + 1] - slot.get_bone().get_worldY();
			var oldX1 = x11;
			var oldY1 = y11;
			x11 = Math.cos(angle) * oldX1 - Math.sin(angle) * oldY1;
			y11 = Math.sin(angle) * oldX1 + Math.cos(angle) * oldY1;
			oldX1 = x21;
			oldY1 = y21;
			x21 = Math.cos(angle) * oldX1 - Math.sin(angle) * oldY1;
			y21 = Math.sin(angle) * oldX1 + Math.cos(angle) * oldY1;
			if(slot.get_bone().get_worldScaleX() < 0) {
				y11 *= -1;
				y21 *= -1;
			}
			var height1 = Math.abs(Math.sqrt((x11 - x21) * (x11 - x21) + (y11 - y21) * (y11 - y21)));
			var rot1 = Math.atan2(y21 - y11,x21 - x11) * 180 / Math.PI - 90;
			fill1 = new workinman_display_FillSprite({ color : this.colorRegionBox, sizeX : 2, sizeY : Math.floor(height1)});
			fill1.set_x(x11);
			fill1.set_y(y11);
			fill1.rotation = rot1;
			part.addChild(fill1);
			ii1 += 2;
		}
		fill1 = null;
		polygon1 = null;
	}
	,toHexColor: function(n) {
		n = Math.max(0,Math.min(n,255));
		return "0123456789ABCDEF".charAt(Math.floor((n - n % 16) / 16)) + "0123456789ABCDEF".charAt(Math.floor(n % 16));
	}
	,__class__: workinman_display_spine_platform_flambe_SkeletonSprite
	,__properties__: $extend(workinman_display_Sprite.prototype.__properties__,{get_sprites:"get_sprites",get_regions:"get_regions"})
});
var workinman_display_spine_platform_flambe_SkeletonAnimation = function(skeletonData,renderBoxes) {
	if(renderBoxes == null) {
		renderBoxes = false;
	}
	workinman_display_spine_platform_flambe_SkeletonSprite.call(this,skeletonData,renderBoxes);
};
$hxClasses["workinman.display.spine.platform.flambe.SkeletonAnimation"] = workinman_display_spine_platform_flambe_SkeletonAnimation;
workinman_display_spine_platform_flambe_SkeletonAnimation.__name__ = ["workinman","display","spine","platform","flambe","SkeletonAnimation"];
workinman_display_spine_platform_flambe_SkeletonAnimation.__super__ = workinman_display_spine_platform_flambe_SkeletonSprite;
workinman_display_spine_platform_flambe_SkeletonAnimation.prototype = $extend(workinman_display_spine_platform_flambe_SkeletonSprite.prototype,{
	__class__: workinman_display_spine_platform_flambe_SkeletonAnimation
});
var workinman_display_spine_platform_flambe_SkeletonRegions = function(pRender) {
	this.regions = [];
	this.polygonPool = [];
	this.polygons = [];
	this._renderer = pRender;
};
$hxClasses["workinman.display.spine.platform.flambe.SkeletonRegions"] = workinman_display_spine_platform_flambe_SkeletonRegions;
workinman_display_spine_platform_flambe_SkeletonRegions.__name__ = ["workinman","display","spine","platform","flambe","SkeletonRegions"];
workinman_display_spine_platform_flambe_SkeletonRegions.prototype = {
	dispose: function() {
		this.regions = null;
		this._renderer = null;
		var _g = 0;
		var _g1 = this.polygons;
		while(_g < _g1.length) {
			var p = _g1[_g];
			++_g;
			if(p != null) {
				p.dispose();
			}
		}
		this.polygons = null;
		var _g2 = 0;
		var _g11 = this.polygonPool;
		while(_g2 < _g11.length) {
			var p1 = _g11[_g2];
			++_g2;
			if(p1 != null) {
				p1.dispose();
			}
		}
		this.polygonPool = null;
	}
	,update: function(skeleton,updateAabb,pScaleX,pScaleY) {
		var x = skeleton.x;
		var y = skeleton.y;
		var _g = 0;
		var _g1 = this.polygons;
		while(_g < _g1.length) {
			var polygon = _g1[_g];
			++_g;
			this.polygonPool.push(polygon);
		}
		this.polygons = [];
		this.regions = [];
		var drawOrder = skeleton.drawOrder;
		var _g11 = 0;
		var _g2 = drawOrder.length;
		while(_g11 < _g2) {
			var i = _g11++;
			var slot = drawOrder[i];
			if(slot.get_attachment() == null) {
				continue;
			}
			if(js_Boot.__instanceof(slot.get_attachment(),workinman_display_spine_attachments_RegionAttachment)) {
				var regionAttachment = js_Boot.__cast(slot.get_attachment() , workinman_display_spine_attachments_RegionAttachment);
				var region = this._renderer.get_regions().h[regionAttachment.__id__];
				if(this._renderer.get_sprites().h[region.regionAttachment.__id__].visible == false) {
					continue;
				}
				if(slot.get_attachment() != region.regionAttachment) {
					continue;
				}
				this.regions.push(region.regionAttachment);
				var polygon1;
				if(this.polygonPool.length > 0) {
					polygon1 = this.polygonPool.pop();
				} else {
					polygon1 = new workinman_display_spine_Polygon();
				}
				this.polygons.push(polygon1);
				region.regionAttachment.computeWorldVertices(x,y,region.slot.get_bone(),polygon1.vertices);
				var ii = 0;
				var nn = polygon1.vertices.length;
				while(ii < nn) {
					polygon1.vertices[ii] *= pScaleX;
					ii += 2;
				}
				var ii1 = 1;
				var nn1 = polygon1.vertices.length;
				while(ii1 < nn1) {
					polygon1.vertices[ii1] *= pScaleY;
					ii1 += 2;
				}
				regionAttachment = null;
				region = null;
			}
		}
		drawOrder = null;
		this.regions.reverse();
		this.polygons.reverse();
		if(updateAabb) {
			this.aabbCompute();
		}
	}
	,aabbCompute: function() {
		var minX = 2147483647;
		var minY = 2147483647;
		var maxX = -2147483648;
		var maxY = -2147483648;
		var i = 0;
		var n = this.polygons.length;
		while(i < n) {
			var polygon = this.polygons[i];
			var vertices = polygon.vertices;
			var ii = 0;
			var nn = vertices.length;
			while(ii < nn) {
				var x = vertices[ii];
				var y = vertices[ii + 1];
				minX = Math.min(minX,x);
				minY = Math.min(minY,y);
				maxX = Math.max(maxX,x);
				maxY = Math.max(maxY,y);
				ii += 2;
			}
			++i;
		}
		this.minX = minX;
		this.minY = minY;
		this.maxX = maxX;
		this.maxY = maxY;
	}
	,aabbContainsPoint: function(x,y) {
		if(x >= this.minX && x <= this.maxX && y >= this.minY) {
			return y <= this.maxY;
		} else {
			return false;
		}
	}
	,containsPoint: function(x,y) {
		var i = 0;
		var n = this.polygons.length;
		while(i < n) {
			if(this.polygons[i].containsPoint(x,y)) {
				return this.regions[i];
			}
			++i;
		}
		return null;
	}
	,__class__: workinman_display_spine_platform_flambe_SkeletonRegions
};
var workinman_display_spine_platform_flambe_WeightedMeshSprite = function(meshAttachment,slot) {
	this._h = 0;
	this._w = 0;
	workinman_display_Sprite.call(this,{ originX : 0, originY : 0});
	this.meshAttachment = meshAttachment;
	this.region = meshAttachment.rendererObject;
	this.atlas = this.region.page.rendererObject;
	this.slot = slot;
	var regionWidth = this.region.rotate ? this.region.height : this.region.width;
	var regionHeight = this.region.rotate ? this.region.width : this.region.height;
	this._w = regionWidth;
	this._h = regionHeight;
};
$hxClasses["workinman.display.spine.platform.flambe.WeightedMeshSprite"] = workinman_display_spine_platform_flambe_WeightedMeshSprite;
workinman_display_spine_platform_flambe_WeightedMeshSprite.__name__ = ["workinman","display","spine","platform","flambe","WeightedMeshSprite"];
workinman_display_spine_platform_flambe_WeightedMeshSprite.__super__ = workinman_display_Sprite;
workinman_display_spine_platform_flambe_WeightedMeshSprite.prototype = $extend(workinman_display_Sprite.prototype,{
	dispose: function() {
		workinman_display_Sprite.prototype.dispose.call(this);
		this.meshAttachment = null;
		this.region = null;
		this.atlas = null;
		this.slot = null;
	}
	,_draw: function(g) {
		var uvs = this.meshAttachment.uvs;
		var triangles = this.meshAttachment.triangles;
		var vertices = this.worldVertices;
		var i = 0;
		while(i < triangles.length) {
			var triangle = triangles[i] * 2;
			var x0 = vertices[triangle];
			var y0 = vertices[triangle + 1];
			var u0 = uvs[triangle] * this.region.page.width;
			var v0 = uvs[triangle + 1] * this.region.page.height;
			triangle = triangles[i + 1] * 2;
			var x1 = vertices[triangle];
			var y1 = vertices[triangle + 1];
			var u1 = uvs[triangle] * this.region.page.width;
			var v1 = uvs[triangle + 1] * this.region.page.height;
			triangle = triangles[i + 2] * 2;
			var x2 = vertices[triangle];
			var y2 = vertices[triangle + 1];
			var u2 = uvs[triangle] * this.region.page.width;
			var v2 = uvs[triangle + 1] * this.region.page.height;
			g.canvasCtx.save();
			g.canvasCtx.beginPath();
			g.canvasCtx.moveTo(x0,y0);
			g.canvasCtx.lineTo(x1,y1);
			g.canvasCtx.lineTo(x2,y2);
			g.canvasCtx.closePath();
			g.canvasCtx.stroke();
			g.canvasCtx.clip();
			var delta = u0 * v1 + v0 * u2 + u1 * v2 - v1 * u2 - v0 * u1 - u0 * v2;
			var deltaA = x0 * v1 + v0 * x2 + x1 * v2 - v1 * x2 - v0 * x1 - x0 * v2;
			var deltaB = u0 * x1 + x0 * u2 + u1 * x2 - x1 * u2 - x0 * u1 - u0 * x2;
			var deltaC = u0 * v1 * x2 + v0 * x1 * u2 + x0 * u1 * v2 - x0 * v1 * u2 - v0 * u1 * x2 - u0 * x1 * v2;
			var deltaD = y0 * v1 + v0 * y2 + y1 * v2 - v1 * y2 - v0 * y1 - y0 * v2;
			var deltaE = u0 * y1 + y0 * u2 + u1 * y2 - y1 * u2 - y0 * u1 - u0 * y2;
			var deltaF = u0 * v1 * y2 + v0 * y1 * u2 + y0 * u1 * v2 - y0 * v1 * u2 - v0 * u1 * y2 - u0 * y1 * v2;
			g.canvasCtx.transform(deltaA / delta,deltaD / delta,deltaB / delta,deltaE / delta,deltaC / delta,deltaF / delta);
			var texture = this.atlas;
			var root = texture.root;
			var condition = !root._disposed;
			g.canvasCtx.drawImage(root.image,0,0);
			texture = null;
			root = null;
			g.canvasCtx.restore();
			i += 3;
		}
	}
	,get_width: function() {
		return this.region.width;
	}
	,get_height: function() {
		return this.region.height;
	}
	,__class__: workinman_display_spine_platform_flambe_WeightedMeshSprite
});
var workinman_display_spine_platform_flambe_WrapperSprite = function() {
	workinman_display_Sprite.call(this,null);
	this.a = this.b = this.c = this.d = this.e = this.f = 0;
	this.a = 1;
	this.d = -1;
};
$hxClasses["workinman.display.spine.platform.flambe.WrapperSprite"] = workinman_display_spine_platform_flambe_WrapperSprite;
workinman_display_spine_platform_flambe_WrapperSprite.__name__ = ["workinman","display","spine","platform","flambe","WrapperSprite"];
workinman_display_spine_platform_flambe_WrapperSprite.__super__ = workinman_display_Sprite;
workinman_display_spine_platform_flambe_WrapperSprite.prototype = $extend(workinman_display_Sprite.prototype,{
	render: function(g,camera) {
		if(this.visible == false) {
			return;
		}
		this._matrix.set(this.a,this.c,-this.b,-this.d,this.e,this.f);
		if(this.parent != null) {
			flambe_math_Matrix.multiply(this.parent.get_viewMatrix(),this._matrix,this._viewMatrix);
		}
		g.ctx.save();
		if(this.alpha < 1) {
			g.ctx.multiplyAlpha(this.alpha);
		}
		g.ctx.transform(this._matrix.m00,this._matrix.m10,this._matrix.m01,this._matrix.m11,this._matrix.m02,this._matrix.m12);
		g.ctx.save();
		g.ctx.translate(-this.get_width() * this.originX + this.get_offsetX(),-this.get_height() * this.originY + this.get_offsetY());
		this._draw(g);
		g.ctx.restore();
		var _g1 = 0;
		var _g = this.children.length;
		while(_g1 < _g) {
			var i = _g1++;
			this.children[i].render(g,null);
		}
		g.ctx.restore();
	}
	,__class__: workinman_display_spine_platform_flambe_WrapperSprite
});
var workinman_input_GAMEPAD_$TYPE = $hxClasses["workinman.input.GAMEPAD_TYPE"] = { __ename__ : true, __constructs__ : ["NONE","XBOX_360"] };
workinman_input_GAMEPAD_$TYPE.NONE = ["NONE",0];
workinman_input_GAMEPAD_$TYPE.NONE.toString = $estr;
workinman_input_GAMEPAD_$TYPE.NONE.__enum__ = workinman_input_GAMEPAD_$TYPE;
workinman_input_GAMEPAD_$TYPE.XBOX_360 = ["XBOX_360",1];
workinman_input_GAMEPAD_$TYPE.XBOX_360.toString = $estr;
workinman_input_GAMEPAD_$TYPE.XBOX_360.__enum__ = workinman_input_GAMEPAD_$TYPE;
var workinman_input_GamepadBase = function(pGamepad,pType) {
	this.gamepad = pGamepad;
	this.type = pType;
	this._buttons = new haxe_ds_EnumValueMap();
	this._addButton(workinman_input_INPUT_$CONTROLLER.A);
	this._addButton(workinman_input_INPUT_$CONTROLLER.B);
	this._addButton(workinman_input_INPUT_$CONTROLLER.X);
	this._addButton(workinman_input_INPUT_$CONTROLLER.Y);
	this._addButton(workinman_input_INPUT_$CONTROLLER.RB);
	this._addButton(workinman_input_INPUT_$CONTROLLER.LB);
	this._addButton(workinman_input_INPUT_$CONTROLLER.RT);
	this._addButton(workinman_input_INPUT_$CONTROLLER.LT);
	this._addButton(workinman_input_INPUT_$CONTROLLER.DPAD_UP);
	this._addButton(workinman_input_INPUT_$CONTROLLER.DPAD_DOWN);
	this._addButton(workinman_input_INPUT_$CONTROLLER.DPAD_LEFT);
	this._addButton(workinman_input_INPUT_$CONTROLLER.DPAD_RIGHT);
	this._addButton(workinman_input_INPUT_$CONTROLLER.LSTICK_UP);
	this._addButton(workinman_input_INPUT_$CONTROLLER.LSTICK_DOWN);
	this._addButton(workinman_input_INPUT_$CONTROLLER.LSTICK_LEFT);
	this._addButton(workinman_input_INPUT_$CONTROLLER.LSTICK_RIGHT);
	this._addButton(workinman_input_INPUT_$CONTROLLER.RSTICK_UP);
	this._addButton(workinman_input_INPUT_$CONTROLLER.RSTICK_DOWN);
	this._addButton(workinman_input_INPUT_$CONTROLLER.RSTICK_LEFT);
	this._addButton(workinman_input_INPUT_$CONTROLLER.RSTICK_RIGHT);
	this._addButton(workinman_input_INPUT_$CONTROLLER.START);
	this._addButton(workinman_input_INPUT_$CONTROLLER.SELECT);
	this._addButton(workinman_input_INPUT_$CONTROLLER.LSTICK_BUTTON);
	this._addButton(workinman_input_INPUT_$CONTROLLER.RSTICK_BUTTON);
};
$hxClasses["workinman.input.GamepadBase"] = workinman_input_GamepadBase;
workinman_input_GamepadBase.__name__ = ["workinman","input","GamepadBase"];
workinman_input_GamepadBase.prototype = {
	setGamepad: function(pGamepad) {
		this.gamepad = pGamepad;
	}
	,update: function() {
		this.leftX = this.leftY = this.rightX = this.rightY = 0;
	}
	,_normalizeAxis: function(pVal) {
		pVal = Math.floor(pVal * 100) / 100;
		if(Math.abs(pVal) < .15) {
			pVal = 0;
		}
		return pVal;
	}
	,_addButton: function(pVirt) {
		this._buttons.set(pVirt,false);
	}
	,_testButton: function(pController,pVal) {
		if(this._buttons.get(pController) == false && pVal) {
			this._buttons.set(pController,true);
			workinman_WMInput.onControllerDown(pController);
		} else if(this._buttons.get(pController) == true && pVal == false) {
			this._buttons.set(pController,false);
			workinman_WMInput.onControllerUp(pController);
		}
	}
	,__class__: workinman_input_GamepadBase
};
var workinman_input_GamepadXbox360 = function(pGamepad) {
	workinman_input_GamepadBase.call(this,pGamepad,workinman_input_GAMEPAD_$TYPE.XBOX_360);
	this.leftX = this.leftY = this.rightX = this.rightY = 0;
};
$hxClasses["workinman.input.GamepadXbox360"] = workinman_input_GamepadXbox360;
workinman_input_GamepadXbox360.__name__ = ["workinman","input","GamepadXbox360"];
workinman_input_GamepadXbox360.__super__ = workinman_input_GamepadBase;
workinman_input_GamepadXbox360.prototype = $extend(workinman_input_GamepadBase.prototype,{
	update: function() {
		workinman_input_GamepadBase.prototype.update.call(this);
		this.leftX = this._normalizeAxis(this.gamepad.axes[0]);
		this.leftY = this._normalizeAxis(this.gamepad.axes[1]);
		this.rightX = this._normalizeAxis(this.gamepad.axes[2]);
		this.rightY = this._normalizeAxis(this.gamepad.axes[3]);
		this._testButton(workinman_input_INPUT_$CONTROLLER.A,(js_Boot.__cast(this.gamepad.buttons[0] , GamepadButton)).pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.B,(js_Boot.__cast(this.gamepad.buttons[1] , GamepadButton)).pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.X,(js_Boot.__cast(this.gamepad.buttons[2] , GamepadButton)).pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.Y,(js_Boot.__cast(this.gamepad.buttons[3] , GamepadButton)).pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.LB,(js_Boot.__cast(this.gamepad.buttons[4] , GamepadButton)).pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.RB,(js_Boot.__cast(this.gamepad.buttons[5] , GamepadButton)).pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.LT,(js_Boot.__cast(this.gamepad.buttons[6] , GamepadButton)).pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.RT,(js_Boot.__cast(this.gamepad.buttons[7] , GamepadButton)).pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.SELECT,(js_Boot.__cast(this.gamepad.buttons[8] , GamepadButton)).pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.START,(js_Boot.__cast(this.gamepad.buttons[9] , GamepadButton)).pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.LSTICK_BUTTON,this.gamepad.buttons[10].pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.RSTICK_BUTTON,this.gamepad.buttons[11].pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.DPAD_UP,(js_Boot.__cast(this.gamepad.buttons[12] , GamepadButton)).pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.DPAD_DOWN,(js_Boot.__cast(this.gamepad.buttons[13] , GamepadButton)).pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.DPAD_LEFT,(js_Boot.__cast(this.gamepad.buttons[14] , GamepadButton)).pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.DPAD_RIGHT,(js_Boot.__cast(this.gamepad.buttons[15] , GamepadButton)).pressed);
		this._testButton(workinman_input_INPUT_$CONTROLLER.LSTICK_LEFT,this.leftX < 0);
		this._testButton(workinman_input_INPUT_$CONTROLLER.LSTICK_RIGHT,this.leftX > 0);
		this._testButton(workinman_input_INPUT_$CONTROLLER.LSTICK_UP,this.leftY < 0);
		this._testButton(workinman_input_INPUT_$CONTROLLER.LSTICK_DOWN,this.leftY > 0);
		this._testButton(workinman_input_INPUT_$CONTROLLER.RSTICK_LEFT,this.rightX < 0);
		this._testButton(workinman_input_INPUT_$CONTROLLER.RSTICK_RIGHT,this.rightX > 0);
		this._testButton(workinman_input_INPUT_$CONTROLLER.RSTICK_UP,this.rightY < 0);
		this._testButton(workinman_input_INPUT_$CONTROLLER.RSTICK_DOWN,this.rightY > 0);
	}
	,__class__: workinman_input_GamepadXbox360
});
var workinman_input_INPUT_$CONTROLLER = $hxClasses["workinman.input.INPUT_CONTROLLER"] = { __ename__ : true, __constructs__ : ["A","B","X","Y","DPAD_UP","DPAD_DOWN","DPAD_RIGHT","DPAD_LEFT","LB","RB","LT","RT","START","SELECT","LSTICK_UP","LSTICK_DOWN","LSTICK_RIGHT","LSTICK_LEFT","RSTICK_UP","RSTICK_DOWN","RSTICK_RIGHT","RSTICK_LEFT","LSTICK_BUTTON","RSTICK_BUTTON"] };
workinman_input_INPUT_$CONTROLLER.A = ["A",0];
workinman_input_INPUT_$CONTROLLER.A.toString = $estr;
workinman_input_INPUT_$CONTROLLER.A.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.B = ["B",1];
workinman_input_INPUT_$CONTROLLER.B.toString = $estr;
workinman_input_INPUT_$CONTROLLER.B.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.X = ["X",2];
workinman_input_INPUT_$CONTROLLER.X.toString = $estr;
workinman_input_INPUT_$CONTROLLER.X.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.Y = ["Y",3];
workinman_input_INPUT_$CONTROLLER.Y.toString = $estr;
workinman_input_INPUT_$CONTROLLER.Y.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.DPAD_UP = ["DPAD_UP",4];
workinman_input_INPUT_$CONTROLLER.DPAD_UP.toString = $estr;
workinman_input_INPUT_$CONTROLLER.DPAD_UP.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.DPAD_DOWN = ["DPAD_DOWN",5];
workinman_input_INPUT_$CONTROLLER.DPAD_DOWN.toString = $estr;
workinman_input_INPUT_$CONTROLLER.DPAD_DOWN.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.DPAD_RIGHT = ["DPAD_RIGHT",6];
workinman_input_INPUT_$CONTROLLER.DPAD_RIGHT.toString = $estr;
workinman_input_INPUT_$CONTROLLER.DPAD_RIGHT.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.DPAD_LEFT = ["DPAD_LEFT",7];
workinman_input_INPUT_$CONTROLLER.DPAD_LEFT.toString = $estr;
workinman_input_INPUT_$CONTROLLER.DPAD_LEFT.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.LB = ["LB",8];
workinman_input_INPUT_$CONTROLLER.LB.toString = $estr;
workinman_input_INPUT_$CONTROLLER.LB.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.RB = ["RB",9];
workinman_input_INPUT_$CONTROLLER.RB.toString = $estr;
workinman_input_INPUT_$CONTROLLER.RB.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.LT = ["LT",10];
workinman_input_INPUT_$CONTROLLER.LT.toString = $estr;
workinman_input_INPUT_$CONTROLLER.LT.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.RT = ["RT",11];
workinman_input_INPUT_$CONTROLLER.RT.toString = $estr;
workinman_input_INPUT_$CONTROLLER.RT.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.START = ["START",12];
workinman_input_INPUT_$CONTROLLER.START.toString = $estr;
workinman_input_INPUT_$CONTROLLER.START.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.SELECT = ["SELECT",13];
workinman_input_INPUT_$CONTROLLER.SELECT.toString = $estr;
workinman_input_INPUT_$CONTROLLER.SELECT.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.LSTICK_UP = ["LSTICK_UP",14];
workinman_input_INPUT_$CONTROLLER.LSTICK_UP.toString = $estr;
workinman_input_INPUT_$CONTROLLER.LSTICK_UP.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.LSTICK_DOWN = ["LSTICK_DOWN",15];
workinman_input_INPUT_$CONTROLLER.LSTICK_DOWN.toString = $estr;
workinman_input_INPUT_$CONTROLLER.LSTICK_DOWN.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.LSTICK_RIGHT = ["LSTICK_RIGHT",16];
workinman_input_INPUT_$CONTROLLER.LSTICK_RIGHT.toString = $estr;
workinman_input_INPUT_$CONTROLLER.LSTICK_RIGHT.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.LSTICK_LEFT = ["LSTICK_LEFT",17];
workinman_input_INPUT_$CONTROLLER.LSTICK_LEFT.toString = $estr;
workinman_input_INPUT_$CONTROLLER.LSTICK_LEFT.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.RSTICK_UP = ["RSTICK_UP",18];
workinman_input_INPUT_$CONTROLLER.RSTICK_UP.toString = $estr;
workinman_input_INPUT_$CONTROLLER.RSTICK_UP.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.RSTICK_DOWN = ["RSTICK_DOWN",19];
workinman_input_INPUT_$CONTROLLER.RSTICK_DOWN.toString = $estr;
workinman_input_INPUT_$CONTROLLER.RSTICK_DOWN.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.RSTICK_RIGHT = ["RSTICK_RIGHT",20];
workinman_input_INPUT_$CONTROLLER.RSTICK_RIGHT.toString = $estr;
workinman_input_INPUT_$CONTROLLER.RSTICK_RIGHT.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.RSTICK_LEFT = ["RSTICK_LEFT",21];
workinman_input_INPUT_$CONTROLLER.RSTICK_LEFT.toString = $estr;
workinman_input_INPUT_$CONTROLLER.RSTICK_LEFT.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.LSTICK_BUTTON = ["LSTICK_BUTTON",22];
workinman_input_INPUT_$CONTROLLER.LSTICK_BUTTON.toString = $estr;
workinman_input_INPUT_$CONTROLLER.LSTICK_BUTTON.__enum__ = workinman_input_INPUT_$CONTROLLER;
workinman_input_INPUT_$CONTROLLER.RSTICK_BUTTON = ["RSTICK_BUTTON",23];
workinman_input_INPUT_$CONTROLLER.RSTICK_BUTTON.toString = $estr;
workinman_input_INPUT_$CONTROLLER.RSTICK_BUTTON.__enum__ = workinman_input_INPUT_$CONTROLLER;
var workinman_input_InputTracker = function(pType,pFireDelegate,pVirtualTestDelegate,pControllerTestDelegate) {
	this.type = pType;
	this._keys = [];
	this._virtual = [];
	this._controller = [];
	this._fireDelegate = pFireDelegate;
	this._virtualTestDelegate = pVirtualTestDelegate;
	this._controllerTestDelegate = pControllerTestDelegate;
	this._pointer = null;
	this.down = false;
	this.fresh = false;
};
$hxClasses["workinman.input.InputTracker"] = workinman_input_InputTracker;
workinman_input_InputTracker.__name__ = ["workinman","input","InputTracker"];
workinman_input_InputTracker.prototype = {
	setKeys: function(pKeys,pVirtual,pController) {
		if(pKeys != null) {
			var _g = 0;
			while(_g < pKeys.length) {
				var k = pKeys[_g];
				++_g;
				this._keys.push(k);
			}
		}
		if(pVirtual != null) {
			var _g1 = 0;
			while(_g1 < pVirtual.length) {
				var v = pVirtual[_g1];
				++_g1;
				this._virtual.push(v);
			}
		}
		if(pController != null) {
			var _g2 = 0;
			while(_g2 < pController.length) {
				var c = pController[_g2];
				++_g2;
				this._controller.push(c);
			}
		}
	}
	,updateStatus: function() {
		this.fresh = false;
		if(this.down) {
			if(this._isDown() == false) {
				this.down = false;
				this._fireDelegate(this.type,false);
			}
		} else if(this._isDown()) {
			this.down = true;
			this.fresh = true;
			this._fireDelegate(this.type,true);
		}
	}
	,_isDown: function() {
		var _g = 0;
		var _g1 = this._keys;
		while(_g < _g1.length) {
			var k = _g1[_g];
			++_g;
			if(flambe_System._platform.getKeyboard().isDown(k)) {
				return true;
			}
		}
		var _g2 = 0;
		var _g11 = this._virtual;
		while(_g2 < _g11.length) {
			var v = _g11[_g2];
			++_g2;
			if(this._virtualTestDelegate(v)) {
				return true;
			}
		}
		var _g3 = 0;
		var _g12 = this._controller;
		while(_g3 < _g12.length) {
			var c = _g12[_g3];
			++_g3;
			if(this._controllerTestDelegate(c)) {
				return true;
			}
		}
		if(this._pointer != null && this._pointer.down) {
			return true;
		}
		return false;
	}
	,__class__: workinman_input_InputTracker
};
var workinman_input_PHASE = $hxClasses["workinman.input.PHASE"] = { __ename__ : true, __constructs__ : ["DOWN","MOVED","STOPPED","UP"] };
workinman_input_PHASE.DOWN = ["DOWN",0];
workinman_input_PHASE.DOWN.toString = $estr;
workinman_input_PHASE.DOWN.__enum__ = workinman_input_PHASE;
workinman_input_PHASE.MOVED = ["MOVED",1];
workinman_input_PHASE.MOVED.toString = $estr;
workinman_input_PHASE.MOVED.__enum__ = workinman_input_PHASE;
workinman_input_PHASE.STOPPED = ["STOPPED",2];
workinman_input_PHASE.STOPPED.toString = $estr;
workinman_input_PHASE.STOPPED.__enum__ = workinman_input_PHASE;
workinman_input_PHASE.UP = ["UP",3];
workinman_input_PHASE.UP.toString = $estr;
workinman_input_PHASE.UP.__enum__ = workinman_input_PHASE;
var workinman_math_InterceptResult = function(pSuccess,pInterceptPoint) {
	this._success = pSuccess;
	this._result = workinman_math_WMPoint.request();
	this._line1 = workinman_math_WMLine.request();
	this._line2 = workinman_math_WMLine.request();
	if(pInterceptPoint != null) {
		this._result.toPoint(pInterceptPoint);
	}
};
$hxClasses["workinman.math.InterceptResult"] = workinman_math_InterceptResult;
workinman_math_InterceptResult.__name__ = ["workinman","math","InterceptResult"];
workinman_math_InterceptResult.prototype = {
	set_success: function(pSuccess) {
		this._success = pSuccess;
		return this._success;
	}
	,set_result: function(pResult) {
		if(pResult == null) {
			this._result.to(0,0);
		} else {
			this._result.toPoint(pResult);
		}
		return this._result;
	}
	,__class__: workinman_math_InterceptResult
	,__properties__: {set_result:"set_result",set_success:"set_success"}
};
var workinman_math_WMMath = function() { };
$hxClasses["workinman.math.WMMath"] = workinman_math_WMMath;
workinman_math_WMMath.__name__ = ["workinman","math","WMMath"];
workinman_math_WMMath.sign = function(pNum) {
	if(pNum < 0) {
		return -1;
	}
	return 1;
};
workinman_math_WMMath.clamp = function(pNum,pMin,pMax,pCircular) {
	if(pCircular == null) {
		pCircular = false;
	}
	if(!pCircular) {
		if(pNum > pMax) {
			pNum = pMax;
		} else if(pNum < pMin) {
			pNum = pMin;
		}
	} else if(pNum > pMax) {
		pNum = pMin;
	} else if(pNum < pMin) {
		pNum = pMax;
	}
	return pNum;
};
var workinman_math_Side = $hxClasses["workinman.math.Side"] = { __ename__ : true, __constructs__ : ["TOP","RIGHT","BOTTOM","LEFT"] };
workinman_math_Side.TOP = ["TOP",0];
workinman_math_Side.TOP.toString = $estr;
workinman_math_Side.TOP.__enum__ = workinman_math_Side;
workinman_math_Side.RIGHT = ["RIGHT",1];
workinman_math_Side.RIGHT.toString = $estr;
workinman_math_Side.RIGHT.__enum__ = workinman_math_Side;
workinman_math_Side.BOTTOM = ["BOTTOM",2];
workinman_math_Side.BOTTOM.toString = $estr;
workinman_math_Side.BOTTOM.__enum__ = workinman_math_Side;
workinman_math_Side.LEFT = ["LEFT",3];
workinman_math_Side.LEFT.toString = $estr;
workinman_math_Side.LEFT.__enum__ = workinman_math_Side;
var workinman_math_WMRectangle = function() { };
$hxClasses["workinman.math.WMRectangle"] = workinman_math_WMRectangle;
workinman_math_WMRectangle.__name__ = ["workinman","math","WMRectangle"];
workinman_math_WMRectangle.__interfaces__ = [workinman_pooling_IStrictPoolable];
workinman_math_WMRectangle.request = function(pX,pY,pW,pH) {
	if(pH == null) {
		pH = 0;
	}
	if(pW == null) {
		pW = 0;
	}
	if(pY == null) {
		pY = 0;
	}
	if(pX == null) {
		pX = 0;
	}
	return workinman_WMPool.requestObject(workinman_math_WMRectangle).init(pX,pY,pW,pH);
};
workinman_math_WMRectangle.fromRectangle = function(pRectangle) {
	return workinman_math_WMRectangle.request(pRectangle.x,pRectangle.y,pRectangle.width,pRectangle.height);
};
workinman_math_WMRectangle.__super__ = workinman_pooling_PoolStrictBase;
workinman_math_WMRectangle.prototype = $extend(workinman_pooling_PoolStrictBase.prototype,{
	create: function() {
		this._workLine = null;
	}
	,init: function(pX,pY,pW,pH) {
		this._x = pX;
		this._y = pY;
		this._width = pW;
		this._height = pH;
		return this;
	}
	,dispose: function() {
		if(this._workLine != null) {
			this._workLine.dispose();
		}
		this._workLine = null;
		workinman_pooling_PoolStrictBase.prototype.dispose.call(this);
	}
	,_getWorkLine: function() {
		if(this._workLine == null) {
			this._workLine = workinman_math_WMLine.request();
		}
		return this._workLine;
	}
	,get_x: function() {
		return this._x;
	}
	,set_x: function(pX) {
		this._x = pX;
		return this._x;
	}
	,get_y: function() {
		return this._y;
	}
	,set_y: function(pY) {
		this._y = pY;
		return this._y;
	}
	,get_top: function() {
		return this._y;
	}
	,set_top: function(pTop) {
		this._y = pTop;
		return this._y;
	}
	,get_left: function() {
		return this._x;
	}
	,set_left: function(pLeft) {
		this._x = pLeft;
		return this._x;
	}
	,get_width: function() {
		return this._width;
	}
	,set_width: function(pWidth) {
		this._width = pWidth;
		return this._width;
	}
	,get_height: function() {
		return this._height;
	}
	,set_height: function(pHeight) {
		this._height = pHeight;
		return this._height;
	}
	,get_bottom: function() {
		return this._y + this._height;
	}
	,set_bottom: function(pBottom) {
		this._y = pBottom - this._height;
		return this.get_bottom();
	}
	,get_right: function() {
		return this._x + this._width;
	}
	,set_right: function(pRight) {
		this._x = pRight - this._width;
		return this.get_right();
	}
	,get_centerX: function() {
		return this._x + this._width / 2;
	}
	,set_centerX: function(pCX) {
		this._x = pCX - this._width / 2;
		return this.get_centerX();
	}
	,get_centerY: function() {
		return this._y + this._height / 2;
	}
	,set_centerY: function(pCY) {
		this._y = pCY - this._height / 2;
		return this.get_centerY();
	}
	,copy: function() {
		return workinman_math_WMRectangle.request(this._x,this._y,this._width,this._height);
	}
	,contains: function(pX,pY) {
		if(pX < this.get_left() || pX > this.get_right()) {
			return false;
		}
		if(pY > this.get_bottom() || pY < this.get_top()) {
			return false;
		}
		return true;
	}
	,toXY: function(pX,pY) {
		this.set_x(pX);
		this.set_y(pY);
	}
	,toWH: function(pW,pH) {
		this.set_width(pW);
		this.set_height(pH);
	}
	,toXYWH: function(pX,pY,pW,pH) {
		this.toXY(pX,pY);
		this.toWH(pW,pH);
	}
	,containsPoint: function(pPos) {
		return this.contains(pPos.x,pPos.y);
	}
	,intersects: function(pRect) {
		if(this.get_left() < pRect.get_right() && this.get_right() > pRect.get_left() && this.get_top() < pRect.get_bottom()) {
			return this.get_bottom() > pRect.get_top();
		} else {
			return false;
		}
	}
	,intersection: function(pRect) {
		var tRect = workinman_math_WMRectangle.request();
		if(this.intersects(pRect)) {
			tRect.set_x(this.get_left() > pRect.get_left() ? this.get_left() : pRect.get_left());
			tRect.set_y(this.get_top() > pRect.get_top() ? this.get_top() : pRect.get_top());
			var tRight = this.get_right() < pRect.get_right() ? this.get_right() : pRect.get_right();
			var tBottom = this.get_bottom() < pRect.get_bottom() ? this.get_bottom() : pRect.get_bottom();
			tRect.set_width(tRight - tRect.get_x());
			tRect.set_height(tBottom - tRect.get_y());
		}
		return tRect;
	}
	,_setSideLine: function(pSide) {
		this._getWorkLine();
		switch(pSide[1]) {
		case 0:
			this._workLine.toFloats(this.get_left(),this.get_top(),this.get_right(),this.get_top());
			break;
		case 1:
			this._workLine.toFloats(this.get_right(),this.get_top(),this.get_right(),this.get_bottom());
			break;
		case 2:
			this._workLine.toFloats(this.get_left(),this.get_bottom(),this.get_right(),this.get_bottom());
			break;
		case 3:
			this._workLine.toFloats(this.get_left(),this.get_top(),this.get_left(),this.get_bottom());
			break;
		}
	}
	,sideLineIntercept: function(pLine,pSide,pResult) {
		if(this._workLine == null) {
			this._setSideLine(pSide);
		} else {
			this._setSideLine(pSide);
		}
		return this._workLine.testLineSegmentIntercept(pLine,false,pResult);
	}
	,toString: function() {
		return "{ WMRectangle x: " + this._x + " y: " + this._y + " width: " + this._width + " height: " + this._height + " }";
	}
	,__class__: workinman_math_WMRectangle
	,__properties__: $extend(workinman_pooling_PoolStrictBase.prototype.__properties__,{set_centerY:"set_centerY",get_centerY:"get_centerY",set_centerX:"set_centerX",get_centerX:"get_centerX",set_right:"set_right",get_right:"get_right",set_bottom:"set_bottom",get_bottom:"get_bottom",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_left:"set_left",get_left:"get_left",set_top:"set_top",get_top:"get_top",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"})
});
var workinman_pooling_CacheManager = function() { };
$hxClasses["workinman.pooling.CacheManager"] = workinman_pooling_CacheManager;
workinman_pooling_CacheManager.__name__ = ["workinman","pooling","CacheManager"];
workinman_pooling_CacheManager.prototype = {
	dispose: function() {
		var _this = this._caches;
		var e = new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys());
		while(e.hasNext()) {
			var e1 = e.next();
			e1.dispose();
		}
		this._caches = null;
		this._emptyParams = null;
	}
	,addCache: function(pId,pType,pCacheInit,pCacheMax) {
		if(pCacheMax == null) {
			pCacheMax = 0;
		}
		var this1 = this._caches;
		var v = new workinman_pooling_ElementCache(pType,this._emptyParams,pCacheInit,pCacheMax);
		var _this = this1;
		if(__map_reserved[pId] != null) {
			_this.setReserved(pId,v);
		} else {
			_this.h[pId] = v;
		}
	}
	,processFill: function(pAmt) {
		var _this = this._caches;
		var c = new haxe_ds__$StringMap_StringMapIterator(_this,_this.arrayKeys());
		while(c.hasNext()) {
			var c1 = c.next();
			if(c1.fillCache(pAmt) == false) {
				return false;
			}
		}
		return true;
	}
	,__class__: workinman_pooling_CacheManager
};
var workinman_pooling_ElementCache = function(pType,pEmptyParams,pCacheInit,pCacheMax) {
	this._cache = [];
	this._initFill = pCacheInit;
	this._type = pType;
	this._emptyParams = pEmptyParams;
	this._totalFill = 0;
	this._maxFill = pCacheMax;
};
$hxClasses["workinman.pooling.ElementCache"] = workinman_pooling_ElementCache;
workinman_pooling_ElementCache.__name__ = ["workinman","pooling","ElementCache"];
workinman_pooling_ElementCache.prototype = {
	dispose: function() {
		while(this._cache.length > 0) this._cache.pop().destroy();
		this._cache = null;
		this._type = null;
		this._emptyParams = null;
	}
	,fillCache: function(pAmt) {
		var tItem;
		while(this._cache.length < this._initFill) {
			this._totalFill++;
			tItem = Type.createInstance(this._type,this._emptyParams);
			tItem.setReturnFunction($bind(this,this.returnFunction));
			tItem.dispose();
			tItem = null;
			if(pAmt > 0 && pAmt-- <= 0) {
				return false;
			}
		}
		return true;
	}
	,returnFunction: function(pReturn) {
		if(this._cache == null) {
			pReturn.destroy();
			return;
		}
		this._cache.push(pReturn);
	}
	,__class__: workinman_pooling_ElementCache
};
var workinman_pooling_ICacheableElement = function() { };
$hxClasses["workinman.pooling.ICacheableElement"] = workinman_pooling_ICacheableElement;
workinman_pooling_ICacheableElement.__name__ = ["workinman","pooling","ICacheableElement"];
workinman_pooling_ICacheableElement.prototype = {
	__class__: workinman_pooling_ICacheableElement
};
var workinman_random_SeededRandom = function() { };
$hxClasses["workinman.random.SeededRandom"] = workinman_random_SeededRandom;
workinman_random_SeededRandom.__name__ = ["workinman","random","SeededRandom"];
workinman_random_SeededRandom.prototype = {
	set_seed: function(pSeed) {
		if(pSeed == 0) {
			pSeed = 1;
		}
		this.seed = pSeed;
		return pSeed;
	}
	,_randomInt: function() {
		return this.set_seed(this.seed * 16807 % 2147483647) & 1073741823;
	}
	,random: function() {
		return this._randomInt() / 1073741823.0;
	}
	,__class__: workinman_random_SeededRandom
	,__properties__: {set_seed:"set_seed"}
};
var workinman_saving_WMSharedObject = function(pId) {
	this.data = { version : "-1"};
	this.id = pId;
};
$hxClasses["workinman.saving.WMSharedObject"] = workinman_saving_WMSharedObject;
workinman_saving_WMSharedObject.__name__ = ["workinman","saving","WMSharedObject"];
workinman_saving_WMSharedObject.prototype = {
	dispose: function() {
		this.data = null;
		this.id = null;
	}
	,__class__: workinman_saving_WMSharedObject
};
var workinman_sound_PlaybackDef = function(pId,pPlayback,pComplete) {
	this.id = pId;
	this._playback = pPlayback;
	this._completeListener = this._playback.get_complete().watch($bind(this,this._onCompleteEvent));
	this._complete = pComplete;
	this.isComplete = false;
	this.disposed = false;
	this.set_volume(this._playback.volume._value);
};
$hxClasses["workinman.sound.PlaybackDef"] = workinman_sound_PlaybackDef;
workinman_sound_PlaybackDef.__name__ = ["workinman","sound","PlaybackDef"];
workinman_sound_PlaybackDef.prototype = {
	set_volume: function(pValue) {
		if(this._playback == null) {
			return 0;
		}
		if(pValue > 1) {
			pValue = 1;
		} else if(pValue < 0) {
			pValue = 0;
		}
		this._playback.volume.set__(pValue);
		return pValue;
	}
	,_onCompleteEvent: function(pComplete,p1) {
		if(pComplete == false) {
			return;
		}
		this.isComplete = true;
	}
	,dispose: function() {
		if(this.disposed == true) {
			return;
		}
		this.disposed = true;
		this._completeListener.dispose();
		this._completeListener = null;
		this._playback.dispose();
		this._playback = null;
		this.id = null;
		if(this._complete != null) {
			var tComplete = this._complete;
			this._complete = null;
			tComplete();
		}
	}
	,__class__: workinman_sound_PlaybackDef
	,__properties__: {set_volume:"set_volume"}
};
var workinman_sound_VOQueue = function(pId,pGain,pCallback,pDelay,pLocalization) {
	this.id = pId;
	this.call = pCallback;
	this.delay = pDelay;
	this.gain = pGain;
	this.localization = pLocalization;
};
$hxClasses["workinman.sound.VOQueue"] = workinman_sound_VOQueue;
workinman_sound_VOQueue.__name__ = ["workinman","sound","VOQueue"];
workinman_sound_VOQueue.prototype = {
	copy: function(pObject) {
		this.id = pObject.id;
		this.call = pObject.call;
		this.delay = pObject.delay;
		this.gain = pObject.gain;
		this.localization = pObject.localization;
	}
	,dispose: function() {
		this.call = null;
		this.id = null;
		this.localization = null;
	}
	,__class__: workinman_sound_VOQueue
};
var workinman_tween_Ease = function() { };
$hxClasses["workinman.tween.Ease"] = workinman_tween_Ease;
workinman_tween_Ease.__name__ = ["workinman","tween","Ease"];
workinman_tween_Ease.linear = function(t,b,c,d) {
	return c * t / d + b;
};
workinman_tween_Ease.inQuad = function(t,b,c,d) {
	return c * (t /= d) * t + b;
};
workinman_tween_Ease.outQuad = function(t,b,c,d) {
	return -c * (t /= d) * (t - 2) + b;
};
workinman_tween_Ease.inOutQuad = function(t,b,c,d) {
	if((t /= d / 2) < 1) {
		return c / 2 * t * t + b;
	}
	return -c / 2 * (--t * (t - 2) - 1) + b;
};
workinman_tween_Ease.outElastic = function(t,b,c,d) {
	if(t == 0) {
		return b;
	}
	if((t /= d) == 1) {
		return b + c;
	}
	var p = d * .3;
	var a = c;
	var s = p / 4;
	return a * Math.pow(2,-10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;
};
workinman_tween_Ease.inBack = function(t,b,c,d) {
	var s = 1.70158;
	return c * (t /= d) * t * ((s + 1) * t - s) + b;
};
workinman_tween_Ease.outBounce = function(t,b,c,d) {
	if((t /= d) < 0.36363636363636365) {
		return c * (7.5625 * t * t) + b;
	} else if(t < 0.72727272727272729) {
		return c * (7.5625 * (t -= 0.54545454545454541) * t + .75) + b;
	} else if(t < 0.90909090909090906) {
		return c * (7.5625 * (t -= 0.81818181818181823) * t + .9375) + b;
	} else {
		return c * (7.5625 * (t -= 0.95454545454545459) * t + .984375) + b;
	}
};
workinman_tween_Ease.inBounce = function(t,b,c,d) {
	return c - workinman_tween_Ease.outBounce(d - t,0,c,d) + b;
};
var workinman_tween_TweenUtils = function() { };
$hxClasses["workinman.tween.TweenUtils"] = workinman_tween_TweenUtils;
workinman_tween_TweenUtils.__name__ = ["workinman","tween","TweenUtils"];
workinman_tween_TweenUtils.easeFadeIn = function(pTarget,pTweener,pDoInit,pDelay) {
	if(pDelay == null) {
		pDelay = 0;
	}
	if(pDoInit == null) {
		pDoInit = true;
	}
	if(pDoInit) {
		pTarget.visible = true;
		pTarget.alpha = 0;
	}
	return pTweener.tween({ target : pTarget, duration : .3, overwrite : true, ease : workinman_tween_Ease.inQuad, delay : pDelay},{ alpha : 1});
};
workinman_tween_TweenUtils.easeFadeOut = function(pTarget,pTweener,pDoInit,pDelay) {
	if(pDelay == null) {
		pDelay = 0;
	}
	if(pDoInit == null) {
		pDoInit = true;
	}
	if(pDoInit) {
		pTarget.visible = true;
		pTarget.alpha = 1;
	}
	return pTweener.tween({ target : pTarget, duration : .3, overwrite : true, ease : workinman_tween_Ease.outQuad, delay : pDelay},{ alpha : 0});
};
workinman_tween_TweenUtils.easeBounceIn = function(pTarget,pTweener,pDoInit,pDelay) {
	if(pDelay == null) {
		pDelay = 0;
	}
	if(pDoInit == null) {
		pDoInit = true;
	}
	if(pDoInit) {
		pTarget.visible = true;
		pTarget.set_scale(.1);
		pTarget.alpha = 0;
	}
	pTweener.tween({ target : pTarget, duration : .15, overwrite : true, ease : workinman_tween_Ease.outQuad, delay : pDelay},{ scale : 1.1, alpha : 1});
	return pTweener.tween({ target : pTarget, duration : .15, ease : workinman_tween_Ease.inQuad},{ scale : 1});
};
workinman_tween_TweenUtils.easeBounceOut = function(pTarget,pTweener,pDoInit,pDelay) {
	if(pDelay == null) {
		pDelay = 0;
	}
	if(pDoInit == null) {
		pDoInit = false;
	}
	if(pDoInit) {
		pTarget.visible = true;
		pTarget.set_scale(1);
		pTarget.alpha = 1;
	}
	pTweener.tween({ target : pTarget, duration : .15, overwrite : true, ease : workinman_tween_Ease.outQuad, delay : pDelay},{ scale : 1.1});
	return pTweener.tween({ target : pTarget, duration : .15, ease : workinman_tween_Ease.inQuad},{ scale : .1, alpha : 0});
};
var workinman_tween_data_ObjectTracker = function(pTarget) {
	this.target = pTarget;
	this._threads = [];
};
$hxClasses["workinman.tween.data.ObjectTracker"] = workinman_tween_data_ObjectTracker;
workinman_tween_data_ObjectTracker.__name__ = ["workinman","tween","data","ObjectTracker"];
workinman_tween_data_ObjectTracker.prototype = {
	dispose: function() {
		if(this.target == null) {
			return;
		}
		this.target = null;
		var _g = 0;
		var _g1 = this._threads;
		while(_g < _g1.length) {
			var t = _g1[_g];
			++_g;
			t.dispose();
		}
		this._threads = null;
	}
	,update: function(dt) {
		var tI = this._threads.length;
		while(tI-- > 0) {
			var tQueue = this._threads[tI];
			tQueue.update(dt);
			if(this._threads == null) {
				return;
			}
			if(tQueue.get_isComplete()) {
				tQueue.dispose();
				this._threads.splice(tI,1);
			}
		}
	}
	,get_isComplete: function() {
		if(this._threads != null) {
			return this._threads.length < 1;
		} else {
			return true;
		}
	}
	,stopThread: function(pThread) {
		var tI = this._threads.length;
		while(tI-- > 0) if(this._threads[tI].id == pThread) {
			this._threads[tI].dispose();
			this._threads.splice(tI,1);
			return;
		}
	}
	,queueStep: function(pStep,pThread) {
		var tQueue = null;
		var _g = 0;
		var _g1 = this._threads;
		while(_g < _g1.length) {
			var t = _g1[_g];
			++_g;
			if(t.id == pThread) {
				tQueue = t;
				break;
			}
		}
		if(tQueue == null) {
			tQueue = new workinman_tween_data_ThreadQueue(pThread);
			this._threads.push(tQueue);
		}
		tQueue.queueStep(pStep);
	}
	,__class__: workinman_tween_data_ObjectTracker
	,__properties__: {get_isComplete:"get_isComplete"}
};
var workinman_tween_data_PropertyReference = function(pName,pDest) {
	this.name = pName;
	this.origin = 0;
	this.dest = pDest;
};
$hxClasses["workinman.tween.data.PropertyReference"] = workinman_tween_data_PropertyReference;
workinman_tween_data_PropertyReference.__name__ = ["workinman","tween","data","PropertyReference"];
workinman_tween_data_PropertyReference.prototype = {
	dispose: function() {
		this.name = null;
	}
	,__class__: workinman_tween_data_PropertyReference
};
var workinman_tween_data_ThreadQueue = function(pId) {
	this.id = pId;
	this._tweens = [];
};
$hxClasses["workinman.tween.data.ThreadQueue"] = workinman_tween_data_ThreadQueue;
workinman_tween_data_ThreadQueue.__name__ = ["workinman","tween","data","ThreadQueue"];
workinman_tween_data_ThreadQueue.prototype = {
	dispose: function() {
		if(this.id == null) {
			return;
		}
		this.id = null;
		var _g = 0;
		var _g1 = this._tweens;
		while(_g < _g1.length) {
			var t = _g1[_g];
			++_g;
			t.dispose();
		}
		this._tweens = null;
	}
	,get_isComplete: function() {
		if(this._tweens != null) {
			return this._tweens.length < 1;
		} else {
			return true;
		}
	}
	,update: function(dt) {
		if(this.get_isComplete()) {
			return;
		}
		var tStep = this._tweens[0];
		var dtRemaining = tStep.update(dt);
		if(tStep.get_isComplete() && this._tweens != null) {
			tStep.dispose();
			this._tweens.shift();
			this.update(dtRemaining);
		}
	}
	,queueStep: function(pStep) {
		this._tweens.push(pStep);
	}
	,__class__: workinman_tween_data_ThreadQueue
	,__properties__: {get_isComplete:"get_isComplete"}
};
var workinman_tween_data_TweenStep = function(pInfo,pProp) {
	this._properties = [];
	var _g = 0;
	var _g1 = Reflect.fields(pProp);
	while(_g < _g1.length) {
		var f = _g1[_g];
		++_g;
		this._properties.push(new workinman_tween_data_PropertyReference(f,Reflect.field(pProp,f)));
	}
	this._target = pInfo.target;
	this._easeFunction = pInfo.ease;
	this._duration = pInfo.duration;
	this._delay = 0;
	this._postDelay = 0;
	this._completionHandler = null;
	this._progress = 0;
	this._started = false;
	if(pInfo.delay != null) {
		this._delay = pInfo.delay;
	}
	if(pInfo.postDelay != null) {
		this._postDelay = pInfo.postDelay;
	}
	if(pInfo.complete != null) {
		this._completionHandler = pInfo.complete;
	}
};
$hxClasses["workinman.tween.data.TweenStep"] = workinman_tween_data_TweenStep;
workinman_tween_data_TweenStep.__name__ = ["workinman","tween","data","TweenStep"];
workinman_tween_data_TweenStep.prototype = {
	dispose: function() {
		if(this._target == null) {
			return;
		}
		this._target = null;
		var _g = 0;
		var _g1 = this._properties;
		while(_g < _g1.length) {
			var p = _g1[_g];
			++_g;
			p.dispose();
		}
		this._properties = null;
		this._easeFunction = null;
		this._completionHandler = null;
	}
	,update: function(dt) {
		if(this._delay > 0) {
			this._delay -= dt;
			if(this._delay > 0) {
				return 0;
			}
			dt = this._delay * -1;
		}
		if(this._started == false) {
			this._started = true;
			var _g = 0;
			var _g1 = this._properties;
			while(_g < _g1.length) {
				var f = _g1[_g];
				++_g;
				if(Object.prototype.hasOwnProperty.call(this._target,f.name)) {
					f.origin = Reflect.field(this._target,f.name);
				} else if(Reflect.getProperty(this._target,f.name) != null) {
					f.origin = Reflect.getProperty(this._target,f.name);
				}
			}
		}
		if(this._progress < this._duration) {
			this._progress += dt;
			if(this._progress >= this._duration) {
				dt = this._duration - this._progress;
				this._progress = this._duration;
				var _g2 = 0;
				var _g11 = this._properties;
				while(_g2 < _g11.length) {
					var f1 = _g11[_g2];
					++_g2;
					Reflect.setProperty(this._target,f1.name,f1.dest);
				}
			} else {
				var _g3 = 0;
				var _g12 = this._properties;
				while(_g3 < _g12.length) {
					var f2 = _g12[_g3];
					++_g3;
					Reflect.setProperty(this._target,f2.name,this._easeFunction(this._progress,f2.origin,f2.dest - f2.origin,this._duration));
				}
				return 0;
			}
		}
		this._postDelay -= dt;
		if(this._postDelay <= 0) {
			if(this._completionHandler != null) {
				var tComplete = this._completionHandler;
				this._completionHandler = null;
				tComplete();
			}
		} else {
			return 0;
		}
		return this._postDelay * -1;
	}
	,get_isComplete: function() {
		if(this._progress >= this._duration && this._postDelay < 0) {
			return this._completionHandler == null;
		} else {
			return false;
		}
	}
	,onComplete: function(pComplete) {
		this._completionHandler = pComplete;
		return this;
	}
	,__class__: workinman_tween_data_TweenStep
	,__properties__: {get_isComplete:"get_isComplete"}
};
var workinman_ui__$Button_ButtonState = $hxClasses["workinman.ui._Button.ButtonState"] = { __ename__ : true, __constructs__ : ["_STATE_UP","_STATE_DOWN","_STATE_OVER","_STATE_CLICK"] };
workinman_ui__$Button_ButtonState._STATE_UP = ["_STATE_UP",0];
workinman_ui__$Button_ButtonState._STATE_UP.toString = $estr;
workinman_ui__$Button_ButtonState._STATE_UP.__enum__ = workinman_ui__$Button_ButtonState;
workinman_ui__$Button_ButtonState._STATE_DOWN = ["_STATE_DOWN",1];
workinman_ui__$Button_ButtonState._STATE_DOWN.toString = $estr;
workinman_ui__$Button_ButtonState._STATE_DOWN.__enum__ = workinman_ui__$Button_ButtonState;
workinman_ui__$Button_ButtonState._STATE_OVER = ["_STATE_OVER",2];
workinman_ui__$Button_ButtonState._STATE_OVER.toString = $estr;
workinman_ui__$Button_ButtonState._STATE_OVER.__enum__ = workinman_ui__$Button_ButtonState;
workinman_ui__$Button_ButtonState._STATE_CLICK = ["_STATE_CLICK",3];
workinman_ui__$Button_ButtonState._STATE_CLICK.toString = $estr;
workinman_ui__$Button_ButtonState._STATE_CLICK.__enum__ = workinman_ui__$Button_ButtonState;
var workinman_ui_CHANGE_$TYPE = $hxClasses["workinman.ui.CHANGE_TYPE"] = { __ename__ : true, __constructs__ : ["OPEN_BEGIN","OPEN_COMPLETE","CLOSE_BEGIN","CLOSE_COMPLETE"] };
workinman_ui_CHANGE_$TYPE.OPEN_BEGIN = ["OPEN_BEGIN",0];
workinman_ui_CHANGE_$TYPE.OPEN_BEGIN.toString = $estr;
workinman_ui_CHANGE_$TYPE.OPEN_BEGIN.__enum__ = workinman_ui_CHANGE_$TYPE;
workinman_ui_CHANGE_$TYPE.OPEN_COMPLETE = ["OPEN_COMPLETE",1];
workinman_ui_CHANGE_$TYPE.OPEN_COMPLETE.toString = $estr;
workinman_ui_CHANGE_$TYPE.OPEN_COMPLETE.__enum__ = workinman_ui_CHANGE_$TYPE;
workinman_ui_CHANGE_$TYPE.CLOSE_BEGIN = ["CLOSE_BEGIN",2];
workinman_ui_CHANGE_$TYPE.CLOSE_BEGIN.toString = $estr;
workinman_ui_CHANGE_$TYPE.CLOSE_BEGIN.__enum__ = workinman_ui_CHANGE_$TYPE;
workinman_ui_CHANGE_$TYPE.CLOSE_COMPLETE = ["CLOSE_COMPLETE",3];
workinman_ui_CHANGE_$TYPE.CLOSE_COMPLETE.toString = $estr;
workinman_ui_CHANGE_$TYPE.CLOSE_COMPLETE.__enum__ = workinman_ui_CHANGE_$TYPE;
var workinman_ui_ChangeActionData = function() { };
$hxClasses["workinman.ui.ChangeActionData"] = workinman_ui_ChangeActionData;
workinman_ui_ChangeActionData.__name__ = ["workinman","ui","ChangeActionData"];
workinman_ui_ChangeActionData.prototype = {
	__class__: workinman_ui_ChangeActionData
};
var workinman_ui_STATE_$SCREEN = $hxClasses["workinman.ui.STATE_SCREEN"] = { __ename__ : true, __constructs__ : ["IN","OUT","OPENED"] };
workinman_ui_STATE_$SCREEN.IN = ["IN",0];
workinman_ui_STATE_$SCREEN.IN.toString = $estr;
workinman_ui_STATE_$SCREEN.IN.__enum__ = workinman_ui_STATE_$SCREEN;
workinman_ui_STATE_$SCREEN.OUT = ["OUT",1];
workinman_ui_STATE_$SCREEN.OUT.toString = $estr;
workinman_ui_STATE_$SCREEN.OUT.__enum__ = workinman_ui_STATE_$SCREEN;
workinman_ui_STATE_$SCREEN.OPENED = ["OPENED",2];
workinman_ui_STATE_$SCREEN.OPENED.toString = $estr;
workinman_ui_STATE_$SCREEN.OPENED.__enum__ = workinman_ui_STATE_$SCREEN;
var workinman_ui_ScreenManager = function(pRoot,pInterface) {
	this._root = pRoot;
	this._screenOpen = [];
	this._interfaceDelegate = pInterface;
	workinman_ui_ScreenManager.eventFlowDelegate.add($bind(this,this._dispatchEventChange));
};
$hxClasses["workinman.ui.ScreenManager"] = workinman_ui_ScreenManager;
workinman_ui_ScreenManager.__name__ = ["workinman","ui","ScreenManager"];
workinman_ui_ScreenManager.prototype = {
	closeScreen: function(pId,pPlayOutro) {
		if(pPlayOutro == null) {
			pPlayOutro = true;
		}
		var tI = this._screenOpen.length;
		while(tI-- > 0) if(this._screenOpen[tI].classType == pId) {
			this._screenOpen[tI].close(pPlayOutro);
			this._dispatchEventChange(workinman_ui_CHANGE_$TYPE.CLOSE_BEGIN,pId);
		}
	}
	,openScreen: function(pId) {
		if(this.isScreenOpen(pId)) {
			var _g = 0;
			var _g1 = this._screenOpen;
			while(_g < _g1.length) {
				var s = _g1[_g];
				++_g;
				if(s.classType == pId) {
					this._root.addChild(s.get_root());
					break;
				}
			}
			this._dispatchEventChange(workinman_ui_CHANGE_$TYPE.OPEN_BEGIN,pId);
			this._dispatchEventChange(workinman_ui_CHANGE_$TYPE.OPEN_COMPLETE,pId);
			return;
		}
		var tNewScreen = Type.createInstance(pId,[this._root]);
		tNewScreen.open(true);
		this._screenOpen.push(tNewScreen);
		tNewScreen = null;
		this._dispatchEventChange(workinman_ui_CHANGE_$TYPE.OPEN_BEGIN,pId);
	}
	,changeScreenTo: function(pId,pPlayOutroAnimations) {
		if(pPlayOutroAnimations == null) {
			pPlayOutroAnimations = false;
		}
		app_ConstantsEvent.removeLoader.dispatch();
		var tI = this._screenOpen.length;
		while(tI-- > 0) {
			if(this._screenOpen[tI].classType == pId) {
				continue;
			}
			this._screenOpen[tI].close(pPlayOutroAnimations);
		}
		this.openScreen(pId);
	}
	,update: function(dt) {
		var tI = this._screenOpen.length;
		while(tI-- > 0) {
			var s = this._screenOpen[tI];
			s.update(dt);
			if(s.doDelete) {
				s.dispose();
				this._screenOpen.splice(tI,1);
			}
		}
	}
	,isScreenOpen: function(pId) {
		var _g = 0;
		var _g1 = this._screenOpen;
		while(_g < _g1.length) {
			var s = _g1[_g];
			++_g;
			if(s.classType == pId) {
				return true;
			}
		}
		return false;
	}
	,_dispatchEventChange: function(pChangeId,pScreenId) {
		this._interfaceDelegate(pChangeId,pScreenId);
	}
	,__class__: workinman_ui_ScreenManager
};
var workinman_ui__$SubtitleManager_SUB_$STATE = $hxClasses["workinman.ui._SubtitleManager.SUB_STATE"] = { __ename__ : true, __constructs__ : ["OFF","CHANGE_ON","CHANGE_OFF","ON"] };
workinman_ui__$SubtitleManager_SUB_$STATE.OFF = ["OFF",0];
workinman_ui__$SubtitleManager_SUB_$STATE.OFF.toString = $estr;
workinman_ui__$SubtitleManager_SUB_$STATE.OFF.__enum__ = workinman_ui__$SubtitleManager_SUB_$STATE;
workinman_ui__$SubtitleManager_SUB_$STATE.CHANGE_ON = ["CHANGE_ON",1];
workinman_ui__$SubtitleManager_SUB_$STATE.CHANGE_ON.toString = $estr;
workinman_ui__$SubtitleManager_SUB_$STATE.CHANGE_ON.__enum__ = workinman_ui__$SubtitleManager_SUB_$STATE;
workinman_ui__$SubtitleManager_SUB_$STATE.CHANGE_OFF = ["CHANGE_OFF",2];
workinman_ui__$SubtitleManager_SUB_$STATE.CHANGE_OFF.toString = $estr;
workinman_ui__$SubtitleManager_SUB_$STATE.CHANGE_OFF.__enum__ = workinman_ui__$SubtitleManager_SUB_$STATE;
workinman_ui__$SubtitleManager_SUB_$STATE.ON = ["ON",3];
workinman_ui__$SubtitleManager_SUB_$STATE.ON.toString = $estr;
workinman_ui__$SubtitleManager_SUB_$STATE.ON.__enum__ = workinman_ui__$SubtitleManager_SUB_$STATE;
var workinman_ui_SubtitleManager = function(pSprite) {
	this._elementManager = new workinman_display_ElementManager(pSprite,0,0,false);
	this._elementManager.addLayer("subtitle_default");
	this._image = this._elementManager.addElement(new workinman_display_Element({ asset : "", y : 360, originY : 1}));
	this._text = this._elementManager.addElement(new workinman_display_Text({ text : "", y : 340., originY : 1, align : flambe_display_TextAlign.Center, wrapWidth : app_ConstantsApp.STAGE_WIDTH - 100}));
	this._tween = new workinman_tween_Tweener();
	this._setSubState(workinman_ui__$SubtitleManager_SUB_$STATE.ON);
};
$hxClasses["workinman.ui.SubtitleManager"] = workinman_ui_SubtitleManager;
workinman_ui_SubtitleManager.__name__ = ["workinman","ui","SubtitleManager"];
workinman_ui_SubtitleManager.prototype = {
	update: function(dt) {
		this._elementManager.update(dt);
		this._tween.update(dt);
		var _g = this._subState;
		switch(_g[1]) {
		case 0:
			break;
		case 1:
			break;
		case 2:
			break;
		case 3:
			if(this._timer > 0) {
				this._timer -= dt;
			}
			break;
		}
		if(workinman_WMSound.subtitleQueue.length > 0) {
			var tSub = workinman_WMSound.subtitleQueue[0];
			if(tSub != this._currentText && workinman_WMLocalize.subtitlesEnabled) {
				this._currentText = tSub;
				this._setSubtitle(this._currentText);
			}
			tSub = null;
		} else if(this._timer <= 0) {
			var _g1 = this._subState;
			switch(_g1[1]) {
			case 1:case 3:
				this._setSubState(workinman_ui__$SubtitleManager_SUB_$STATE.CHANGE_OFF);
				break;
			default:
			}
		}
	}
	,_setSubState: function(pState) {
		var _gthis = this;
		this._subState = pState;
		var _g = this._subState;
		switch(_g[1]) {
		case 0:
			this._currentText = "";
			this._image.visible = false;
			this._image.alpha = 0;
			this._text.visible = false;
			this._text.alpha = 0;
			break;
		case 1:
			this._image.visible = true;
			this._text.visible = true;
			this._tween.tween({ target : this._image, duration : .2, overwrite : true, ease : workinman_tween_Ease.linear},{ alpha : 1}).onComplete(function() {
				_gthis._setSubState(workinman_ui__$SubtitleManager_SUB_$STATE.ON);
			});
			this._tween.tween({ target : this._text, duration : .2, overwrite : true, ease : workinman_tween_Ease.linear},{ alpha : 1});
			break;
		case 2:
			this._tween.tween({ target : this._image, duration : .2, overwrite : true, ease : workinman_tween_Ease.linear},{ alpha : 0}).onComplete(function() {
				_gthis._setSubState(workinman_ui__$SubtitleManager_SUB_$STATE.OFF);
			});
			this._tween.tween({ target : this._text, duration : .2, overwrite : true, ease : workinman_tween_Ease.linear},{ alpha : 0});
			break;
		case 3:
			break;
		}
	}
	,_setSubtitle: function(pVal) {
		var tData = workinman_WMLocalize.getLocalizeData(pVal);
		this._timer = tData.subtitleTime;
		tData = null;
		this._text.setText(pVal);
		var _g = this._subState;
		switch(_g[1]) {
		case 0:case 2:
			this._setSubState(workinman_ui__$SubtitleManager_SUB_$STATE.CHANGE_ON);
			break;
		default:
		}
	}
	,__class__: workinman_ui_SubtitleManager
};
var world__$World_STATE = $hxClasses["world._World.STATE"] = { __ename__ : true, __constructs__ : ["ALLOCATE","INITIALIZING","GAMEPLAY"] };
world__$World_STATE.ALLOCATE = ["ALLOCATE",0];
world__$World_STATE.ALLOCATE.toString = $estr;
world__$World_STATE.ALLOCATE.__enum__ = world__$World_STATE;
world__$World_STATE.INITIALIZING = ["INITIALIZING",1];
world__$World_STATE.INITIALIZING.toString = $estr;
world__$World_STATE.INITIALIZING.__enum__ = world__$World_STATE;
world__$World_STATE.GAMEPLAY = ["GAMEPLAY",2];
world__$World_STATE.GAMEPLAY.toString = $estr;
world__$World_STATE.GAMEPLAY.__enum__ = world__$World_STATE;
var world_World = function() { };
$hxClasses["world.World"] = world_World;
world_World.__name__ = ["world","World"];
world_World.prototype = {
	start: function() {
		this._setState(world__$World_STATE.GAMEPLAY);
	}
	,dispose: function() {
		this._tween.dispose();
		this._tween = null;
		this._elementManager.dispose();
		this._elementManager = null;
		this._removeEventListeners();
		this._cacheManager.dispose();
		this._cacheManager = null;
		this._state = null;
		this._inputPos.dispose();
		this._inputPos = null;
	}
	,_setState: function(pState) {
		this._state = pState;
		switch(pState[1]) {
		case 0:
			this._initPools();
			break;
		case 1:
			this._initWorld();
			this._onGenerationComplete();
			break;
		case 2:
			break;
		}
	}
	,update: function(dt) {
		if(workinman_WMCloud.getBool("BOOL_PAUSED") == true) {
			return;
		}
		var _g = this._state;
		switch(_g[1]) {
		case 0:
			if(this._cacheManager.processFill(10)) {
				this._setState(world__$World_STATE.INITIALIZING);
			}
			break;
		case 1:
			break;
		case 2:
			this._tween.update(dt);
			this._elementManager.update(dt);
			break;
		}
	}
	,_removeEventListeners: function() {
		workinman_WMInput.eventInput.remove($bind(this,this._onInput));
		app_ConstantsEvent.pause.remove($bind(this,this._onPause));
	}
	,_onPause: function(pPause) {
		if(pPause) {
			workinman_WMCloud.setBool("BOOL_PAUSED",true);
		} else {
			workinman_WMCloud.setBool("BOOL_PAUSED",false);
		}
	}
	,_onInput: function(pType,pDown) {
		var pDown1 = pDown;
		if(workinman_WMCloud.getBool("BOOL_PAUSED") || this._state != world__$World_STATE.GAMEPLAY) {
			return;
		}
		this._elementManager.camera.getWorldPositionOfScreenPoint(workinman_WMInput.pointer.get_currentPos().x,workinman_WMInput.pointer.get_currentPos().y,0,this._inputPos);
		var tmp = pType == app_INPUT_$TYPE.POINTER && pDown;
	}
	,_initPools: function() {
		workinman_WMCloud.setInt("FLOAT_LOADING_PROGRESS",1);
		this._cacheManager.addCache("pool_particle",world_elements_Particle,70);
	}
	,_initWorld: function() {
	}
	,_onGenerationComplete: function() {
		app_ConstantsEvent.worldGenerationComplete.dispatch();
	}
	,__class__: world_World
};
var world_elements_AvatarObj = function(pData,pAvatarData,pTween,pReversed) {
	if(pReversed == null) {
		pReversed = false;
	}
	this.animating = false;
	var _gthis = this;
	workinman_display_Element.call(this,pData);
	this._tween = pTween;
	this.setAvatarType(pAvatarData.bodyType);
	this._avatar.setAttachment("face_color",screen_data_AvatarSlotData.getSlotAttachment("face_color",pAvatarData.skinColor));
	this._avatar.setAttachment("neck",screen_data_AvatarSlotData.getSlotAttachment("neck",pAvatarData.skinColor));
	this._avatar.setAttachment("hair",screen_data_AvatarSlotData.getHairAttachment(pAvatarData.hairStyle,pAvatarData.hairColor));
	this._avatar.setAttachment("hair_back",null);
	if(pAvatarData.hairStyle == 9 || pAvatarData.hairStyle == 13 || pAvatarData.hairStyle == 14) {
		this._avatar.setAttachment("hair_back",screen_data_AvatarSlotData.getHairBackAttachment(pAvatarData.hairStyle,pAvatarData.hairColor));
	}
	this._avatar.setAttachment("eye_color_left",screen_data_AvatarSlotData.getSlotAttachment("eye_color",pAvatarData.eyeColor));
	this._avatar.setAttachment("eye_color_right",screen_data_AvatarSlotData.getSlotAttachment("eye_color",pAvatarData.eyeColor));
	this._avatar.setAttachment("eyes_shape",screen_data_AvatarSlotData.getSlotAttachment("eyes_shape",pAvatarData.eyeShape));
	this.setOutfit(pAvatarData.outfitColor,pAvatarData.outfitType);
	this.setFacewear(pAvatarData.facewear,pAvatarData.outfitColor);
	if(pReversed) {
		this.setReversedBuckle(pAvatarData.outfitColor,pAvatarData.outfitType);
	}
	this._avatar.eventAnimationComplete.add(function() {
		_gthis.animating = false;
	});
};
$hxClasses["world.elements.AvatarObj"] = world_elements_AvatarObj;
world_elements_AvatarObj.__name__ = ["world","elements","AvatarObj"];
world_elements_AvatarObj.__super__ = workinman_display_Element;
world_elements_AvatarObj.prototype = $extend(workinman_display_Element.prototype,{
	update: function(dt) {
		workinman_display_Element.prototype.update.call(this,dt);
	}
	,dispose: function() {
		workinman_display_Element.prototype.dispose.call(this);
	}
	,setAvatarType: function(pBodyType) {
		switch(pBodyType) {
		case 0:
			this._avatar = this.addChild(new workinman_display_spine_SpineElement({ library : "spine/avatar_tall_thin"},"spine/avatar_texture_packed"));
			break;
		case 1:
			this._avatar = this.addChild(new workinman_display_spine_SpineElement({ library : "spine/avatar_short_thin"},"spine/avatar_texture_packed"));
			break;
		case 2:
			this._avatar = this.addChild(new workinman_display_spine_SpineElement({ library : "spine/avatar_tall_thick"},"spine/avatar_texture_packed"));
			break;
		case 3:
			this._avatar = this.addChild(new workinman_display_spine_SpineElement({ library : "spine/avatar_short_thick"},"spine/avatar_texture_packed"));
			break;
		case 4:
			this._avatar = this.addChild(new workinman_display_spine_SpineElement({ library : "spine/avatar_wheelchair"},"spine/avatar_texture_packed"));
			break;
		default:
			this._avatar = this.addChild(new workinman_display_spine_SpineElement({ library : "spine/avatar_tall_thin"},"spine/avatar_texture_packed"));
		}
	}
	,setOutfit: function(pOutfitColor,pOutfitType) {
		if(pOutfitType == 0) {
			switch(pOutfitColor) {
			case 0:
				this._avatar.setSkin("outfit_skirt_1");
				break;
			case 1:
				this._avatar.setSkin("outfit_skirt_2");
				break;
			case 2:
				this._avatar.setSkin("outfit_skirt_3");
				break;
			case 3:
				this._avatar.setSkin("outfit_skirt_4");
				break;
			case 4:
				this._avatar.setSkin("outfit_skirt_5");
				break;
			case 5:
				this._avatar.setSkin("outfit_skirt_6");
				break;
			case 6:
				this._avatar.setSkin("outfit_skirt_7");
				break;
			case 7:
				this._avatar.setSkin("outfit_skirt_8");
				break;
			}
		} else {
			switch(pOutfitColor) {
			case 0:
				this._avatar.setSkin("outfit_pants_1");
				break;
			case 1:
				this._avatar.setSkin("outfit_pants_2");
				break;
			case 2:
				this._avatar.setSkin("outfit_pants_3");
				break;
			case 3:
				this._avatar.setSkin("outfit_pants_4");
				break;
			case 4:
				this._avatar.setSkin("outfit_pants_5");
				break;
			case 5:
				this._avatar.setSkin("outfit_pants_6");
				break;
			case 6:
				this._avatar.setSkin("outfit_pants_7");
				break;
			case 7:
				this._avatar.setSkin("outfit_pants_8");
				break;
			}
		}
	}
	,setReversedBuckle: function(pOutfitColor,pOutfitType) {
		if(pOutfitType == 0) {
			switch(pOutfitColor) {
			case 0:
				this._avatar.setAttachment("logo_flip","logo_skirt_1");
				break;
			case 1:
				this._avatar.setAttachment("logo_flip","logo_skirt_2");
				break;
			case 2:
				this._avatar.setAttachment("logo_flip","logo_skirt_3");
				break;
			case 3:
				this._avatar.setAttachment("logo_flip","logo_skirt_4");
				break;
			case 4:
				this._avatar.setAttachment("logo_flip","logo_skirt_5");
				break;
			case 5:
				this._avatar.setAttachment("logo_flip","logo_skirt_6");
				break;
			case 6:
				this._avatar.setAttachment("logo_flip","logo_skirt_7");
				break;
			case 7:
				this._avatar.setAttachment("logo_flip","logo_skirt_8");
				break;
			}
		} else {
			switch(pOutfitColor) {
			case 0:
				this._avatar.setAttachment("logo_flip","logo_pants_1");
				break;
			case 1:
				this._avatar.setAttachment("logo_flip","logo_pants_2");
				break;
			case 2:
				this._avatar.setAttachment("logo_flip","logo_pants_3");
				break;
			case 3:
				this._avatar.setAttachment("logo_flip","logo_pants_4");
				break;
			case 4:
				this._avatar.setAttachment("logo_flip","logo_pants_5");
				break;
			case 5:
				this._avatar.setAttachment("logo_flip","logo_pants_6");
				break;
			case 6:
				this._avatar.setAttachment("logo_flip","logo_pants_7");
				break;
			case 7:
				this._avatar.setAttachment("logo_flip","logo_pants_8");
				break;
			}
		}
	}
	,setFacewear: function(pFacewear,pOutfitColor) {
		this._avatar.setAttachment("mask",null);
		this._avatar.setAttachment("hearingaid",null);
		this._avatar.setAttachment("glasses_circle",null);
		this._avatar.setAttachment("glasses_square",null);
		switch(pFacewear) {
		case 0:
			this._avatar.setAttachment("mask",screen_data_AvatarSlotData.getSlotAttachment("mask",pOutfitColor));
			break;
		case 1:
			this._avatar.setAttachment("glasses_circle",screen_data_AvatarSlotData.getSlotAttachment("glasses_circle",pOutfitColor));
			break;
		case 2:
			this._avatar.setAttachment("glasses_square",screen_data_AvatarSlotData.getSlotAttachment("glasses_square",pOutfitColor));
			break;
		case 3:
			this._avatar.setAttachment("hearingaid",screen_data_AvatarSlotData.getSlotAttachment("hearingaid",pOutfitColor));
			break;
		}
	}
	,animate: function(pAnimation,pLoops,pPreventAnims) {
		if(pPreventAnims == null) {
			pPreventAnims = false;
		}
		if(pLoops == null) {
			pLoops = 0;
		}
		this.animating = pPreventAnims;
		this._avatar.animate(pAnimation,pLoops);
	}
	,queueAnimation: function(pAnimation,pLoops,pPreventAnims) {
		if(pPreventAnims == null) {
			pPreventAnims = false;
		}
		if(pLoops == null) {
			pLoops = 0;
		}
		this._avatar.queueAnimation(pAnimation,pLoops);
	}
	,__class__: world_elements_AvatarObj
});
var world_elements_MenuOptions = function(pData,pScreen,pPopupAsset,pPopupAudio,pTween,pClear,pIsAlt,pHideDefinitionPopup) {
	if(pHideDefinitionPopup == null) {
		pHideDefinitionPopup = false;
	}
	if(pIsAlt == null) {
		pIsAlt = false;
	}
	this.eventTimeout = workinman_event__$Event0_Event0_$Impl_$._new();
	this._timeoutReached = false;
	this._maxTimeout = 60.0;
	this._curTimeout = 0.0;
	this._hideDefinition = false;
	this._isAlt = false;
	this._popupAudio = "";
	this._clickVolume = .5;
	this._instructionsShown = false;
	this._closing = false;
	var _gthis = this;
	workinman_display_Element.call(this,pData);
	this._screen = pScreen;
	this._tween = pTween;
	this._clear = pClear;
	this._popupAudio = pPopupAudio;
	this._isAlt = pIsAlt;
	this._hideDefinition = pHideDefinitionPopup;
	this._homeButton = this.addChild(new workinman_ui_Button({ asset : "btn_home", x : -app_ConstantsApp.STAGE_CENTER_X + 50, y : -310., tween : pTween, clear : pClear, scale : .5}));
	this._homeButton.eventClick.add($bind(this,this._openExitMenu));
	if(!pIsAlt) {
		this._helpButton = this.addChild(new workinman_ui_Button({ asset : "btn_help", x : app_ConstantsApp.STAGE_CENTER_X - 50, y : -310., tween : pTween, clear : pClear, scale : .5}));
		this._helpButton.eventClick.add(function() {
			workinman_WMSound.playSound("sofia_click",_gthis._clickVolume);
			app_GoogleAnalytics.LogEvent("Clicked Help_web",{ "event_label" : "survey"});
			if(!_gthis._instructionsShown) {
				_gthis._introInstructions();
			} else {
				_gthis.hideInstructions();
			}
		});
	}
	if(!pHideDefinitionPopup) {
		this._addInstruction(pPopupAsset);
	}
	this._canvasCover = this.addChild(new workinman_display_FillSprite({ color : 0, sizeX : app_ConstantsApp.STAGE_WIDTH, sizeY : 720, alpha : 0}));
	this._canvasCover.inputEnabled = false;
	this._canvasCover.addChild(new workinman_ui_Button({ tween : pTween, clear : pClear})).setCustomHitBox(app_ConstantsApp.STAGE_WIDTH,720).eventClick.add($bind(this,this._closeExitMenu));
	this._homeConfirm = this.addChild(new workinman_display_ImageSprite({ asset : "quit_popup", y : -600}));
	this._homeConfirm.addChild(new workinman_ui_Button({ asset : "btn_check", x : -100, y : 160, tween : pTween, clear : pClear})).eventClick.add($bind(this,this._returnToSplash));
	this._homeConfirm.addChild(new workinman_ui_Button({ asset : "btn_x", x : 100, y : 160, tween : pTween, clear : pClear})).eventClick.add(function() {
		workinman_WMSound.playSound("sofia_click",_gthis._clickVolume);
		_gthis._closeExitMenu();
	});
	this._homeConfirm.inputEnabled = false;
};
$hxClasses["world.elements.MenuOptions"] = world_elements_MenuOptions;
world_elements_MenuOptions.__name__ = ["world","elements","MenuOptions"];
world_elements_MenuOptions.__super__ = workinman_display_Element;
world_elements_MenuOptions.prototype = $extend(workinman_display_Element.prototype,{
	_showAnyPopup: function() {
		if(this._isAlt) {
			return !this._hideDefinition;
		} else {
			return false;
		}
	}
	,update: function(dt) {
		if(this._curTimeout >= this._maxTimeout && !this._timeoutReached) {
			this._timeoutReached = true;
			this._returnToSplash();
		}
		workinman_display_Element.prototype.update.call(this,dt);
	}
	,resetCountdown: function() {
		this._curTimeout = 0;
	}
	,dispose: function() {
		this._tween = null;
		this._clear = null;
		workinman_WMTimer.stop("hide_timer" + this._screen);
		this._homeButton = null;
		this._helpButton = null;
		this._canvasCover = null;
		this._canvasCoverClick = null;
		this._homeConfirm = null;
		this._popup = null;
		workinman_display_Element.prototype.dispose.call(this);
	}
	,_returnToSplash: function() {
		if(this._closing == false) {
			this._closing = true;
			workinman_WMSound.playSound("sofia_click",this._clickVolume);
			app_GoogleAnalytics.LogEvent("Completion_web",{ "event_label" : "reset"});
			app_ConstantsEvent.addLoader.dispatch();
			app_ConstantsEvent.flow.dispatch("ATTRACT_PLAY");
		}
	}
	,_openExitMenu: function() {
		var _gthis = this;
		workinman_WMSound.playSound("sofia_click",this._clickVolume);
		this._tween.tween({ target : this._homeConfirm, duration : .4, ease : workinman_tween_Ease.outQuad, complete : function() {
			_gthis._homeConfirm.inputEnabled = true;
		}},{ y : -60});
		this._tween.tween({ target : this._canvasCover, duration : .4, ease : workinman_tween_Ease.outQuad, complete : function() {
			_gthis._canvasCover.inputEnabled = true;
		}},{ alpha : .75});
	}
	,_closeExitMenu: function() {
		this._canvasCover.inputEnabled = false;
		this._homeConfirm.inputEnabled = false;
		this._tween.tween({ target : this._homeConfirm, duration : .4, ease : workinman_tween_Ease.outQuad},{ y : -600});
		this._tween.tween({ target : this._canvasCover, duration : .4, ease : workinman_tween_Ease.outQuad},{ alpha : 0});
	}
	,_addInstruction: function(pPopupAsset) {
		var _gthis = this;
		this._popup = this.addChild(new workinman_display_ImageSprite({ asset : pPopupAsset, x : 0, y : this._showAnyPopup() ? 440. : -440.}));
		if(this._showAnyPopup()) {
			this._popup.addChild(new workinman_display_Text({ text : "cutscene.instruction", x : 0, y : 0}));
		}
		this._popup.addChild(new workinman_ui_Button({ tween : this._tween, clear : this._clear})).setCustomHitBox(500,150).eventDown.add(function() {
			_gthis.hideInstructions();
		});
		this._introInstructions();
	}
	,_introInstructions: function() {
		var _gthis = this;
		if(this._instructionsShown) {
			return;
		}
		workinman_WMSound.playVO(this._popupAudio,"");
		this._instructionsShown = true;
		this._tween.tween({ target : this._popup, duration : .4, ease : workinman_tween_Ease.outQuad},{ y : this._showAnyPopup() ? 280. : -280.});
		workinman_WMTimer.start(function() {
			_gthis._tween.tween({ target : _gthis._popup, duration : .4, ease : workinman_tween_Ease.outQuad},{ y : _gthis._showAnyPopup() ? 440. : -440.});
			_gthis._instructionsShown = false;
		},6,"hide_timer" + this._screen);
	}
	,hideInstructions: function() {
		workinman_WMSound.stopVO();
		workinman_WMTimer.stop("hide_timer" + this._screen);
		this._instructionsShown = false;
		this._tween.tween({ target : this._popup, duration : .4, ease : workinman_tween_Ease.outQuad},{ y : this._showAnyPopup() ? 440. : -440.});
	}
	,updateInstructions: function() {
		var _gthis = this;
		this._popup.setAsset("popup_panel_short");
		this._popup.addChild(new workinman_display_Text({ text : "park.instruction", x : 0, y : 0}));
		this._instructionsShown = true;
		this._tween.tween({ target : this._popup, duration : .4, ease : workinman_tween_Ease.outQuad},{ y : this._showAnyPopup() ? 280. : -280.});
		workinman_WMTimer.stop("hide_timer" + this._screen);
		workinman_WMTimer.start(function() {
			_gthis._tween.tween({ target : _gthis._popup, duration : .4, ease : workinman_tween_Ease.outQuad},{ y : _gthis._showAnyPopup() ? 440. : -440.});
			_gthis._instructionsShown = false;
		},6,"hide_timer" + this._screen);
	}
	,inputRegistered: function() {
	}
	,__class__: world_elements_MenuOptions
});
var world_elements_Particle = function() {
	this._gravity = 0;
	this._fadein_full = 0;
	this._fadein = 0;
	this._fadeout = 0;
	this._lifetime = 0;
	workinman_display_Element.call(this,{ });
};
$hxClasses["world.elements.Particle"] = world_elements_Particle;
world_elements_Particle.__name__ = ["world","elements","Particle"];
world_elements_Particle.__interfaces__ = [workinman_pooling_ICacheableElement];
world_elements_Particle.__super__ = workinman_display_Element;
world_elements_Particle.prototype = $extend(workinman_display_Element.prototype,{
	init: function(pData) {
		this.setAsset(pData.asset);
		this.pos.x = pData.x;
		this.pos.y = pData.y;
		this.velocity.to(0,0);
		this.doDelete = false;
		this.alpha = 1;
		this._type = pData.type;
		this._lifetime = 1;
		this._gravity = 0;
		this.rotation = Math.random() * 360;
		var _g = this._type;
		this._fadein_full = this._fadein;
	}
	,update: function(dt) {
		workinman_display_Element.prototype.update.call(this,dt);
		this.pos.x += this.velocity.x * dt;
		this.pos.y += this.velocity.y * dt;
		this.velocity.y += this._gravity * dt;
		if(this._fadein >= 0) {
			this._fadein -= dt;
			this.alpha = 1 - this._fadein / this._fadein_full;
		} else {
			if(this._fadeout > 0 && this._lifetime < this._fadeout) {
				this.alpha = 1 - (this._fadeout - this._lifetime) / this._fadeout;
			}
			this._lifetime -= dt;
			if(this._lifetime < 0) {
				this.doDelete = true;
			}
		}
	}
	,setReturnFunction: function(pReturn) {
		this._returnFunction = pReturn;
	}
	,dispose: function() {
		this._returnFunction(this);
	}
	,destroy: function() {
		workinman_display_Element.prototype.dispose.call(this);
		this._returnFunction = null;
	}
	,__class__: world_elements_Particle
});
function $iterator(o) { if( o instanceof Array ) return function() { return HxOverrides.iter(o); }; return typeof(o.iterator) == 'function' ? $bind(o,o.iterator) : o.iterator; }
var $_, $fid = 0;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $fid++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = function(){ return f.method.apply(f.scope, arguments); }; f.scope = o; f.method = m; o.hx__closures__[m.__id__] = f; } return f; }
$hxClasses["Math"] = Math;
String.prototype.__class__ = $hxClasses["String"] = String;
String.__name__ = ["String"];
$hxClasses["Array"] = Array;
Array.__name__ = ["Array"];
Date.prototype.__class__ = $hxClasses["Date"] = Date;
Date.__name__ = ["Date"];
var Int = $hxClasses["Int"] = { __name__ : ["Int"]};
var Dynamic = $hxClasses["Dynamic"] = { __name__ : ["Dynamic"]};
var Float = $hxClasses["Float"] = Number;
Float.__name__ = ["Float"];
var Bool = $hxClasses["Bool"] = Boolean;
Bool.__ename__ = ["Bool"];
var Class = $hxClasses["Class"] = { __name__ : ["Class"]};
var Enum = { };
var __map_reserved = {};
var ArrayBuffer = $global.ArrayBuffer || js_html_compat_ArrayBuffer;
if(ArrayBuffer.prototype.slice == null) {
	ArrayBuffer.prototype.slice = js_html_compat_ArrayBuffer.sliceImpl;
}
var Uint8Array = $global.Uint8Array || js_html_compat_Uint8Array._new;
Main.eventUpdate = workinman_event__$Event1_Event1_$Impl_$._new();
Xml.Element = 0;
Xml.PCData = 1;
Xml.CData = 2;
Xml.Comment = 3;
Xml.DocType = 4;
Xml.ProcessingInstruction = 5;
Xml.Document = 6;
app_ConstantsApp.STAGE_WIDTH = 1280;
app_ConstantsApp.STAGE_CENTER_X = 640;
app_ConstantsEvent.flow = workinman_event__$Event1_Event1_$Impl_$._new();
app_ConstantsEvent.resizeCanvas = workinman_event__$Event1_Event1_$Impl_$._new();
app_ConstantsEvent.updateDisplay = workinman_event__$Event1_Event1_$Impl_$._new();
app_ConstantsEvent.pause = workinman_event__$Event1_Event1_$Impl_$._new();
app_ConstantsEvent.initialLoadComplete = workinman_event__$Event0_Event0_$Impl_$._new();
app_ConstantsEvent.worldGenerationComplete = workinman_event__$Event0_Event0_$Impl_$._new();
app_ConstantsEvent.addLoader = workinman_event__$Event0_Event0_$Impl_$._new();
app_ConstantsEvent.removeLoader = workinman_event__$Event0_Event0_$Impl_$._new();
app_ConstantsEvent.setCollectedCount = workinman_event__$Event1_Event1_$Impl_$._new();
app_ConstantsEvent.setReservedCount = workinman_event__$Event1_Event1_$Impl_$._new();
app_ConstantsEvent.selectAllergen = workinman_event__$Event2_Event2_$Impl_$._new();
app_ConstantsEvent.collectAllergen = workinman_event__$Event2_Event2_$Impl_$._new();
app_ConstantsEvent.releaseAllergen = workinman_event__$Event1_Event1_$Impl_$._new();
app_ConstantsEvent.reserveSlot = workinman_event__$Event2_Event2_$Impl_$._new();
app_PlayerData._flagIsFirstPlay = true;
app_PlayerData._avatarSettings = { skinColor : 0, bodyType : 0, hairColor : 0, hairStyle : 0, eyeColor : 0, eyeShape : 0, outfitType : 0, outfitColor : 0, facewear : 0};
app_PlayerData._selectedAllergens = [null,null,null,null,null];
flambe_platform_html_HtmlPlatform.instance = new flambe_platform_html_HtmlPlatform();
flambe_util_SignalBase.DISPATCHING_SENTINEL = new flambe_util_SignalConnection(null,null);
flambe_System.root = new flambe_Entity();
flambe_System.uncaughtError = new flambe_util_Signal1();
flambe_System.hidden = new flambe_util_Value(false);
flambe_System.volume = new flambe_animation_AnimatedFloat(1);
flambe_System._platform = flambe_platform_html_HtmlPlatform.instance;
flambe_System._calledInit = false;
flambe_Log.logger = new flambe_util_Logger(flambe_System._platform.createLogHandler("flambe"));
flambe_asset_Manifest.__meta__ = { obj : { assets : [{ image_hunt_assets : [{ bytes : 138662, md5 : "f9cd7275560de824dbdc58f7e2fdb162", name : "bg.png"},{ bytes : 2097, md5 : "b9d9d45a08d07664b58db14678a5506e", name : "image_hunt_assets.atlas"},{ bytes : 66578, md5 : "d11fa33e8b8817510ce75bdd732e3f62", name : "image_hunt_assets_0.png"},{ bytes : 349, md5 : "b8b16471034f189985a0a07bbf4458d4", name : "sky.png"},{ bytes : 2646, md5 : "9d95803bc04b0a098114a41cc9ee6531", name : "spine/cigarette.atlas"},{ bytes : 25079, md5 : "d54bbbe73600ffc3d0a3cfa0ccd22796", name : "spine/cigarette.json"},{ bytes : 14869, md5 : "3b06464e945f5487ac8993c054441a65", name : "spine/cigarette.png"},{ bytes : 581, md5 : "b2945feca5c51570be8ea9fdd02c342a", name : "spine/duck.atlas"},{ bytes : 1351, md5 : "d71e1654dbdeb11ed7de7b0128b07e98", name : "spine/duck.json"},{ bytes : 5666, md5 : "3aa09df00b017cd6dec35af96f3b16ec", name : "spine/duck.png"},{ bytes : 1857, md5 : "6dff663248b56b588823e20317f9e507", name : "spine/park_boy.atlas"},{ bytes : 22451, md5 : "771169fc925647f44f3a9e3ad3d67ccb", name : "spine/park_boy.json"},{ bytes : 6917, md5 : "b8729571da25222676a47bdf5f7a40be", name : "spine/park_boy.png"},{ bytes : 1302, md5 : "db36df7150fde80d0a8b7ca060c35c49", name : "spine/park_car.atlas"},{ bytes : 60711, md5 : "c518fa7e7811f50515f8fba427b53709", name : "spine/park_car.json"},{ bytes : 8554, md5 : "c9df21e5a5f314849aed9e95bd0a59b2", name : "spine/park_car.png"},{ bytes : 401, md5 : "9b829077c603a5fbe5da5072567d538b", name : "spine/park_clouds.atlas"},{ bytes : 2163, md5 : "cc4d90d5cf06300a6c7ad732fc5f53d9", name : "spine/park_clouds.json"},{ bytes : 5872, md5 : "c871cc374ef29abf61e0f757b00f07df", name : "spine/park_clouds.png"},{ bytes : 1364, md5 : "f5978ac9c419d7c6ee51ae64d7d33e4e", name : "spine/park_cold_air.atlas"},{ bytes : 37031, md5 : "6bb23f1f4ee237bbbf84f1912dba3e5a", name : "spine/park_cold_air.json"},{ bytes : 68136, md5 : "9371389ecefefea3bf40a4800b376878", name : "spine/park_cold_air.png"},{ bytes : 726, md5 : "15a0fcc41fb023e63289fde2b4649e2b", name : "spine/park_effect.atlas"},{ bytes : 5175, md5 : "3c9fcc180f8d5eb35a278ffffdb5af27", name : "spine/park_effect.json"},{ bytes : 10405, md5 : "26ebd7544c5473444aa41c1812f2c4e7", name : "spine/park_effect.png"},{ bytes : 1098, md5 : "9e9076d5c32fa70d877c59f9b602b20d", name : "spine/park_fire.atlas"},{ bytes : 12629, md5 : "cef53013bab9845fb7814378ff2c14f0", name : "spine/park_fire.json"},{ bytes : 5914, md5 : "72f4f218b2fc76e1b754ce69b8f66961", name : "spine/park_fire.png"},{ bytes : 600, md5 : "eba2733c3b24b11d5d6fd61d5c7e83c7", name : "spine/park_flowers.atlas"},{ bytes : 28291, md5 : "bbdd3e6b2bc06551220838a99a4ad1e1", name : "spine/park_flowers.json"},{ bytes : 2135, md5 : "81a8c2395326864304c9907e69cf46ba", name : "spine/park_flowers.png"},{ bytes : 1256, md5 : "43d40d05afda8d49fc40eeb65c71369b", name : "spine/park_ice.atlas"},{ bytes : 22083, md5 : "268176cdb6ed7be5e9f889d6fa8188fc", name : "spine/park_ice.json"},{ bytes : 65198, md5 : "72f6b207ad0d3ecd71f50b470432cbd8", name : "spine/park_ice.png"},{ bytes : 1338, md5 : "c95bc5fe9f36e5dca59f742a79500c52", name : "spine/park_pond.atlas"},{ bytes : 26321, md5 : "d66747c6126f25fb526307721f1f2826", name : "spine/park_pond.json"},{ bytes : 19024, md5 : "8f51ce0cad235a0cfd0cd5171d8a04a1", name : "spine/park_pond.png"},{ bytes : 2203, md5 : "e733696ba3b38eae58fc16c7e09730e7", name : "spine/park_trees.atlas"},{ bytes : 9161, md5 : "e0bad2e2c94b23476579190eff4dafe7", name : "spine/park_trees.json"},{ bytes : 41116, md5 : "6fab0431a5687d7806857a4bba57d0aa", name : "spine/park_trees.png"},{ bytes : 1034, md5 : "311fc061a20f9269dcfb2e862639e425", name : "spine/park_tree_bird.atlas"},{ bytes : 15093, md5 : "f1957ec2f5b3692df011cbbc09684c60", name : "spine/park_tree_bird.json"},{ bytes : 13531, md5 : "28cbbaafd8620ff32a33c0415c2abfc0", name : "spine/park_tree_bird.png"},{ bytes : 394, md5 : "969a584b4c48808a0aabc1346f6324b4", name : "spine/park_ufo.atlas"},{ bytes : 19816, md5 : "b4406edc0c64d5ec78b13eb31c29a302", name : "spine/park_ufo.json"},{ bytes : 4442, md5 : "05af633a662547f6c134629db92a5ff5", name : "spine/park_ufo.png"},{ bytes : 2157, md5 : "267973a0bdb7e0102ed61a285c1c1a70", name : "spine/perfume.atlas"},{ bytes : 15620, md5 : "1ee8679dca15bc199fdcc5546d2275e7", name : "spine/perfume.json"},{ bytes : 18416, md5 : "190b7bd6175c588a51c63f3f629bc563", name : "spine/perfume.png"},{ bytes : 503, md5 : "bd2248b53d6a0b4be53922ea075148d9", name : "spine/pollution.atlas"},{ bytes : 1131, md5 : "23ed2f2b5fdad6f7eaa4665bcbd41b00", name : "spine/pollution.json"},{ bytes : 10168, md5 : "8cf4265f1b2a77296374ecf97e899e3b", name : "spine/pollution.png"},{ bytes : 1859, md5 : "49de7b7a30fab55d3b4295ae85d862c9", name : "spine/vegetables.atlas"},{ bytes : 28537, md5 : "e5b3b5ce4508c3a0571609ace9da5b73", name : "spine/vegetables.json"},{ bytes : 19138, md5 : "220b84b96f65361fa3fe83bc556a7e6a", name : "spine/vegetables.png"}], fonts_en_simple : [{ bytes : 12112, md5 : "2d345a4998daf44f2c65e54855b86fa4", name : "Basic.fnt"},{ bytes : 23979, md5 : "34914eb3162e396bc567ccc57701db84", name : "Basic.png"}], quiz_audio : [{ bytes : 38757, md5 : "6f8f9ba3283f5f290e67ec4dcebca727", name : "sofia_conclusion_quiz.mp3"},{ bytes : 16380, md5 : "54074fcf7b24b214a602f275dab1b9d0", name : "sofia_conclusion_quiz_notsure.mp3"},{ bytes : 35055, md5 : "7fece69dd7db5e37d95657e7143c1191", name : "sofia_conclusion_quiz_participant.mp3"},{ bytes : 31350, md5 : "ff5d50b4645f6a5592f6a436014ea486", name : "sofia_conclusion_quiz_scientist.mp3"},{ bytes : 68806, md5 : "1d4545346ecd42251dbb245e3f3600e3", name : "sofia_correct_research_study.mp3"},{ bytes : 71000, md5 : "3612a529ebcec32b98db7e86adc77724", name : "sofia_experiment_cars.mp3"},{ bytes : 44134, md5 : "3da59fd60c1fa7f80afe5f443eced76e", name : "sofia_experiment_cold.mp3"},{ bytes : 65991, md5 : "2c6759d1260a60fab1270814b17598d3", name : "sofia_experiment_exercise.mp3"},{ bytes : 40584, md5 : "6d11e4ff0d1b50c24b1dfec2a19d2c8d", name : "sofia_experiment_factory.mp3"},{ bytes : 37823, md5 : "a88a27553220d26f33d2af0186e0e987", name : "sofia_experiment_fire.mp3"},{ bytes : 46950, md5 : "5fb7bb7ebca6d79da4949d3ad237a7b7", name : "sofia_experiment_fire_alt.mp3"},{ bytes : 38889, md5 : "b6d0c39df9c310078c7f7429eee2ae93", name : "sofia_experiment_inhaler.mp3"},{ bytes : 37927, md5 : "ad61dde105bd60ea00424e4bfd26f755", name : "sofia_experiment_perfume.mp3"},{ bytes : 67449, md5 : "92cb2a33632f2252d0c86f80aa4edeae", name : "sofia_question_research_study.mp3"},{ bytes : 55607, md5 : "1b1d7bd76c2fa6661a01455bb56fa75d", name : "sofia_research_asthma_triggers_01.mp3"},{ bytes : 26238, md5 : "bc37fecb3f91c07ea63f8adfcb1597ef", name : "sofia_research_asthma_triggers_02.mp3"},{ bytes : 78226, md5 : "bc3d87d7ee31af0885091dff6e22d632", name : "sofia_wrong_research_study.mp3"}], endscreen_assets : [{ bytes : 17113, md5 : "0e229a9a4e8a4bf9f9b20a0a26a91d90", name : "button_website.png"},{ bytes : 172302, md5 : "f213e0be1509635b89fa0c6a1664ebbe", name : "endscreen.jpg"}], avatar_builder_assets : [{ bytes : 80023, md5 : "622accd661ffc00252e7031bc0fe71bf", name : "avatar_bg.jpg"},{ bytes : 13721, md5 : "f0e3b95d5b9aaf7ff84a84563700c482", name : "avatar_builder_assets.atlas"},{ bytes : 184101, md5 : "531e003a413294bcacccb3b91a8aab33", name : "avatar_builder_assets_0.png"},{ bytes : 194487, md5 : "abe9279094cc00c9cc2f9991a53142a3", name : "avatar_builder_assets_1.png"},{ bytes : 27568, md5 : "3b959b9ba075972e58a4be9762a331ba", name : "avatar_popup.png"},{ bytes : 239082, md5 : "1d0dc1cce2ad388558c9f76bfc3542d6", name : "spine/avatar_short_thick.json"},{ bytes : 237563, md5 : "225c6c1ffc501054fadd0b1ad9a30f58", name : "spine/avatar_short_thin.json"},{ bytes : 238250, md5 : "263d98b5794b3e20ea2e944ceeebfa83", name : "spine/avatar_tall_thick.json"},{ bytes : 224990, md5 : "ca8a92cb60e72c43c2ec86b4979416b5", name : "spine/avatar_tall_thin.json"},{ bytes : 63511, md5 : "fa4d1bd3e2c1c0933c09b8b6599cac77", name : "spine/avatar_texture_packed.atlas"},{ bytes : 786561, md5 : "2237c15d4e4737a1e15034a706b4cfcc", name : "spine/avatar_texture_packed.png"},{ bytes : 193067, md5 : "5cafa63f30bfb61b95b1cc5bec7f55f6", name : "spine/avatar_texture_packed2.png"},{ bytes : 232648, md5 : "c57868f33a49b77cb73342b4b0479954", name : "spine/avatar_wheelchair.json"},{ bytes : 38363, md5 : "32ea48f7047de6321fd7f53d08cd6098", name : "top_panel.png"}], cutscene_opening_assets : [{ bytes : 18290, md5 : "251e943ac59451cf4efe7e93a9007d8a", name : "btn_next_side.png"},{ bytes : 730, md5 : "823b81944ffc53aa0e94a97449315bc0", name : "btn_next_side_arrow.png"},{ bytes : 45026, md5 : "dd6dd108fd709ea144d78cb4a826170a", name : "popup_panel.png"},{ bytes : 106086, md5 : "843e88a7ea2d6307158fed74189ded9e", name : "story_1.jpg"},{ bytes : 131922, md5 : "108d5d4b5415cf849650ca6facccc309", name : "story_2.jpg"},{ bytes : 140768, md5 : "a53190998a6527380e9e5103b845a295", name : "story_3.jpg"},{ bytes : 141429, md5 : "3b30bdb599d90c22d930f1120fb0a469", name : "story_4.jpg"},{ bytes : 168859, md5 : "57a5fa6dce1050ea2cd34edd4f3c5c03", name : "story_5.jpg"},{ bytes : 152932, md5 : "54d85bec9137768d2d19d41e5dc0f177", name : "story_5_color.jpg"},{ bytes : 49985, md5 : "7b6b4eaa3609368da090aec664c95ef0", name : "story_popup_lungs.png"},{ bytes : 54339, md5 : "80f282ef4c850747804947cfd0c97488", name : "story_popup_researchstudy.png"},{ bytes : 124737, md5 : "007b83e5b8366affe5d742ba7a55dc92", name : "story_popup_scientist.png"},{ bytes : 55700, md5 : "1c2c6894ce5424720b4087251f25c3f3", name : "story_popup_treatment.png"}], attract_assets : [{ bytes : 737, md5 : "e95d11e5afd58a91d2a0e9b425429df9", name : "attract_assets.atlas"},{ bytes : 51069, md5 : "50ac8854be6cc9dd9b9b471cbf7d8d7e", name : "attract_assets_0.png"},{ bytes : 10495, md5 : "6953efdf776c76e5a0d46fbc197fd3f1", name : "button_sound_off.png"},{ bytes : 18014, md5 : "890efd5b630d1b9c5d76f3c02ba2c189", name : "button_sound_on.png"},{ bytes : 17113, md5 : "0e229a9a4e8a4bf9f9b20a0a26a91d90", name : "button_website.png"},{ bytes : 25451, md5 : "6b520fb1faf7d1f1db745c48e261768d", name : "popup_panel_short.png"},{ bytes : 7993, md5 : "27a57d0eb1297b3c2922ab6f418c059a", name : "sofia.atlas"},{ bytes : 439317, md5 : "663023f47cda9e20beb283fbad8c6607", name : "sofia.json"},{ bytes : 129988, md5 : "b7b26c360df8da322c6859ccef720842", name : "sofia.png"},{ bytes : 1981, md5 : "1a11c042fd247c2d7d73686b84440c98", name : "splash.atlas"},{ bytes : 16150, md5 : "25c6b7d65e3b527ea70aa38bcd9fc1c4", name : "splash.json"},{ bytes : 158202, md5 : "41ce6e22cf85a9176ed041156f075193", name : "splash.png"},{ bytes : 141107, md5 : "5c540a987e3aa39a927b3b10e775b9fa", name : "splash_bg.jpg"},{ bytes : 627, md5 : "a667bd33bfe022d4e22eb531cd092c09", name : "transition.atlas"},{ bytes : 7156, md5 : "889e44459be728a1f4bc40ba19cf432d", name : "transition.json"},{ bytes : 166734, md5 : "7d2bffacbee71e7761f63f787cb20201", name : "transition.png"}], cutscene_opening_audio : [{ bytes : 103757, md5 : "50ed27569d2fb0a9e61891fd404a8be1", name : "sofia_intro_01.mp3"},{ bytes : 88264, md5 : "b4a9eda13b25ed94f5f2b649b9a70923", name : "sofia_intro_02.mp3"},{ bytes : 127074, md5 : "8732f8d89bb7e2652a4ff854db52b994", name : "sofia_intro_03.mp3"},{ bytes : 134744, md5 : "191df95ef5ac9506ca4060a23be5fe2e", name : "sofia_intro_04.mp3"},{ bytes : 115200, md5 : "14865dc57fcd5f21fb61611bbf8be55e", name : "sofia_intro_05.mp3"},{ bytes : 50913, md5 : "36432e00749fa035856ba19d8b852bb6", name : "sofia_lungs_definition.mp3"},{ bytes : 97864, md5 : "d294e072b90a1af079226d9c803f27e5", name : "sofia_research_study_definition.mp3"},{ bytes : 103870, md5 : "0e945c0e3c03ef8486ac4517f87e83ac", name : "sofia_scientist_definition.mp3"},{ bytes : 79137, md5 : "a9dfc2d43917388f9aa0e04c2762a664", name : "sofia_treatment_definition.mp3"}], experiment_assets : [{ bytes : 632, md5 : "f65ca0f53209b07b14dc495a4faabd0a", name : "experiment_assets.atlas"},{ bytes : 184959, md5 : "7361b8a64fb811b905594e38533cf34b", name : "experiment_assets_0.png"},{ bytes : 7061, md5 : "4299e3585a95ac46dbc592fc756a8a9e", name : "spine/lab.atlas"},{ bytes : 21366, md5 : "9e9455acca5ca2d80ce809982bff9546", name : "spine/lab.json"},{ bytes : 256688, md5 : "908519587658ed5f3a33fc167fed45a3", name : "spine/lab.png"}], cutscene_mid_audio : [{ bytes : 163123, md5 : "5fe70c8b75c4c21e2208808d81948106", name : "sofia_outro_01.mp3"},{ bytes : 87665, md5 : "b7b9000174a5ba68b0de3d0d1f69a732", name : "sofia_survey_definition.mp3"}], cutscene_doctor_start_assets : [{ bytes : 104118, md5 : "aeae678b8a586699fdb6ae3b9d948e03", name : "doctors_office_start.jpg"},{ bytes : 126185, md5 : "49afed02a71e86921805628a149323a3", name : "popup_asthmatriggers.png"}], bootstrap : [{ bytes : 3216, md5 : "b636c7e3890616f01761ff5a0c495d28", name : "border.png"},{ bytes : 444, md5 : "d17ccf4ccd14fa7c9312cdf763ffff04", name : "config/config.xml"},{ bytes : 363, md5 : "071ac1452e8e803380608c5cecc796bd", name : "outline.png"},{ bytes : 528, md5 : "b70976907b29be057870c1f801b67460", name : "spine/loading.atlas"},{ bytes : 2162, md5 : "a4f92d895c433a6e69178dc1cdf7264d", name : "spine/loading.json"},{ bytes : 374598, md5 : "e0dfd7f064c7af30c4d0ef5d7eb88f7c", name : "spine/loading.png"}], endscreen_audio : [{ bytes : 97723, md5 : "beb59bae398dd22eb2f9dec57e3c2d1d", name : "sofia_thanks_for_playing.mp3"}], cutscene_doctor_end_assets : [{ bytes : 93498, md5 : "488f942414bdb453fe703821b0cb949b", name : "doctors_office_end.jpg"}], cutscene_doctor_start_audio : [{ bytes : 86650, md5 : "a101190377079b594102cd7235331cbd", name : "sofia_asthma_trigger_definition.mp3"},{ bytes : 132806, md5 : "273c87b4283c13041ebcc03d72841f33", name : "sofia_park_01.mp3"}], experiment_audio : [{ bytes : 62884, md5 : "7caa5ccc9444bac15c9d9722c558927d", name : "sofia_experiment.mp3"},{ bytes : 56233, md5 : "e293045d00f2bb77c1bf15992487ae77", name : "sofia_machine_done.mp3"},{ bytes : 33951, md5 : "8849dd46468ce62be0222ddc65624107", name : "sofia_machine_incorrect.mp3"},{ bytes : 57904, md5 : "911551c714e4f52e410b374bdb5a72ac", name : "sofia_machine_start.mp3"}], fonts_ru : [{ bytes : 41600, md5 : "36197f837b20da5b06f121954852c2dd", name : "Basic.fnt"},{ bytes : 214370, md5 : "57083f501f856c81a6507f03cf84fadc", name : "Basic.png"},{ bytes : 13239, md5 : "8971b4dcbc413c905334cb110fca8239", name : "translation.xml"}], fonts_la : [{ bytes : 25359, md5 : "c14fdc9a3b634ceed36aa6c617aaa9c5", name : "Basic.fnt"},{ bytes : 151658, md5 : "06d64b1a0507772f8333c15be9c88737", name : "Basic.png"},{ bytes : 13239, md5 : "8971b4dcbc413c905334cb110fca8239", name : "translation.xml"}], fonts_kr : [{ bytes : 25359, md5 : "c14fdc9a3b634ceed36aa6c617aaa9c5", name : "Basic.fnt"},{ bytes : 151658, md5 : "06d64b1a0507772f8333c15be9c88737", name : "Basic.png"},{ bytes : 13239, md5 : "8971b4dcbc413c905334cb110fca8239", name : "translation.xml"}], fonts_jp : [{ bytes : 25359, md5 : "c14fdc9a3b634ceed36aa6c617aaa9c5", name : "Basic.fnt"},{ bytes : 151658, md5 : "06d64b1a0507772f8333c15be9c88737", name : "Basic.png"},{ bytes : 13239, md5 : "8971b4dcbc413c905334cb110fca8239", name : "translation.xml"}], fonts_en : [{ bytes : 25344, md5 : "b86985e26e7333cfcd6a0f6f4203a729", name : "Basic.fnt"},{ bytes : 52375, md5 : "eb5650d67d97fd6787115ceaad0bce24", name : "Basic.png"},{ bytes : 12129, md5 : "a895d000194b1473d2e45bef2f430600", name : "cera_bold.fnt"},{ bytes : 24789, md5 : "ef1ab897b8826f16ce85c1afe3de4d10", name : "cera_bold.png"},{ bytes : 12133, md5 : "bf4923ecc4c53f8bbe8444401d023a73", name : "cera_medium.fnt"},{ bytes : 24633, md5 : "241b92778d86c2d35d48512f112a6029", name : "cera_medium.png"},{ bytes : 46342, md5 : "497205c265e2f063b1ef1754f9a07424", name : "Filson_bold_blue.fnt"},{ bytes : 29680, md5 : "733ba4039f3e23565b8638f137dab9fa", name : "Filson_bold_blue.png"},{ bytes : 46345, md5 : "e79b9abc17ab4250ca7555caebc26156", name : "Filson_bold_stroke.fnt"},{ bytes : 61671, md5 : "d54d5bec3c2b8b4cde264d4cc4a8b88a", name : "Filson_bold_stroke.png"},{ bytes : 46411, md5 : "e8075cdfe4234b88f0594507534015cd", name : "Filson_reg_black.fnt"},{ bytes : 29491, md5 : "4265afeb3f37f1087af61af502f3adce", name : "Filson_reg_black.png"},{ bytes : 46411, md5 : "edad95f7a097e38fd9ab8c23d9659467", name : "Filson_reg_white.fnt"},{ bytes : 29491, md5 : "d0b3f82d48826e8f2a0207d62bf070ed", name : "Filson_reg_white.png"},{ bytes : 12132, md5 : "cb978656201becd32dfcee9238b7fd0c", name : "pencil_black.fnt"},{ bytes : 33589, md5 : "c1c2d6a86ada0c7e3a5b2fea41a0217e", name : "pencil_black.png"},{ bytes : 12132, md5 : "974e6474f612e9a89e5d5b5f6c7df138", name : "pencil_white.fnt"},{ bytes : 33589, md5 : "aaf19eaf9cbec70159e8b2f1c56b5bc4", name : "pencil_white.png"},{ bytes : 4904, md5 : "1be56accb592a68fc8097c45c270904d", name : "translation.xml"}], fonts_cn : [{ bytes : 25359, md5 : "c14fdc9a3b634ceed36aa6c617aaa9c5", name : "Basic.fnt"},{ bytes : 151658, md5 : "06d64b1a0507772f8333c15be9c88737", name : "Basic.png"},{ bytes : 13239, md5 : "8971b4dcbc413c905334cb110fca8239", name : "translation.xml"}], avatar_builder_audio : [{ bytes : 34951, md5 : "a0d85e564678945e12c782db79e43cf8", name : "sofia_avatar_builder.mp3"},{ bytes : 1046431, md5 : "289ba352994ed9484d31237c71f68c48", name : "sofia_park_lab_track.mp3"}], cutscene_doctor_end_audio : [{ bytes : 94103, md5 : "e22020d2087cb1ccac64ddba3e23fa27", name : "sofia_conclusion.mp3"}], image_hunt_audio : [{ bytes : 22752, md5 : "de1d18c47504cfe1e76b785c95958382", name : "sofia_basketball_spin.mp3"},{ bytes : 25932, md5 : "1ac47a7ce2dd60234e7bae29ce492ee7", name : "sofia_blue_bird.mp3"},{ bytes : 2762, md5 : "cd75cce9f74352eb0c06ab838e18b189", name : "sofia_broccoli_boop.mp3"},{ bytes : 59591, md5 : "b2ba3801850651a5888deb12aed0e98a", name : "sofia_car_drive_by.mp3"},{ bytes : 79222, md5 : "7e320c3b64339256c9338b13ca5a9890", name : "sofia_cold_air.mp3"},{ bytes : 31346, md5 : "6cab497808b8b546dcdbef8b85dac895", name : "sofia_cough.mp3"},{ bytes : 11493, md5 : "048b4f68122a0f8779d484a01cac517e", name : "sofia_duck_quack.mp3"},{ bytes : 54333, md5 : "2e842fc1bf05e5cedd6f7da1898f7b04", name : "sofia_fire.mp3"},{ bytes : 54145, md5 : "ce769de24bab4ede966c6e7ae99f3155", name : "sofia_fish_pond.mp3"},{ bytes : 82029, md5 : "92f9dfa23dd5e3ca868457b2ee3498f9", name : "sofia_park_02.mp3"},{ bytes : 2831726, md5 : "5224ea9cccfc5070e9a737dacf585d92", name : "sofia_park_bg_music.mp3"},{ bytes : 31157, md5 : "2fb99685ae68310767a069e56ea9cb51", name : "sofia_perfume.mp3"},{ bytes : 30152, md5 : "3f1aab593b72e26f6c3744a593db09e1", name : "sofia_running.mp3"},{ bytes : 62504, md5 : "14d487caeccea4d212656cd1404b95c1", name : "sofia_ufo.mp3"}], cutscene_mid_assets : [{ bytes : 133895, md5 : "53ae9f319f331d10cf0dd081120fae15", name : "story_6.jpg"},{ bytes : 55259, md5 : "472828b3d89888f561237845c3c0a697", name : "story_popup_survey.png"},{ bytes : 33035, md5 : "52aa764a460f9a0914d1c2cad282ebc5", name : "survey_prop.png"}], quiz_assets : [{ bytes : 45783, md5 : "1f7c2998e4f6d9146f5de2112b05f9ed", name : "popup_panel.png"},{ bytes : 1908, md5 : "a9ca21ef7d3a23922cb448f4ec91af23", name : "quiz_assets.atlas"},{ bytes : 131057, md5 : "2b934eb201c17a3ae1ad06c8e3480539", name : "quiz_assets_0.png"},{ bytes : 104539, md5 : "b01fd59afd8e5c7bbec8129b42815a6f", name : "quiz_assets_1.png"},{ bytes : 56625, md5 : "3a5879a9d5f3a8b9d2eb35489e65e96f", name : "quiz_bg.jpg"},{ bytes : 18972, md5 : "ea3544041c205a132bc047e0492ff8a3", name : "quiz_clipboard.png"},{ bytes : 53106, md5 : "43aef039d30fe77b98d588aac9e4aa1e", name : "quiz_question_1.png"},{ bytes : 39467, md5 : "ec65d418f814184b7ebe463190d3a94b", name : "quiz_question_2.png"},{ bytes : 48477, md5 : "277c3b5fcf546ab60a08be051e27720c", name : "quiz_question_3.png"},{ bytes : 38014, md5 : "b100b3c2cf8317fde62b2e9058336e77", name : "quiz_question_blank.png"}], attract_audio : [{ bytes : 1393435, md5 : "eb74d2b1d6c4dc994035d2695469ef60", name : "sofia_bg_music.mp3"},{ bytes : 827368, md5 : "1330a6d4c6aa9c078eb82cf0a3370fdd", name : "sofia_bg_music_intro.mp3"},{ bytes : 5845, md5 : "e5d79ebf38e1649988d2cbbf2a2942b2", name : "sofia_click.mp3"},{ bytes : 7123, md5 : "a262ddee87733fc08ce7d420b4457543", name : "sofia_click_confirm.mp3"},{ bytes : 35575, md5 : "4703c331cf1000f48a940caf48363040", name : "sofia_correct_1.mp3"},{ bytes : 43935, md5 : "2f07ce28f0313deec95ba03562054e4a", name : "sofia_correct_2.mp3"},{ bytes : 24082, md5 : "79928336184bf0dfc4ef1f01e1589375", name : "sofia_incorrect_1.mp3"},{ bytes : 20930, md5 : "90d40ad299775b0ea52ad2bc25c40d92", name : "sofia_incorrect_2.mp3"},{ bytes : 17572, md5 : "1c8755014e888b0a9a6fb9f11c02a38b", name : "sofia_page_turn.mp3"},{ bytes : 32501, md5 : "b2b2756a9897f3171cb15a493ae93774", name : "sofia_title.mp3"}]}]}};
flambe_asset_Manifest._supportsCrossOrigin = (function($this) {
	var $r;
	var detected;
	if(window.navigator.userAgent.indexOf("Linux; U; Android") >= 0) {
		detected = false;
	} else {
		var xhr = new XMLHttpRequest();
		detected = xhr.withCredentials != null;
	}
	if(!detected) {
		var _this = flambe_Log.logger;
	}
	$r = detected;
	return $r;
}(this));
flambe_display_Font.NEWLINE = new flambe_display_Glyph(10);
flambe_display_Sprite._scratchPoint = new flambe_math_Point();
flambe_platform_BasicKeyboard._sharedEvent = new flambe_input_KeyboardEvent();
flambe_platform_BasicMouse._sharedEvent = new flambe_input_MouseEvent();
flambe_platform_BasicPointer._sharedEvent = new flambe_input_PointerEvent();
flambe_platform_html_CanvasRenderer.CANVAS_TEXTURES = (function($this) {
	var $r;
	var pattern_r = new RegExp("(iPhone|iPod|iPad)","".split("u").join(""));
	$r = false;
	return $r;
}(this));
flambe_platform_html_HtmlAssetPackLoader._mediaRefCount = 0;
flambe_platform_html_HtmlAssetPackLoader._detectBlobSupport = true;
flambe_platform_html_HtmlUtil.VENDOR_PREFIXES = ["webkit","moz","ms","o","khtml"];
flambe_platform_html_HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER = window.top == window ? new EReg("Mobile(/.*)? Safari","").match(window.navigator.userAgent) : false;
flambe_platform_html_WebAudioSound._detectSupport = true;
haxe_Unserializer.DEFAULT_RESOLVER = new haxe__$Unserializer_DefaultResolver();
haxe_Unserializer.BASE64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
haxe_ds_ObjectMap.count = 0;
haxe_xml_Parser.escapes = (function($this) {
	var $r;
	var h = new haxe_ds_StringMap();
	if(__map_reserved["lt"] != null) {
		h.setReserved("lt","<");
	} else {
		h.h["lt"] = "<";
	}
	if(__map_reserved["gt"] != null) {
		h.setReserved("gt",">");
	} else {
		h.h["gt"] = ">";
	}
	if(__map_reserved["amp"] != null) {
		h.setReserved("amp","&");
	} else {
		h.h["amp"] = "&";
	}
	if(__map_reserved["quot"] != null) {
		h.setReserved("quot","\"");
	} else {
		h.h["quot"] = "\"";
	}
	if(__map_reserved["apos"] != null) {
		h.setReserved("apos","'");
	} else {
		h.h["apos"] = "'";
	}
	$r = h;
	return $r;
}(this));
js_Boot.__toStr = ({ }).toString;
js_html_compat_Uint8Array.BYTES_PER_ELEMENT = 1;
manifest_Xml.allConfig = ["config/config.xml"];
workinman_ui_ScreenBase._DEFAULT_LAYER = "ui_default";
workinman_ui_ScreenBase._LOADER_LAYER = "ui_loader";
workinman_ui_ScreenBase._BORDER_LAYER = "ui_border";
workinman_ui_ScreenBase._DEBUG_SHOW_CLICKWALL = false;
workinman_ui_Button._scratchPoint = new flambe_math_Point();
workinman_ui_Button._DEBUG_SHOW_HITBOX = false;
screen_data_AvatarSlotData._faceColorOptions = ["face_color_1","face_color_2","face_color_3","face_color_4","face_color_5","face_color_6","face_color_7","face_color_8"];
screen_data_AvatarSlotData._eyeShapeOptions = ["eyes_shape_1","eyes_shape_2","eyes_shape_3"];
screen_data_AvatarSlotData._glassesCircleOptions = ["glasses_circle_1","glasses_circle_2","glasses_circle_3","glasses_circle_4","glasses_circle_5","glasses_circle_6","glasses_circle_7","glasses_circle_8"];
screen_data_AvatarSlotData._hearingAidOptions = ["hearingaid_1","hearingaid_2","hearingaid_3","hearingaid_4","hearingaid_5","hearingaid_6","hearingaid_7","hearingaid_8"];
screen_data_AvatarSlotData._glassesSquareOptions = ["glasses_square_1","glasses_square_2","glasses_square_3","glasses_square_4","glasses_square_5","glasses_square_6","glasses_square_7","glasses_square_8"];
screen_data_AvatarSlotData._capeOptions = ["cape_1","cape_2","cape_3","cape_4","cape_5","cape_6","cape_7","cape_8"];
screen_data_AvatarSlotData._eyeColorOptions = ["eye_color_1","eye_color_2","eye_color_3","eye_color_4","eye_color_5","eye_color_6","eye_color_7","eye_color_8","eye_color_9","eye_color_10","eye_color_11","eye_color_12"];
screen_data_AvatarSlotData._neckOptions = ["neck_color_1","neck_color_2","neck_color_3","neck_color_4","neck_color_5","neck_color_6","neck_color_7","neck_color_8"];
screen_data_AvatarSlotData._hairOptions = ["hair_1_color_1","hair_1_color_2","hair_1_color_3","hair_1_color_4","hair_1_color_5","hair_1_color_6","hair_1_color_7","hair_1_color_8","hair_1_color_9","hair_1_color_10","hair_2_color_1","hair_2_color_2","hair_2_color_3","hair_2_color_4","hair_2_color_5","hair_2_color_6","hair_2_color_7","hair_2_color_8","hair_2_color_9","hair_2_color_10","hair_3_color_1","hair_3_color_2","hair_3_color_3","hair_3_color_4","hair_3_color_5","hair_3_color_6","hair_3_color_7","hair_3_color_8","hair_3_color_9","hair_3_color_10","hair_4_color_1","hair_4_color_2","hair_4_color_3","hair_4_color_4","hair_4_color_5","hair_4_color_6","hair_4_color_7","hair_4_color_8","hair_4_color_9","hair_4_color_10","hair_5_color_1","hair_5_color_2","hair_5_color_3","hair_5_color_4","hair_5_color_5","hair_5_color_6","hair_5_color_7","hair_5_color_8","hair_5_color_9","hair_5_color_10","hair_6_color_1","hair_6_color_2","hair_6_color_3","hair_6_color_4","hair_6_color_5","hair_6_color_6","hair_6_color_7","hair_6_color_8","hair_6_color_9","hair_6_color_10","hair_7_color_1","hair_7_color_2","hair_7_color_3","hair_7_color_4","hair_7_color_5","hair_7_color_6","hair_7_color_7","hair_7_color_8","hair_7_color_9","hair_7_color_10","hair_8_color_1","hair_8_color_2","hair_8_color_3","hair_8_color_4","hair_8_color_5","hair_8_color_6","hair_8_color_7","hair_8_color_8","hair_8_color_9","hair_8_color_10","hair_9_color_1","hair_9_color_2","hair_9_color_3","hair_9_color_4","hair_9_color_5","hair_9_color_6","hair_9_color_7","hair_9_color_8","hair_9_color_9","hair_9_color_10","hair_10_color_1","hair_10_color_2","hair_10_color_3","hair_10_color_4","hair_10_color_5","hair_10_color_6","hair_10_color_7","hair_10_color_8","hair_10_color_9","hair_10_color_10","hair_11_color_1","hair_11_color_2","hair_11_color_3","hair_11_color_4","hair_11_color_5","hair_11_color_6","hair_11_color_7","hair_11_color_8","hair_11_color_9","hair_11_color_10","hair_12_color_1","hair_12_color_2","hair_12_color_3","hair_12_color_4","hair_12_color_5","hair_12_color_6","hair_12_color_7","hair_12_color_8","hair_12_color_9","hair_12_color_10","hair_13_color_1","hair_13_color_2","hair_13_color_3","hair_13_color_4","hair_13_color_5","hair_13_color_6","hair_13_color_7","hair_13_color_8","hair_13_color_9","hair_13_color_10","hair_14_color_1","hair_14_color_2","hair_14_color_3","hair_14_color_4","hair_14_color_5","hair_14_color_6","hair_14_color_7","hair_14_color_8","hair_14_color_9","hair_14_color_10","hair_15_color_1","hair_15_color_2","hair_15_color_3","hair_15_color_4","hair_15_color_5","hair_15_color_6","hair_15_color_7","hair_15_color_8","hair_15_color_9","hair_15_color_10","hair_16_color_1","hair_16_color_2","hair_16_color_3","hair_16_color_4","hair_16_color_5","hair_16_color_6","hair_16_color_7","hair_16_color_8","hair_16_color_9","hair_16_color_10","hair_17_color_1","hair_17_color_2","hair_17_color_3","hair_17_color_4","hair_17_color_5","hair_17_color_6","hair_17_color_7","hair_17_color_8","hair_17_color_9","hair_17_color_10","hair_18_color_1","hair_18_color_2","hair_18_color_3","hair_18_color_4","hair_18_color_5","hair_18_color_6","hair_18_color_7","hair_18_color_8","hair_18_color_9","hair_18_color_10","hair_19_color_1","hair_19_color_2","hair_19_color_3","hair_19_color_4","hair_19_color_5","hair_19_color_6","hair_19_color_7","hair_19_color_8","hair_19_color_9","hair_19_color_10","hair_20_color_1","hair_20_color_2","hair_20_color_3","hair_20_color_4","hair_20_color_5","hair_20_color_6","hair_20_color_7","hair_20_color_8","hair_20_color_9","hair_20_color_10"];
screen_data_AvatarSlotData._hairBackOptions = ["hair_10_color_1_back","hair_10_color_2_back","hair_10_color_3_back","hair_10_color_4_back","hair_10_color_5_back","hair_10_color_6_back","hair_10_color_7_back","hair_10_color_8_back","hair_10_color_9_back","hair_10_color_10_back","hair_14_color_1_back","hair_14_color_2_back","hair_14_color_3_back","hair_14_color_4_back","hair_14_color_5_back","hair_14_color_6_back","hair_14_color_7_back","hair_14_color_8_back","hair_14_color_9_back","hair_14_color_10_back","hair_15_color_1_back","hair_15_color_2_back","hair_15_color_3_back","hair_15_color_4_back","hair_15_color_5_back","hair_15_color_6_back","hair_15_color_7_back","hair_15_color_8_back","hair_15_color_9_back","hair_15_color_10_back"];
screen_data_AvatarSlotData._maskOptions = ["mask_1","mask_2","mask_3","mask_4","mask_5","mask_6","mask_7","mask_8"];
screen_data_AvatarSlotData._eyeColor2Options = ["eye_color_1","eye_color_2","eye_color_3","eye_color_4","eye_color_5","eye_color_6","eye_color_7","eye_color_8","eye_color_9","eye_color_10","eye_color_11","eye_color_12"];
workinman_WMAssets.eventLoadError = workinman_event__$Event0_Event0_$Impl_$._new();
workinman_WMAssets._assets = new haxe_ds_StringMap();
workinman_WMAssets._packs = new haxe_ds_StringMap();
workinman_WMAssets._spritesheets = new haxe_ds_StringMap();
workinman_WMAssets._flump = new haxe_ds_StringMap();
workinman_WMAssets._customManifests = new haxe_ds_StringMap();
workinman_WMAssets._fontCache = new haxe_ds_StringMap();
workinman_WMAssets._requests = [];
workinman_WMAssets._loadQueue = [];
workinman_WMAssets._manifestsLoaded = 0;
workinman_WMAssets._manifestsMax = 0;
workinman_WMAssets._flagBaseIsCrossdomain = false;
workinman_WMAssets._loadingProgress = 0;
workinman_WMAssets._loadingTotal = 0;
workinman_WMCloud._values = new haxe_ds_StringMap();
workinman_WMCloud._defaults = new haxe_ds_StringMap();
workinman_WMPool._pools = new haxe_ds_StringMap();
workinman_WMInput.eventInput = workinman_event__$Event2_Event2_$Impl_$._new();
workinman_WMInput.eventMouseWheel = workinman_event__$Event1_Event1_$Impl_$._new();
workinman_WMInput.eventKey = workinman_event__$Event2_Event2_$Impl_$._new();
workinman_WMInput.leftStick = workinman_math_WMPoint.request();
workinman_WMInput.rightStick = workinman_math_WMPoint.request();
workinman_WMInput.pointer = new workinman_input_Pointer(-1);
workinman_WMInput.multiTouch = [];
workinman_WMInput.enabled = false;
workinman_WMInput._inputTrackers = [];
workinman_WMInput._virtualDown = [];
workinman_WMInput._controllerDown = [];
workinman_WMLocalize._localizedData = new haxe_ds_StringMap();
workinman_WMLocalize.region = "";
workinman_WMRandom._seeds = new haxe_ds_StringMap();
workinman_WMSound.eventVOStatus = workinman_event__$Event1_Event1_$Impl_$._new();
workinman_WMSound.subtitleQueue = [];
workinman_WMSound._sound = [];
workinman_WMSound._voQueue = [];
workinman_WMSound._tween = new workinman_tween_Tweener();
workinman_WMSound._musicId = "";
workinman_WMSound._stateVo = workinman_sound_VO_$STATUS.STOPPED;
workinman_WMSound.duckMusic = true;
workinman_WMSound._musicGain = 1;
workinman_WMTimer._timers = [];
workinman_WMTimer._uniqueInc = 0;
workinman_WMTimer._paused = false;
workinman_display_FontColor.NEWLINE = new flambe_display_Glyph(10);
workinman_display_GuideSprite._BUTTON_BLANK_PIXELS = 40;
workinman_display_GuideSprite._43_SIZE = 960.;
workinman_display_GuideSprite._169_SIZE = 1280.;
workinman_display_GuideSprite._43_HALF = 480.;
workinman_display_GuideSprite._169_HALF = 640.;
workinman_display_GuideSprite._169_RENDER_WIDTH = 160.;
workinman_display_spine_MathUtils.radDeg = 180 / Math.PI;
workinman_display_spine_MathUtils.degRad = Math.PI / 180;
workinman_display_spine_SpineElement.VERSION = "3.2.00";
workinman_display_spine_SpineElement.ATLAS_FILE_TYPE = ".atlas";
workinman_display_spine_SpineElement.FPS = 30;
workinman_display_spine_attachments_RegionAttachment.X1 = 0;
workinman_display_spine_attachments_RegionAttachment.Y1 = 1;
workinman_display_spine_attachments_RegionAttachment.X2 = 2;
workinman_display_spine_attachments_RegionAttachment.Y2 = 3;
workinman_display_spine_attachments_RegionAttachment.X3 = 4;
workinman_display_spine_attachments_RegionAttachment.Y3 = 5;
workinman_display_spine_attachments_RegionAttachment.X4 = 6;
workinman_display_spine_attachments_RegionAttachment.Y4 = 7;
workinman_ui_ScreenManager.eventFlowDelegate = workinman_event__$Event2_Event2_$Impl_$._new();
Main.main();
})(typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);
